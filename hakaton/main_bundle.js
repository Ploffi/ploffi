!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=257)}([function(t,e,r){"use strict";e.__esModule=!0;e.VERSION="4.7.3",e.PI_2=2*Math.PI,e.RAD_TO_DEG=180/Math.PI,e.DEG_TO_RAD=Math.PI/180,e.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},e.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},e.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},e.SCALE_MODES={LINEAR:0,NEAREST:1},e.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},e.GC_MODES={AUTO:0,MANUAL:1},e.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,e.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;(charset=[\w-]+|base64))?,(.*)/i,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},e.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},e.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},e.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},e.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},function(t,e,r){"use strict";e.__esModule=!0,e.autoDetectRenderer=e.Application=e.Filter=e.SpriteMaskFilter=e.Quad=e.RenderTarget=e.ObjectRenderer=e.WebGLManager=e.Shader=e.CanvasRenderTarget=e.TextureUvs=e.VideoBaseTexture=e.BaseRenderTexture=e.RenderTexture=e.BaseTexture=e.TextureMatrix=e.Texture=e.Spritesheet=e.CanvasGraphicsRenderer=e.GraphicsRenderer=e.GraphicsData=e.Graphics=e.TextMetrics=e.TextStyle=e.Text=e.SpriteRenderer=e.CanvasTinter=e.CanvasSpriteRenderer=e.Sprite=e.TransformBase=e.TransformStatic=e.Transform=e.Container=e.DisplayObject=e.Bounds=e.glCore=e.WebGLRenderer=e.CanvasRenderer=e.ticker=e.utils=e.settings=void 0;var n=r(0);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})});var i=r(4);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var o=r(6);Object.defineProperty(e,"glCore",{enumerable:!0,get:function(){return z(o).default}});var s=r(38);Object.defineProperty(e,"Bounds",{enumerable:!0,get:function(){return z(s).default}});var a=r(106);Object.defineProperty(e,"DisplayObject",{enumerable:!0,get:function(){return z(a).default}});var u=r(18);Object.defineProperty(e,"Container",{enumerable:!0,get:function(){return z(u).default}});var h=r(104);Object.defineProperty(e,"Transform",{enumerable:!0,get:function(){return z(h).default}});var l=r(105);Object.defineProperty(e,"TransformStatic",{enumerable:!0,get:function(){return z(l).default}});var c=r(36);Object.defineProperty(e,"TransformBase",{enumerable:!0,get:function(){return z(c).default}});var f=r(34);Object.defineProperty(e,"Sprite",{enumerable:!0,get:function(){return z(f).default}});var d=r(225);Object.defineProperty(e,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return z(d).default}});var p=r(30);Object.defineProperty(e,"CanvasTinter",{enumerable:!0,get:function(){return z(p).default}});var v=r(222);Object.defineProperty(e,"SpriteRenderer",{enumerable:!0,get:function(){return z(v).default}});var y=r(207);Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return z(y).default}});var g=r(90);Object.defineProperty(e,"TextStyle",{enumerable:!0,get:function(){return z(g).default}});var m=r(89);Object.defineProperty(e,"TextMetrics",{enumerable:!0,get:function(){return z(m).default}});var _=r(205);Object.defineProperty(e,"Graphics",{enumerable:!0,get:function(){return z(_).default}});var b=r(88);Object.defineProperty(e,"GraphicsData",{enumerable:!0,get:function(){return z(b).default}});var x=r(203);Object.defineProperty(e,"GraphicsRenderer",{enumerable:!0,get:function(){return z(x).default}});var T=r(196);Object.defineProperty(e,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return z(T).default}});var w=r(195);Object.defineProperty(e,"Spritesheet",{enumerable:!0,get:function(){return z(w).default}});var E=r(8);Object.defineProperty(e,"Texture",{enumerable:!0,get:function(){return z(E).default}});var S=r(92);Object.defineProperty(e,"TextureMatrix",{enumerable:!0,get:function(){return z(S).default}});var O=r(10);Object.defineProperty(e,"BaseTexture",{enumerable:!0,get:function(){return z(O).default}});var M=r(31);Object.defineProperty(e,"RenderTexture",{enumerable:!0,get:function(){return z(M).default}});var P=r(98);Object.defineProperty(e,"BaseRenderTexture",{enumerable:!0,get:function(){return z(P).default}});var C=r(101);Object.defineProperty(e,"VideoBaseTexture",{enumerable:!0,get:function(){return z(C).default}});var A=r(100);Object.defineProperty(e,"TextureUvs",{enumerable:!0,get:function(){return z(A).default}});var R=r(97);Object.defineProperty(e,"CanvasRenderTarget",{enumerable:!0,get:function(){return z(R).default}});var I=r(15);Object.defineProperty(e,"Shader",{enumerable:!0,get:function(){return z(I).default}});var D=r(16);Object.defineProperty(e,"WebGLManager",{enumerable:!0,get:function(){return z(D).default}});var L=r(23);Object.defineProperty(e,"ObjectRenderer",{enumerable:!0,get:function(){return z(L).default}});var N=r(21);Object.defineProperty(e,"RenderTarget",{enumerable:!0,get:function(){return z(N).default}});var k=r(91);Object.defineProperty(e,"Quad",{enumerable:!0,get:function(){return z(k).default}});var F=r(95);Object.defineProperty(e,"SpriteMaskFilter",{enumerable:!0,get:function(){return z(F).default}});var j=r(94);Object.defineProperty(e,"Filter",{enumerable:!0,get:function(){return z(j).default}});var B=r(87);Object.defineProperty(e,"Application",{enumerable:!0,get:function(){return z(B).default}});var U=r(86);Object.defineProperty(e,"autoDetectRenderer",{enumerable:!0,get:function(){return U.autoDetectRenderer}});var X=V(r(2)),H=V(r(32)),W=z(r(3)),G=z(r(17)),Y=z(r(22));function V(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function z(t){return t&&t.__esModule?t:{default:t}}e.settings=W.default,e.utils=X,e.ticker=H,e.CanvasRenderer=G.default,e.WebGLRenderer=Y.default},function(t,e,r){"use strict";e.__esModule=!0,e.premultiplyBlendMode=e.BaseTextureCache=e.TextureCache=e.earcut=e.mixins=e.pluginTarget=e.EventEmitter=e.removeItems=e.isMobile=void 0,e.uid=function(){return++p},e.hex2rgb=function(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},e.hex2string=function(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)},e.rgb2hex=function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},e.getResolutionOfUrl=function(t,e){var r=i.default.RETINA_PREFIX.exec(t);if(r)return parseFloat(r[1]);return void 0!==e?e:1},e.decomposeDataUri=function(t){var e=n.DATA_URI.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,encoding:e[3]?e[3].toLowerCase():void 0,data:e[4]};return},e.getUrlFileExtension=function(t){var e=n.URL_FILE_EXTENSION.exec(t);if(e)return e[1].toLowerCase();return},e.getSvgSize=function(t){var e=n.SVG_SIZE.exec(t),r={};e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7])));return r},e.skipHello=function(){v=!0},e.sayHello=function(t){if(v)return;if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c PixiJS "+n.VERSION+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("PixiJS "+n.VERSION+" - "+t+" - http://www.pixijs.com/");v=!0},e.isWebGLSupported=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),n=!(!r||!r.getContextAttributes().stencil);if(r){var i=r.getExtension("WEBGL_lose_context");i&&i.loseContext()}return r=null,n}catch(t){return!1}},e.sign=function(t){return 0===t?0:t<0?-1:1},e.destroyTextureCache=function(){var t=void 0;for(t in y)y[t].destroy();for(t in g)g[t].destroy()},e.clearTextureCache=function(){var t=void 0;for(t in y)delete y[t];for(t in g)delete g[t]},e.correctBlendMode=function(t,e){return m[e?1:0][t]},e.premultiplyTint=function(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var r=t>>16&255,n=t>>8&255,i=255&t;return(255*e<<24)+((r=r*e+.5|0)<<16)+((n=n*e+.5|0)<<8)+(i=i*e+.5|0)},e.premultiplyRgba=function(t,e,r,n){r=r||new Float32Array(4),n||void 0===n?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]);return r[3]=e,r},e.premultiplyTintToRgba=function(t,e,r,n){(r=r||new Float32Array(4))[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,(n||void 0===n)&&(r[0]*=e,r[1]*=e,r[2]*=e);return r[3]=e,r};var n=r(0),i=d(r(3)),o=d(r(9)),s=d(r(237)),a=f(r(236)),u=f(r(37)),h=d(r(235)),l=d(r(234)),c=d(r(35));function f(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function d(t){return t&&t.__esModule?t:{default:t}}var p=0,v=!1;e.isMobile=u,e.removeItems=h.default,e.EventEmitter=o.default,e.pluginTarget=s.default,e.mixins=a,e.earcut=c.default;var y=e.TextureCache=Object.create(null),g=e.BaseTextureCache=Object.create(null);var m=e.premultiplyBlendMode=(0,l.default)()},function(t,e,r){"use strict";e.__esModule=!0;var n=o(r(239)),i=o(r(238));function o(t){return t&&t.__esModule?t:{default:t}}e.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,n.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,i.default)(),MESH_CANVAS_PADDING:0}},function(t,e,r){"use strict";e.__esModule=!0;var n=r(42);Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return f(n).default}});var i=r(117);Object.defineProperty(e,"ObservablePoint",{enumerable:!0,get:function(){return f(i).default}});var o=r(41);Object.defineProperty(e,"Matrix",{enumerable:!0,get:function(){return f(o).default}});var s=r(116);Object.defineProperty(e,"GroupD8",{enumerable:!0,get:function(){return f(s).default}});var a=r(249);Object.defineProperty(e,"Circle",{enumerable:!0,get:function(){return f(a).default}});var u=r(248);Object.defineProperty(e,"Ellipse",{enumerable:!0,get:function(){return f(u).default}});var h=r(247);Object.defineProperty(e,"Polygon",{enumerable:!0,get:function(){return f(h).default}});var l=r(40);Object.defineProperty(e,"Rectangle",{enumerable:!0,get:function(){return f(l).default}});var c=r(246);function f(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"RoundedRectangle",{enumerable:!0,get:function(){return f(c).default}})},function(t,e,r){"use strict";var n=r(64),i=r(149),o=Object.prototype.toString;function s(t){return"[object Array]"===o.call(t)}function a(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===o.call(t)}function h(t,e){if(null!==t&&void 0!==t)if("object"!=typeof t&&(t=[t]),s(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:s,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:i,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:a,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:u,isStream:function(t){return a(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:h,merge:function t(){var e={};function r(r,n){"object"==typeof e[n]&&"object"==typeof r?e[n]=t(e[n],r):e[n]=r}for(var n=0,i=arguments.length;n<i;n++)h(arguments[n],r);return e},extend:function(t,e,r){return h(e,function(e,i){t[i]=r&&"function"==typeof e?n(e,r):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,r){var n={createContext:r(245),setVertexAttribArrays:r(115),GLBuffer:r(244),GLFramebuffer:r(243),GLShader:r(242),GLTexture:r(114),VertexArrayObject:r(241),shader:r(240)};void 0!==t&&t.exports&&(t.exports=n),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=n)},function(t,e,r){(function(t){function r(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(t){return n.exec(t).slice(1)};function o(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}e.resolve=function(){for(var e="",n=!1,i=arguments.length-1;i>=-1&&!n;i--){var s=i>=0?arguments[i]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,n="/"===s.charAt(0))}return e=r(o(e.split("/"),function(t){return!!t}),!n).join("/"),(n?"/":"")+e||"."},e.normalize=function(t){var n=e.isAbsolute(t),i="/"===s(t,-1);return(t=r(o(t.split("/"),function(t){return!!t}),!n).join("/"))||n||(t="."),t&&i&&(t+="/"),(n?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(o(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,r){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var i=n(t.split("/")),o=n(r.split("/")),s=Math.min(i.length,o.length),a=s,u=0;u<s;u++)if(i[u]!==o[u]){a=u;break}var h=[];for(u=a;u<i.length;u++)h.push("..");return(h=h.concat(o.slice(a))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=i(t),r=e[0],n=e[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},e.basename=function(t,e){var r=i(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){return i(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,r(93))},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=c(r(10)),o=c(r(101)),s=c(r(100)),a=c(r(9)),u=r(4),h=r(2),l=c(r(3));function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(r,n,i,o,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));if(a.noFrame=!1,n||(a.noFrame=!0,n=new u.Rectangle(0,0,1,1)),r instanceof e&&(r=r.baseTexture),a.baseTexture=r,a._frame=n,a.trim=o,a.valid=!1,a.requiresUpdate=!1,a._uvs=null,a.orig=i||n,a._rotate=Number(s||0),!0===s)a._rotate=2;else if(a._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return r.hasLoaded?(a.noFrame&&(n=new u.Rectangle(0,0,r.width,r.height),r.on("update",a.onBaseTextureUpdated,a)),a.frame=n):r.once("loaded",a.onBaseTextureLoaded,a),a._updateID=0,a.transform=null,a.textureCacheIds=[],a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.update=function(){this.baseTexture.update()},e.prototype.onBaseTextureLoaded=function(t){this._updateID++,this.noFrame?this.frame=new u.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},e.prototype.onBaseTextureUpdated=function(t){this._updateID++,this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},e.prototype.destroy=function(t){this.baseTexture&&(t&&(h.TextureCache[this.baseTexture.imageUrl]&&e.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)},e.prototype._updateUvs=function(){this._uvs||(this._uvs=new s.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.fromImage=function(t,r,n,o){var s=h.TextureCache[t];return s||(s=new e(i.default.fromImage(t,r,n,o)),e.addToCache(s,t)),s},e.fromFrame=function(t){var e=h.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return e},e.fromCanvas=function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";return new e(i.default.fromCanvas(t,r,n))},e.fromVideo=function(t,r){return"string"==typeof t?e.fromVideoUrl(t,r):new e(o.default.fromVideo(t,r))},e.fromVideoUrl=function(t,r){return new e(o.default.fromUrl(t,r))},e.from=function(t){if("string"==typeof t){var r=h.TextureCache[t];return r||(null!==t.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)?e.fromVideoUrl(t):e.fromImage(t))}return t instanceof HTMLImageElement?new e(i.default.from(t)):t instanceof HTMLCanvasElement?e.fromCanvas(t,l.default.SCALE_MODE,"HTMLCanvasElement"):t instanceof HTMLVideoElement?e.fromVideo(t):t instanceof i.default?new e(t):t},e.fromLoader=function(t,r,n){var o=new i.default(t,void 0,(0,h.getResolutionOfUrl)(r)),s=new e(o);return o.imageUrl=r,n||(n=r),i.default.addToCache(s.baseTexture,n),e.addToCache(s,n),n!==r&&(i.default.addToCache(s.baseTexture,r),e.addToCache(s,r)),s},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),h.TextureCache[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),h.TextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=h.TextureCache[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete h.TextureCache[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)h.TextureCache[t.textureCacheIds[n]]===t&&delete h.TextureCache[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},n(e,[{key:"frame",get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,r=t.y,n=t.width,i=t.height,o=e+n>this.baseTexture.width,s=r+i>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",u="X: "+e+" + "+n+" = "+(e+n)+" > "+this.baseTexture.width,h="Y: "+r+" + "+i+" = "+(r+i)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+u+" "+a+" "+h)}this.valid=n&&i&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=t),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]),e}(a.default);function d(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}e.default=f,f.EMPTY=new f(new i.default),d(f.EMPTY),d(f.EMPTY.baseTexture),f.WHITE=function(){var t=document.createElement("canvas");t.width=10,t.height=10;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,10,10),new f(new i.default(t))}(),d(f.WHITE),d(f.WHITE.baseTexture)},function(t,e,r){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function o(){}function s(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),a.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)n.call(t,e)&&r.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},a.prototype.listeners=function(t,e){var r=i?i+t:t,n=this._events[r];if(e)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var o=0,s=n.length,a=new Array(s);o<s;o++)a[o]=n[o].fn;return a},a.prototype.emit=function(t,e,r,n,o,s){var a=i?i+t:t;if(!this._events[a])return!1;var u,h,l=this._events[a],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,n),!0;case 5:return l.fn.call(l.context,e,r,n,o),!0;case 6:return l.fn.call(l.context,e,r,n,o,s),!0}for(h=1,u=new Array(c-1);h<c;h++)u[h-1]=arguments[h];l.fn.apply(l.context,u)}else{var f,d=l.length;for(h=0;h<d;h++)switch(l[h].once&&this.removeListener(t,l[h].fn,void 0,!0),c){case 1:l[h].fn.call(l[h].context);break;case 2:l[h].fn.call(l[h].context,e);break;case 3:l[h].fn.call(l[h].context,e,r);break;case 4:l[h].fn.call(l[h].context,e,r,n);break;default:if(!u)for(f=1,u=new Array(c-1);f<c;f++)u[f-1]=arguments[f];l[h].fn.apply(l[h].context,u)}}return!0},a.prototype.on=function(t,e,r){var n=new s(e,r||this),o=i?i+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],n]:this._events[o].push(n):(this._events[o]=n,this._eventsCount++),this},a.prototype.once=function(t,e,r){var n=new s(e,r||this,!0),o=i?i+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],n]:this._events[o].push(n):(this._events[o]=n,this._eventsCount++),this},a.prototype.removeListener=function(t,e,r,n){var s=i?i+t:t;if(!this._events[s])return this;if(!e)return 0==--this._eventsCount?this._events=new o:delete this._events[s],this;var a=this._events[s];if(a.fn)a.fn!==e||n&&!a.once||r&&a.context!==r||(0==--this._eventsCount?this._events=new o:delete this._events[s]);else{for(var u=0,h=[],l=a.length;u<l;u++)(a[u].fn!==e||n&&!a[u].once||r&&a[u].context!==r)&&h.push(a[u]);h.length?this._events[s]=1===h.length?h[0]:h:0==--this._eventsCount?this._events=new o:delete this._events[s]}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new o:delete this._events[e])):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=i,a.EventEmitter=a,t.exports=a},function(t,e,r){"use strict";e.__esModule=!0;var n=r(2),i=u(r(3)),o=u(r(9)),s=u(r(103)),a=u(r(33));function u(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(r,o,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return a.uid=(0,n.uid)(),a.touched=0,a.resolution=s||i.default.RESOLUTION,a.width=100,a.height=100,a.realWidth=100,a.realHeight=100,a.scaleMode=void 0!==o?o:i.default.SCALE_MODE,a.hasLoaded=!1,a.isLoading=!1,a.source=null,a.origSource=null,a.imageType=null,a.sourceScale=1,a.premultipliedAlpha=!0,a.imageUrl=null,a.isPowerOfTwo=!1,a.mipmap=i.default.MIPMAP_TEXTURES,a.wrapMode=i.default.WRAP_MODE,a._glTextures={},a._enabled=0,a._virtalBoundId=-1,a._destroyed=!1,a.textureCacheIds=[],r&&a.loadSource(r),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},e.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=a.default.isPow2(this.realWidth)&&a.default.isPow2(this.realHeight)},e.prototype.loadSource=function(t){var e=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,e&&this.source&&(this.source.onload=null,this.source.onerror=null);var r=!this.source;if(this.source=t,(t.src&&t.complete||t.getContext)&&t.width&&t.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),r&&this.emit("loaded",this);else if(!t.getContext){this.isLoading=!0;var n=this;if(t.onload=function(){n._updateImageType(),t.onload=null,t.onerror=null,n.isLoading&&(n.isLoading=!1,n._sourceLoaded(),"svg"!==n.imageType?n.emit("loaded",n):n._loadSvgSource())},t.onerror=function(){t.onload=null,t.onerror=null,n.isLoading&&(n.isLoading=!1,n.emit("error",n))},t.complete&&t.src){if(t.onload=null,t.onerror=null,"svg"===n.imageType)return void n._loadSvgSource();this.isLoading=!1,t.width&&t.height?(this._sourceLoaded(),e&&this.emit("loaded",this)):e&&this.emit("error",this)}}},e.prototype._updateImageType=function(){if(this.imageUrl){var t=(0,n.decomposeDataUri)(this.imageUrl),e=void 0;if(t&&"image"===t.mediaType){var r=t.subType.split("+")[0];if(!(e=(0,n.getUrlFileExtension)("."+r)))throw new Error("Invalid image type in data URI.")}else(e=(0,n.getUrlFileExtension)(this.imageUrl))||(e="png");this.imageType=e}},e.prototype._loadSvgSource=function(){if("svg"===this.imageType){var t=(0,n.decomposeDataUri)(this.imageUrl);t?this._loadSvgSourceUsingDataUri(t):this._loadSvgSourceUsingXhr()}},e.prototype._loadSvgSourceUsingDataUri=function(t){var e=void 0;if("base64"===t.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");e=atob(t.data)}else e=t.data;this._loadSvgSourceUsingString(e)},e.prototype._loadSvgSourceUsingXhr=function(){var t=this,e=new XMLHttpRequest;e.onload=function(){if(e.readyState!==e.DONE||200!==e.status)throw new Error("Failed to load SVG using XHR.");t._loadSvgSourceUsingString(e.response)},e.onerror=function(){return t.emit("error",t)},e.open("GET",this.imageUrl,!0),e.send()},e.prototype._loadSvgSourceUsingString=function(t){var r=(0,n.getSvgSize)(t),i=r.width,o=r.height;if(!i||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(i*this.sourceScale),this.realHeight=Math.round(o*this.sourceScale),this._updateDimensions();var s=document.createElement("canvas");s.width=this.realWidth,s.height=this.realHeight,s._pixiId="canvas_"+(0,n.uid)(),s.getContext("2d").drawImage(this.source,0,0,i,o,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=s,e.addToCache(this,s._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},e.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},e.prototype.destroy=function(){this.imageUrl&&(delete n.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},e.fromImage=function(t,r,i,o){var a=n.BaseTextureCache[t];if(!a){var u=new Image;void 0===r&&0!==t.indexOf("data:")?u.crossOrigin=(0,s.default)(t):r&&(u.crossOrigin="string"==typeof r?r:"anonymous"),(a=new e(u,i)).imageUrl=t,o&&(a.sourceScale=o),a.resolution=(0,n.getResolutionOfUrl)(t),u.src=t,e.addToCache(a,t)}return a},e.fromCanvas=function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";t._pixiId||(t._pixiId=i+"_"+(0,n.uid)());var o=n.BaseTextureCache[t._pixiId];return o||(o=new e(t,r),e.addToCache(o,t._pixiId)),o},e.from=function(t,r,i){if("string"==typeof t)return e.fromImage(t,void 0,r,i);if(t instanceof HTMLImageElement){var o=t.src,s=n.BaseTextureCache[o];return s||((s=new e(t,r)).imageUrl=o,i&&(s.sourceScale=i),s.resolution=(0,n.getResolutionOfUrl)(o),e.addToCache(s,o)),s}return t instanceof HTMLCanvasElement?e.fromCanvas(t,r):t},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),n.BaseTextureCache[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),n.BaseTextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=n.BaseTextureCache[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete n.BaseTextureCache[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)delete n.BaseTextureCache[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},e}(o.default);e.default=h},function(t,e,r){var n,i,o={},s=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=n.apply(this,arguments)),i}),a=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var r=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),u=null,h=0,l=[],c=r(152);function f(t,e){for(var r=0;r<t.length;r++){var n=t[r],i=o[n.id];if(i){i.refs++;for(var s=0;s<i.parts.length;s++)i.parts[s](n.parts[s]);for(;s<n.parts.length;s++)i.parts.push(m(n.parts[s],e))}else{var a=[];for(s=0;s<n.parts.length;s++)a.push(m(n.parts[s],e));o[n.id]={id:n.id,refs:1,parts:a}}}}function d(t,e){for(var r=[],n={},i=0;i<t.length;i++){var o=t[i],s=e.base?o[0]+e.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};n[s]?n[s].parts.push(a):r.push(n[s]={id:s,parts:[a]})}return r}function p(t,e){var r=a(t.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=l[l.length-1];if("top"===t.insertAt)n?n.nextSibling?r.insertBefore(e,n.nextSibling):r.appendChild(e):r.insertBefore(e,r.firstChild),l.push(e);else if("bottom"===t.insertAt)r.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=a(t.insertInto+" "+t.insertAt.before);r.insertBefore(e,i)}}function v(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function y(t){var e=document.createElement("style");return t.attrs.type="text/css",g(e,t.attrs),p(t,e),e}function g(t,e){Object.keys(e).forEach(function(r){t.setAttribute(r,e[r])})}function m(t,e){var r,n,i,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var s=h++;r=u||(u=y(e)),n=x.bind(null,r,s,!1),i=x.bind(null,r,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",g(e,t.attrs),p(t,e),e}(e),n=function(t,e,r){var n=r.css,i=r.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(n=c(n));i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var s=new Blob([n],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,r,e),i=function(){v(r),r.href&&URL.revokeObjectURL(r.href)}):(r=y(e),n=function(t,e){var r=e.css,n=e.media;n&&t.setAttribute("media",n);if(t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}.bind(null,r),i=function(){v(r)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=s()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var r=d(t,e);return f(r,e),function(t){for(var n=[],i=0;i<r.length;i++){var s=r[i];(a=o[s.id]).refs--,n.push(a)}t&&f(d(t,e),e);for(i=0;i<n.length;i++){var a;if(0===(a=n[i]).refs){for(var u=0;u<a.parts.length;u++)a.parts[u]();delete o[a.id]}}}};var _,b=(_=[],function(t,e){return _[t]=e,_.filter(Boolean).join("\n")});function x(t,e,r,n){var i=r?"":n.css;if(t.styleSheet)t.styleSheet.cssText=b(e,i);else{var o=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=function(t,e){var r=t[1]||"",n=t[3];if(!n)return r;if(e&&"function"==typeof btoa){var i=(s=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),o=n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"});return[r].concat(o).concat([i]).join("\n")}var s;return[r].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(n[o]=!0)}for(i=0;i<t.length;i++){var s=t[i];"number"==typeof s[0]&&n[s[0]]||(r&&!s[2]?s[2]=r:r&&(s[2]="("+s[2]+") and ("+r+")"),e.push(s))}},e}},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),s=r(8),a=(n=s)&&n.__esModule?n:{default:n};var u=new o.Point,h=new o.Polygon,l=function(t){function e(r,n,i,s,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var h=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return h._texture=r||a.default.EMPTY,h.uvs=i||new Float32Array([0,0,1,0,1,1,0,1]),h.vertices=n||new Float32Array([0,0,100,0,100,100,0,100]),h.indices=s||new Uint16Array([0,1,3,2]),h.dirty=0,h.indexDirty=0,h.blendMode=o.BLEND_MODES.NORMAL,h.canvasPadding=o.settings.MESH_CANVAS_PADDING,h.drawMode=u||e.DRAW_MODES.TRIANGLE_MESH,h.shader=null,h.tintRgb=new Float32Array([1,1,1]),h._glDatas={},h._uvTransform=new o.TextureMatrix(h._texture),h.uploadUvTransform=!1,h.pluginName="mesh",h}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._renderWebGL=function(t){this.refresh(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){this.refresh(),t.plugins[this.pluginName].render(this)},e.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},e.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},e.prototype.refresh=function(t){this._uvTransform.update(t)&&this._refresh()},e.prototype._refresh=function(){},e.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,u);for(var r=this.vertices,n=h.points,i=this.indices,o=this.indices.length,s=this.drawMode===e.DRAW_MODES.TRIANGLES?3:1,a=0;a+2<o;a+=s){var l=2*i[a],c=2*i[a+1],f=2*i[a+2];if(n[0]=r[l],n[1]=r[l+1],n[2]=r[c],n[3]=r[c+1],n[4]=r[f],n[5]=r[f+1],h.contains(u.x,u.y))return!0}return!1},i(e,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}},{key:"tint",get:function(){return o.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=o.utils.hex2rgb(t,this.tintRgb)}}]),e}(o.Container);e.default=l,l.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},function(t,e,r){"use strict";var n=r(171).default,i=r(28).default,o=r(71),s=r(70);n.Resource=i,n.async=o,n.base64=s,t.exports=n,t.exports.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(6),o=r(3),s=(n=o)&&n.__esModule?n:{default:n};function a(t,e){if(t instanceof Array){if("precision"!==t[0].substring(0,9)){var r=t.slice(0);return r.unshift("precision "+e+" float;"),r}}else if("precision"!==t.trim().substring(0,9))return"precision "+e+" float;\n"+t;return t}var u=function(t){function e(r,n,i,o,u){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,a(n,u||s.default.PRECISION_VERTEX),a(i,u||s.default.PRECISION_FRAGMENT),void 0,o))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(i.GLShader);e.default=u},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.renderer.on("context",this.onContextChange,this)}return t.prototype.onContextChange=function(){},t.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=l(r(99)),i=l(r(224)),o=l(r(97)),s=l(r(223)),a=r(2),u=r(0),h=l(r(3));function l(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(r,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"Canvas",r,n,o));return a.type=u.RENDERER_TYPE.CANVAS,a.rootContext=a.view.getContext("2d",{alpha:a.transparent}),a.context=a.rootContext,a.refresh=!0,a.maskManager=new i.default(a),a.smoothProperty="imageSmoothingEnabled",a.rootContext.imageSmoothingEnabled||(a.rootContext.webkitImageSmoothingEnabled?a.smoothProperty="webkitImageSmoothingEnabled":a.rootContext.mozImageSmoothingEnabled?a.smoothProperty="mozImageSmoothingEnabled":a.rootContext.oImageSmoothingEnabled?a.smoothProperty="oImageSmoothingEnabled":a.rootContext.msImageSmoothingEnabled&&(a.smoothProperty="msImageSmoothingEnabled")),a.initPlugins(),a.blendModes=(0,s.default)(),a._activeBlendMode=null,a.renderingToScreen=!1,a.resize(a.options.width,a.options.height),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.render=function(t,e,r,n,i){if(this.view){this.renderingToScreen=!e,this.emit("prerender");var s=this.resolution;e?((e=e.baseTexture||e)._canvasRenderTarget||(e._canvasRenderTarget=new o.default(e.width,e.height,e.resolution),e.source=e._canvasRenderTarget.canvas,e.valid=!0),this.context=e._canvasRenderTarget.context,this.resolution=e._canvasRenderTarget.resolution):this.context=this.rootContext;var a=this.context;if(e||(this._lastObjectRendered=t),!i){var h=t.parent,l=this._tempDisplayObjectParent.transform.worldTransform;n?(n.copy(l),this._tempDisplayObjectParent.transform._worldID=-1):l.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=h}a.save(),a.setTransform(1,0,0,1,0,0),a.globalAlpha=1,this._activeBlendMode=u.BLEND_MODES.NORMAL,a.globalCompositeOperation=this.blendModes[u.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(a.fillStyle="black",a.clear()),(void 0!==r?r:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?a.clearRect(0,0,this.width,this.height):(a.fillStyle=this._backgroundColorString,a.fillRect(0,0,this.width,this.height)));var c=this.context;this.context=a,t.renderCanvas(this),this.context=c,a.restore(),this.resolution=s,this.emit("postrender")}},e.prototype.clear=function(t){var e=this.context;t=t||this._backgroundColorString,!this.transparent&&t?(e.fillStyle=t,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height)},e.prototype.setBlendMode=function(t){this._activeBlendMode!==t&&(this._activeBlendMode=t,this.context.globalCompositeOperation=this.blendModes[t])},e.prototype.destroy=function(e){this.destroyPlugins(),t.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},e.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.smoothProperty&&(this.rootContext[this.smoothProperty]=h.default.SCALE_MODE===u.SCALE_MODES.LINEAR)},e.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},e}(n.default);e.default=c,a.pluginTarget.mixin(c)},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(2),s=r(106);var a=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.children=[],r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e=arguments.length;if(e>1)for(var r=0;r<e;r++)this.addChild(arguments[r]);else t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),t.emit("added",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),t},e.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t,this.onChildrenChange(r<n?r:n)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(t);(0,o.removeItems)(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(t){var e=arguments.length;if(e>1)for(var r=0;r<e;r++)this.removeChild(arguments[r]);else{var n=this.children.indexOf(t);if(-1===n)return null;t.parent=null,t.transform._parentID=-1,(0,o.removeItems)(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,(0,o.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),e},e.prototype.removeChildren=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],r=t,n="number"==typeof e?e:this.children.length,i=n-r,o=void 0;if(i>0&&i<=n){o=this.children.splice(r,i);for(var s=0;s<o.length;++s)o[s].parent=null,o[s].transform&&(o[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var a=0;a<o.length;++a)o[a].emit("removed",this);return o}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(t);else{this._renderWebGL(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderWebGL(t)}},e.prototype.renderAdvancedWebGL=function(t){t.flush();var e=this._filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var n=0;n<e.length;n++)e[n].enabled&&this._enabledFilters.push(e[n]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}r&&t.maskManager.pushMask(this,this._mask),this._renderWebGL(t);for(var i=0,o=this.children.length;i<o;i++)this.children[i].renderWebGL(t);t.flush(),r&&t.maskManager.popMask(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()},e.prototype._renderWebGL=function(t){},e.prototype._renderCanvas=function(t){},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},e.prototype.destroy=function(e){t.prototype.destroy.call(this);var r="boolean"==typeof e?e:e&&e.children,n=this.removeChildren(0,this.children.length);if(r)for(var i=0;i<n.length;++i)n[i].destroy(e)},i(e,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}]),e}(((n=s)&&n.__esModule?n:{default:n}).default);e.default=a,a.prototype.containerUpdateTransform=a.prototype.updateTransform},function(t,e,r){"use strict";(function(t){e.__esModule=!0,e.loader=e.prepare=e.particles=e.mesh=e.loaders=e.interaction=e.filters=e.extras=e.extract=e.accessibility=void 0;var n=r(255);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})});var i=r(1);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var o,s=r(194),a=(o=s)&&o.__esModule?o:{default:o},u=g(r(193)),h=g(r(191)),l=g(r(84)),c=g(r(181)),f=g(r(174)),d=g(r(172)),p=g(r(168)),v=g(r(163)),y=g(r(158));function g(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}i.utils.mixins.performMixins();var m=d.shared||null;e.accessibility=u,e.extract=h,e.extras=l,e.filters=c,e.interaction=f,e.loaders=d,e.mesh=p,e.particles=v,e.prepare=y,e.loader=m,"function"==typeof a.default&&(0,a.default)(e),t.PIXI=e}).call(this,r(43))},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){t.nativeLines?function(t,e){var r=0,n=t.points;if(0===n.length)return;var o=e.points,s=n.length/2,a=(0,i.hex2rgb)(t.lineColor),u=t.lineAlpha,h=a[0]*u,l=a[1]*u,c=a[2]*u;for(r=1;r<s;r++){var f=n[2*(r-1)],d=n[2*(r-1)+1],p=n[2*r],v=n[2*r+1];o.push(f,d),o.push(h,l,c,u),o.push(p,v),o.push(h,l,c,u)}}(t,r):function(t,e){var r=t.points;if(0===r.length)return;var o=new n.Point(r[0],r[1]),s=new n.Point(r[r.length-2],r[r.length-1]);if(o.x===s.x&&o.y===s.y){(r=r.slice()).pop(),r.pop();var a=(s=new n.Point(r[r.length-2],r[r.length-1])).x+.5*(o.x-s.x),u=s.y+.5*(o.y-s.y);r.unshift(a,u),r.push(a,u)}var h=e.points,l=e.indices,c=r.length/2,f=r.length,d=h.length/6,p=t.lineWidth/2,v=(0,i.hex2rgb)(t.lineColor),y=t.lineAlpha,g=v[0]*y,m=v[1]*y,_=v[2]*y,b=r[0],x=r[1],T=r[2],w=r[3],E=0,S=0,O=-(x-w),M=b-T,P=0,C=0,A=0,R=0,I=Math.sqrt(O*O+M*M);O/=I,M/=I,O*=p,M*=p,h.push(b-O,x-M,g,m,_,y),h.push(b+O,x+M,g,m,_,y);for(var D=1;D<c-1;++D){b=r[2*(D-1)],x=r[2*(D-1)+1],T=r[2*D],w=r[2*D+1],E=r[2*(D+1)],S=r[2*(D+1)+1],O=-(x-w),M=b-T,I=Math.sqrt(O*O+M*M),O/=I,M/=I,O*=p,M*=p,P=-(w-S),C=T-E,I=Math.sqrt(P*P+C*C),P/=I,C/=I;var L=-M+x-(-M+w),N=-O+T-(-O+b),k=(-O+b)*(-M+w)-(-O+T)*(-M+x),F=-(C*=p)+S-(-C+w),j=-(P*=p)+T-(-P+E),B=(-P+E)*(-C+w)-(-P+T)*(-C+S),U=L*j-F*N;if(Math.abs(U)<.1)U+=10.1,h.push(T-O,w-M,g,m,_,y),h.push(T+O,w+M,g,m,_,y);else{var X=(N*B-j*k)/U,H=(F*k-L*B)/U,W=(X-T)*(X-T)+(H-w)*(H-w);W>196*p*p?(A=O-P,R=M-C,I=Math.sqrt(A*A+R*R),A/=I,R/=I,A*=p,R*=p,h.push(T-A,w-R),h.push(g,m,_,y),h.push(T+A,w+R),h.push(g,m,_,y),h.push(T-A,w-R),h.push(g,m,_,y),f++):(h.push(X,H),h.push(g,m,_,y),h.push(T-(X-T),w-(H-w)),h.push(g,m,_,y))}}b=r[2*(c-2)],x=r[2*(c-2)+1],T=r[2*(c-1)],w=r[2*(c-1)+1],O=-(x-w),M=b-T,I=Math.sqrt(O*O+M*M),O/=I,M/=I,O*=p,M*=p,h.push(T-O,w-M),h.push(g,m,_,y),h.push(T+O,w+M),h.push(g,m,_,y),l.push(d);for(var G=0;G<f;++G)l.push(d++);l.push(d-1)}(t,e)};var n=r(4),i=r(2)},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(4),o=r(0),s=r(3),a=(n=s)&&n.__esModule?n:{default:n},u=r(6);var h=function(){function t(e,r,n,s,h,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new i.Rectangle(0,0,1,1),this.resolution=h||a.default.RESOLUTION,this.projectionMatrix=new i.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new i.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.scaleMode=void 0!==s?s:a.default.SCALE_MODE,this.root=l,this.root?(this.frameBuffer=new u.GLFramebuffer(e,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=u.GLFramebuffer.createRGBA(e,100,100),this.scaleMode===o.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(r,n)}return t.prototype.clear=function(t){var e=t||this.clearColor;this.frameBuffer.clear(e[0],e[1],e[2],e[3])},t.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},t.prototype.setFrame=function(t,e){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||this.destinationFrame},t.prototype.activate=function(){var t=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(t.enable(t.SCISSOR_TEST),t.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):t.disable(t.SCISSOR_TEST),t.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},t.prototype.calculateProjection=function(t,e){var r=this.projectionMatrix;e=e||t,r.identity(),this.root?(r.a=1/t.width*2,r.d=-1/t.height*2,r.tx=-1-e.x*r.a,r.ty=1-e.y*r.d):(r.a=1/t.width*2,r.d=1/t.height*2,r.tx=-1-e.x*r.a,r.ty=-1-e.y*r.d)},t.prototype.resize=function(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e,this.defaultFrame.width=t,this.defaultFrame.height=e,this.frameBuffer.resize(t*this.resolution,e*this.resolution);var r=this.frame||this.size;this.calculateProjection(r)}},t.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},t}();e.default=h},function(t,e,r){"use strict";e.__esModule=!0;var n=m(r(99)),i=m(r(221)),o=m(r(219)),s=m(r(218)),a=m(r(21)),u=m(r(23)),h=m(r(216)),l=m(r(10)),c=m(r(215)),f=m(r(214)),d=m(r(212)),p=m(r(211)),v=r(2),y=m(r(6)),g=r(0);function m(t){return t&&t.__esModule?t:{default:t}}var _=0,b=function(t){function e(r,n,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"WebGL",r,n,s));return a.legacy=a.options.legacy,a.legacy&&(y.default.VertexArrayObject.FORCE_NATIVE=!0),a.type=g.RENDERER_TYPE.WEBGL,a.handleContextLost=a.handleContextLost.bind(a),a.handleContextRestored=a.handleContextRestored.bind(a),a.view.addEventListener("webglcontextlost",a.handleContextLost,!1),a.view.addEventListener("webglcontextrestored",a.handleContextRestored,!1),a._contextOptions={alpha:a.transparent,antialias:a.options.antialias,premultipliedAlpha:a.transparent&&"notMultiplied"!==a.transparent,stencil:!0,preserveDrawingBuffer:a.options.preserveDrawingBuffer,powerPreference:a.options.powerPreference},a._backgroundColorRgba[3]=a.transparent?0:1,a.maskManager=new i.default(a),a.stencilManager=new o.default(a),a.emptyRenderer=new u.default(a),a.currentRenderer=a.emptyRenderer,a.textureManager=null,a.filterManager=null,a.initPlugins(),a.options.context&&(0,p.default)(a.options.context),a.gl=a.options.context||y.default.createContext(a.view,a._contextOptions),a.CONTEXT_UID=_++,a.state=new f.default(a.gl),a.renderingToScreen=!0,a.boundTextures=null,a._activeShader=null,a._activeVao=null,a._activeRenderTarget=null,a._initContext(),a.drawModes=(0,d.default)(a.gl),a._nextTextureLocation=0,a.setBlendMode(0),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._initContext=function(){var t=this.gl;t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext();var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(e),this.emptyTextures=new Array(e),this.textureManager=new h.default(this),this.filterManager=new s.default(this),this.textureGC=new c.default(this),this.state.resetToDefault(),this.rootRenderTarget=new a.default(t,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var r=new y.default.GLTexture.fromData(t,null,1,1),n={_glTextures:{}};n._glTextures[this.CONTEXT_UID]={};for(var i=0;i<e;i++){var o=new l.default;o._glTextures[this.CONTEXT_UID]=r,this.boundTextures[i]=n,this.emptyTextures[i]=o,this.bindTexture(null,i)}this.emit("context",t),this.resize(this.screen.width,this.screen.height)},e.prototype.render=function(t,e,r,n,i){if(this.renderingToScreen=!e,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,e||(this._lastObjectRendered=t),!i){var o=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o}this.bindRenderTexture(e,n),this.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this._activeRenderTarget.clear(),t.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.resize=function(t,e){n.default.prototype.resize.call(this,t,e),this.rootRenderTarget.resize(t,e),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},e.prototype.setBlendMode=function(t){this.state.setBlendMode(t)},e.prototype.clear=function(t){this._activeRenderTarget.clear(t)},e.prototype.setTransform=function(t){this._activeRenderTarget.transform=t},e.prototype.clearRenderTexture=function(t,e){var r=t.baseTexture._glRenderTargets[this.CONTEXT_UID];return r&&r.clear(e),this},e.prototype.bindRenderTexture=function(t,e){var r=void 0;if(t){var n=t.baseTexture;n._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(n,0),this.unbindTexture(n),(r=n._glRenderTargets[this.CONTEXT_UID]).setFrame(t.frame)}else r=this.rootRenderTarget;return r.transform=e,this.bindRenderTarget(r),this},e.prototype.bindRenderTarget=function(t){return t!==this._activeRenderTarget&&(this._activeRenderTarget=t,t.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=t.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(t.stencilMaskStack)),this},e.prototype.bindShader=function(t,e){return this._activeShader!==t&&(this._activeShader=t,t.bind(),!1!==e&&(t.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},e.prototype.bindTexture=function(t,e,r){if((t=(t=t||this.emptyTextures[e]).baseTexture||t).touched=this.textureGC.count,r)e=e||0;else{for(var n=0;n<this.boundTextures.length;n++)if(this.boundTextures[n]===t)return n;void 0===e&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,e=this.boundTextures.length-this._nextTextureLocation-1)}var i=this.gl,o=t._glTextures[this.CONTEXT_UID];return o?(this.boundTextures[e]=t,i.activeTexture(i.TEXTURE0+e),i.bindTexture(i.TEXTURE_2D,o.texture)):this.textureManager.updateTexture(t,e),e},e.prototype.unbindTexture=function(t){var e=this.gl;t=t.baseTexture||t;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]===t&&(this.boundTextures[r]=this.emptyTextures[r],e.activeTexture(e.TEXTURE0+r),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[r]._glTextures[this.CONTEXT_UID].texture));return this},e.prototype.createVao=function(){return new y.default.VertexArrayObject(this.gl,this.state.attribState)},e.prototype.bindVao=function(t){return this._activeVao===t?this:(t?t.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=t,this)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.emptyTextures[t];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()},e.prototype.destroy=function(e){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),t.prototype.destroy.call(this,e),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},e}(n.default);e.default=b,v.pluginTarget.mixin(b)},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(16);var o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.flush=function(){},e.prototype.render=function(t){},e}(((n=i)&&n.__esModule?n:{default:n}).default);e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.textStyle={fontWeight:"bold",fontSize:60,fontFamily:"Press Start 2P",fill:"#f9ceb9",align:"center",stroke:"#461c06",strokeThickness:3},e.loadFonts=(()=>{window.WebFontConfig={google:{families:["Press Start 2P"]}},function(){var t=document.createElement("script");t.src=("https:"===document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js",t.type="text/javascript",t.async=!0;var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(19),i=r(132),o=r(24);e.sprites={water:r(59),waterK:r(58),greenK:r(57),dryK:r(56),lavaK:r(55),notsomedryK:r(54),rockK:r(53),oo2:r(52),o2:r(51),cry:r(50),1:r(49),mol:r(48),energy:r(47),mineral:r(46),character:r(45),character2:r(44)};e.getSprite=(t=>{const r=e.sprites[t];return new i.SpriteExt((t=>n.loader.resources[t].texture)(r))}),e.getText=((t,e)=>{return new n.Text(t,Object.assign({},o.textStyle,e))})},function(t,e,r){"use strict";(function(e){var n=r(5),i=r(147),o={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var a,u={adapter:("undefined"!=typeof XMLHttpRequest?a=r(63):void 0!==e&&(a=r(63)),a),transformRequest:[function(t,e){return i(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t)?t:n.isArrayBufferView(t)?t.buffer:n.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):n.isObject(t)?(s(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],function(t){u.headers[t]={}}),n.forEach(["post","put","patch"],function(t){u.headers[t]=n.merge(o)}),t.exports=u}).call(this,r(93))},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=r(66),s=(n=o)&&n.__esModule?n:{default:n};var a=i.ticker.shared;i.settings.UPLOADS_PER_FRAME=4;var u=function(){function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.limiter=new s.default(i.settings.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(p),this.registerFindHook(v),this.registerFindHook(h),this.registerFindHook(l),this.registerFindHook(c),this.registerUploadHook(f),this.registerUploadHook(d)}return t.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,a.addOnce(this.tick,this,i.UPDATE_PRIORITY.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)a.addOnce(this.tick,this,i.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var o=this.completes.slice(0);this.completes.length=0;for(var s=0,u=o.length;s<u;s++)o[s]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof i.Container)for(var n=t.children.length-1;n>=0;n--)this.add(t.children[n]);return this},t.prototype.destroy=function(){this.ticking&&a.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function h(t,e){var r=!1;if(t&&t._textures&&t._textures.length)for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof i.Texture){var o=t._textures[n].baseTexture;-1===e.indexOf(o)&&(e.push(o),r=!0)}return r}function l(t,e){return t instanceof i.BaseTexture&&(-1===e.indexOf(t)&&e.push(t),!0)}function c(t,e){if(t._texture&&t._texture instanceof i.Texture){var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function f(t,e){return e instanceof i.Text&&(e.updateText(!0),!0)}function d(t,e){if(e instanceof i.TextStyle){var r=e.toFontString();return i.TextMetrics.measureFont(r),!0}return!1}function p(t,e){if(t instanceof i.Text){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function v(t,e){return t instanceof i.TextStyle&&(-1===e.indexOf(t)&&e.push(t),!0)}e.default=u},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=s(r(72)),o=s(r(73));function s(t){return t&&t.__esModule?t:{default:t}}var a=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),u=null;function h(){}var l=function(){function t(e,r,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof e||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===n.crossOrigin?"anonymous":n.crossOrigin,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=h,this._onLoadBinding=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this),this.onStart=new o.default,this.onProgress=new o.default,this.onComplete=new o.default,this.onAfterMiddleware=new o.default}return t.setExtensionLoadType=function(e,r){c(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){c(t._xhrTypeMap,e,r)},t.prototype.complete=function(){if(this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}},t.prototype.load=function(e){var r=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout(function(){return e(r)},1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:a&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t.prototype._hasFlag=function(t){return!!(this._flags&t)},t.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},t.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else{var n=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(n)?n[0]:n))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()}else this.abort("Unsupported element: "+t)},t.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXdrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},t.prototype._createSource=function(t,e,r){r||(r=t+"/"+this._getExtension(e));var n=document.createElement("source");return n.src=e,n.type=r,n},t.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t.prototype._xhrOnError=function(){var t=this.xhr;this.abort(f(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},t.prototype._xhrOnAbort=function(){this.abort(f(this.xhr)+" Request was aborted by the user.")},t.prototype._xdrOnTimeout=function(){this.abort(f(this.xhr)+" Request timed out.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,r="",n=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(r=e.responseText),0===n&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?n=200:1223===n&&(n=204),2===(n/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var i=new DOMParser;this.data=i.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||r;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},t.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";e=e||window.location,u||(u=document.createElement("a")),u.href=t;var r=!(t=(0,i.default)(u.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,n=t.protocol?t.protocol+":":"";return t.host===e.hostname&&r&&n===e.protocol?"":"anonymous"},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var n=t.indexOf("?"),i=t.indexOf("#"),o=Math.min(n>-1?n:t.length,i>-1?i:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},n(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function c(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function f(t){return t.toString().replace("object ","")}e.default=l,l.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},l.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},l.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},l.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},l._loadTypeMap={gif:l.LOAD_TYPE.IMAGE,png:l.LOAD_TYPE.IMAGE,bmp:l.LOAD_TYPE.IMAGE,jpg:l.LOAD_TYPE.IMAGE,jpeg:l.LOAD_TYPE.IMAGE,tif:l.LOAD_TYPE.IMAGE,tiff:l.LOAD_TYPE.IMAGE,webp:l.LOAD_TYPE.IMAGE,tga:l.LOAD_TYPE.IMAGE,svg:l.LOAD_TYPE.IMAGE,"svg+xml":l.LOAD_TYPE.IMAGE,mp3:l.LOAD_TYPE.AUDIO,ogg:l.LOAD_TYPE.AUDIO,wav:l.LOAD_TYPE.AUDIO,mp4:l.LOAD_TYPE.VIDEO,webm:l.LOAD_TYPE.VIDEO},l._xhrTypeMap={xhtml:l.XHR_RESPONSE_TYPE.DOCUMENT,html:l.XHR_RESPONSE_TYPE.DOCUMENT,htm:l.XHR_RESPONSE_TYPE.DOCUMENT,xml:l.XHR_RESPONSE_TYPE.DOCUMENT,tmx:l.XHR_RESPONSE_TYPE.DOCUMENT,svg:l.XHR_RESPONSE_TYPE.DOCUMENT,tsx:l.XHR_RESPONSE_TYPE.DOCUMENT,gif:l.XHR_RESPONSE_TYPE.BLOB,png:l.XHR_RESPONSE_TYPE.BLOB,bmp:l.XHR_RESPONSE_TYPE.BLOB,jpg:l.XHR_RESPONSE_TYPE.BLOB,jpeg:l.XHR_RESPONSE_TYPE.BLOB,tif:l.XHR_RESPONSE_TYPE.BLOB,tiff:l.XHR_RESPONSE_TYPE.BLOB,webp:l.XHR_RESPONSE_TYPE.BLOB,tga:l.XHR_RESPONSE_TYPE.BLOB,json:l.XHR_RESPONSE_TYPE.JSON,text:l.XHR_RESPONSE_TYPE.TEXT,txt:l.XHR_RESPONSE_TYPE.TEXT,ttf:l.XHR_RESPONSE_TYPE.BUFFER,otf:l.XHR_RESPONSE_TYPE.BUFFER},l.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){for(var e=6*t,r=new Uint16Array(e),n=0,i=0;n<e;n+=6,i+=4)r[n+0]=i+0,r[n+1]=i+1,r[n+2]=i+2,r[n+3]=i+0,r[n+4]=i+2,r[n+5]=i+3;return r}},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(2),o=r(96);var s={getTintedTexture:function(t,e){var r=t._texture,n="#"+("00000"+(0|(e=s.roundColor(e))).toString(16)).substr(-6);r.tintCache=r.tintCache||{};var i=r.tintCache[n],o=void 0;if(i){if(i.tintId===r._updateID)return r.tintCache[n];o=r.tintCache[n]}else o=s.canvas||document.createElement("canvas");if(s.tintMethod(r,e,o),o.tintId=r._updateID,s.convertTintToImage){var a=new Image;a.src=o.toDataURL(),r.tintCache[n]=a}else r.tintCache[n]=o,s.canvas=null;return o},tintWithMultiply:function(t,e,r){var n=r.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.save(),n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="multiply",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.restore()},tintWithOverlay:function(t,e,r){var n=r.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.save(),n.globalCompositeOperation="copy",n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.restore()},tintWithPerPixel:function(t,e,r){var n=r.getContext("2d"),o=t._frame.clone(),s=t.baseTexture.resolution;o.x*=s,o.y*=s,o.width*=s,o.height*=s,r.width=Math.ceil(o.width),r.height=Math.ceil(o.height),n.save(),n.globalCompositeOperation="copy",n.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),n.restore();for(var a=(0,i.hex2rgb)(e),u=a[0],h=a[1],l=a[2],c=n.getImageData(0,0,o.width,o.height),f=c.data,d=0;d<f.length;d+=4)f[d+0]*=u,f[d+1]*=h,f[d+2]*=l;n.putImageData(c,0,0)},roundColor:function(t){var e=s.cacheStepsPerColorChannel,r=(0,i.hex2rgb)(t);return r[0]=Math.min(255,r[0]/e*e),r[1]=Math.min(255,r[1]/e*e),r[2]=Math.min(255,r[2]/e*e),(0,i.rgb2hex)(r)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,((n=o)&&n.__esModule?n:{default:n}).default)(),tintMethod:0};s.tintMethod=s.canUseMultiply?s.tintWithMultiply:s.tintWithPerPixel,e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=i(r(98));function i(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function e(r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=null;if(!(r instanceof n.default)){var s=arguments[1],a=arguments[2],u=arguments[3],h=arguments[4];console.warn("Please use RenderTexture.create("+s+", "+a+") instead of the ctor directly."),o=arguments[0],i=null,r=new n.default(s,a,u,h)}var l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,i));return l.legacyRenderer=o,l.valid=!0,l._updateUvs(),l}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e,r){t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r||this.baseTexture.resize(t,e),this._updateUvs()},e.create=function(t,r,i,o){return new e(new n.default(t,r,i,o))},e}(i(r(8)).default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0,e.Ticker=e.shared=void 0;var n,i=r(227),o=(n=i)&&n.__esModule?n:{default:n};var s=new o.default;s.autoStart=!0,s.destroy=function(){},e.shared=s,e.Ticker=o.default},function(t,e,r){"use strict";"use restrict";function n(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,r;return e=(t>65535)<<4,e|=r=((t>>>=e)>255)<<3,e|=r=((t>>>=r)>15)<<2,(e|=r=((t>>>=r)>3)<<1)|(t>>>=r)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=n,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var r=e,n=e,i=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--i;t[e]=n<<i&255}}(i),e.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,r){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>n(t)+1}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(4),o=r(2),s=r(0),a=h(r(8)),u=h(r(18));function h(t){return t&&t.__esModule?t:{default:t}}var l=new i.Point,c=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n._anchor=new i.ObservablePoint(n._onAnchorUpdate,n),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=s.BLEND_MODES.NORMAL,n.shader=null,n.cachedTint=16777215,n.texture=r||a.default.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.pluginName="sprite",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,o.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,o.sign)(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var t=this._texture,e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,o=e.d,s=e.tx,a=e.ty,u=this.vertexData,h=t.trim,l=t.orig,c=this._anchor,f=0,d=0,p=0,v=0;h?(f=(d=h.x-c._x*l.width)+h.width,p=(v=h.y-c._y*l.height)+h.height):(f=(d=-c._x*l.width)+l.width,p=(v=-c._y*l.height)+l.height),u[0]=r*d+i*v+s,u[1]=o*v+n*d+a,u[2]=r*f+i*v+s,u[3]=o*v+n*f+a,u[4]=r*f+i*p+s,u[5]=o*p+n*f+a,u[6]=r*d+i*p+s,u[7]=o*p+n*d+a}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,n=this._anchor,i=this.transform.worldTransform,o=i.a,s=i.b,a=i.c,u=i.d,h=i.tx,l=i.ty,c=-n._x*r.width,f=c+r.width,d=-n._y*r.height,p=d+r.height;e[0]=o*c+a*d+h,e[1]=u*d+s*c+l,e[2]=o*f+a*d+h,e[3]=u*d+s*f+l,e[4]=o*f+a*p+h,e[5]=u*p+s*f+l,e[6]=o*c+a*p+h,e[7]=u*p+s*c+l},e.prototype._renderWebGL=function(t){this.calculateVertices(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new i.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,l);var e=this._texture.orig.width,r=this._texture.orig.height,n=-e*this.anchor.x,i=0;return l.x>=n&&l.x<n+e&&(i=-r*this.anchor.y,l.y>=i&&l.y<i+r)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var r="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!r)}this._texture=null,this.shader=null},e.from=function(t){return new e(a.default.from(t))},e.fromFrame=function(t){var r=o.TextureCache[t];if(!r)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return new e(r)},e.fromImage=function(t,r,n){return new e(a.default.fromImage(t,r,n))},n(e,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=(0,o.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=(0,o.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"anchor",get:function(){return this._anchor},set:function(t){this._anchor.copy(t)}},{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)}},{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}]),e}(u.default);e.default=c},function(t,e,r){"use strict";function n(t,e,r){r=r||2;var n,a,u,h,l,d,v,y=e&&e.length,g=y?e[0]*r:t.length,m=i(t,0,g,r,!0),_=[];if(!m)return _;if(y&&(m=function(t,e,r,n){var s,a,u,h,l,d=[];for(s=0,a=e.length;s<a;s++)u=e[s]*n,h=s<a-1?e[s+1]*n:t.length,(l=i(t,u,h,n,!1))===l.next&&(l.steiner=!0),d.push(p(l));for(d.sort(c),s=0;s<d.length;s++)f(d[s],r),r=o(r,r.next);return r}(t,e,m,r)),t.length>80*r){n=u=t[0],a=h=t[1];for(var b=r;b<g;b+=r)l=t[b],d=t[b+1],l<n&&(n=l),d<a&&(a=d),l>u&&(u=l),d>h&&(h=d);v=0!==(v=Math.max(u-n,h-a))?1/v:0}return s(m,_,r,n,a,v),_}function i(t,e,r,n,i){var o,s;if(i===S(t,e,r,n)>0)for(o=e;o<r;o+=n)s=T(o,t[o],t[o+1],s);else for(o=r-n;o>=e;o-=n)s=T(o,t[o],t[o+1],s);return s&&m(s,s.next)&&(w(s),s=s.next),s}function o(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!m(n,n.next)&&0!==g(n.prev,n,n.next))n=n.next;else{if(w(n),(n=e=n.prev)===n.next)break;r=!0}}while(r||n!==e);return e}function s(t,e,r,n,i,c,f){if(t){!f&&c&&function(t,e,r,n){var i=t;do{null===i.z&&(i.z=d(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,r,n,i,o,s,a,u,h=1;do{for(r=t,t=null,o=null,s=0;r;){for(s++,n=r,a=0,e=0;e<h&&(a++,n=n.nextZ);e++);for(u=h;a>0||u>0&&n;)0!==a&&(0===u||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=n}o.nextZ=null,h*=2}while(s>1)}(i)}(t,n,i,c);for(var p,v,y=t;t.prev!==t.next;)if(p=t.prev,v=t.next,c?u(t,n,i,c):a(t))e.push(p.i/r),e.push(t.i/r),e.push(v.i/r),w(t),t=v.next,y=v.next;else if((t=v)===y){f?1===f?s(t=h(t,e,r),e,r,n,i,c,2):2===f&&l(t,e,r,n,i,c):s(o(t),e,r,n,i,c,1);break}}}function a(t){var e=t.prev,r=t,n=t.next;if(g(e,r,n)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(v(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&&g(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(t,e,r,n){var i=t.prev,o=t,s=t.next;if(g(i,o,s)>=0)return!1;for(var a=i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,u=i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,h=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,l=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,c=d(a,u,e,r,n),f=d(h,l,e,r,n),p=t.prevZ,y=t.nextZ;p&&p.z>=c&&y&&y.z<=f;){if(p!==t.prev&&p!==t.next&&v(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&g(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,y!==t.prev&&y!==t.next&&v(i.x,i.y,o.x,o.y,s.x,s.y,y.x,y.y)&&g(y.prev,y,y.next)>=0)return!1;y=y.nextZ}for(;p&&p.z>=c;){if(p!==t.prev&&p!==t.next&&v(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&g(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;y&&y.z<=f;){if(y!==t.prev&&y!==t.next&&v(i.x,i.y,o.x,o.y,s.x,s.y,y.x,y.y)&&g(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function h(t,e,r){var n=t;do{var i=n.prev,o=n.next.next;!m(i,o)&&_(i,n,n.next,o)&&b(i,o)&&b(o,i)&&(e.push(i.i/r),e.push(n.i/r),e.push(o.i/r),w(n),w(n.next),n=t=o),n=n.next}while(n!==t);return n}function l(t,e,r,n,i,a){var u=t;do{for(var h=u.next.next;h!==u.prev;){if(u.i!==h.i&&y(u,h)){var l=x(u,h);return u=o(u,u.next),l=o(l,l.next),s(u,e,r,n,i,a),void s(l,e,r,n,i,a)}h=h.next}u=u.next}while(u!==t)}function c(t,e){return t.x-e.x}function f(t,e){if(e=function(t,e){var r,n=e,i=t.x,o=t.y,s=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var a=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=i&&a>s){if(s=a,a===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(i===s)return r.prev;var u,h=r,l=r.x,c=r.y,f=1/0;n=r.next;for(;n!==h;)i>=n.x&&n.x>=l&&i!==n.x&&v(o<c?i:s,o,l,c,o<c?s:i,o,n.x,n.y)&&((u=Math.abs(o-n.y)/(i-n.x))<f||u===f&&n.x>r.x)&&b(n,t)&&(r=n,f=u),n=n.next;return r}(t,e)){var r=x(e,t);o(r,r.next)}}function d(t,e,r,n,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function p(t){var e=t,r=t;do{e.x<r.x&&(r=e),e=e.next}while(e!==t);return r}function v(t,e,r,n,i,o,s,a){return(i-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(n-a)-(r-s)*(e-a)>=0&&(r-s)*(o-a)-(i-s)*(n-a)>=0}function y(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&_(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&b(t,e)&&b(e,t)&&function(t,e){var r=t,n=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}(t,e)}function g(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function m(t,e){return t.x===e.x&&t.y===e.y}function _(t,e,r,n){return!!(m(t,e)&&m(r,n)||m(t,n)&&m(r,e))||g(t,e,r)>0!=g(t,e,n)>0&&g(r,n,t)>0!=g(r,n,e)>0}function b(t,e){return g(t.prev,t,t.next)<0?g(t,e,t.next)>=0&&g(t,t.prev,e)>=0:g(t,e,t.prev)<0||g(t,t.next,e)<0}function x(t,e){var r=new E(t.i,t.x,t.y),n=new E(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function T(t,e,r,n){var i=new E(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function w(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function E(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function S(t,e,r,n){for(var i=0,o=e,s=r-n;o<r;o+=n)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}t.exports=n,t.exports.default=n,n.deviation=function(t,e,r,n){var i=e&&e.length,o=i?e[0]*r:t.length,s=Math.abs(S(t,0,o,r));if(i)for(var a=0,u=e.length;a<u;a++){var h=e[a]*r,l=a<u-1?e[a+1]*r:t.length;s-=Math.abs(S(t,h,l,r))}var c=0;for(a=0;a<n.length;a+=3){var f=n[a]*r,d=n[a+1]*r,p=n[a+2]*r;c+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},n.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)r.vertices.push(t[i][o][s]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r}},function(t,e,r){"use strict";e.__esModule=!0;var n=r(4);var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.worldTransform=new n.Matrix,this.localTransform=new n.Matrix,this._worldID=0,this._parentID=0}return t.prototype.updateLocalTransform=function(){},t.prototype.updateTransform=function(t){var e=t.worldTransform,r=this.worldTransform,n=this.localTransform;r.a=n.a*e.a+n.b*e.c,r.b=n.a*e.b+n.b*e.d,r.c=n.c*e.a+n.d*e.c,r.d=n.c*e.b+n.d*e.d,r.tx=n.tx*e.a+n.ty*e.c+e.tx,r.ty=n.tx*e.b+n.ty*e.d+e.ty,this._worldID++},t}();e.default=i,i.prototype.updateWorldTransform=i.prototype.updateTransform,i.IDENTITY=new i},function(t,e,r){var n,i,o,s,a,u,h,l,c,f,d,p,v,y,g,m,_,b,x,T,w,E;
/**
 * isMobile.js v0.4.1
 *
 * A simple library to detect Apple phones and tablets,
 * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),
 * and any kind of seven inch device, via user agent sniffing.
 *
 * @author: Kai Mallea (kmallea@gmail.com)
 *
 * @license: http://creativecommons.org/publicdomain/zero/1.0/
 */
/**
 * isMobile.js v0.4.1
 *
 * A simple library to detect Apple phones and tablets,
 * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),
 * and any kind of seven inch device, via user agent sniffing.
 *
 * @author: Kai Mallea (kmallea@gmail.com)
 *
 * @license: http://creativecommons.org/publicdomain/zero/1.0/
 */
s=this,a=/iPhone/i,u=/iPod/i,h=/iPad/i,l=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,c=/Android/i,f=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,d=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,p=/Windows Phone/i,v=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,y=/BlackBerry/i,g=/BB10/i,m=/Opera Mini/i,_=/(CriOS|Chrome)(?=.*\bMobile\b)/i,b=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,x=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),T=function(t,e){return t.test(e)},w=function(t){var e=t||navigator.userAgent,r=e.split("[FBAN");if(void 0!==r[1]&&(e=r[0]),void 0!==(r=e.split("Twitter"))[1]&&(e=r[0]),this.apple={phone:T(a,e),ipod:T(u,e),tablet:!T(a,e)&&T(h,e),device:T(a,e)||T(u,e)||T(h,e)},this.amazon={phone:T(f,e),tablet:!T(f,e)&&T(d,e),device:T(f,e)||T(d,e)},this.android={phone:T(f,e)||T(l,e),tablet:!T(f,e)&&!T(l,e)&&(T(d,e)||T(c,e)),device:T(f,e)||T(d,e)||T(l,e)||T(c,e)},this.windows={phone:T(p,e),tablet:T(v,e),device:T(p,e)||T(v,e)},this.other={blackberry:T(y,e),blackberry10:T(g,e),opera:T(m,e),firefox:T(b,e),chrome:T(_,e),device:T(y,e)||T(g,e)||T(m,e)||T(b,e)||T(_,e)},this.seven_inch=T(x,e),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},E=function(){var t=new w;return t.Class=w,t},void 0!==t&&t.exports&&"undefined"==typeof window?t.exports=w:void 0!==t&&t.exports&&"undefined"!=typeof window?t.exports=E():(i=[],n=s.isMobile=E(),void 0===(o="function"==typeof n?n.apply(e,i):n)||(t.exports=o))},function(t,e,r){"use strict";e.__esModule=!0;var n=r(4);var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?n.Rectangle.EMPTY:((t=t||new n.Rectangle(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY,o=t[0],s=t[1];e=o<e?o:e,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,o=t[2],s=t[3],e=o<e?o:e,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,o=t[4],s=t[5],e=o<e?o:e,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,o=t[6],s=t[7],e=o<e?o:e,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,this.minX=e,this.minY=r,this.maxX=n,this.maxY=i},t.prototype.addFrame=function(t,e,r,n,i){var o=t.worldTransform,s=o.a,a=o.b,u=o.c,h=o.d,l=o.tx,c=o.ty,f=this.minX,d=this.minY,p=this.maxX,v=this.maxY,y=s*e+u*r+l,g=a*e+h*r+c;f=y<f?y:f,d=g<d?g:d,p=y>p?y:p,v=g>v?g:v,g=a*n+h*r+c,f=(y=s*n+u*r+l)<f?y:f,d=g<d?g:d,p=y>p?y:p,v=g>v?g:v,g=a*e+h*i+c,f=(y=s*e+u*i+l)<f?y:f,d=g<d?g:d,p=y>p?y:p,v=g>v?g:v,g=a*n+h*i+c,f=(y=s*n+u*i+l)<f?y:f,d=g<d?g:d,p=y>p?y:p,v=g>v?g:v,this.minX=f,this.minY=d,this.maxX=p,this.maxY=v},t.prototype.addVertices=function(t,e,r,n){for(var i=t.worldTransform,o=i.a,s=i.b,a=i.c,u=i.d,h=i.tx,l=i.ty,c=this.minX,f=this.minY,d=this.maxX,p=this.maxY,v=r;v<n;v+=2){var y=e[v],g=e[v+1],m=o*y+a*g+h,_=u*g+s*y+l;c=m<c?m:c,f=_<f?_:f,d=m>d?m:d,p=_>p?_:p}this.minX=c,this.minY=f,this.maxX=d,this.maxY=p},t.prototype.addBounds=function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>n?t.maxX:n,this.maxY=t.maxY>i?t.maxY:i},t.prototype.addBoundsMask=function(t,e){var r=t.minX>e.minX?t.minX:e.minX,n=t.minY>e.minY?t.minY:e.minY,i=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=i&&n<=o){var s=this.minX,a=this.minY,u=this.maxX,h=this.maxY;this.minX=r<s?r:s,this.minY=n<a?n:a,this.maxX=i>u?i:u,this.maxY=o>h?o:h}},t.prototype.addBoundsArea=function(t,e){var r=t.minX>e.x?t.minX:e.x,n=t.minY>e.y?t.minY:e.y,i=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=i&&n<=o){var s=this.minX,a=this.minY,u=this.maxX,h=this.maxY;this.minX=r<s?r:s,this.minY=n<a?n:a,this.maxX=i>u?i:u,this.maxY=o>h?o:h}},t}();e.default=i},function(t,e){var r=null,n={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};t.exports=function(t,e){if(!r){var i=Object.keys(n);r={};for(var o=0;o<i.length;++o){var s=i[o];r[t[s]]=n[s]}}return r[e]}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0);var o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(o),this.type=i.SHAPES.RECT}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},t.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},t.prototype.fit=function(t){this.x<t.x&&(this.width+=this.x,this.width<0&&(this.width=0),this.x=t.x),this.y<t.y&&(this.height+=this.y,this.height<0&&(this.height=0),this.y=t.y),this.x+this.width>t.x+t.width&&(this.width=t.width-this.x,this.width<0&&(this.width=0)),this.y+this.height>t.y+t.height&&(this.height=t.height-this.y,this.height<0&&(this.height=0))},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),n=Math.min(this.y,t.y),i=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=r-e,this.y=n,this.height=i-n},n(t,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new t(0,0,0,0)}}]),t}();e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(42),s=(n=o)&&n.__esModule?n:{default:n},a=r(0);var u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.a=e,this.b=r,this.c=n,this.d=i,this.tx=o,this.ty=s,this.array=null}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,r,n,i,o){return this.a=t,this.b=e,this.c=r,this.d=n,this.tx=i,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},t.prototype.apply=function(t,e){e=e||new s.default;var r=t.x,n=t.y;return e.x=this.a*r+this.c*n+this.tx,e.y=this.b*r+this.d*n+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new s.default;var r=1/(this.a*this.d+this.c*-this.b),n=t.x,i=t.y;return e.x=this.d*r*n+-this.c*r*i+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*i+-this.b*r*n+(-this.ty*this.a+this.tx*this.b)*r,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),n=this.a,i=this.c,o=this.tx;return this.a=n*e-this.b*r,this.b=n*r+this.b*e,this.c=i*e-this.d*r,this.d=i*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this},t.prototype.append=function(t){var e=this.a,r=this.b,n=this.c,i=this.d;return this.a=t.a*e+t.b*n,this.b=t.a*r+t.b*i,this.c=t.c*e+t.d*n,this.d=t.c*r+t.d*i,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*r+t.ty*i+this.ty,this},t.prototype.setTransform=function(t,e,r,n,i,o,s,a,u){return this.a=Math.cos(s+u)*i,this.b=Math.sin(s+u)*i,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=t-(r*this.a+n*this.c),this.ty=e-(r*this.b+n*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,n=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=n*t.a+this.d*t.c,this.d=n*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,r=this.b,n=this.c,i=this.d,o=-Math.atan2(-n,i),s=Math.atan2(r,e),u=Math.abs(o+s);return u<1e-5||Math.abs(a.PI_2-u)<1e-5?(t.rotation=s,e<0&&i>=0&&(t.rotation+=t.rotation<=0?Math.PI:-Math.PI),t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=s),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(n*n+i*i),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,n=this.d,i=this.tx,o=t*n-e*r;return this.a=n/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-n*i)/o,this.ty=-(t*this.ty-e*i)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},i(t,null,[{key:"IDENTITY",get:function(){return new t}},{key:"TEMP_MATRIX",get:function(){return new t}}]),t}();e.default=u},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=r}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copy=function(t){this.set(t.x,t.y)},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)},t}();e.default=n},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){t.exports=r.p+"57b65ecf87532d394a18e188b0a11a87.png"},function(t,e,r){t.exports=r.p+"41bcac6632193a275debeaffa71993b2.png"},function(t,e,r){t.exports=r.p+"6ddbe87a6f848ea1fb6f986b083d0949.png"},function(t,e,r){t.exports=r.p+"1b234e03c1c514ba0174f43d5e08f650.png"},function(t,e,r){t.exports=r.p+"fd52c90ff8589d1156359c7d1e41c4c7.png"},function(t,e,r){t.exports=r.p+"a0ded9d34f315f191875fcdcb9b45bfc.png"},function(t,e,r){t.exports=r.p+"36ec2c67315aeecd1f36f2adb2bb3a0e.png"},function(t,e,r){t.exports=r.p+"f45229fe201ffd6b36ab8d2f88c29833.png"},function(t,e,r){t.exports=r.p+"423212d4d791ed98f682bdf49992907a.png"},function(t,e,r){t.exports=r.p+"6ade0be1e91955447797a0036e5963ca.png"},function(t,e,r){t.exports=r.p+"173ed86b2e11891d2e3285d5d1d00559.png"},function(t,e,r){t.exports=r.p+"c71c9ac89145578b251ed0b9073ae3a4.png"},function(t,e,r){t.exports=r.p+"05fd6d9cf93b500b8f3c6c8aafa5fe14.png"},function(t,e,r){t.exports=r.p+"77d4b74119a30f50e969e619f8792537.png"},function(t,e,r){t.exports=r.p+"f86de073a0aab1bcf950ca7506ae47db.png"},function(t,e,r){t.exports=r.p+"ca450968acab3c15a9a7d9361130424f.png"},function(t,e,r){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n},function(t,e,r){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,r){"use strict";var n=r(145);t.exports=function(t,e,r,i,o){var s=new Error(t);return n(s,e,r,i,o)}},function(t,e,r){"use strict";var n=r(5),i=r(146),o=r(144),s=r(143),a=r(142),u=r(62),h="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||r(141);t.exports=function(t){return new Promise(function(e,l){var c=t.data,f=t.headers;n.isFormData(c)&&delete f["Content-Type"];var d=new XMLHttpRequest,p="onreadystatechange",v=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||a(t.url)||(d=new window.XDomainRequest,p="onload",v=!0,d.onprogress=function(){},d.ontimeout=function(){}),t.auth){var y=t.auth.username||"",g=t.auth.password||"";f.Authorization="Basic "+h(y+":"+g)}if(d.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d[p]=function(){if(d&&(4===d.readyState||v)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?s(d.getAllResponseHeaders()):null,n={data:t.responseType&&"text"!==t.responseType?d.response:d.responseText,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:r,config:t,request:d};i(e,l,n),d=null}},d.onerror=function(){l(u("Network Error",t,null,d)),d=null},d.ontimeout=function(){l(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",d)),d=null},n.isStandardBrowserEnv()){var m=r(140),_=(t.withCredentials||a(t.url))&&t.xsrfCookieName?m.read(t.xsrfCookieName):void 0;_&&(f[t.xsrfHeaderName]=_)}if("setRequestHeader"in d&&n.forEach(f,function(t,e){void 0===c&&"content-type"===e.toLowerCase()?delete f[e]:d.setRequestHeader(e,t)}),t.withCredentials&&(d.withCredentials=!0),t.responseType)try{d.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){d&&(d.abort(),l(t),d=null)}),void 0===c&&(c=null),d.send(c)})}},function(t,e,r){"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n="http://localhost:3000/",i="https://a662fbfd.ngrok.io",o=r(151).default.create({baseURL:i,headers:{"Content-Type":"application/json"}});window.switchApi=(()=>{o.defaults.baseURL=o.defaults.baseURL===n?i:n});const s=(t,e)=>o.get(t,e).then(t=>t.data),a={getMap:()=>s("game"),getTurn:()=>s("game/turn"),getResources:()=>s("game/resources"),makeTurn:()=>s("game/makeTurn"),getFactories:()=>s("game/factories"),getFactoryInfos:()=>s("game/getFactoryInfos"),buildFactory:(t,e,r)=>o.post("game/buildFactory",{type:t,x:e,y:r}),getFraction:()=>s("game/fraction")};e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(13),o=(n=i)&&n.__esModule?n:{default:n};var s=function(t){function e(r,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return s._ready=!0,s.verticesX=n||10,s.verticesY=i||10,s.drawMode=o.default.DRAW_MODES.TRIANGLES,s.refresh(),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._refresh=function(){for(var t=this._texture,e=this.verticesX*this.verticesY,r=[],n=[],i=[],o=this.verticesX-1,s=this.verticesY-1,a=t.width/o,u=t.height/s,h=0;h<e;h++){var l=h%this.verticesX,c=h/this.verticesX|0;r.push(l*a,c*u),n.push(l/o,c/s)}for(var f=o*s,d=0;d<f;d++){var p=d%o,v=d/o|0,y=v*this.verticesX+p,g=v*this.verticesX+p+1,m=(v+1)*this.verticesX+p,_=(v+1)*this.verticesX+p+1;i.push(y,g,m),i.push(g,_,m)}this.vertices=new Float32Array(r),this.uvs=new Float32Array(n),this.colors=new Float32Array([]),this.indices=new Uint16Array(i),this.dirty++,this.indexDirty++,this.multiplyUvs()},e.prototype._onTextureUpdate=function(){o.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},e}(o.default);e.default=s},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){return function(t,e){t.data&&t.type===i.Resource.TYPE.IMAGE&&(t.texture=s.default.fromLoader(t.data,t.url,t.name)),e()}};var n,i=r(14),o=r(8),s=(n=o)&&n.__esModule?n:{default:n}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){return function(t,e){var r=t.name+"_image";if(t.data&&t.type===i.Resource.TYPE.JSON&&t.data.frames&&!this.resources[r]){var n={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},o=u(t,this.baseUrl);this.add(r,o,n,function(r){if(r.error)e(r.error);else{var n=new a.Spritesheet(r.texture.baseTexture,t.data,t.url);n.parse(function(){t.spritesheet=n,t.textures=n.textures,e()})}})}else e()}},e.getResourcePath=u;var n,i=r(14),o=r(102),s=(n=o)&&n.__esModule?n:{default:n},a=r(1);function u(t,e){return t.isDataUrl?t.data.meta.image:s.default.resolve(t.url.replace(e,""),t.data.meta.image)}},function(t,e,r){"use strict";e.__esModule=!0,e.encodeBinary=function(t){var e="",r=0;for(;r<t.length;){for(var i=[0,0,0],o=[0,0,0,0],s=0;s<i.length;++s)r<t.length?i[s]=255&t.charCodeAt(r++):i[s]=0;o[0]=i[0]>>2,o[1]=(3&i[0])<<4|i[1]>>4,o[2]=(15&i[1])<<2|i[2]>>6,o[3]=63&i[2];var a=r-(t.length-1);switch(a){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64}for(var u=0;u<o.length;++u)e+=n.charAt(o[u])}return e};var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(t,e,r){"use strict";function n(){}function i(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}e.__esModule=!0,e.eachSeries=function(t,e,r,n){var i=0,o=t.length;!function s(a){a||i===o?r&&r(a):n?setTimeout(function(){e(t[i++],s)},1):e(t[i++],s)}()},e.queue=function(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var r=0,o={_tasks:[],concurrency:e,saturated:n,unsaturated:n,buffer:e/4,empty:n,drain:n,error:n,started:!1,paused:!1,push:function(t,e){s(t,!1,e)},kill:function(){r=0,o.drain=n,o.started=!1,o._tasks=[]},unshift:function(t,e){s(t,!0,e)},process:function(){for(;!o.paused&&r<o.concurrency&&o._tasks.length;){var e=o._tasks.shift();0===o._tasks.length&&o.empty(),(r+=1)===o.concurrency&&o.saturated(),t(e.data,i(a(e)))}},length:function(){return o._tasks.length},running:function(){return r},idle:function(){return o._tasks.length+r===0},pause:function(){!0!==o.paused&&(o.paused=!0)},resume:function(){if(!1!==o.paused){o.paused=!1;for(var t=1;t<=o.concurrency;t++)o.process()}}};function s(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(o.started=!0,null==t&&o.idle())setTimeout(function(){return o.drain()},1);else{var i={data:t,callback:"function"==typeof r?r:n};e?o._tasks.unshift(i):o._tasks.push(i),setTimeout(function(){return o.process()},1)}}function a(t){return function(){r-=1,t.callback.apply(t,arguments),null!=arguments[0]&&o.error(arguments[0],t.data),r<=o.concurrency-o.buffer&&o.unsaturated(),o.idle()&&o.drain(),o.process()}}return o}},function(t,e,r){"use strict";t.exports=function(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[e.strictMode?"strict":"loose"].exec(t),i={},o=14;o--;)i[r.key[o]]=n[o]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(t,e,n){e&&(i[r.q.name][e]=n)}),i}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e,r,n){void 0===r&&(r=!1),i(this,t),this._fn=e,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return n(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function s(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var a=function(){function t(){i(this,t),this._head=this._tail=void 0}return n(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r}},{key:"has",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return s(this,new o(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return s(this,new o(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();a.MiniSignalBinding=o,e.default=a,t.exports=e.default},function(t,e,r){"use strict";e.__esModule=!0,e.parse=a,e.default=function(){return function(t,e){if(t.data&&t.type===o.Resource.TYPE.XML)if(0!==t.data.getElementsByTagName("page").length&&0!==t.data.getElementsByTagName("info").length&&null!==t.data.getElementsByTagName("info")[0].getAttribute("face")){var r=t.isDataUrl?"":n.dirname(t.url);t.isDataUrl&&("."===r&&(r=""),this.baseUrl&&r&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(r+="/")),(r=r.replace(this.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/");var s=r+t.data.getElementsByTagName("page")[0].getAttribute("file");if(i.utils.TextureCache[s])a(t,i.utils.TextureCache[s]),e();else{var u={crossOrigin:t.crossOrigin,loadType:o.Resource.LOAD_TYPE.IMAGE,metadata:t.metadata.imageMetadata,parentResource:t};this.add(t.name+"_image",s,u,function(r){a(t,r.texture),e()})}}else e();else e()}};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(7)),i=r(1),o=r(14),s=r(84);function a(t,e){t.bitmapFont=s.BitmapText.registerFont(t.data,e)}},function(t,e,r){"use strict";e.__esModule=!0,e.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},n(t,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(t){this._flags=t}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(t){this._doSet(this.constructor.FLAGS.OVER,t)}},{key:"rightDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)}},{key:"leftDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)}}]),t}();e.default=i,i.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0},t.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.global=new i.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return t.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)},t.prototype.copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=Number.isInteger(t.buttons)?t.buttons:t.which,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},n(t,[{key:"pointerId",get:function(){return this.identifier}}]),t}();e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=u(r(82)),s=u(r(81)),a=u(r(80));function u(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(r,n,a,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u=u||5;var h=(0,o.default)(u,!1),l=(0,s.default)(u),c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,h,l));return c.resolution=a||i.settings.RESOLUTION,c._quality=0,c.quality=n||4,c.strength=r||8,c.firstRun=!0,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r,n){if(this.firstRun){var i=t.renderer.gl,u=(0,a.default)(i);this.vertexSrc=(0,o.default)(u,!1),this.fragmentSrc=(0,s.default)(u),this.firstRun=!1}if(this.uniforms.strength=1/r.size.height*(r.size.height/e.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{for(var h=t.getRenderTarget(!0),l=e,c=h,f=0;f<this.passes-1;f++){t.applyFilter(this,l,c,!0);var d=c;c=l,l=d}t.applyFilter(this,l,r,n),t.returnRenderTarget(h)}},n(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(i.Filter);e.default=h},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=t.getParameter(t.MAX_VARYING_VECTORS),r=15;for(;r>e;)r-=2;return r}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){for(var e=n[t],r=e.length,o=i,s="",a=void 0,u=0;u<t;u++){var h="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",u);a=u,u>=r&&(a=t-u-1),h=h.replace("%value%",e[a]),s+=h,s+="\n"}return o=(o=o.replace("%blur%",s)).replace("%size%",t)};var n={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},i=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n")},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){var r=Math.ceil(t/2),i=n,o="",s=void 0;s=e?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<t;a++){var u=s.replace("%index%",a);u=u.replace("%sampleIndex%",a-(r-1)+".0"),o+=u,o+="\n"}return i=(i=i.replace("%blur%",o)).replace("%size%",t)};var n=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n")},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=u(r(82)),s=u(r(81)),a=u(r(80));function u(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(r,n,a,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u=u||5;var h=(0,o.default)(u,!0),l=(0,s.default)(u),c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,h,l));return c.resolution=a||i.settings.RESOLUTION,c._quality=0,c.quality=n||4,c.strength=r||8,c.firstRun=!0,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r,n){if(this.firstRun){var i=t.renderer.gl,u=(0,a.default)(i);this.vertexSrc=(0,o.default)(u,!0),this.fragmentSrc=(0,s.default)(u),this.firstRun=!1}if(this.uniforms.strength=1/r.size.width*(r.size.width/e.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{for(var h=t.getRenderTarget(!0),l=e,c=h,f=0;f<this.passes-1;f++){t.applyFilter(this,l,c,!0);var d=c;c=l,l=d}t.applyFilter(this,l,r,n),t.returnRenderTarget(h)}},n(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(i.Filter);e.default=h},function(t,e,r){"use strict";e.__esModule=!0,e.BitmapText=e.TilingSpriteRenderer=e.TilingSprite=e.AnimatedSprite=void 0;var n=r(188);Object.defineProperty(e,"AnimatedSprite",{enumerable:!0,get:function(){return a(n).default}});var i=r(187);Object.defineProperty(e,"TilingSprite",{enumerable:!0,get:function(){return a(i).default}});var o=r(186);Object.defineProperty(e,"TilingSpriteRenderer",{enumerable:!0,get:function(){return a(o).default}});var s=r(185);function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"BitmapText",{enumerable:!0,get:function(){return a(s).default}}),r(184),r(183),r(182)},function(t,e,r){"use strict";e.__esModule=!0,e.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},function(t,e,r){"use strict";e.__esModule=!0,e.autoDetectRenderer=function(t,e,r,s){var a=t&&t.forceCanvas;void 0!==s&&(a=s);if(!a&&n.isWebGLSupported())return new o.default(t,e,r);return new i.default(t,e,r)};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(2)),i=s(r(17)),o=s(r(22));function s(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(86),o=h(r(18)),s=r(32),a=h(r(3)),u=r(0);function h(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e,r,n,u,h){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"number"==typeof e&&(e=Object.assign({width:e,height:r||a.default.RENDER_OPTIONS.height,forceCanvas:!!u,sharedTicker:!!h},n)),this._options=e=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},e),this.renderer=(0,i.autoDetectRenderer)(e),this.stage=new o.default,this._ticker=null,this.ticker=e.sharedTicker?s.shared:new s.Ticker,e.autoStart&&this.start()}return t.prototype.render=function(){this.renderer.render(this.stage)},t.prototype.stop=function(){this._ticker.stop()},t.prototype.start=function(){this._ticker.start()},t.prototype.destroy=function(t){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}this.stage.destroy(),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},n(t,[{key:"ticker",set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,u.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),t}();e.default=l},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e,r,n,i,o,s,a,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.lineWidth=e,this.nativeLines=a,this.lineColor=r,this.lineAlpha=n,this._lineTint=r,this.fillColor=i,this.fillAlpha=o,this._fillTint=i,this.fill=s,this.holes=[],this.shape=u,this.type=u.type}return t.prototype.clone=function(){return new t(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)},t.prototype.addHole=function(t){this.holes.push(t)},t.prototype.destroy=function(){this.shape=null,this.holes=null},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e,r,n,i,o,s,a,u,h){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.text=e,this.style=r,this.width=n,this.height=i,this.lines=o,this.lineWidths=s,this.lineHeight=a,this.maxLineWidth=u,this.fontProperties=h}return t.measureText=function(e,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t._canvas;n=n||r.wordWrap;var o=r.toFontString(),s=t.measureFont(o),a=i.getContext("2d");a.font=o;for(var u=(n?t.wordWrap(e,r,i):e).split(/(?:\r\n|\r|\n)/),h=new Array(u.length),l=0,c=0;c<u.length;c++){var f=a.measureText(u[c]).width+(u[c].length-1)*r.letterSpacing;h[c]=f,l=Math.max(l,f)}var d=l+r.strokeThickness;r.dropShadow&&(d+=r.dropShadowDistance);var p=r.lineHeight||s.fontSize+r.strokeThickness,v=Math.max(p,s.fontSize+r.strokeThickness)+(u.length-1)*(p+r.leading);return r.dropShadow&&(v+=r.dropShadowDistance),new t(e,r,d,v,u,h,p+r.leading,l,s)},t.wordWrap=function(e,r){for(var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:t._canvas).getContext("2d"),i="",o=0,s="",a={},u=r.letterSpacing,h=r.wordWrapWidth+r.letterSpacing,l=t.getFromCache(" ",u,a,n),c=e.split(" "),f=0;f<c.length;f++){var d=c[f],p=t.getFromCache(d,u,a,n);if(p>h)if(r.breakWords)for(var v=(i.length>0?" "+d:d).split(""),y=0;y<v.length;y++){var g=v[y],m=t.getFromCache(g,u,a,n);m+o>h&&(s+=t.addLine(i),i="",o=0),i+=g,o+=m}else i.length>0&&(s+=t.addLine(i),i="",o=0),s+=t.addLine(d),i="",o=0;else p+o>h&&(s+=t.addLine(i),i="",o=0),i.length>0?i+=" "+d:i+=d,o+=p+l}return s+=t.addLine(i,!1)},t.addLine=function(t){return t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?t+"\n":t},t.getFromCache=function(t,e,r,n){var i=r[t];if(void 0===i){var o=t.length*e;i=n.measureText(t).width+o,r[t]=i}return i},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={},n=t._canvas,i=t._context;i.font=e;var o=Math.ceil(i.measureText("|MÉq").width),s=Math.ceil(i.measureText("M").width),a=2*s;s=1.4*s|0,n.width=o,n.height=a,i.fillStyle="#f00",i.fillRect(0,0,o,a),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText("|MÉq",0,s);var u=i.getImageData(0,0,o,a).data,h=u.length,l=4*o,c=0,f=0,d=!1;for(c=0;c<s;++c){for(var p=0;p<l;p+=4)if(255!==u[f+p]){d=!0;break}if(d)break;f+=l}for(r.ascent=s-c,f=h-l,d=!1,c=a;c>s;--c){for(var v=0;v<l;v+=4)if(255!==u[f+v]){d=!0;break}if(d)break;f-=l}return r.descent=c-s,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t}();e.default=n;var i=document.createElement("canvas");i.width=i.height=10,n._canvas=i,n._context=i.getContext("2d"),n._fonts={}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(2);var s={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:i.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,wordWrap:!1,wordWrapWidth:100,leading:0},a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.styleID=0,this.reset(),l(this,e,e)}return t.prototype.clone=function(){var e={};return l(e,this,s),new t(e)},t.prototype.reset=function(){l(this,s,s)},t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;r>=0;r--){var n=e[r].trim();/([\"\'])[^\'\"]+\1/.test(n)||(n='"'+n+'"'),e[r]=n}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},n(t,[{key:"align",get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(t){var e=h(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(t){var e=h(t);this._fill!==e&&(this._fill=e,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(t){var e=h(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}}]),t}();function u(t){return"number"==typeof t?(0,o.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function h(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=u(t[e]);return t}return u(t)}function l(t,e,r){for(var n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n=o(r(6)),i=o(r(29));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var o=0;o<4;o++)this.interleaved[4*o]=this.vertices[2*o],this.interleaved[4*o+1]=this.vertices[2*o+1],this.interleaved[4*o+2]=this.uvs[2*o],this.interleaved[4*o+3]=this.uvs[2*o+1];this.indices=(0,i.default)(1),this.vertexBuffer=n.default.GLBuffer.createVertexBuffer(e,this.interleaved,e.STATIC_DRAW),this.indexBuffer=n.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.vao=new n.default.VertexArrayObject(e,r)}return t.prototype.initVao=function(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},t.prototype.map=function(t,e){var r=0,n=0;return this.uvs[0]=r,this.uvs[1]=n,this.uvs[2]=r+e.width/t.width,this.uvs[3]=n,this.uvs[4]=r+e.width/t.width,this.uvs[5]=n+e.height/t.height,this.uvs[6]=r,this.uvs[7]=n+e.height/t.height,r=e.x,n=e.y,this.vertices[0]=r,this.vertices[1]=n,this.vertices[2]=r+e.width,this.vertices[3]=n,this.vertices[4]=r+e.width,this.vertices[5]=n+e.height,this.vertices[6]=r,this.vertices[7]=n+e.height,this},t.prototype.upload=function(){for(var t=0;t<4;t++)this.interleaved[4*t]=this.vertices[2*t],this.interleaved[4*t+1]=this.vertices[2*t+1],this.interleaved[4*t+2]=this.uvs[2*t],this.interleaved[4*t+3]=this.uvs[2*t+1];return this.vertexBuffer.upload(this.interleaved),this},t.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(41),s=(n=o)&&n.__esModule?n:{default:n};var a=new s.default,u=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._texture=e,this.mapCoord=new s.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=void 0===r?.5:r}return t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,n=0;n<t.length;n+=2){var i=t[n],o=t[n+1];e[n]=i*r.a+o*r.c+r.tx,e[n+1]=i*r.b+o*r.d+r.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._lastTextureID===e._updateID)return!1;this._lastTextureID=e._updateID;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var n=e.orig,i=e.trim;i&&(a.set(n.width/i.width,0,0,n.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(a));var o=e.baseTexture,s=this.uClampFrame,u=this.clampMargin/o.resolution,h=this.clampOffset;return s[0]=(e._frame.x+u+h)/o.width,s[1]=(e._frame.y+u+h)/o.height,s[2]=(e._frame.x+e._frame.width-u+h)/o.width,s[3]=(e._frame.y+e._frame.height-u+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,!0},i(t,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture=t,this._lastTextureID=-1}}]),t}();e.default=u},function(t,e){var r,n,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var u,h=[],l=!1,c=-1;function f(){l&&u&&(l=!1,u.length?h=u.concat(h):c=-1,h.length&&d())}function d(){if(!l){var t=a(f);l=!0;for(var e=h.length;e;){for(u=h,h=[];++c<e;)u&&u[c].run();c=-1,e=h.length}u=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];h.push(new p(t,e)),1!==h.length||l||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=u(r(220)),o=r(2),s=r(0),a=u(r(3));function u(t){return t&&t.__esModule?t:{default:t}}var h={},l=function(){function t(e,r,n){for(var u in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this._blendMode=s.BLEND_MODES.NORMAL,this.uniformData=n||(0,i.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={},this.uniformData)this.uniforms[u]=this.uniformData[u].value,this.uniformData[u].type&&(this.uniformData[u].type=this.uniformData[u].type.toLowerCase());this.glShaders={},h[this.vertexSrc+this.fragmentSrc]||(h[this.vertexSrc+this.fragmentSrc]=(0,o.uid)()),this.glShaderKey=h[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=a.default.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0}return t.prototype.apply=function(t,e,r,n,i){t.applyFilter(this,e,r,n)},n(t,[{key:"blendMode",get:function(){return this._blendMode},set:function(t){this._blendMode=t}}],[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]),t}();e.default=l},function(t,e,r){"use strict";e.__esModule=!0;var n=s(r(94)),i=r(4),o=(r(7),s(r(92)));function s(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=new i.Matrix,o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));return r.renderable=!1,o.maskSprite=r,o.maskMatrix=n,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r){var n=this.maskSprite,i=this.maskSprite.texture;i.valid&&(i.transform||(i.transform=new o.default(i,0)),i.transform.update(),this.uniforms.mask=i,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n).prepend(i.transform.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=i.transform.uClampFrame,t.applyFilter(this,e,r))},e}(n.default);e.default=a},function(t,e,r){"use strict";function n(t){var e=document.createElement("canvas");e.width=6,e.height=1;var r=e.getContext("2d");return r.fillStyle=t,r.fillRect(0,0,6,1),e}e.__esModule=!0,e.default=function(){if("undefined"==typeof document)return!1;var t=n("#ff00ff"),e=n("#ffff00"),r=document.createElement("canvas");r.width=6,r.height=1;var i=r.getContext("2d");i.globalCompositeOperation="multiply",i.drawImage(t,0,0),i.drawImage(e,2,0);var o=i.getImageData(2,0,1,1);if(!o)return!1;var s=o.data;return 255===s[0]&&0===s[1]&&0===s[2]}},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(3),s=(n=o)&&n.__esModule?n:{default:n};var a=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||s.default.RESOLUTION,this.resize(e,r)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},i(t,[{key:"width",get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},{key:"height",get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}]),t}();e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n=o(r(10)),i=o(r(3));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,o=arguments[2],s=arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,null,o));return a.resolution=s||i.default.RESOLUTION,a.width=Math.ceil(r),a.height=Math.ceil(n),a.realWidth=a.width*a.resolution,a.realHeight=a.height*a.resolution,a.scaleMode=void 0!==o?o:i.default.SCALE_MODE,a.hasLoaded=!0,a._glRenderTargets={},a._canvasRenderTarget=null,a.valid=!1,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),t===this.width&&e===this.height||(this.valid=t>0&&e>0,this.width=t,this.height=e,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))},e.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.renderer=null},e}(n.default);e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(2),o=r(4),s=r(0),a=c(r(3)),u=c(r(18)),h=c(r(31)),l=c(r(9));function c(t){return t&&t.__esModule?t:{default:t}}var f=new o.Matrix,d=function(t){function e(r,n,h,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return(0,i.sayHello)(r),"number"==typeof n&&(n=Object.assign({width:n,height:h||a.default.RENDER_OPTIONS.height},l)),n=Object.assign({},a.default.RENDER_OPTIONS,n),c.options=n,c.type=s.RENDERER_TYPE.UNKNOWN,c.screen=new o.Rectangle(0,0,n.width,n.height),c.view=n.view||document.createElement("canvas"),c.resolution=n.resolution||a.default.RESOLUTION,c.transparent=n.transparent,c.autoResize=n.autoResize||!1,c.blendModes=null,c.preserveDrawingBuffer=n.preserveDrawingBuffer,c.clearBeforeRender=n.clearBeforeRender,c.roundPixels=n.roundPixels,c._backgroundColor=0,c._backgroundColorRgba=[0,0,0,0],c._backgroundColorString="#000000",c.backgroundColor=n.backgroundColor||c._backgroundColor,c._tempDisplayObjectParent=new u.default,c._lastObjectRendered=c._tempDisplayObjectParent,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoResize&&(this.view.style.width=t+"px",this.view.style.height=e+"px")},e.prototype.generateTexture=function(t,e,r,n){n=n||t.getLocalBounds();var i=h.default.create(0|n.width,0|n.height,e,r);return f.tx=-n.x,f.ty=-n.y,this.render(t,i,!1,f,!0),i},e.prototype.destroy=function(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=s.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},n(e,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=(0,i.hex2string)(t),(0,i.hex2rgb)(t,this._backgroundColorRgba)}}]),e}(l.default);e.default=d},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(116),o=(n=i)&&n.__esModule?n:{default:n};var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return t.prototype.set=function(t,e,r){var n=e.width,i=e.height;if(r){var s=t.width/2/n,a=t.height/2/i,u=t.x/n+s,h=t.y/i+a;r=o.default.add(r,o.default.NW),this.x0=u+s*o.default.uX(r),this.y0=h+a*o.default.uY(r),r=o.default.add(r,2),this.x1=u+s*o.default.uX(r),this.y1=h+a*o.default.uY(r),r=o.default.add(r,2),this.x2=u+s*o.default.uX(r),this.y2=h+a*o.default.uY(r),r=o.default.add(r,2),this.x3=u+s*o.default.uX(r),this.y3=h+a*o.default.uY(r)}else this.x0=t.x/n,this.y0=t.y/i,this.x1=(t.x+t.width)/n,this.y1=t.y/i,this.x2=(t.x+t.width)/n,this.y2=(t.y+t.height)/i,this.x3=t.x/n,this.y3=(t.y+t.height)/i;this.uvsUint32[0]=(65535*this.y0&65535)<<16|65535*this.x0&65535,this.uvsUint32[1]=(65535*this.y1&65535)<<16|65535*this.x1&65535,this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535,this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=h(r(10)),o=r(2),s=r(32),a=r(0),u=h(r(103));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(r,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),!r)throw new Error("No video source element specified.");(r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height&&(r.complete=!0);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,n));return i.width=r.videoWidth,i.height=r.videoHeight,i._autoUpdate=!0,i._isAutoUpdating=!1,i.autoPlay=!0,i.update=i.update.bind(i),i._onCanPlay=i._onCanPlay.bind(i),r.addEventListener("play",i._onPlayStart.bind(i)),r.addEventListener("pause",i._onPlayStop.bind(i)),i.hasLoaded=!1,i.__loaded=!1,i._isSourceReady()?i._onCanPlay():(r.addEventListener("canplay",i._onCanPlay),r.addEventListener("canplaythrough",i._onCanPlay)),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(s.shared.add(this.update,this,a.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function(){this._isAutoUpdating&&(s.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},e.prototype.destroy=function(){this._isAutoUpdating&&s.shared.remove(this.update,this),this.source&&this.source._pixiId&&(i.default.removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src="",this.source.load()),t.prototype.destroy.call(this)},e.fromVideo=function(t,r){t._pixiId||(t._pixiId="video_"+(0,o.uid)());var n=o.BaseTextureCache[t._pixiId];return n||(n=new e(t,r),i.default.addToCache(n,t._pixiId)),n},e.fromUrl=function(t,r,n){var i=document.createElement("video");i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline","");var o=Array.isArray(t)?t[0].src||t[0]:t.src||t;if(void 0===n&&0!==o.indexOf("data:")?i.crossOrigin=(0,u.default)(o):n&&(i.crossOrigin="string"==typeof n?n:"anonymous"),Array.isArray(t))for(var s=0;s<t.length;++s)i.appendChild(c(t[s].src||t[s],t[s].mime));else i.appendChild(c(o,t.mime));return i.load(),e.fromVideo(i,r)},n(e,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(s.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(s.shared.add(this.update,this,a.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),e}(i.default);function c(t,e){e||(e="video/"+t.substr(t.lastIndexOf(".")+1));var r=document.createElement("source");return r.src=t,r.type=e,r}e.default=l,l.fromUrls=l.fromUrl},function(t,e,r){"use strict";var n=r(233),i=r(231);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=_,e.resolve=function(t,e){return _(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?_(t,!1,!0).resolveObject(e):e},e.format=function(t){i.isString(t)&&(t=_(t));return t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,h=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(h),c=["%","/","?",";","#"].concat(l),f=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=r(230);function _(t,e,r){if(t&&i.isObject(t)&&t instanceof o)return t;var n=new o;return n.parse(t,e,r),n}o.prototype.parse=function(t,e,r){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",h=t.split(a);h[0]=h[0].replace(/\\/g,"/");var _=t=h.join(a);if(_=_.trim(),!r&&1===t.split("#").length){var b=u.exec(_);if(b)return this.path=_,this.href=_,this.pathname=b[1],b[2]?(this.search=b[2],this.query=e?m.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var x=s.exec(_);if(x){var T=(x=x[0]).toLowerCase();this.protocol=T,_=_.substr(x.length)}if(r||x||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var w="//"===_.substr(0,2);!w||x&&y[x]||(_=_.substr(2),this.slashes=!0)}if(!y[x]&&(w||x&&!g[x])){for(var E,S,O=-1,M=0;M<f.length;M++){-1!==(P=_.indexOf(f[M]))&&(-1===O||P<O)&&(O=P)}-1!==(S=-1===O?_.lastIndexOf("@"):_.lastIndexOf("@",O))&&(E=_.slice(0,S),_=_.slice(S+1),this.auth=decodeURIComponent(E)),O=-1;for(M=0;M<c.length;M++){var P;-1!==(P=_.indexOf(c[M]))&&(-1===O||P<O)&&(O=P)}-1===O&&(O=_.length),this.host=_.slice(0,O),_=_.slice(O),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var A=this.hostname.split(/\./),R=(M=0,A.length);M<R;M++){var I=A[M];if(I&&!I.match(d)){for(var D="",L=0,N=I.length;L<N;L++)I.charCodeAt(L)>127?D+="x":D+=I[L];if(!D.match(d)){var k=A.slice(0,M),F=A.slice(M+1),j=I.match(p);j&&(k.push(j[1]),F.unshift(j[2])),F.length&&(_="/"+F.join(".")+_),this.hostname=k.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=n.toASCII(this.hostname));var B=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+B,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!v[T])for(M=0,R=l.length;M<R;M++){var X=l[M];if(-1!==_.indexOf(X)){var H=encodeURIComponent(X);H===X&&(H=escape(X)),_=_.split(X).join(H)}}var W=_.indexOf("#");-1!==W&&(this.hash=_.substr(W),_=_.slice(0,W));var G=_.indexOf("?");if(-1!==G?(this.search=_.substr(G),this.query=_.substr(G+1),e&&(this.query=m.parse(this.query)),_=_.slice(0,G)):e&&(this.search="",this.query={}),_&&(this.pathname=_),g[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var Y=this.search||"";this.path=B+Y}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=m.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||g[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(a=a.replace("#","%23"))+n},o.prototype.resolve=function(t){return this.resolveObject(_(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var r=new o,n=Object.keys(this),s=0;s<n.length;s++){var a=n[s];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),h=0;h<u.length;h++){var l=u[h];"protocol"!==l&&(r[l]=t[l])}return g[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!g[t.protocol]){for(var c=Object.keys(t),f=0;f<c.length;f++){var d=c[f];r[d]=t[d]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||y[t.protocol])r.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var v=r.pathname||"",m=r.search||"";r.path=v+m}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var _=r.pathname&&"/"===r.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),x=b||_||r.host&&t.pathname,T=x,w=r.pathname&&r.pathname.split("/")||[],E=(p=t.pathname&&t.pathname.split("/")||[],r.protocol&&!g[r.protocol]);if(E&&(r.hostname="",r.port=null,r.host&&(""===w[0]?w[0]=r.host:w.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),x=x&&(""===p[0]||""===w[0])),b)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,w=p;else if(p.length)w||(w=[]),w.pop(),w=w.concat(p),r.search=t.search,r.query=t.query;else if(!i.isNullOrUndefined(t.search)){if(E)r.hostname=r.host=w.shift(),(C=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=C.shift(),r.host=r.hostname=C.shift());return r.search=t.search,r.query=t.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!w.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var S=w.slice(-1)[0],O=(r.host||t.host||w.length>1)&&("."===S||".."===S)||""===S,M=0,P=w.length;P>=0;P--)"."===(S=w[P])?w.splice(P,1):".."===S?(w.splice(P,1),M++):M&&(w.splice(P,1),M--);if(!x&&!T)for(;M--;M)w.unshift("..");!x||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),O&&"/"!==w.join("/").substr(-1)&&w.push("");var C,A=""===w[0]||w[0]&&"/"===w[0].charAt(0);E&&(r.hostname=r.host=A?"":w.length?w.shift():"",(C=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=C.shift(),r.host=r.hostname=C.shift()));return(x=x||r.host&&w.length)&&!A&&w.unshift(""),w.length?r.pathname=w.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;if(0===t.indexOf("data:"))return"";e=e||window.location,s||(s=document.createElement("a"));s.href=t;var r=!(t=o.default.parse(s.href)).port&&""===e.port||t.port===e.port;if(t.hostname!==e.hostname||!r||t.protocol!==e.protocol)return"anonymous";return""};var n,i=r(102),o=(n=i)&&n.__esModule?n:{default:n};var s=void 0},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(4),s=r(36);var a=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.position=new o.Point(0,0),r.scale=new o.Point(1,1),r.skew=new o.ObservablePoint(r.updateSkew,r,0,0),r.pivot=new o.Point(0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},e.prototype.updateLocalTransform=function(){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d)},e.prototype.updateTransform=function(t){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d);var r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._worldID++},e.prototype.setFromMatrix=function(t){t.decompose(this)},i(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(((n=s)&&n.__esModule?n:{default:n}).default);e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(4),s=r(36);var a=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.position=new o.ObservablePoint(r.onChange,r,0,0),r.scale=new o.ObservablePoint(r.onChange,r,1,1),r.pivot=new o.ObservablePoint(r.onChange,r,0,0),r.skew=new o.ObservablePoint(r.updateSkew,r,0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r._localID=0,r._currentLocalID=0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},e.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}},e.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},i(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(((n=s)&&n.__esModule?n:{default:n}).default);e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=c(r(9)),o=r(0),s=c(r(3)),a=c(r(105)),u=c(r(104)),h=c(r(38)),l=r(4);function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this)),n=s.default.TRANSFORM_MODE===o.TRANSFORM_MODE.STATIC?a.default:u.default;return r.tempDisplayObjectParent=null,r.transform=new n,r.alpha=1,r.visible=!0,r.renderable=!0,r.parent=null,r.worldAlpha=1,r.filterArea=null,r._filters=null,r._enabledFilters=null,r._bounds=new h.default,r._boundsID=0,r._lastBoundsID=-1,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._destroyed=!1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),e||(this._boundsRect||(this._boundsRect=new l.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new l.Rectangle),t=this._localBoundsRect);var n=this.getBounds(!1,t);return this.parent=r,this.transform=e,n},e.prototype.toGlobal=function(t,e){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,r,n){return e&&(t=e.toGlobal(t,r,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)},e.prototype.renderWebGL=function(t){},e.prototype.renderCanvas=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=n||1,this.rotation=i,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=u,this},e.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},n(e,[{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(t){this.transform.position.x=t}},{key:"y",get:function(){return this.position.y},set:function(t){this.transform.position.y=t}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(t){this.transform.position.copy(t)}},{key:"scale",get:function(){return this.transform.scale},set:function(t){this.transform.scale.copy(t)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copy(t)}},{key:"skew",get:function(){return this.transform.skew},set:function(t){this.transform.skew.copy(t)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t}},{key:"worldVisible",get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},{key:"mask",get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}]),e}(i.default);e.default=f,f.prototype.displayObjectUpdateTransform=f.prototype.updateTransform},function(t,e){var r=function(t){return function(){return this.data[t].value}},n={float:function(t,e,r){t.uniform1f(e,r)},vec2:function(t,e,r){t.uniform2f(e,r[0],r[1])},vec3:function(t,e,r){t.uniform3f(e,r[0],r[1],r[2])},vec4:function(t,e,r){t.uniform4f(e,r[0],r[1],r[2],r[3])},int:function(t,e,r){t.uniform1i(e,r)},ivec2:function(t,e,r){t.uniform2i(e,r[0],r[1])},ivec3:function(t,e,r){t.uniform3i(e,r[0],r[1],r[2])},ivec4:function(t,e,r){t.uniform4i(e,r[0],r[1],r[2],r[3])},bool:function(t,e,r){t.uniform1i(e,r)},bvec2:function(t,e,r){t.uniform2i(e,r[0],r[1])},bvec3:function(t,e,r){t.uniform3i(e,r[0],r[1],r[2])},bvec4:function(t,e,r){t.uniform4i(e,r[0],r[1],r[2],r[3])},mat2:function(t,e,r){t.uniformMatrix2fv(e,!1,r)},mat3:function(t,e,r){t.uniformMatrix3fv(e,!1,r)},mat4:function(t,e,r){t.uniformMatrix4fv(e,!1,r)},sampler2D:function(t,e,r){t.uniform1i(e,r)}},i={float:function(t,e,r){t.uniform1fv(e,r)},vec2:function(t,e,r){t.uniform2fv(e,r)},vec3:function(t,e,r){t.uniform3fv(e,r)},vec4:function(t,e,r){t.uniform4fv(e,r)},int:function(t,e,r){t.uniform1iv(e,r)},ivec2:function(t,e,r){t.uniform2iv(e,r)},ivec3:function(t,e,r){t.uniform3iv(e,r)},ivec4:function(t,e,r){t.uniform4iv(e,r)},bool:function(t,e,r){t.uniform1iv(e,r)},bvec2:function(t,e,r){t.uniform2iv(e,r)},bvec3:function(t,e,r){t.uniform3iv(e,r)},bvec4:function(t,e,r){t.uniform4iv(e,r)},sampler2D:function(t,e,r){t.uniform1iv(e,r)}};function o(t,e){return function(r){this.data[t].value=r;var o=this.data[t].location;1===e.size?n[e.type](this.gl,o,r):i[e.type](this.gl,o,r)}}function s(t,e){for(var r=e,n=0;n<t.length-1;n++){var i=r[t[n]]||{data:{}};r[t[n]]=i,r=i}return r}t.exports=function(t,e){var n={data:{}};n.gl=t;for(var i=Object.keys(e),a=0;a<i.length;a++){var u=i[a],h=u.split("."),l=h[h.length-1],c=s(h,n),f=e[u];c.data[l]=f,c.gl=t,Object.defineProperty(c,l,{get:r(l),set:o(l,f)})}return n}},function(t,e){t.exports=function(t,e){return"precision"!==t.substring(0,9)?"precision "+e+" float;\n"+t:t}},function(t,e){var r=function(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e};t.exports=function(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return r(2*e);case"bvec3":return r(3*e);case"bvec4":return r(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}},function(t,e,r){var n=r(39),i=r(109);t.exports=function(t,e){for(var r={},o=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),s=0;s<o;s++){var a=t.getActiveUniform(e,s),u=a.name.replace(/\[.*?\]/,""),h=n(t,a.type);r[u]={type:h,size:a.size,location:t.getUniformLocation(e,u),value:i(h,a.size)}}return r}},function(t,e){var r={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};t.exports=function(t){return r[t]}},function(t,e,r){var n=r(39),i=r(111),o=function(t,e,r,n){gl.vertexAttribPointer(this.location,this.size,t||gl.FLOAT,e||!1,r||0,n||0)};t.exports=function(t,e){for(var r={},s=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),a=0;a<s;a++){var u=t.getActiveAttrib(e,a),h=n(t,u.type);r[u.name]={type:h,size:i(h),location:t.getAttribLocation(e,u.name),pointer:o}}return r}},function(t,e){var r=function(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(console.log(t.getShaderInfoLog(n)),null)};t.exports=function(t,e,n,i){var o=r(t,t.VERTEX_SHADER,e),s=r(t,t.FRAGMENT_SHADER,n),a=t.createProgram();if(t.attachShader(a,o),t.attachShader(a,s),i)for(var u in i)t.bindAttribLocation(a,i[u],u);return t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(a,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(a)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(a)),t.deleteProgram(a),a=null),t.deleteShader(o),t.deleteShader(s),a}},function(t,e){var r=function(t,e,r,n,i){this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=r||-1,this.format=n||t.RGBA,this.type=i||t.UNSIGNED_BYTE};r.prototype.upload=function(t){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var r=t.videoWidth||t.width,n=t.videoHeight||t.height;n!==this.height||r!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=r,this.height=n};var n=!1;r.prototype.uploadData=function(t,e,r){this.bind();var i=this.gl;if(t instanceof Float32Array){if(!n){if(!i.getExtension("OES_texture_float"))throw new Error("floating point textures not available");n=!0}this.type=i.FLOAT}else this.type=this.type||i.UNSIGNED_BYTE;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||r!==this.height?i.texImage2D(i.TEXTURE_2D,0,this.format,e,r,0,this.format,this.type,t||null):i.texSubImage2D(i.TEXTURE_2D,0,0,0,e,r,this.format,this.type,t||null),this.width=e,this.height=r},r.prototype.bind=function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},r.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},r.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},r.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},r.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},r.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},r.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},r.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},r.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},r.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},r.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},r.fromSource=function(t,e,n){var i=new r(t);return i.premultiplyAlpha=n||!1,i.upload(e),i},r.fromData=function(t,e,n,i){var o=new r(t);return o.uploadData(e,n,i),o},t.exports=r},function(t,e){t.exports=function(t,e,r){var n;if(r){var i=r.tempAttribState,o=r.attribState;for(n=0;n<i.length;n++)i[n]=!1;for(n=0;n<e.length;n++)i[e[n].attribute.location]=!0;for(n=0;n<o.length;n++)o[n]!==i[n]&&(o[n]=i[n],r.attribState[n]?t.enableVertexAttribArray(n):t.disableVertexAttribArray(n))}else for(n=0;n<e.length;n++){var s=e[n];t.enableVertexAttribArray(s.attribute.location)}}},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(41),o=(n=i)&&n.__esModule?n:{default:n};var s=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],a=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],u=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],h=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],l=[],c=[];function f(t){return t<0?-1:t>0?1:0}!function(){for(var t=0;t<16;t++){var e=[];c.push(e);for(var r=0;r<16;r++)for(var n=f(s[t]*s[r]+u[t]*a[r]),i=f(a[t]*s[r]+h[t]*a[r]),d=f(s[t]*u[r]+u[t]*h[r]),p=f(a[t]*u[r]+h[t]*h[r]),v=0;v<16;v++)if(s[v]===n&&a[v]===i&&u[v]===d&&h[v]===p){e.push(v);break}}for(var y=0;y<16;y++){var g=new o.default;g.set(s[y],a[y],u[y],h[y],0,0),l.push(g)}}();var d={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return s[t]},uY:function(t){return a[t]},vX:function(t){return u[t]},vY:function(t){return h[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return c[t][e]},sub:function(t,e){return c[t][d.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?d.S:d.N:2*Math.abs(e)<=Math.abs(t)?t>0?d.E:d.W:e>0?t>0?d.SE:d.SW:t>0?d.NE:d.NW},matrixAppendRotationInv:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=l[d.inv(e)];i.tx=r,i.ty=n,t.append(i)}};e.default=d},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var i=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._x=n,this._y=i,this.cb=e,this.scope=r}return t.prototype.set=function(t,e){var r=t||0,n=e||(0!==e?r:0);this._x===r&&this._y===n||(this._x=r,this._y=n,this.cb.call(this.scope))},t.prototype.copy=function(t){this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope))},n(t,[{key:"x",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}]),t}();e.default=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(19);e.SpriteExt=class extends n.Sprite{constructor(){super(...arguments),this.remove=(()=>{this.visible=!1}),this.setCoordinates=((t,e)=>{this.x=t,this.y=e}),this.setPosition=((t,e)=>{this.x=100*t,this.y=100*e}),this.moveTo=((t,e)=>{this.x+=t,this.y+=e})}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(19),i=r(118),o=r(24);e.sprites={water:r(59),waterK:r(58),greenK:r(57),dryK:r(56),lavaK:r(55),notsomedryK:r(54),rockK:r(53),oo2:r(52),o2:r(51),cry:r(50),1:r(49),mol:r(48),energy:r(47),mineral:r(46),character:r(45),character2:r(44)};e.getSprite=(t=>{const r=e.sprites[t];return new i.SpriteExt((t=>n.loader.resources[t].texture)(r))}),e.getText=((t,e)=>{return new n.Text(t,Object.assign({},o.textStyle,e))})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=document.getElementById("mineralSpan"),i=document.getElementById("oxygenSpan"),o=document.getElementById("energySpan"),s=document.getElementById("mineralSpan_Delta"),a=document.getElementById("oxygenSpan_Delta"),u=document.getElementById("energySpan_Delta");e.renderResources=(t=>{i.textContent=t.oxygen.value.toString(),n.textContent=t.mineral.value.toString(),o.textContent=t.energy.value.toString(),a.textContent=t.oxygen.delta.toString(),s.textContent=t.mineral.delta.toString(),u.textContent=t.energy.delta.toString()})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(65),i=r(25);e.loadResourcesSprites=(()=>{const t=["mol","1","oo2"];for(let e of t){const t=document.getElementById(e),r=i.sprites[e];t.src=r;const n=48;t.height=n,t.width=n}}),e.loadPortraitSprite=(async()=>{const t=await n.default.getFraction(),e=document.getElementById("portrait"),r=i.sprites[t];e.src=r;e.height=450,e.width=450})},function(t,e,r){(t.exports=r(12)(!1)).push([t.i,"#fabricTable  td {\r\n    cursor: pointer;\r\n}",""])},function(t,e,r){var n=r(122);"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(11)(n,i);n.locals&&(t.exports=n.locals)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(123);const n=r(25),i=document.getElementById("fabricTable"),o=t=>Object.keys(t).filter(e=>t[e]).reduce((e,r)=>e.concat(`${r}: ${t[r]};\n`),"");e.renderTable=((t,e)=>{let r=0;const s=t.infos.reduce((t,e)=>(r++>2&&(r=0,t.push([])),t[t.length-1].push(e),t),[[]]),a=i.firstElementChild;a.innerHTML="";for(let t of s){const r=document.createElement("tr");for(let i of t){const t=document.createElement("td"),s=document.createElement("img");s.src=n.sprites[i.sprite],t.title=`\tCost: \n${o(i.cost)}\tProduces: \n${o(i.produces)}`,t.appendChild(s),r.appendChild(t),t.addEventListener("click",e(i))}a.appendChild(r)}})},function(t,e,r){(t.exports=r(12)(!1)).push([t.i,".resources {\r\n    padding: 30px 50px;\r\n}\r\n.resources > .header  {\r\n    font-size: 25px;\r\n    margin-bottom: 15px;\r\n}\r\n\r\n.resources>.group{\r\n    margin-bottom: 20px;\r\n}\r\n.resources>.group>img{\r\n   vertical-align: middle;\r\n}\r\n.resources>.nomargin {\r\n    margin-bottom: 0;\r\n}\r\n\r\n.group>div {\r\n    display: inline-block;\r\n    min-width: 135px;\r\n}\r\n\r\n.resource {\r\n    display: inline-block;\r\n    min-width: 60px;\r\n}",""])},function(t,e,r){var n=r(125);"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(11)(n,i);n.locals&&(t.exports=n.locals)},function(t,e,r){(t.exports=r(12)(!1)).push([t.i,".portrait {\r\n    min-height: 350px;\r\n}\r\n\r\n.player-portrait {\r\n    background-color: #363330;\r\n    border: solid 3px yellow;\r\n}\r\n\r\n#portrait {\r\n    display: block;\r\n}",""])},function(t,e,r){var n=r(127);"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(11)(n,i);n.locals&&(t.exports=n.locals)},function(t,e,r){(t.exports=r(12)(!1)).push([t.i,'\r\n.modalDialog {\r\n\tposition: fixed;\r\n\tfont-family: Arial, Helvetica, sans-serif;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tbackground: rgba(0,0,0,0.8);\r\n\tz-index: 99999;\r\n\topacity:0;\r\n\t-webkit-transition: opacity 400ms ease-in;\r\n\t-moz-transition: opacity 400ms ease-in;\r\n\ttransition: opacity 400ms ease-in;\r\n\tpointer-events: none;\r\n}\r\n\r\n.active {\r\n\topacity:1;\r\n\tpointer-events: auto;\r\n}\r\n\r\n.modalDialog > div {\r\n    font-family: "Press Start 2P";\r\n\twidth: 400px;\r\n\tposition: relative;\r\n\tmargin: 10% auto;\r\n\tpadding: 5px 20px 13px 20px;\r\n\tborder-radius: 10px;\r\n\tbackground: #fff;\r\n\tbackground: -moz-linear-gradient(#fff, #999);\r\n\tbackground: -webkit-linear-gradient(#fff, #999);\r\n\tbackground: -o-linear-gradient(#fff, #999);\r\n}\r\n\r\n.close {\r\n    cursor: pointer;\r\n\tbackground: #606061;\r\n\tcolor: #FFFFFF;\r\n\tline-height: 25px;\r\n\tposition: absolute;\r\n\tright: -12px;\r\n\ttext-align: center;\r\n\ttop: -10px;\r\n\twidth: 24px;\r\n\ttext-decoration: none;\r\n\tfont-weight: bold;\r\n\t-webkit-border-radius: 12px;\r\n\t-moz-border-radius: 12px;\r\n\tborder-radius: 12px;\r\n\t-moz-box-shadow: 1px 1px 3px #000;\r\n\t-webkit-box-shadow: 1px 1px 3px #000;\r\n\tbox-shadow: 1px 1px 3px #000;\r\n}\r\n\r\n.close:hover { background: #00d9ff; }',""])},function(t,e,r){var n=r(129);"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(11)(n,i);n.locals&&(t.exports=n.locals)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(130);const n=document.getElementById("openModal"),i=document.getElementById("modalBody");document.getElementById("closeModal").addEventListener("click",()=>{n.classList.remove("active")}),e.showModal=(t=>{i.textContent=t,n.classList.add("active")})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(19);e.SpriteExt=class extends n.Sprite{constructor(){super(...arguments),this.remove=(()=>{this.visible=!1}),this.setCoordinates=((t,e)=>{this.x=t,this.y=e}),this.setPosition=((t,e)=>{this.x=100*t,this.y=100*e}),this.moveTo=((t,e)=>{this.x+=t,this.y+=e})}}},function(t,e,r){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,r){"use strict";var n=r(60);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var r=this;t(function(t){r.reason||(r.reason=new n(t),e(r.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i(function(e){t=e}),cancel:t}},t.exports=i},function(t,e,r){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,r){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,r){"use strict";var n=r(5);t.exports=function(t,e,r){return n.forEach(r,function(r){t=r(t,e)}),t}},function(t,e,r){"use strict";var n=r(5),i=r(137),o=r(61),s=r(26),a=r(136),u=r(135);function h(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return h(t),t.baseURL&&!a(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||s.adapter)(t).then(function(e){return h(t),e.data=i(e.data,e.headers,t.transformResponse),e},function(e){return o(e)||(h(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,r){"use strict";var n=r(5);function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){n.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=i},function(t,e,r){"use strict";var n=r(5);t.exports=n.isStandardBrowserEnv()?{write:function(t,e,r,i,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(i)&&a.push("path="+i),n.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,r){"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(){this.message="String contains an invalid character"}i.prototype=new Error,i.prototype.code=5,i.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,r,o=String(t),s="",a=0,u=n;o.charAt(0|a)||(u="=",a%1);s+=u.charAt(63&e>>8-a%1*8)){if((r=o.charCodeAt(a+=.75))>255)throw new i;e=e<<8|r}return s}},function(t,e,r){"use strict";var n=r(5);t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(t){var n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=i(window.location.href),function(e){var r=n.isString(e)?i(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}},function(t,e,r){"use strict";var n=r(5),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,r,o,s={};return t?(n.forEach(t.split("\n"),function(t){if(o=t.indexOf(":"),e=n.trim(t.substr(0,o)).toLowerCase(),r=n.trim(t.substr(o+1)),e){if(s[e]&&i.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([r]):s[e]?s[e]+", "+r:r}}),s):s}},function(t,e,r){"use strict";var n=r(5);function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,r){if(!e)return t;var o;if(r)o=r(e);else if(n.isURLSearchParams(e))o=e.toString();else{var s=[];n.forEach(e,function(t,e){null!==t&&void 0!==t&&(n.isArray(t)?e+="[]":t=[t],n.forEach(t,function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),s.push(i(e)+"="+i(t))}))}),o=s.join("&")}return o&&(t+=(-1===t.indexOf("?")?"?":"&")+o),t}},function(t,e,r){"use strict";t.exports=function(t,e,r,n,i){return t.config=e,r&&(t.code=r),t.request=n,t.response=i,t}},function(t,e,r){"use strict";var n=r(62);t.exports=function(t,e,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?e(n("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}},function(t,e,r){"use strict";var n=r(5);t.exports=function(t,e){n.forEach(t,function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])})}},function(t,e,r){"use strict";var n=r(26),i=r(5),o=r(139),s=r(138);function a(t){this.defaults=t,this.interceptors={request:new o,response:new o}}a.prototype.request=function(t){"string"==typeof t&&(t=i.merge({url:arguments[0]},arguments[1])),(t=i.merge(n,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[s,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)r=r.then(e.shift(),e.shift());return r},i.forEach(["delete","get","head","options"],function(t){a.prototype[t]=function(e,r){return this.request(i.merge(r||{},{method:t,url:e}))}}),i.forEach(["post","put","patch"],function(t){a.prototype[t]=function(e,r,n){return this.request(i.merge(n||{},{method:t,url:e,data:r}))}}),t.exports=a},function(t,e){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(r(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,r){"use strict";var n=r(5),i=r(64),o=r(148),s=r(26);function a(t){var e=new o(t),r=i(o.prototype.request,e);return n.extend(r,o.prototype,e),n.extend(r,e),r}var u=a(s);u.Axios=o,u.create=function(t){return a(n.merge(s,t))},u.Cancel=r(60),u.CancelToken=r(134),u.isCancel=r(61),u.all=function(t){return Promise.all(t)},u.spread=r(133),t.exports=u,t.exports.default=u},function(t,e,r){t.exports=r(150)},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var r=e.protocol+"//"+e.host,n=r+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i,o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?r+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(t,e,r){(t.exports=r(12)(!1)).push([t.i,"#html-container {\r\n    position: relative;\r\n}\r\n\r\nbody {\r\n    font-family: 'Press Start 2P';\r\n    overflow: hidden;\r\n}\r\n\r\naside {\r\n    position: fixed;\r\n    right: 0;\r\n    top: 0;\r\n    padding: 20px 50px;\r\n    background-color: #363330;\r\n    height: 100%;\r\n    border-radius: 20px;\r\n}\r\n\r\naside>* {\r\n    margin-bottom: 20px;\r\n    background-color: #aea9a3;\r\n    border: solid 5px #0088cc;\r\n    border-radius: 5px;\r\n}\r\n\r\n.portrait {\r\n    min-height: 450px;\r\n}\r\n\r\n.hidden {\r\n    display: none;\r\n}\r\n\r\n.makeTurnButton {\r\n    font-family: 'Press Start 2P';\r\n    cursor: pointer;\r\n    font-size: 30px;\r\n    min-height: 120px;\r\n    min-width: 460px;\r\n    border-radius: 25px;\r\n}\r\n\r\n.makeTurnButton:enabled:active {\r\n    background-color: #3e8e41;\r\n    transform: translateY(4px);\r\n}\r\n\r\n#fabricTable {\r\n    padding-top: 10%;\r\n    padding-left: 30px;\r\n}",""])},function(t,e,r){var n=r(153);"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(11)(n,i);n.locals&&(t.exports=n.locals)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=r(27);var s=16,a=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.uploadHookHelper=n,n.canvas=document.createElement("canvas"),n.canvas.width=s,n.canvas.height=s,n.ctx=n.canvas.getContext("2d"),n.registerUploadHook(u),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.ctx=null,this.canvas=null},e}(((n=o)&&n.__esModule?n:{default:n}).default);function u(t,e){if(e instanceof i.BaseTexture){var r=e.source,n=0===r.width?t.canvas.width:Math.min(t.canvas.width,r.width),o=0===r.height?t.canvas.height:Math.min(t.canvas.height,r.height);return t.ctx.drawImage(r,0,0,n,o,0,0,t.canvas.width,t.canvas.height),!0}return!1}e.default=a,i.CanvasRenderer.registerPlugin("prepare",a)},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=r(27);var s=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.uploadHookHelper=n.renderer,n.registerFindHook(h),n.registerUploadHook(a),n.registerUploadHook(u),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((n=o)&&n.__esModule?n:{default:n}).default);function a(t,e){return e instanceof i.BaseTexture&&(e._glTextures[t.CONTEXT_UID]||t.textureManager.updateTexture(e),!0)}function u(t,e){return e instanceof i.Graphics&&((e.dirty||e.clearDirty||!e._webGL[t.plugins.graphics.CONTEXT_UID])&&t.plugins.graphics.updateGraphics(e),!0)}function h(t,e){return t instanceof i.Graphics&&(e.push(t),!0)}e.default=s,i.WebGLRenderer.registerPlugin("prepare",s)},function(t,e,r){"use strict";e.__esModule=!0;var n=r(157);Object.defineProperty(e,"webgl",{enumerable:!0,get:function(){return u(n).default}});var i=r(156);Object.defineProperty(e,"canvas",{enumerable:!0,get:function(){return u(i).default}});var o=r(27);Object.defineProperty(e,"BasePrepare",{enumerable:!0,get:function(){return u(o).default}});var s=r(66);Object.defineProperty(e,"CountLimiter",{enumerable:!0,get:function(){return u(s).default}});var a=r(155);function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"TimeLimiter",{enumerable:!0,get:function(){return u(a).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n=o(r(6)),i=o(r(29));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e,r,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var o=0;o<r.length;++o){var s=r[o];s={attribute:s.attribute,size:s.size,uploadFunction:s.uploadFunction,unsignedByte:s.unsignedByte,offset:s.offset},n[o]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.gl,e=0;this.indices=(0,i.default)(this.size),this.indexBuffer=n.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r){var o=this.dynamicProperties[r];o.offset=e,e+=o.size,this.dynamicStride+=o.size}var s=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(s),this.dynamicDataUint32=new Uint32Array(s),this.dynamicBuffer=n.default.GLBuffer.createVertexBuffer(t,s,t.STREAM_DRAW);var a=0;this.staticStride=0;for(var u=0;u<this.staticProperties.length;++u){var h=this.staticProperties[u];h.offset=a,a+=h.size,this.staticStride+=h.size}var l=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(l),this.staticDataUint32=new Uint32Array(l),this.staticBuffer=n.default.GLBuffer.createVertexBuffer(t,l,t.STATIC_DRAW),this.vao=new n.default.VertexArrayObject(t).addIndex(this.indexBuffer);for(var c=0;c<this.dynamicProperties.length;++c){var f=this.dynamicProperties[c];f.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,f.attribute,t.UNSIGNED_BYTE,!0,4*this.dynamicStride,4*f.offset):this.vao.addAttribute(this.dynamicBuffer,f.attribute,t.FLOAT,!1,4*this.dynamicStride,4*f.offset)}for(var d=0;d<this.staticProperties.length;++d){var p=this.staticProperties[d];p.unsignedByte?this.vao.addAttribute(this.staticBuffer,p.attribute,t.UNSIGNED_BYTE,!0,4*this.staticStride,4*p.offset):this.vao.addAttribute(this.staticBuffer,p.attribute,t.FLOAT,!1,4*this.staticStride,4*p.offset)}},t.prototype.uploadDynamic=function(t,e,r){for(var n=0;n<this.dynamicProperties.length;n++){var i=this.dynamicProperties[n];i.uploadFunction(t,e,r,i.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer.upload()},t.prototype.uploadStatic=function(t,e,r){for(var n=0;n<this.staticProperties.length;n++){var i=this.staticProperties[n];i.uploadFunction(t,e,r,i.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer.upload()},t.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(15);var o=function(t){function e(r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","attribute vec2 aPositionCoord;","attribute float aRotation;","uniform mat3 projectionMatrix;","uniform vec4 uColor;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   vec2 v = vec2(x, y);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor * uColor;","}"].join("\n"),["varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;","  gl_FragColor = color;","}"].join("\n")))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((n=i)&&n.__esModule?n:{default:n}).default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),i=a(r(160)),o=a(r(159)),s=r(2);function a(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return i.shader=null,i.indexBuffer=null,i.properties=null,i.tempMatrix=new n.Matrix,i.CONTEXT_UID=0,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new i.default(t),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]},e.prototype.start=function(){this.renderer.bindShader(this.shader)},e.prototype.render=function(t){var e=t.children,r=t._maxSize,i=t._batchSize,o=this.renderer,s=e.length;if(0!==s){s>r&&(s=r);var a=t._glBuffers[o.CONTEXT_UID];a||(a=t._glBuffers[o.CONTEXT_UID]=this.generateBuffers(t));var u=e[0]._texture.baseTexture;this.renderer.setBlendMode(n.utils.correctBlendMode(t.blendMode,u.premultipliedAlpha));var h=o.gl,l=t.worldTransform.copy(this.tempMatrix);l.prepend(o._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=l.toArray(!0),this.shader.uniforms.uColor=n.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,u.premultipliedAlpha),this.shader.uniforms.uSampler=o.bindTexture(u);for(var c=!1,f=0,d=0;f<s;f+=i,d+=1){var p=s-f;if(p>i&&(p=i),d>=a.length){if(!t.autoResize)break;a.push(this._generateOneMoreBuffer(t))}var v=a[d];v.uploadDynamic(e,f,p);var y=t._bufferUpdateIDs[f]||0;(c=c||v._updateID<y)&&(v._updateID=t._updateID,v.uploadStatic(e,f,p)),o.bindVao(v.vao),v.vao.draw(h.TRIANGLES,6*p)}}},e.prototype.generateBuffers=function(t){for(var e=this.renderer.gl,r=[],n=t._maxSize,i=t._batchSize,s=t._properties,a=0;a<n;a+=i)r.push(new o.default(e,this.properties,s,i));return r},e.prototype._generateOneMoreBuffer=function(t){var e=this.renderer.gl,r=t._batchSize,n=t._properties;return new o.default(e,this.properties,n,r)},e.prototype.uploadVertices=function(t,e,r,n,i,o){for(var s=0,a=0,u=0,h=0,l=0;l<r;++l){var c=t[e+l],f=c._texture,d=c.scale.x,p=c.scale.y,v=f.trim,y=f.orig;v?(s=(a=v.x-c.anchor.x*y.width)+v.width,u=(h=v.y-c.anchor.y*y.height)+v.height):(s=y.width*(1-c.anchor.x),a=y.width*-c.anchor.x,u=y.height*(1-c.anchor.y),h=y.height*-c.anchor.y),n[o]=a*d,n[o+1]=h*p,n[o+i]=s*d,n[o+i+1]=h*p,n[o+2*i]=s*d,n[o+2*i+1]=u*p,n[o+3*i]=a*d,n[o+3*i+1]=u*p,o+=4*i}},e.prototype.uploadPosition=function(t,e,r,n,i,o){for(var s=0;s<r;s++){var a=t[e+s].position;n[o]=a.x,n[o+1]=a.y,n[o+i]=a.x,n[o+i+1]=a.y,n[o+2*i]=a.x,n[o+2*i+1]=a.y,n[o+3*i]=a.x,n[o+3*i+1]=a.y,o+=4*i}},e.prototype.uploadRotation=function(t,e,r,n,i,o){for(var s=0;s<r;s++){var a=t[e+s].rotation;n[o]=a,n[o+i]=a,n[o+2*i]=a,n[o+3*i]=a,o+=4*i}},e.prototype.uploadUvs=function(t,e,r,n,i,o){for(var s=0;s<r;++s){var a=t[e+s]._texture._uvs;a?(n[o]=a.x0,n[o+1]=a.y0,n[o+i]=a.x1,n[o+i+1]=a.y1,n[o+2*i]=a.x2,n[o+2*i+1]=a.y2,n[o+3*i]=a.x3,n[o+3*i+1]=a.y3,o+=4*i):(n[o]=0,n[o+1]=0,n[o+i]=0,n[o+i+1]=0,n[o+2*i]=0,n[o+2*i+1]=0,n[o+3*i]=0,n[o+3*i+1]=0,o+=4*i)}},e.prototype.uploadTint=function(t,e,r,n,i,o){for(var a=0;a<r;++a){var u=t[e+a],h=u._texture.baseTexture.premultipliedAlpha,l=u.alpha,c=l<1&&h?(0,s.premultiplyTint)(u._tintRGB,l):u._tintRGB+(255*l<<24);n[o]=c,n[o+i]=c,n[o+2*i]=c,n[o+3*i]=c,o+=4*i}},e.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),t.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},e}(n.ObjectRenderer);e.default=u,n.WebGLRenderer.registerPlugin("particle",u)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=r(2);var s=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500,n=arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16384,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return o>16384&&(o=16384),o>r&&(o=r),a._properties=[!1,!0,!1,!1,!1],a._maxSize=r,a._batchSize=o,a._glBuffers={},a._bufferUpdateIDs=[],a._updateID=0,a.interactiveChildren=!1,a.blendMode=i.BLEND_MODES.NORMAL,a.autoResize=s,a.roundPixels=!0,a.baseTexture=null,a.setProperties(n),a._tint=0,a.tintRgb=new Float32Array(4),a.tint=16777215,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},e.prototype.renderWebGL=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,r=this.worldTransform,n=!0,i=0,o=0,s=0,a=0;t.setBlendMode(this.blendMode),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var u=0;u<this.children.length;++u){var h=this.children[u];if(h.visible){var l=h._texture.frame;if(e.globalAlpha=this.worldAlpha*h.alpha,h.rotation%(2*Math.PI)==0)n&&(e.setTransform(r.a,r.b,r.c,r.d,r.tx*t.resolution,r.ty*t.resolution),n=!1),i=h.anchor.x*(-l.width*h.scale.x)+h.position.x+.5,o=h.anchor.y*(-l.height*h.scale.y)+h.position.y+.5,s=l.width*h.scale.x,a=l.height*h.scale.y;else{n||(n=!0),h.displayObjectUpdateTransform();var c=h.worldTransform;t.roundPixels?e.setTransform(c.a,c.b,c.c,c.d,c.tx*t.resolution|0,c.ty*t.resolution|0):e.setTransform(c.a,c.b,c.c,c.d,c.tx*t.resolution,c.ty*t.resolution),i=h.anchor.x*-l.width+.5,o=h.anchor.y*-l.height+.5,s=l.width,a=l.height}var f=h._texture.baseTexture.resolution;e.drawImage(h._texture.baseTexture.source,l.x*f,l.y*f,l.width*f,l.height*f,i*t.resolution,o*t.resolution,s*t.resolution,a*t.resolution)}}}},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._buffers)for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},n(e,[{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,(0,o.hex2rgb)(t,this.tintRgb)}}]),e}(i.Container);e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=r(162);Object.defineProperty(e,"ParticleContainer",{enumerable:!0,get:function(){return o(n).default}});var i=r(161);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"ParticleRenderer",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(13);var o=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return i.points=n,i.vertices=new Float32Array(4*n.length),i.uvs=new Float32Array(4*n.length),i.colors=new Float32Array(2*n.length),i.indices=new Uint16Array(2*n.length),i.autoUpdate=!0,i.refresh(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){this.vertices.length/4!==t.length&&(this.vertices=new Float32Array(4*t.length),this.uvs=new Float32Array(4*t.length),this.colors=new Float32Array(2*t.length),this.indices=new Uint16Array(2*t.length));var e=this.uvs,r=this.indices,n=this.colors;e[0]=0,e[1]=0,e[2]=0,e[3]=1,n[0]=1,n[1]=1,r[0]=0,r[1]=1;for(var i=t.length,o=1;o<i;o++){var s=4*o,a=o/(i-1);e[s]=a,e[s+1]=0,e[s+2]=a,e[s+3]=1,n[s=2*o]=1,n[s+1]=1,r[s=2*o]=s,r[s+1]=s+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},e.prototype.refreshVertices=function(){var t=this.points;if(!(t.length<1))for(var e=t[0],r=void 0,n=0,i=0,o=this.vertices,s=t.length,a=0;a<s;a++){var u=t[a],h=4*a;i=-((r=a<t.length-1?t[a+1]:u).x-e.x),n=r.y-e.y;var l=10*(1-a/(s-1));l>1&&(l=1);var c=Math.sqrt(n*n+i*i),f=this._texture.height/2;n/=c,i/=c,n*=f,i*=f,o[h]=u.x+n,o[h+1]=u.y+i,o[h+2]=u.x-n,o[h+3]=u.y-i,e=u}},e.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},e}(((n=i)&&n.__esModule?n:{default:n}).default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(67);var s=10,a=function(t){function e(r,n,i,o,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,4,4));return u._origWidth=r.orig.width,u._origHeight=r.orig.height,u._width=u._origWidth,u._height=u._origHeight,u.leftWidth=void 0!==n?n:s,u.rightWidth=void 0!==o?o:s,u.topHeight=void 0!==i?i:s,u.bottomHeight=void 0!==a?a:s,u.refresh(!0),u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateHorizontalVertices=function(){var t=this.vertices;t[9]=t[11]=t[13]=t[15]=this._topHeight,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices;t[2]=t[10]=t[18]=t[26]=this._leftWidth,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._renderCanvas=function(t){var e=t.context;e.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode);var r=this.worldTransform,n=t.resolution;t.roundPixels?e.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n|0,r.ty*n|0):e.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n,r.ty*n);var i=this._texture.baseTexture,o=i.source,s=i.width*i.resolution,a=i.height*i.resolution;this.drawSegment(e,o,s,a,0,1,10,11),this.drawSegment(e,o,s,a,2,3,12,13),this.drawSegment(e,o,s,a,4,5,14,15),this.drawSegment(e,o,s,a,8,9,18,19),this.drawSegment(e,o,s,a,10,11,20,21),this.drawSegment(e,o,s,a,12,13,22,23),this.drawSegment(e,o,s,a,16,17,26,27),this.drawSegment(e,o,s,a,18,19,28,29),this.drawSegment(e,o,s,a,20,21,30,31)},e.prototype.drawSegment=function(t,e,r,n,i,o,s,a){var u=this.uvs,h=this.vertices,l=(u[s]-u[i])*r,c=(u[a]-u[o])*n,f=h[s]-h[i],d=h[a]-h[o];l<1&&(l=1),c<1&&(c=1),f<1&&(f=1),d<1&&(d=1),t.drawImage(e,u[i]*r,u[o]*n,l,c,h[i],h[o],f,d)},e.prototype._refresh=function(){t.prototype._refresh.call(this);var e=this.uvs,r=this._texture;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var n=1/this._origWidth,i=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=n*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-n*this._rightWidth,e[9]=e[11]=e[13]=e[15]=i*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty++,this.multiplyUvs()},i(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t,this._refresh()}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()}}]),e}(((n=o)&&n.__esModule?n:{default:n}).default);e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=r(13),s=(n=o)&&n.__esModule?n:{default:n};var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,r=e.context,n=t.worldTransform,i=e.resolution;e.roundPixels?r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i|0,n.ty*i|0):r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),e.context.globalAlpha=t.worldAlpha,e.setBlendMode(t.blendMode),t.drawMode===s.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(t):this._renderTriangles(t)},t.prototype._renderTriangleMesh=function(t){for(var e=t.vertices.length/2,r=0;r<e-2;r++){var n=2*r;this._renderDrawTriangle(t,n,n+2,n+4)}},t.prototype._renderTriangles=function(t){for(var e=t.indices,r=e.length,n=0;n<r;n+=3){var i=2*e[n],o=2*e[n+1],s=2*e[n+2];this._renderDrawTriangle(t,i,o,s)}},t.prototype._renderDrawTriangle=function(t,e,r,n){var i=this.renderer.context,o=t.uvs,s=t.vertices,a=t._texture;if(a.valid){var u=a.baseTexture,h=u.source,l=u.width,c=u.height,f=void 0,d=void 0,p=void 0,v=void 0,y=void 0,g=void 0;if(t.uploadUvTransform){var m=t._uvTransform.mapCoord;f=(o[e]*m.a+o[e+1]*m.c+m.tx)*u.width,d=(o[r]*m.a+o[r+1]*m.c+m.tx)*u.width,p=(o[n]*m.a+o[n+1]*m.c+m.tx)*u.width,v=(o[e]*m.b+o[e+1]*m.d+m.ty)*u.height,y=(o[r]*m.b+o[r+1]*m.d+m.ty)*u.height,g=(o[n]*m.b+o[n+1]*m.d+m.ty)*u.height}else f=o[e]*u.width,d=o[r]*u.width,p=o[n]*u.width,v=o[e+1]*u.height,y=o[r+1]*u.height,g=o[n+1]*u.height;var _=s[e],b=s[r],x=s[n],T=s[e+1],w=s[r+1],E=s[n+1],S=t.canvasPadding/this.renderer.resolution;if(S>0){var O=S/Math.abs(t.worldTransform.a),M=S/Math.abs(t.worldTransform.d),P=(_+b+x)/3,C=(T+w+E)/3,A=_-P,R=T-C,I=Math.sqrt(A*A+R*R);_=P+A/I*(I+O),T=C+R/I*(I+M),R=w-C,b=P+(A=b-P)/(I=Math.sqrt(A*A+R*R))*(I+O),w=C+R/I*(I+M),R=E-C,x=P+(A=x-P)/(I=Math.sqrt(A*A+R*R))*(I+O),E=C+R/I*(I+M)}i.save(),i.beginPath(),i.moveTo(_,T),i.lineTo(b,w),i.lineTo(x,E),i.closePath(),i.clip();var D=f*y+v*p+d*g-y*p-v*d-f*g,L=_*y+v*x+b*g-y*x-v*b-_*g,N=f*b+_*p+d*x-b*p-_*d-f*x,k=f*y*x+v*b*p+_*d*g-_*y*p-v*d*x-f*b*g,F=T*y+v*E+w*g-y*E-v*w-T*g,j=f*w+T*p+d*E-w*p-T*d-f*E,B=f*y*E+v*w*p+T*d*g-T*y*p-v*d*E-f*w*g;i.transform(L/D,F/D,N/D,j/D,k/D,B/D),i.drawImage(h,0,0,l*u.resolution,c*u.resolution,0,0,l,c),i.restore(),this.renderer.invalidateBlendMode()}},t.prototype.renderMeshFlat=function(t){var e=this.renderer.context,r=t.vertices,n=r.length/2;e.beginPath();for(var i=1;i<n-2;++i){var o=2*i,s=r[o],a=r[o+1],u=r[o+2],h=r[o+3],l=r[o+4],c=r[o+5];e.moveTo(s,a),e.lineTo(u,h),e.lineTo(l,c)}e.fillStyle="#FF0000",e.fill(),e.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();e.default=a,i.CanvasRenderer.registerPlugin("mesh",a)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),i=s(r(6)),o=s(r(13));r(7);function s(t){return t&&t.__esModule?t:{default:t}}var a=n.Matrix.IDENTITY,u=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.shader=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new n.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n")},e.prototype.render=function(t){var e=this.renderer,r=e.gl,s=t._texture;if(s.valid){var u=t._glDatas[e.CONTEXT_UID];u||(e.bindVao(null),(u={shader:this.shader,vertexBuffer:i.default.GLBuffer.createVertexBuffer(r,t.vertices,r.STREAM_DRAW),uvBuffer:i.default.GLBuffer.createVertexBuffer(r,t.uvs,r.STREAM_DRAW),indexBuffer:i.default.GLBuffer.createIndexBuffer(r,t.indices,r.STATIC_DRAW),vao:null,dirty:t.dirty,indexDirty:t.indexDirty}).vao=new i.default.VertexArrayObject(r).addIndex(u.indexBuffer).addAttribute(u.vertexBuffer,u.shader.attributes.aVertexPosition,r.FLOAT,!1,8,0).addAttribute(u.uvBuffer,u.shader.attributes.aTextureCoord,r.FLOAT,!1,8,0),t._glDatas[e.CONTEXT_UID]=u),e.bindVao(u.vao),t.dirty!==u.dirty&&(u.dirty=t.dirty,u.uvBuffer.upload(t.uvs)),t.indexDirty!==u.indexDirty&&(u.indexDirty=t.indexDirty,u.indexBuffer.upload(t.indices)),u.vertexBuffer.upload(t.vertices),e.bindShader(u.shader),u.shader.uniforms.uSampler=e.bindTexture(s),e.state.setBlendMode(n.utils.correctBlendMode(t.blendMode,s.baseTexture.premultipliedAlpha)),u.shader.uniforms.uTransform&&(t.uploadUvTransform?u.shader.uniforms.uTransform=t._uvTransform.mapCoord.toArray(!0):u.shader.uniforms.uTransform=a.toArray(!0)),u.shader.uniforms.translationMatrix=t.worldTransform.toArray(!0),u.shader.uniforms.uColor=n.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,u.shader.uniforms.uColor,s.baseTexture.premultipliedAlpha);var h=t.drawMode===o.default.DRAW_MODES.TRIANGLE_MESH?r.TRIANGLE_STRIP:r.TRIANGLES;u.vao.draw(h,t.indices.length,0)}},e}(n.ObjectRenderer);e.default=u,n.WebGLRenderer.registerPlugin("mesh",u)},function(t,e,r){"use strict";e.__esModule=!0;var n=r(13);Object.defineProperty(e,"Mesh",{enumerable:!0,get:function(){return h(n).default}});var i=r(167);Object.defineProperty(e,"MeshRenderer",{enumerable:!0,get:function(){return h(i).default}});var o=r(166);Object.defineProperty(e,"CanvasMeshRenderer",{enumerable:!0,get:function(){return h(o).default}});var s=r(67);Object.defineProperty(e,"Plane",{enumerable:!0,get:function(){return h(s).default}});var a=r(165);Object.defineProperty(e,"NineSlicePlane",{enumerable:!0,get:function(){return h(a).default}});var u=r(164);function h(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"Rope",{enumerable:!0,get:function(){return h(u).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.blobMiddlewareFactory=function(){return function(t,e){if(t.data){if(t.xhr&&t.xhrType===i.default.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=(u=a.createObjectURL(t.data),t.blob=t.data,t.data=new Image,t.data.src=u,t.type=i.default.TYPE.IMAGE,t.data.onload=function(){a.revokeObjectURL(u),t.data.onload=null,e()},{v:void 0});if("object"===(void 0===r?"undefined":n(r)))return r.v}}else{var s=t.xhr.getResponseHeader("content-type");if(s&&0===s.indexOf("image"))return t.data=new Image,t.data.src="data:"+s+";base64,"+o.default.encodeBinary(t.xhr.responseText),t.type=i.default.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}var u;e()}else e()}};var i=s(r(28)),o=s(r(70));function s(t){return t&&t.__esModule?t:{default:t}}var a=window.URL||window.webkitURL},function(t,e,r){"use strict";e.__esModule=!0;var n=h(r(14)),i=r(169),o=h(r(9)),s=h(r(68)),a=h(r(69)),u=h(r(74));function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,n));o.default.call(i);for(var s=0;s<e._pixiMiddleware.length;++s)i.use(e._pixiMiddleware[s]());return i.onStart.add(function(t){return i.emit("start",t)}),i.onProgress.add(function(t,e){return i.emit("progress",t,e)}),i.onError.add(function(t,e,r){return i.emit("error",t,e,r)}),i.onLoad.add(function(t,e){return i.emit("load",t,e)}),i.onComplete.add(function(t,e){return i.emit("complete",t,e)}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.addPixiMiddleware=function(t){e._pixiMiddleware.push(t)},e.prototype.destroy=function(){this.removeAllListeners(),this.reset()},e}(n.default);for(var c in e.default=l,o.default.prototype)l.prototype[c]=o.default.prototype[c];l._pixiMiddleware=[i.blobMiddlewareFactory,s.default,a.default,u.default];var f=n.default.Resource;f.setExtensionXhrType("fnt",f.XHR_RESPONSE_TYPE.DOCUMENT)},function(t,e,r){"use strict";e.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=h(r(73)),s=h(r(72)),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(71)),u=h(r(28));function h(t){return t&&t.__esModule?t:{default:t}}var l=/(#[\w-]+)?$/,c=function(){function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.baseUrl=r,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,r){return e._loadResource(t,r)},this._queue=a.queue(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new o.default,this.onError=new o.default,this.onLoad=new o.default,this.onStart=new o.default,this.onComplete=new o.default}return t.prototype.add=function(t,e,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;++o)this.add(t[o]);return this}if("object"===(void 0===t?"undefined":n(t))&&(i=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(i=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(i=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new u.default(t,e,r),"function"==typeof i&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var s=r.parentResource,a=[],h=0;h<s.children.length;++h)s.children[h].isComplete||a.push(s.children[h]);var l=s.progressChunk*(a.length+1)/(a.length+2);s.children.push(this.resources[t]),s.progressChunk=l;for(var c=0;c<a.length;++c)a[c].progressChunk=l;this.resources[t].progressChunk=l}return this._queue.push(this.resources[t]),this},t.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},t.prototype.use=function(t){return this._afterMiddleware.push(t),this},t.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},t.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},t.prototype._prepareUrl=function(t){var e=(0,s.default)(t,{strictMode:!0}),r=void 0;if(r=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var n=l.exec(r)[0];-1!==(r=r.substr(0,r.length-n.length)).indexOf("?")?r+="&"+this.defaultQueryString:r+="?"+this.defaultQueryString,r+=n}return r},t.prototype._loadResource=function(t,e){var r=this;t._dequeue=e,a.eachSeries(this._beforeMiddleware,function(e,n){e.call(r,t,function(){n(t.isComplete?{}:null)})},function(){t.isComplete?r._onLoad(t):(t._onLoadBinding=t.onComplete.once(r._onLoad,r),t.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),a.eachSeries(this._afterMiddleware,function(r,n){r.call(e,t,n)},function(){t.onAfterMiddleware.dispatch(t),e.progress+=t.progressChunk,e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()},!0)},i(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();e.default=c},function(t,e,r){"use strict";e.__esModule=!0,e.shared=e.Resource=e.textureParser=e.getResourcePath=e.spritesheetParser=e.parseBitmapFontData=e.bitmapFontParser=e.Loader=void 0;var n=r(74);Object.defineProperty(e,"bitmapFontParser",{enumerable:!0,get:function(){return h(n).default}}),Object.defineProperty(e,"parseBitmapFontData",{enumerable:!0,get:function(){return n.parse}});var i=r(69);Object.defineProperty(e,"spritesheetParser",{enumerable:!0,get:function(){return h(i).default}}),Object.defineProperty(e,"getResourcePath",{enumerable:!0,get:function(){return i.getResourcePath}});var o=r(68);Object.defineProperty(e,"textureParser",{enumerable:!0,get:function(){return h(o).default}});var s=r(14);Object.defineProperty(e,"Resource",{enumerable:!0,get:function(){return s.Resource}});var a=h(r(87)),u=h(r(170));function h(t){return t&&t.__esModule?t:{default:t}}e.Loader=u.default;var l=new u.default;l.destroy=function(){},e.shared=l;var c=a.default.prototype;c._loader=null,Object.defineProperty(c,"loader",{get:function(){if(!this._loader){var t=this._options.sharedLoader;this._loader=t?l:new u.default}return this._loader}}),c._parentDestroy=c.destroy,c.destroy=function(t){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(t)}},function(t,e,r){"use strict";e.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=l(r(78)),s=l(r(77)),a=l(r(76)),u=l(r(9)),h=l(r(75));function l(t){return t&&t.__esModule?t:{default:t}}i.utils.mixins.delayMixin(i.DisplayObject.prototype,h.default);var c=1,f={target:null,data:{global:null}},d=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n=n||{},a.renderer=r,a.autoPreventDefault=void 0===n.autoPreventDefault||n.autoPreventDefault,a.interactionFrequency=n.interactionFrequency||10,a.mouse=new o.default,a.mouse.identifier=c,a.mouse.global.set(-999999),a.activeInteractionData={},a.activeInteractionData[c]=a.mouse,a.interactionDataPool=[],a.eventData=new s.default,a.interactionDOMElement=null,a.moveWhenInside=!1,a.eventsAdded=!1,a.mouseOverRenderer=!1,a.supportsTouchEvents="ontouchstart"in window,a.supportsPointerEvents=!!window.PointerEvent,a.onPointerUp=a.onPointerUp.bind(a),a.processPointerUp=a.processPointerUp.bind(a),a.onPointerCancel=a.onPointerCancel.bind(a),a.processPointerCancel=a.processPointerCancel.bind(a),a.onPointerDown=a.onPointerDown.bind(a),a.processPointerDown=a.processPointerDown.bind(a),a.onPointerMove=a.onPointerMove.bind(a),a.processPointerMove=a.processPointerMove.bind(a),a.onPointerOut=a.onPointerOut.bind(a),a.processPointerOverOut=a.processPointerOverOut.bind(a),a.onPointerOver=a.onPointerOver.bind(a),a.cursorStyles={default:"inherit",pointer:"pointer"},a.currentCursorMode=null,a.cursor=null,a._tempPoint=new i.Point,a.resolution=1,a.setTargetElement(a.renderer.view,a.renderer.resolution),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.hitTest=function(t,e){return f.target=null,f.data.global=t,e||(e=this.renderer._lastObjectRendered),this.processInteractive(f,e,null,!0),f.target},e.prototype.setTargetElement=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},e.prototype.addEvents=function(){this.interactionDOMElement&&(i.ticker.shared.add(this.update,this,i.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},e.prototype.removeEvents=function(){this.interactionDOMElement&&(i.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var r=this.activeInteractionData[e];if(r.originalEvent&&"touch"!==r.pointerType){var n=this.configureInteractionEventForDOMEvent(this.eventData,r.originalEvent,r);this.processInteractive(n,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(void 0===e?"undefined":n(e)){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,r){r.stopped||(r.currentTarget=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},e.prototype.mapPositionToPoint=function(t,e,r){var n=void 0;n=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var i=navigator.isCocoonJS?this.resolution:1/this.resolution;t.x=(e-n.left)*(this.interactionDOMElement.width/n.width)*i,t.y=(r-n.top)*(this.interactionDOMElement.height/n.height)*i},e.prototype.processInteractive=function(t,e,r,n,i){if(!e||!e.visible)return!1;var o=t.data.global,s=!1,a=i=e.interactive||i,u=!0;if(e.hitArea?(n&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(n=!1,u=!1)),a=!1):e._mask&&n&&(e._mask.containsPoint(o)||(n=!1,u=!1)),u&&e.interactiveChildren&&e.children)for(var h=e.children,l=h.length-1;l>=0;l--){var c=h[l],f=this.processInteractive(t,c,r,n,a);if(f){if(!c.parent)continue;a=!1,f&&(t.target&&(n=!1),s=!0)}}return i&&(n&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(s=!0),e.interactive&&(s&&!t.target&&(t.target=e),r&&r(t,e,!!s))),s},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&t.preventDefault();for(var r=e.length,n=0;n<r;n++){var i=e[n],o=this.getInteractionDataForPointerId(i),s=this.configureInteractionEventForDOMEvent(this.eventData,i,o);if(s.data.originalEvent=t,this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===i.pointerType)this.emit("touchstart",s);else if("mouse"===i.pointerType||"pen"===i.pointerType){var a=2===i.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,r){var n=t.data,i=t.data.identifier;if(r)if(e.trackedPointers[i]||(e.trackedPointers[i]=new a.default(i)),this.dispatchEvent(e,"pointerdown",t),"touch"===n.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===n.pointerType||"pen"===n.pointerType){var o=2===n.button;o?e.trackedPointers[i].rightDown=!0:e.trackedPointers[i].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,r){for(var n=this.normalizeToPointerData(t),i=n.length,o=t.target!==this.interactionDOMElement?"outside":"",s=0;s<i;s++){var a=n[s],u=this.getInteractionDataForPointerId(a),h=this.configureInteractionEventForDOMEvent(this.eventData,a,u);if(h.data.originalEvent=t,this.processInteractive(h,this.renderer._lastObjectRendered,r,e||!o),this.emit(e?"pointercancel":"pointerup"+o,h),"mouse"===a.pointerType||"pen"===a.pointerType){var l=2===a.button;this.emit(l?"rightup"+o:"mouseup"+o,h)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,h),this.releaseInteractionDataForPointerId(a.pointerId,u))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var r=t.data,n=t.data.identifier;void 0!==e.trackedPointers[n]&&(delete e.trackedPointers[n],this.dispatchEvent(e,"pointercancel",t),"touch"===r.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,r){var n=t.data,i=t.data.identifier,o=e.trackedPointers[i],s="touch"===n.pointerType;if("mouse"===n.pointerType||"pen"===n.pointerType){var u=2===n.button,h=a.default.FLAGS,l=u?h.RIGHT_DOWN:h.LEFT_DOWN,c=void 0!==o&&o.flags&l;r?(this.dispatchEvent(e,u?"rightup":"mouseup",t),c&&this.dispatchEvent(e,u?"rightclick":"click",t)):c&&this.dispatchEvent(e,u?"rightupoutside":"mouseupoutside",t),o&&(u?o.rightDown=!1:o.leftDown=!1)}r?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),o&&(this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[i]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this.didMove=!0,this.cursor=null);for(var r=e.length,n=0;n<r;n++){var i=e[n],o=this.getInteractionDataForPointerId(i),s=this.configureInteractionEventForDOMEvent(this.eventData,i,o);s.data.originalEvent=t;var a="touch"!==i.pointerType||this.moveWhenInside;this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerMove,a),this.emit("pointermove",s),"touch"===i.pointerType&&this.emit("touchmove",s),"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,r){var n=t.data,i="touch"===n.pointerType,o="mouse"===n.pointerType||"pen"===n.pointerType;o&&this.processPointerOverOut(t,e,r),this.moveWhenInside&&!r||(this.dispatchEvent(e,"pointermove",t),i&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var r=this.getInteractionDataForPointerId(e),n=this.configureInteractionEventForDOMEvent(this.eventData,e,r);n.data.originalEvent=e,this.processInteractive(n,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",n),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",n):this.releaseInteractionDataForPointerId(r.identifier)}},e.prototype.processPointerOverOut=function(t,e,r){var n=t.data,i=t.data.identifier,o="mouse"===n.pointerType||"pen"===n.pointerType,s=e.trackedPointers[i];r&&!s&&(s=e.trackedPointers[i]=new a.default(i)),void 0!==s&&(r&&this.mouseOverRenderer?(s.over||(s.over=!0,this.dispatchEvent(e,"pointerover",t),o&&this.dispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[i]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],r=this.getInteractionDataForPointerId(e),n=this.configureInteractionEventForDOMEvent(this.eventData,e,r);n.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",n),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",n)},e.prototype.getInteractionDataForPointerId=function(t){var e=t.pointerId,r=void 0;return e===c||"mouse"===t.pointerType?r=this.mouse:this.activeInteractionData[e]?r=this.activeInteractionData[e]:((r=this.interactionDataPool.pop()||new o.default).identifier=e,this.activeInteractionData[e]=r),r.copyEvent(t),r},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,r){return t.data=r,this.mapPositionToPoint(r.global,e.clientX,e.clientY),navigator.isCocoonJS&&"touch"===e.pointerType&&(r.global.x=r.global.x/this.resolution,r.global.y=r.global.y/this.resolution),"touch"===e.pointerType&&(e.globalX=r.global.x,e.globalY=r.global.y),r.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var r=0,n=t.changedTouches.length;r<n;r++){var i=t.changedTouches[r];void 0===i.button&&(i.button=t.touches.length?1:0),void 0===i.buttons&&(i.buttons=t.touches.length?1:0),void 0===i.isPrimary&&(i.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===i.width&&(i.width=i.radiusX||1),void 0===i.height&&(i.height=i.radiusY||1),void 0===i.tiltX&&(i.tiltX=0),void 0===i.tiltY&&(i.tiltY=0),void 0===i.pointerType&&(i.pointerType="touch"),void 0===i.pointerId&&(i.pointerId=i.identifier||0),void 0===i.pressure&&(i.pressure=i.force||.5),i.twist=0,i.tangentialPressure=0,void 0===i.layerX&&(i.layerX=i.offsetX=i.clientX),void 0===i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,e.push(i)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?e.push(t):(void 0===t.isPrimary&&(t.isPrimary=!0),void 0===t.width&&(t.width=1),void 0===t.height&&(t.height=1),void 0===t.tiltX&&(t.tiltX=0),void 0===t.tiltY&&(t.tiltY=0),void 0===t.pointerType&&(t.pointerType="mouse"),void 0===t.pointerId&&(t.pointerId=c),void 0===t.pressure&&(t.pressure=.5),t.twist=0,t.tangentialPressure=0,t.isNormalized=!0,e.push(t));return e},e.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},e}(u.default);e.default=d,i.WebGLRenderer.registerPlugin("interaction",d),i.CanvasRenderer.registerPlugin("interaction",d)},function(t,e,r){"use strict";e.__esModule=!0;var n=r(78);Object.defineProperty(e,"InteractionData",{enumerable:!0,get:function(){return u(n).default}});var i=r(173);Object.defineProperty(e,"InteractionManager",{enumerable:!0,get:function(){return u(i).default}});var o=r(75);Object.defineProperty(e,"interactiveTarget",{enumerable:!0,get:function(){return u(o).default}});var s=r(76);Object.defineProperty(e,"InteractionTrackingData",{enumerable:!0,get:function(){return u(s).default}});var a=r(77);function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"InteractionEvent",{enumerable:!0,get:function(){return u(a).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));r(7);var o=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"));return n.alpha=r,n.glShaderKey="alpha",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(i.Filter);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));r(7);var o=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));return r.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],r.alpha=1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._loadMatrix=function(t){var e=t;arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(e,this.uniforms.m,t),e=this._colorMatrix(e)),this.uniforms.m=e},e.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),n=Math.sin(t),i=1/3,o=(0,Math.sqrt)(i),s=[r+(1-r)*i,i*(1-r)-o*n,i*(1-r)+o*n,0,0,i*(1-r)+o*n,r+i*(1-r),i*(1-r)-o*n,0,0,i*(1-r)-o*n,i*(1-r)+o*n,r+i*(1-r),0,0,0,0,0,1,0];this._loadMatrix(s,e)},e.prototype.contrast=function(t,e){var r=(t||0)+1,n=-.5*(r-1),i=[r,0,0,0,n,0,r,0,0,n,0,0,r,0,n,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.saturate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],r=2*t/3+1,n=-.5*(r-1),i=[r,n,n,0,0,n,r,n,0,0,n,n,r,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,r,n,i){t=t||.2,e=e||.15;var o=((r=r||16770432)>>16&255)/255,s=(r>>8&255)/255,a=(255&r)/255,u=((n=n||3375104)>>16&255)/255,h=(n>>8&255)/255,l=(255&n)/255,c=[.3,.59,.11,0,0,o,s,a,t,0,u,h,l,e,0,o-u,s-h,a-l,0,0];this._loadMatrix(c,i)},e.prototype.night=function(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},n(e,[{key:"matrix",get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(i.Filter);e.default=o,o.prototype.grayscale=o.prototype.greyscale},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=a(r(83)),s=a(r(79));function a(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(r,n,a,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var h=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return h.blurXFilter=new o.default(r,n,a,u),h.blurYFilter=new s.default(r,n,a,u),h.padding=0,h.resolution=a||i.settings.RESOLUTION,h.quality=n||4,h.blur=r||8,h}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r){var n=t.getRenderTarget(!0);this.blurXFilter.apply(t,e,n,!0),this.blurYFilter.apply(t,n,r,!1),t.returnRenderTarget(n)},n(e,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},set:function(t){this.blurYFilter._blendMode=t}}]),e}(i.Filter);e.default=u},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));r(7);var o=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=new i.Matrix;r.renderable=!1;var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));return s.maskSprite=r,s.maskMatrix=o,s.uniforms.mapSampler=r._texture,s.uniforms.filterMatrix=o,s.uniforms.scale={x:1,y:1},null!==n&&void 0!==n||(n=20),s.scale=new i.Point(n,n),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.apply=function(t,e,r){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,t.applyFilter(this,e,r)},n(e,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t}}]),e}(i.Filter);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));r(7);var o=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random();!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));return i.noise=r,i.seed=n,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t}}]),e}(i.Filter);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));r(7);var i=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(n.Filter);e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var n=r(180);Object.defineProperty(e,"FXAAFilter",{enumerable:!0,get:function(){return c(n).default}});var i=r(179);Object.defineProperty(e,"NoiseFilter",{enumerable:!0,get:function(){return c(i).default}});var o=r(178);Object.defineProperty(e,"DisplacementFilter",{enumerable:!0,get:function(){return c(o).default}});var s=r(177);Object.defineProperty(e,"BlurFilter",{enumerable:!0,get:function(){return c(s).default}});var a=r(83);Object.defineProperty(e,"BlurXFilter",{enumerable:!0,get:function(){return c(a).default}});var u=r(79);Object.defineProperty(e,"BlurYFilter",{enumerable:!0,get:function(){return c(u).default}});var h=r(176);Object.defineProperty(e,"ColorMatrixFilter",{enumerable:!0,get:function(){return c(h).default}});var l=r(175);function c(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"AlphaFilter",{enumerable:!0,get:function(){return c(l).default}})},function(t,e,r){"use strict";var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));n.DisplayObject.prototype.getGlobalPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new n.Point,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t}},function(t,e,r){"use strict";var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));n.DisplayObject.prototype.name=null,n.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},function(t,e,r){"use strict";var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),i=a(r(8)),o=a(r(10)),s=r(2);function a(t){return t&&t.__esModule?t:{default:t}}var u=n.DisplayObject,h=new n.Matrix;u.prototype._cacheAsBitmap=!1,u.prototype._cacheData=!1;var l=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(u.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e=void 0;t?(this._cacheData||(this._cacheData=new l),(e=this._cacheData).originalRenderWebGL=this.renderWebGL,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this._calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=e.originalRenderWebGL,this.renderCanvas=e.originalRenderCanvas,this._calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}}),u.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(t))},u.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.currentRenderer.flush();var r=this.getLocalBounds().clone();if(this._filters){var a=this._filters[0].padding;r.pad(a)}var u=t._activeRenderTarget,l=t.filterManager.filterStack,c=n.RenderTexture.create(0|r.width,0|r.height),f="cacheAsBitmap_"+(0,s.uid)();this._cacheData.textureCacheId=f,o.default.addToCache(c.baseTexture,f),i.default.addToCache(c,f);var d=h;d.tx=-r.x,d.ty=-r.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,t.render(this,c,!0,d,!0),t.bindRenderTarget(u),t.filterManager.filterStack=l,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this._mask=null,this.filterArea=null;var p=new n.Sprite(c);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-r.x/r.width,p.anchor.y=-r.y/r.height,p.alpha=e,p._bounds=this._bounds,this._calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=p.containsPoint.bind(p)}},u.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(t))},u.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),r=this.alpha;this.alpha=1;var a=t.context,u=n.RenderTexture.create(0|e.width,0|e.height),l="cacheAsBitmap_"+(0,s.uid)();this._cacheData.textureCacheId=l,o.default.addToCache(u.baseTexture,l),i.default.addToCache(u,l);var c=h;this.transform.localTransform.copy(c),c.invert(),c.tx-=e.x,c.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,u,!0,c,!1),t.context=a,this.renderCanvas=this._renderCachedCanvas,this._calculateBounds=this._calculateCachedBounds,this._mask=null,this.filterArea=null;var f=new n.Sprite(u);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-e.x/e.width,f.anchor.y=-e.y/e.height,f._bounds=this._bounds,f.alpha=r,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.updateTransform=this.displayObjectUpdateTransform,this._cacheData.sprite=f,this.containsPoint=f.containsPoint.bind(f)}},u.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()},u.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},u.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,o.default.removeFromCache(this._cacheData.textureCacheId),i.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},u.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),o=u(r(117)),s=r(2),a=u(r(3));function u(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return i._textWidth=0,i._textHeight=0,i._glyphs=[],i._font={tint:void 0!==n.tint?n.tint:16777215,align:n.align||"left",name:null,size:0},i.font=n.font,i._text=r,i._maxWidth=0,i._maxLineHeight=0,i._anchor=new o.default(function(){i.dirty=!0},i,0,0),i.dirty=!1,i.updateText(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateText=function(){for(var t=e.fonts[this._font.name],r=this._font.size/t.size,n=new i.Point,o=[],s=[],a=null,u=0,h=0,l=0,c=-1,f=0,d=0,p=0,v=0;v<this.text.length;v++){var y=this.text.charCodeAt(v);if(/(\s)/.test(this.text.charAt(v))&&(c=v,f=u),/(?:\r\n|\r|\n)/.test(this.text.charAt(v)))s.push(u),h=Math.max(h,u),l++,n.x=0,n.y+=t.lineHeight,a=null;else if(-1!==c&&this._maxWidth>0&&n.x*r>this._maxWidth)i.utils.removeItems(o,c-d,v-c),v=c,c=-1,++d,s.push(f),h=Math.max(h,f),l++,n.x=0,n.y+=t.lineHeight,a=null;else{var g=t.chars[y];g&&(a&&g.kerning[a]&&(n.x+=g.kerning[a]),o.push({texture:g.texture,line:l,charCode:y,position:new i.Point(n.x+g.xOffset,n.y+g.yOffset)}),u=n.x+(g.texture.width+g.xOffset),n.x+=g.xAdvance,p=Math.max(p,g.yOffset+g.texture.height),a=y)}}s.push(u),h=Math.max(h,u);for(var m=[],_=0;_<=l;_++){var b=0;"right"===this._font.align?b=h-s[_]:"center"===this._font.align&&(b=(h-s[_])/2),m.push(b)}for(var x=o.length,T=this.tint,w=0;w<x;w++){var E=this._glyphs[w];E?E.texture=o[w].texture:(E=new i.Sprite(o[w].texture),this._glyphs.push(E)),E.position.x=(o[w].position.x+m[o[w].line])*r,E.position.y=o[w].position.y*r,E.scale.x=E.scale.y=r,E.tint=T,E.parent||this.addChild(E)}for(var S=x;S<this._glyphs.length;++S)this.removeChild(this._glyphs[S]);if(this._textWidth=h*r,this._textHeight=(n.y+t.lineHeight)*r,0!==this.anchor.x||0!==this.anchor.y)for(var O=0;O<x;O++)this._glyphs[O].x-=this._textWidth*this.anchor.x,this._glyphs[O].y-=this._textHeight*this.anchor.y;this._maxLineHeight=p*r},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},e.registerFont=function(t,r){var n={},o=t.getElementsByTagName("info")[0],u=t.getElementsByTagName("common")[0],h=t.getElementsByTagName("page")[0].getAttribute("file"),l=(0,s.getResolutionOfUrl)(h,a.default.RESOLUTION);n.font=o.getAttribute("face"),n.size=parseInt(o.getAttribute("size"),10),n.lineHeight=parseInt(u.getAttribute("lineHeight"),10)/l,n.chars={};for(var c=t.getElementsByTagName("char"),f=0;f<c.length;f++){var d=c[f],p=parseInt(d.getAttribute("id"),10),v=new i.Rectangle(parseInt(d.getAttribute("x"),10)/l+r.frame.x/l,parseInt(d.getAttribute("y"),10)/l+r.frame.y/l,parseInt(d.getAttribute("width"),10)/l,parseInt(d.getAttribute("height"),10)/l);n.chars[p]={xOffset:parseInt(d.getAttribute("xoffset"),10)/l,yOffset:parseInt(d.getAttribute("yoffset"),10)/l,xAdvance:parseInt(d.getAttribute("xadvance"),10)/l,kerning:{},texture:new i.Texture(r.baseTexture,v)}}for(var y=t.getElementsByTagName("kerning"),g=0;g<y.length;g++){var m=y[g],_=parseInt(m.getAttribute("first"),10)/l,b=parseInt(m.getAttribute("second"),10)/l,x=parseInt(m.getAttribute("amount"),10)/l;n.chars[b]&&(n.chars[b].kerning[_]=x)}return e.fonts[n.font]=n,n},n(e,[{key:"tint",get:function(){return this._font.tint},set:function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copy(t)}},{key:"font",get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):e.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),e}(i.Container);e.default=h,h.fonts={}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),i=r(0);r(7);var o=new n.Matrix,s=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.shader=null,n.simpleShader=null,n.quad=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new n.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n"),this.simpleShader=new n.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n"),this.renderer.bindVao(null),this.quad=new n.Quad(t,this.renderer.state.attribState),this.quad.initVao(this.shader)},e.prototype.render=function(t){var e=this.renderer,r=this.quad;e.bindVao(r.vao);var s=r.vertices;s[0]=s[6]=t._width*-t.anchor.x,s[1]=s[3]=t._height*-t.anchor.y,s[2]=s[4]=t._width*(1-t.anchor.x),s[5]=s[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((s=r.uvs)[0]=s[6]=-t.anchor.x,s[1]=s[3]=-t.anchor.y,s[2]=s[4]=1-t.anchor.x,s[5]=s[7]=1-t.anchor.y),r.upload();var a=t._texture,u=a.baseTexture,h=t.tileTransform.localTransform,l=t.uvTransform,c=u.isPowerOfTwo&&a.frame.width===u.width&&a.frame.height===u.height;c&&(u._glTextures[e.CONTEXT_UID]?c=u.wrapMode!==i.WRAP_MODES.CLAMP:u.wrapMode===i.WRAP_MODES.CLAMP&&(u.wrapMode=i.WRAP_MODES.REPEAT));var f=c?this.simpleShader:this.shader;e.bindShader(f);var d=a.width,p=a.height,v=t._width,y=t._height;o.set(h.a*d/v,h.b*d/y,h.c*p/v,h.d*p/y,h.tx/v,h.ty/y),o.invert(),c?o.prepend(l.mapCoord):(f.uniforms.uMapCoord=l.mapCoord.toArray(!0),f.uniforms.uClampFrame=l.uClampFrame,f.uniforms.uClampOffset=l.uClampOffset),f.uniforms.uTransform=o.toArray(!0),f.uniforms.uColor=n.utils.premultiplyTintToRgba(t.tint,t.worldAlpha,f.uniforms.uColor,u.premultipliedAlpha),f.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),f.uniforms.uSampler=e.bindTexture(a),e.setBlendMode(n.utils.correctBlendMode(t.blendMode,u.premultipliedAlpha)),r.vao.draw(this.renderer.gl.TRIANGLES,6,0)},e}(n.ObjectRenderer);e.default=s,n.WebGLRenderer.registerPlugin("tilingSprite",s)},function(t,e,r){"use strict";e.__esModule=!0;var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),s=r(30),a=(n=s)&&n.__esModule?n:{default:n};var u=new o.Point,h=function(t){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return s.tileTransform=new o.TransformStatic,s._width=n,s._height=i,s._canvasPattern=null,s.uvTransform=r.transform||new o.TextureMatrix(r),s.pluginName="tilingSprite",s.uvRespectAnchor=!1,s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215},e.prototype._renderWebGL=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var r=t.context,n=this.worldTransform,i=t.resolution,s=e.baseTexture,u=s.resolution,h=this.tilePosition.x/this.tileScale.x%e._frame.width*u,l=this.tilePosition.y/this.tileScale.y%e._frame.height*u;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var c=new o.CanvasRenderTarget(e._frame.width,e._frame.height,u);16777215!==this.tint?(this.tintedTexture=a.default.getTintedTexture(this,this.tint),c.context.drawImage(this.tintedTexture,0,0)):c.context.drawImage(s.source,-e._frame.x*u,-e._frame.y*u),this.cachedTint=this.tint,this._canvasPattern=c.context.createPattern(c.canvas,"repeat")}r.globalAlpha=this.worldAlpha,r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),t.setBlendMode(this.blendMode),r.fillStyle=this._canvasPattern,r.scale(this.tileScale.x/u,this.tileScale.y/u);var f=this.anchor.x*-this._width,d=this.anchor.y*-this._height;this.uvRespectAnchor?(r.translate(h,l),r.fillRect(-h+f,-l+d,this._width/this.tileScale.x*u,this._height/this.tileScale.y*u)):(r.translate(h+f,l+d),r.fillRect(-h,-l,this._width/this.tileScale.x*u,this._height/this.tileScale.y*u))}},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,n)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._x),e||(this._localBoundsRect||(this._localBoundsRect=new o.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,u);var e=this._width,r=this._height,n=-e*this.anchor._x;if(u.x>=n&&u.x<n+e){var i=-r*this.anchor._y;if(u.y>=i&&u.y<i+r)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvTransform=null},e.from=function(t,r,n){return new e(o.Texture.from(t),r,n)},e.fromFrame=function(t,r,n){var i=o.utils.TextureCache[t];if(!i)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new e(i,r,n)},e.fromImage=function(t,r,n,i,s){return new e(o.Texture.fromImage(t,i,s),r,n)},i(e,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(t){this.uvTransform.clampMargin=t,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copy(t)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copy(t)}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}}]),e}(o.Sprite);e.default=h},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));var o=function(t){function e(r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r[0]instanceof i.Texture?r[0]:r[0].texture));return o._textures=null,o._durations=null,o.textures=r,o._autoUpdate=!1!==n,o.animationSpeed=1,o.loop=!0,o.onComplete=null,o.onFrameChange=null,o.onLoop=null,o._currentTime=0,o.playing=!1,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&i.ticker.shared.remove(this.update,this))},e.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&i.ticker.shared.add(this.update,this,i.UPDATE_PRIORITY.HIGH))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var n=this._currentTime%1*this._durations[this.currentFrame];for(n+=e/60*1e3;n<0;)this._currentTime--,n+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r?this.onLoop():this.animationSpeed<0&&this.currentFrame>r&&this.onLoop()),this.updateTexture())},e.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.onFrameChange&&this.onFrameChange(this.currentFrame)},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e)},e.fromFrames=function(t){for(var r=[],n=0;n<t.length;++n)r.push(i.Texture.fromFrame(t[n]));return new e(r)},e.fromImages=function(t){for(var r=[],n=0;n<t.length;++n)r.push(i.Texture.fromImage(t[n]));return new e(r)},n(e,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(t){if(t[0]instanceof i.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}}]),e}(i.Sprite);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));var i=new n.Rectangle,o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,r=void 0,o=void 0,s=void 0,a=void 0;t&&(a=t instanceof n.RenderTexture?t:e.generateTexture(t)),a?(r=a.baseTexture._canvasRenderTarget.context,o=a.baseTexture._canvasRenderTarget.resolution,s=a.frame):(r=e.rootContext,(s=i).width=this.renderer.width,s.height=this.renderer.height);var u=s.width*o,h=s.height*o,l=new n.CanvasRenderTarget(u,h),c=r.getImageData(s.x*o,s.y*o,u,h);return l.context.putImageData(c,0,0),l.canvas},t.prototype.pixels=function(t){var e=this.renderer,r=void 0,o=void 0,s=void 0,a=void 0;return t&&(a=t instanceof n.RenderTexture?t:e.generateTexture(t)),a?(r=a.baseTexture._canvasRenderTarget.context,o=a.baseTexture._canvasRenderTarget.resolution,s=a.frame):(r=e.rootContext,(s=i).width=e.width,s.height=e.height),r.getImageData(0,0,s.width*o,s.height*o).data},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();e.default=o,n.CanvasRenderer.registerPlugin("extract",o)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1));var i=new n.Rectangle,o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,r=void 0,o=void 0,s=void 0,a=!1,u=void 0,h=!1;t&&(t instanceof n.RenderTexture?u=t:(u=this.renderer.generateTexture(t),h=!0)),u?(o=(r=u.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,s=u.frame,a=!1):(o=(r=this.renderer.rootRenderTarget).resolution,a=!0,(s=i).width=r.size.width,s.height=r.size.height);var l=s.width*o,c=s.height*o,f=new n.CanvasRenderTarget(l,c);if(r){e.bindRenderTarget(r);var d=new Uint8Array(4*l*c),p=e.gl;p.readPixels(s.x*o,s.y*o,l,c,p.RGBA,p.UNSIGNED_BYTE,d);var v=f.context.getImageData(0,0,l,c);v.data.set(d),f.context.putImageData(v,0,0),a&&(f.context.scale(1,-1),f.context.drawImage(f.canvas,0,-c))}return h&&u.destroy(!0),f.canvas},t.prototype.pixels=function(t){var e=this.renderer,r=void 0,o=void 0,s=void 0,a=void 0,u=!1;t&&(t instanceof n.RenderTexture?a=t:(a=this.renderer.generateTexture(t),u=!0)),a?(o=(r=a.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,s=a.frame):(o=(r=this.renderer.rootRenderTarget).resolution,(s=i).width=r.size.width,s.height=r.size.height);var h=s.width*o,l=s.height*o,c=new Uint8Array(4*h*l);if(r){e.bindRenderTarget(r);var f=e.gl;f.readPixels(s.x*o,s.y*o,h,l,f.RGBA,f.UNSIGNED_BYTE,c)}return u&&a.destroy(!0),c},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();e.default=o,n.WebGLRenderer.registerPlugin("extract",o)},function(t,e,r){"use strict";e.__esModule=!0;var n=r(190);Object.defineProperty(e,"webgl",{enumerable:!0,get:function(){return o(n).default}});var i=r(189);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"canvas",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(1)),i=s(r(37)),o=s(r(85));function s(t){return t&&t.__esModule?t:{default:t}}n.utils.mixins.delayMixin(n.DisplayObject.prototype,o.default);var a=100,u=0,h=0,l=2,c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!i.default.tablet&&!i.default.phone||navigator.isCocoonJS||this.createTouchHook();var r=document.createElement("div");r.style.width=a+"px",r.style.height=a+"px",r.style.position="absolute",r.style.top=u+"px",r.style.left=h+"px",r.style.zIndex=l,this.div=r,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",function(){t.isMobileAccessabillity=!0,t.activate(),document.body.removeChild(e)}),document.body.appendChild(e)},t.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,r=e.length-1;r>=0;r--)this.updateAccessibleObjects(e[r])}},t.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,r=t.height/this.renderer.height,i=this.div;i.style.left=t.left+"px",i.style.top=t.top+"px",i.style.width=this.renderer.width+"px",i.style.height=this.renderer.height+"px";for(var o=0;o<this.children.length;o++){var s=this.children[o];if(s.renderId!==this.renderId)s._accessibleActive=!1,n.utils.removeItems(this.children,o,1),this.div.removeChild(s._accessibleDiv),this.pool.push(s._accessibleDiv),s._accessibleDiv=null,o--,0===this.children.length&&this.deactivate();else{i=s._accessibleDiv;var a=s.hitArea,u=s.worldTransform;s.hitArea?(i.style.left=(u.tx+a.x*u.a)*e+"px",i.style.top=(u.ty+a.y*u.d)*r+"px",i.style.width=a.width*u.a*e+"px",i.style.height=a.height*u.d*r+"px"):(a=s.getBounds(),this.capHitArea(a),i.style.left=a.x*e+"px",i.style.top=a.y*r+"px",i.style.width=a.width*e+"px",i.style.height=a.height*r+"px")}}this.renderId++}},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width=a+"px",e.style.height=a+"px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=l,e.style.borderStyle="none",e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleTitle||t.accessibleHint||(e.title="displayObject "+this.tabIndex),t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData)},t.prototype._onFocus=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},t.prototype._onFocusOut=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(){this.deactivate()},t.prototype.destroy=function(){this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();e.default=c,n.WebGLRenderer.registerPlugin("accessibility",c),n.CanvasRenderer.registerPlugin("accessibility",c)},function(t,e,r){"use strict";e.__esModule=!0;var n=r(85);Object.defineProperty(e,"accessibleTarget",{enumerable:!0,get:function(){return o(n).default}});var i=r(192);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"AccessibilityManager",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=t.mesh,r=t.particles,n=t.extras,o=t.filters,s=t.prepare,a=t.loaders,u=t.interaction;Object.defineProperties(t,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function(){return i("You do not need to use a PIXI Stage any more, you can simply render any container."),t.Container}},DisplayObjectContainer:{get:function(){return i("DisplayObjectContainer has been shortened to Container, please use Container from now on."),t.Container}},Strip:{get:function(){return i("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),e.Mesh}},Rope:{get:function(){return i("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),e.Rope}},ParticleContainer:{get:function(){return i("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),r.ParticleContainer}},MovieClip:{get:function(){return i("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),n.AnimatedSprite}},TilingSprite:{get:function(){return i("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),n.TilingSprite}},BitmapText:{get:function(){return i("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),n.BitmapText}},blendModes:{get:function(){return i("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),t.BLEND_MODES}},scaleModes:{get:function(){return i("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),t.SCALE_MODES}},BaseTextureCache:{get:function(){return i("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),t.utils.BaseTextureCache}},TextureCache:{get:function(){return i("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),t.utils.TextureCache}},math:{get:function(){return i("The math namespace is deprecated, please access members already accessible on PIXI."),t}},AbstractFilter:{get:function(){return i("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.Filter}},TransformManual:{get:function(){return i("TransformManual has been renamed to TransformBase, please update your pixi-spine"),t.TransformBase}},TARGET_FPMS:{get:function(){return i("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS},set:function(e){i("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS=e}},FILTER_RESOLUTION:{get:function(){return i("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION},set:function(e){i("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION=e}},RESOLUTION:{get:function(){return i("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION},set:function(e){i("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION=e}},MIPMAP_TEXTURES:{get:function(){return i("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES},set:function(e){i("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES=e}},SPRITE_BATCH_SIZE:{get:function(){return i("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE},set:function(e){i("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE=e}},SPRITE_MAX_TEXTURES:{get:function(){return i("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES},set:function(e){i("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES=e}},RETINA_PREFIX:{get:function(){return i("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX},set:function(e){i("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX=e}},DEFAULT_RENDER_OPTIONS:{get:function(){return i("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),t.settings.RENDER_OPTIONS}}});for(var h=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],l=function(e){var r=h[e];Object.defineProperty(t[r.parent],"DEFAULT",{get:function(){return i("PIXI."+r.parent+".DEFAULT has been deprecated, please use PIXI.settings."+r.target),t.settings[r.target]},set:function(e){i("PIXI."+r.parent+".DEFAULT has been deprecated, please use PIXI.settings."+r.target),t.settings[r.target]=e}})},c=0;c<h.length;c++)l(c);Object.defineProperties(t.settings,{PRECISION:{get:function(){return i("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT},set:function(e){i("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT=e}}}),n.AnimatedSprite&&Object.defineProperties(n,{MovieClip:{get:function(){return i("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),n.AnimatedSprite}}});n&&Object.defineProperties(n,{TextureTransform:{get:function(){return i("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on."),t.TextureMatrix}}});t.DisplayObject.prototype.generateTexture=function(t,e,r){return i("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),t.generateTexture(this,e,r)},t.Graphics.prototype.generateTexture=function(t,e){return i("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(t,e)},t.GroupD8.isSwapWidthHeight=function(e){return i("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical"),t.GroupD8.isVertical(e)},t.RenderTexture.prototype.render=function(t,e,r,n){this.legacyRenderer.render(t,this,r,e,!n),i("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},t.RenderTexture.prototype.getImage=function(t){return i("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(t)},t.RenderTexture.prototype.getBase64=function(t){return i("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(t)},t.RenderTexture.prototype.getCanvas=function(t){return i("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(t)},t.RenderTexture.prototype.getPixels=function(t){return i("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(t)},t.Sprite.prototype.setTexture=function(t){this.texture=t,i("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},n.BitmapText&&(n.BitmapText.prototype.setText=function(t){this.text=t,i("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")});t.Text.prototype.setText=function(t){this.text=t,i("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},t.Text.calculateFontProperties=function(e){return i("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"),t.TextMetrics.measureFont(e)},Object.defineProperties(t.Text,{fontPropertiesCache:{get:function(){return i("Text.fontPropertiesCache is deprecated"),t.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return i("Text.fontPropertiesCanvas is deprecated"),t.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return i("Text.fontPropertiesContext is deprecated"),t.TextMetrics._context}}}),t.Text.prototype.setStyle=function(t){this.style=t,i("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},t.Text.prototype.determineFontProperties=function(e){return i("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"),t.TextMetrics.measureFont(e)},t.Text.getFontStyle=function(e){return i("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"),(e=e||{})instanceof t.TextStyle||(e=new t.TextStyle(e)),e.toFontString()},Object.defineProperties(t.TextStyle.prototype,{font:{get:function(){i("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var t="number"==typeof this._fontSize?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+t+" "+this._fontFamily},set:function(t){i("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),t.indexOf("italic")>1?this._fontStyle="italic":t.indexOf("oblique")>-1?this._fontStyle="oblique":this._fontStyle="normal",t.indexOf("small-caps")>-1?this._fontVariant="small-caps":this._fontVariant="normal";var e=t.split(" "),r=-1;this._fontSize=26;for(var n=0;n<e.length;++n)if(e[n].match(/(px|pt|em|%)/)){r=n,this._fontSize=e[n];break}this._fontWeight="normal";for(var o=0;o<r;++o)if(e[o].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=e[o];break}if(r>-1&&r<e.length-1){this._fontFamily="";for(var s=r+1;s<e.length;++s)this._fontFamily+=e[s]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),t.Texture.prototype.setFrame=function(t){this.frame=t,i("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},t.Texture.addTextureToCache=function(e,r){t.Texture.addToCache(e,r),i("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")},t.Texture.removeTextureFromCache=function(e){return i("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"),t.BaseTexture.removeFromCache(e),t.Texture.removeFromCache(e)},Object.defineProperties(o,{AbstractFilter:{get:function(){return i("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.AbstractFilter}},SpriteMaskFilter:{get:function(){return i("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),t.SpriteMaskFilter}},VoidFilter:{get:function(){return i("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter"),o.AlphaFilter}}}),t.utils.uuid=function(){return i("utils.uuid() is deprecated, please use utils.uid() from now on."),t.utils.uid()},t.utils.canUseNewCanvasBlendModes=function(){return i("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),t.CanvasTinter.canUseMultiply};var f=!0;Object.defineProperty(t.utils,"_saidHello",{set:function(t){t&&(i("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),f=t},get:function(){return f}}),s.BasePrepare&&(s.BasePrepare.prototype.register=function(t,e){return i("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"),t&&this.registerFindHook(t),e&&this.registerUploadHook(e),this});s.canvas&&Object.defineProperty(s.canvas,"UPLOADS_PER_FRAME",{set:function(){i("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return i("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}});s.webgl&&Object.defineProperty(s.webgl,"UPLOADS_PER_FRAME",{set:function(){i("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return i("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}});if(a.Loader){var d=a.Resource,p=a.Loader;Object.defineProperties(d.prototype,{isJson:{get:function(){return i("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),this.type===d.TYPE.JSON}},isXml:{get:function(){return i("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),this.type===d.TYPE.XML}},isImage:{get:function(){return i("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),this.type===d.TYPE.IMAGE}},isAudio:{get:function(){return i("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),this.type===d.TYPE.AUDIO}},isVideo:{get:function(){return i("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),this.type===d.TYPE.VIDEO}}}),Object.defineProperties(p.prototype,{before:{get:function(){return i("The before() method is deprecated, please use pre()."),this.pre}},after:{get:function(){return i("The after() method is deprecated, please use use()."),this.use}}})}u.interactiveTarget&&Object.defineProperty(u.interactiveTarget,"defaultCursor",{set:function(t){i("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=t},get:function(){return i("Property defaultCursor has been replaced with 'cursor'. "),this.cursor}});u.InteractionManager&&(Object.defineProperty(u.InteractionManager,"defaultCursorStyle",{set:function(t){i("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default=t},get:function(){return i("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default}}),Object.defineProperty(u.InteractionManager,"currentCursorStyle",{set:function(t){i("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=t},get:function(){return i("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode}}))};var n={};function i(t){if(!n[t]){var e=(new Error).stack;void 0===e?console.warn("Deprecation Warning: ",t):(e=e.split("\n").splice(3).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t),console.warn(e),console.groupEnd()):(console.warn("Deprecation Warning: ",t),console.warn(e))),n[t]=!0}}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(1),o=r(2);var s=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.baseTexture=e,this.textures={},this.data=r,this.resolution=this._updateResolution(n||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return n(t,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]),t.prototype._updateResolution=function(t){var e=this.data.meta.scale,r=(0,o.getResolutionOfUrl)(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&(this.baseTexture.resolution=r,this.baseTexture.update()),r},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var r=e,n=t.BATCH_SIZE,o=this.baseTexture.sourceScale;r-e<n&&r<this._frameKeys.length;){var s=this._frameKeys[r],a=this._frames[s],u=a.frame;if(u){var h=null,l=null,c=!1!==a.trimmed&&a.sourceSize?a.sourceSize:a.frame,f=new i.Rectangle(0,0,Math.floor(c.w*o)/this.resolution,Math.floor(c.h*o)/this.resolution);h=a.rotated?new i.Rectangle(Math.floor(u.x*o)/this.resolution,Math.floor(u.y*o)/this.resolution,Math.floor(u.h*o)/this.resolution,Math.floor(u.w*o)/this.resolution):new i.Rectangle(Math.floor(u.x*o)/this.resolution,Math.floor(u.y*o)/this.resolution,Math.floor(u.w*o)/this.resolution,Math.floor(u.h*o)/this.resolution),!1!==a.trimmed&&a.spriteSourceSize&&(l=new i.Rectangle(Math.floor(a.spriteSourceSize.x*o)/this.resolution,Math.floor(a.spriteSourceSize.y*o)/this.resolution,Math.floor(u.w*o)/this.resolution,Math.floor(u.h*o)/this.resolution)),this.textures[s]=new i.Texture(this.baseTexture,h,f,l,a.rotated?2:0),i.Texture.addToCache(this.textures[s],s)}r++}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():e._parseComplete()},0)},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(17),o=(n=i)&&n.__esModule?n:{default:n},s=r(0);var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,r=e.context,n=t.worldAlpha,i=t.transform.worldTransform,o=e.resolution;this._prevTint!==this.tint&&(this.dirty=!0),r.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*o,i.ty*o),t.dirty&&(this.updateGraphicsTint(t),t.dirty=!1),e.setBlendMode(t.blendMode);for(var a=0;a<t.graphicsData.length;a++){var u=t.graphicsData[a],h=u.shape,l=u._fillTint,c=u._lineTint;if(r.lineWidth=u.lineWidth,u.type===s.SHAPES.POLY){r.beginPath(),this.renderPolygon(h.points,h.closed,r);for(var f=0;f<u.holes.length;f++)this.renderPolygon(u.holes[f].points,!0,r);u.fill&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}else if(u.type===s.SHAPES.RECT)(u.fillColor||0===u.fillColor)&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fillRect(h.x,h.y,h.width,h.height)),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.strokeRect(h.x,h.y,h.width,h.height));else if(u.type===s.SHAPES.CIRC)r.beginPath(),r.arc(h.x,h.y,h.radius,0,2*Math.PI),r.closePath(),u.fill&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke());else if(u.type===s.SHAPES.ELIP){var d=2*h.width,p=2*h.height,v=h.x-d/2,y=h.y-p/2;r.beginPath();var g=d/2*.5522848,m=p/2*.5522848,_=v+d,b=y+p,x=v+d/2,T=y+p/2;r.moveTo(v,T),r.bezierCurveTo(v,T-m,x-g,y,x,y),r.bezierCurveTo(x+g,y,_,T-m,_,T),r.bezierCurveTo(_,T+m,x+g,b,x,b),r.bezierCurveTo(x-g,b,v,T+m,v,T),r.closePath(),u.fill&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}else if(u.type===s.SHAPES.RREC){var w=h.x,E=h.y,S=h.width,O=h.height,M=h.radius,P=Math.min(S,O)/2|0;M=M>P?P:M,r.beginPath(),r.moveTo(w,E+M),r.lineTo(w,E+O-M),r.quadraticCurveTo(w,E+O,w+M,E+O),r.lineTo(w+S-M,E+O),r.quadraticCurveTo(w+S,E+O,w+S,E+O-M),r.lineTo(w+S,E+M),r.quadraticCurveTo(w+S,E,w+S-M,E),r.lineTo(w+M,E),r.quadraticCurveTo(w,E,w,E+M),r.closePath(),(u.fillColor||0===u.fillColor)&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}}},t.prototype.updateGraphicsTint=function(t){t._prevTint=t.tint;for(var e=(t.tint>>16&255)/255,r=(t.tint>>8&255)/255,n=(255&t.tint)/255,i=0;i<t.graphicsData.length;++i){var o=t.graphicsData[i],s=0|o.fillColor,a=0|o.lineColor;o._fillTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*r*255<<8)+(255&s)/255*n*255,o._lineTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*r*255<<8)+(255&a)/255*n*255}},t.prototype.renderPolygon=function(t,e,r){r.moveTo(t[0],t[1]);for(var n=1;n<t.length/2;++n)r.lineTo(t[2*n],t[2*n+1]);e&&r.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();e.default=a,o.default.registerPlugin("graphics",a)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){var n=t.shape,i=n.x,u=n.y,h=void 0,l=void 0;t.type===s.SHAPES.CIRC?(h=n.radius,l=n.radius):(h=n.width,l=n.height);if(0===h||0===l)return;var c=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(n.width+n.height)),f=2*Math.PI/c;if(t.fill){var d=(0,a.hex2rgb)(t.fillColor),p=t.fillAlpha,v=d[0]*p,y=d[1]*p,g=d[2]*p,m=e.points,_=e.indices,b=m.length/6;_.push(b);for(var x=0;x<c+1;x++)m.push(i,u,v,y,g,p),m.push(i+Math.sin(f*x)*h,u+Math.cos(f*x)*l,v,y,g,p),_.push(b++,b++);_.push(b-1)}if(t.lineWidth){var T=t.points;t.points=[];for(var w=0;w<c+1;w++)t.points.push(i+Math.sin(f*w)*h,u+Math.cos(f*w)*l);(0,o.default)(t,e,r),t.points=T}};var n,i=r(20),o=(n=i)&&n.__esModule?n:{default:n},s=r(0),a=r(2)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){var s=t.shape,a=s.x,h=s.y,l=s.width,c=s.height,f=s.radius,d=[];if(d.push(a,h+f),u(a,h+c-f,a,h+c,a+f,h+c,d),u(a+l-f,h+c,a+l,h+c,a+l,h+c-f,d),u(a+l,h+f,a+l,h,a+l-f,h,d),u(a+f,h,a,h,a,h+f+1e-10,d),t.fill){for(var p=(0,o.hex2rgb)(t.fillColor),v=t.fillAlpha,y=p[0]*v,g=p[1]*v,m=p[2]*v,_=e.points,b=e.indices,x=_.length/6,T=(0,n.default)(d,null,2),w=0,E=T.length;w<E;w+=3)b.push(T[w]+x),b.push(T[w]+x),b.push(T[w+1]+x),b.push(T[w+2]+x),b.push(T[w+2]+x);for(var S=0,O=d.length;S<O;S++)_.push(d[S],d[++S],y,g,m,v)}if(t.lineWidth){var M=t.points;t.points=d,(0,i.default)(t,e,r),t.points=M}};var n=s(r(35)),i=s(r(20)),o=r(2);function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){return t+(e-t)*r}function u(t,e,r,n,i,o){for(var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],u=0,h=0,l=0,c=0,f=0,d=0,p=0,v=0;p<=20;++p)u=a(t,r,v=p/20),h=a(e,n,v),l=a(r,i,v),c=a(n,o,v),f=a(u,l,v),d=a(h,c,v),s.push(f,d);return s}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){var n=t.shape,i=n.x,a=n.y,u=n.width,h=n.height;if(t.fill){var l=(0,s.hex2rgb)(t.fillColor),c=t.fillAlpha,f=l[0]*c,d=l[1]*c,p=l[2]*c,v=e.points,y=e.indices,g=v.length/6;v.push(i,a),v.push(f,d,p,c),v.push(i+u,a),v.push(f,d,p,c),v.push(i,a+h),v.push(f,d,p,c),v.push(i+u,a+h),v.push(f,d,p,c),y.push(g,g,g+1,g+2,g+3,g+3)}if(t.lineWidth){var m=t.points;t.points=[i,a,i+u,a,i+u,a+h,i,a+h,i,a],(0,o.default)(t,e,r),t.points=m}};var n,i=r(20),o=(n=i)&&n.__esModule?n:{default:n},s=r(2)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){t.points=t.shape.points.slice();var s=t.points;if(t.fill&&s.length>=6){for(var a=[],u=t.holes,h=0;h<u.length;h++){var l=u[h];a.push(s.length/2),s=s.concat(l.points)}var c=e.points,f=e.indices,d=s.length/2,p=(0,i.hex2rgb)(t.fillColor),v=t.fillAlpha,y=p[0]*v,g=p[1]*v,m=p[2]*v,_=(0,o.default)(s,a,2);if(!_)return;for(var b=c.length/6,x=0;x<_.length;x+=3)f.push(_[x]+b),f.push(_[x]+b),f.push(_[x+1]+b),f.push(_[x+2]+b),f.push(_[x+2]+b);for(var T=0;T<d;T++)c.push(s[2*T],s[2*T+1],y,g,m,v)}t.lineWidth>0&&(0,n.default)(t,e,r)};var n=s(r(20)),i=r(2),o=s(r(35));function s(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(15);var o=function(t){function e(r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n")))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((n=i)&&n.__esModule?n:{default:n}).default);e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(6),o=(n=i)&&n.__esModule?n:{default:n};var s=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gl=e,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=o.default.GLBuffer.createVertexBuffer(e),this.indexBuffer=o.default.GLBuffer.createIndexBuffer(e),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=r,this.vao=new o.default.VertexArrayObject(e,n).addIndex(this.indexBuffer).addAttribute(this.buffer,r.attributes.aVertexPosition,e.FLOAT,!1,24,0).addAttribute(this.buffer,r.attributes.aColor,e.FLOAT,!1,24,8)}return t.prototype.reset=function(){this.points.length=0,this.indices.length=0},t.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},t.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=r(2),i=r(0),o=d(r(23)),s=d(r(22)),a=d(r(202)),u=d(r(201)),h=d(r(200)),l=d(r(199)),c=d(r(198)),f=d(r(197));function d(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.graphicsDataPool=[],n.primitiveShader=null,n.gl=r.gl,n.CONTEXT_UID=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new u.default(this.gl)},e.prototype.destroy=function(){o.default.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},e.prototype.render=function(t){var e=this.renderer,r=e.gl,i=void 0,o=t._webGL[this.CONTEXT_UID];o&&t.dirty===o.dirty||(this.updateGraphics(t),o=t._webGL[this.CONTEXT_UID]);var s=this.primitiveShader;e.bindShader(s),e.state.setBlendMode(t.blendMode);for(var a=0,u=o.data.length;a<u;a++){var h=(i=o.data[a]).shader;e.bindShader(h),h.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),h.uniforms.tint=(0,n.hex2rgb)(t.tint),h.uniforms.alpha=t.worldAlpha,e.bindVao(i.vao),i.nativeLines?r.drawArrays(r.LINES,0,i.points.length/6):i.vao.draw(r.TRIANGLE_STRIP,i.indices.length)}},e.prototype.updateGraphics=function(t){var e=this.renderer.gl,r=t._webGL[this.CONTEXT_UID];if(r||(r=t._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:e,clearDirty:-1,dirty:-1}),r.dirty=t.dirty,t.clearDirty!==r.clearDirty){r.clearDirty=t.clearDirty;for(var n=0;n<r.data.length;n++)this.graphicsDataPool.push(r.data[n]);r.data.length=0,r.lastIndex=0}for(var o=void 0,s=void 0,a=r.lastIndex;a<t.graphicsData.length;a++){var u=t.graphicsData[a];o=this.getWebGLData(r,0),u.nativeLines&&u.lineWidth&&(s=this.getWebGLData(r,0,!0),r.lastIndex++),u.type===i.SHAPES.POLY&&(0,h.default)(u,o,s),u.type===i.SHAPES.RECT?(0,l.default)(u,o,s):u.type===i.SHAPES.CIRC||u.type===i.SHAPES.ELIP?(0,f.default)(u,o,s):u.type===i.SHAPES.RREC&&(0,c.default)(u,o,s),r.lastIndex++}this.renderer.bindVao(null);for(var d=0;d<r.data.length;d++)(o=r.data[d]).dirty&&o.upload()},e.prototype.getWebGLData=function(t,e,r){var n=t.data[t.data.length-1];return(!n||n.nativeLines!==r||n.points.length>32e4)&&((n=this.graphicsDataPool.pop()||new a.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState)).nativeLines=r,n.reset(e),t.data.push(n)),n.dirty=!0,n},e}(o.default);e.default=p,s.default.registerPlugin("graphics",p)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r,n,i,o,s,a){var u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[],h=0,l=0,c=0,f=0,d=0;u.push(t,e);for(var p=1,v=0;p<=20;++p)c=(l=(h=1-(v=p/20))*h)*h,d=(f=v*v)*v,u.push(c*t+3*l*v*r+3*h*f*i+d*s,c*e+3*l*v*n+3*h*f*o+d*a);return u}},function(t,e,r){"use strict";e.__esModule=!0;var n=p(r(18)),i=p(r(31)),o=p(r(8)),s=p(r(88)),a=p(r(34)),u=r(4),h=r(2),l=r(0),c=p(r(38)),f=p(r(204)),d=p(r(17));function p(t){return t&&t.__esModule?t:{default:t}}var v=void 0,y=new u.Matrix,g=new u.Point,m=new Float32Array(4),_=new Float32Array(4),b=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n.fillAlpha=1,n.lineWidth=0,n.nativeLines=r,n.lineColor=0,n.graphicsData=[],n.tint=16777215,n._prevTint=16777215,n.blendMode=l.BLEND_MODES.NORMAL,n.currentPath=null,n._webGL={},n.isMask=!1,n.boundsPadding=0,n._localBounds=new c.default,n.dirty=0,n.fastRectDirty=-1,n.clearDirty=0,n.boundsDirty=-1,n.cachedSpriteDirty=!1,n._spriteRect=null,n._fastRect=!1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.clone=function(){var t=new e;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var r=0;r<this.graphicsData.length;++r)t.graphicsData.push(this.graphicsData[r].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},e.prototype.lineStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.lineWidth=t,this.lineColor=e,this.lineAlpha=r,this.currentPath)if(this.currentPath.shape.points.length){var n=new u.Polygon(this.currentPath.shape.points.slice(-2));n.closed=!1,this.drawShape(n)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha;return this},e.prototype.moveTo=function(t,e){var r=new u.Polygon([t,e]);return r.closed=!1,this.drawShape(r),this},e.prototype.lineTo=function(t,e){return this.currentPath.shape.points.push(t,e),this.dirty++,this},e.prototype.quadraticCurveTo=function(t,e,r,n){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var i=this.currentPath.shape.points,o=0,s=0;0===i.length&&this.moveTo(0,0);for(var a=i[i.length-2],u=i[i.length-1],h=1;h<=20;++h){var l=h/20;o=a+(t-a)*l,s=u+(e-u)*l,i.push(o+(t+(r-t)*l-o)*l,s+(e+(n-e)*l-s)*l)}return this.dirty++,this},e.prototype.bezierCurveTo=function(t,e,r,n,i,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var s=this.currentPath.shape.points,a=s[s.length-2],u=s[s.length-1];return s.length-=2,(0,f.default)(a,u,t,e,r,n,i,o,s),this.dirty++,this},e.prototype.arcTo=function(t,e,r,n,i){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,s=o[o.length-2],a=o[o.length-1]-e,u=s-t,h=n-e,l=r-t,c=Math.abs(a*l-u*h);if(c<1e-8||0===i)o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e);else{var f=a*a+u*u,d=h*h+l*l,p=a*h+u*l,v=i*Math.sqrt(f)/c,y=i*Math.sqrt(d)/c,g=v*p/f,m=y*p/d,_=v*l+y*u,b=v*h+y*a,x=u*(y+g),T=a*(y+g),w=l*(v+m),E=h*(v+m),S=Math.atan2(T-b,x-_),O=Math.atan2(E-b,w-_);this.arc(_+t,b+e,i,S,O,u*h>l*a)}return this.dirty++,this},e.prototype.arc=function(t,e,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(n===i)return this;!o&&i<=n?i+=l.PI_2:o&&n<=i&&(n+=l.PI_2);var s=i-n,a=40*Math.ceil(Math.abs(s)/l.PI_2);if(0===s)return this;var u=t+Math.cos(n)*r,h=e+Math.sin(n)*r,c=this.currentPath?this.currentPath.shape.points:null;c?c[c.length-2]===u&&c[c.length-1]===h||c.push(u,h):(this.moveTo(u,h),c=this.currentPath.shape.points);for(var f=s/(2*a),d=2*f,p=Math.cos(f),v=Math.sin(f),y=a-1,g=y%1/y,m=0;m<=y;++m){var _=f+n+d*(m+g*m),b=Math.cos(_),x=-Math.sin(_);c.push((p*b+v*x)*r+t,(p*-x+v*b)*r+e)}return this.dirty++,this},e.prototype.beginFill=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=t,this.fillAlpha=e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},e.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},e.prototype.drawRect=function(t,e,r,n){return this.drawShape(new u.Rectangle(t,e,r,n)),this},e.prototype.drawRoundedRect=function(t,e,r,n,i){return this.drawShape(new u.RoundedRectangle(t,e,r,n,i)),this},e.prototype.drawCircle=function(t,e,r){return this.drawShape(new u.Circle(t,e,r)),this},e.prototype.drawEllipse=function(t,e,r,n){return this.drawShape(new u.Ellipse(t,e,r,n)),this},e.prototype.drawPolygon=function(t){var e=t,r=!0;if(e instanceof u.Polygon&&(r=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;++n)e[n]=arguments[n]}var i=new u.Polygon(e);return i.closed=r,this.drawShape(i),this},e.prototype.drawStar=function(t,e,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;i=i||n/2;for(var s=-1*Math.PI/2+o,a=2*r,u=l.PI_2/a,h=[],c=0;c<a;c++){var f=c%2?i:n,d=c*u+s;h.push(t+f*Math.cos(d),e+f*Math.sin(d))}return this.drawPolygon(h)},e.prototype.clear=function(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.filling=!1,this.boundsDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},e.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===l.SHAPES.RECT&&!this.graphicsData[0].lineWidth},e.prototype._renderWebGL=function(t){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(t):(t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this))},e.prototype._renderSpriteRect=function(t){var e=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new a.default(new o.default(o.default.WHITE)));var r=this._spriteRect;if(16777215===this.tint)r.tint=this.graphicsData[0].fillColor;else{var n=m,i=_;(0,h.hex2rgb)(this.graphicsData[0].fillColor,n),(0,h.hex2rgb)(this.tint,i),n[0]*=i[0],n[1]*=i[1],n[2]*=i[2],r.tint=(0,h.rgb2hex)(n)}r.alpha=this.graphicsData[0].fillAlpha,r.worldAlpha=this.worldAlpha*r.alpha,r.blendMode=this.blendMode,r._texture._frame.width=e.width,r._texture._frame.height=e.height,r.transform.worldTransform=this.transform.worldTransform,r.anchor.set(-e.x/e.width,-e.y/e.height),r._onAnchorUpdate(),r._renderWebGL(t)},e.prototype._renderCanvas=function(t){!0!==this.isMask&&t.plugins.graphics.render(this)},e.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var t=this._localBounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,g);for(var e=this.graphicsData,r=0;r<e.length;++r){var n=e[r];if(n.fill&&(n.shape&&n.shape.contains(g.x,g.y))){if(n.holes)for(var i=0;i<n.holes.length;i++){if(n.holes[i].contains(g.x,g.y))return!1}return!0}}return!1},e.prototype.updateLocalBounds=function(){var t=1/0,e=-1/0,r=1/0,n=-1/0;if(this.graphicsData.length)for(var i=0,o=0,s=0,a=0,u=0,h=0;h<this.graphicsData.length;h++){var c=this.graphicsData[h],f=c.type,d=c.lineWidth;if(i=c.shape,f===l.SHAPES.RECT||f===l.SHAPES.RREC)o=i.x-d/2,s=i.y-d/2,a=i.width+d,u=i.height+d,t=o<t?o:t,e=o+a>e?o+a:e,r=s<r?s:r,n=s+u>n?s+u:n;else if(f===l.SHAPES.CIRC)o=i.x,s=i.y,a=i.radius+d/2,u=i.radius+d/2,t=o-a<t?o-a:t,e=o+a>e?o+a:e,r=s-u<r?s-u:r,n=s+u>n?s+u:n;else if(f===l.SHAPES.ELIP)o=i.x,s=i.y,a=i.width+d/2,u=i.height+d/2,t=o-a<t?o-a:t,e=o+a>e?o+a:e,r=s-u<r?s-u:r,n=s+u>n?s+u:n;else for(var p=i.points,v=0,y=0,g=0,m=0,_=0,b=0,x=0,T=0,w=0;w+2<p.length;w+=2)o=p[w],s=p[w+1],v=p[w+2],y=p[w+3],g=Math.abs(v-o),m=Math.abs(y-s),u=d,(a=Math.sqrt(g*g+m*m))<1e-9||(b=(u/a*g+m)/2,T=(y+s)/2,t=(x=(v+o)/2)-(_=(u/a*m+g)/2)<t?x-_:t,e=x+_>e?x+_:e,r=T-b<r?T-b:r,n=T+b>n?T+b:n)}else t=0,e=0,r=0,n=0;var E=this.boundsPadding;this._localBounds.minX=t-E,this._localBounds.maxX=e+E,this._localBounds.minY=r-E,this._localBounds.maxY=n+E},e.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new s.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,t);return this.graphicsData.push(e),e.type===l.SHAPES.POLY&&(e.shape.closed=e.shape.closed||this.filling,this.currentPath=e),this.dirty++,e},e.prototype.generateCanvasTexture=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this.getLocalBounds(),n=i.default.create(r.width,r.height,t,e);v||(v=new d.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(y),y.invert(),y.tx-=r.x,y.ty-=r.y,v.render(this,n,!0,y);var s=o.default.fromCanvas(n.baseTexture._canvasRenderTarget.canvas,t,"graphics");return s.baseTexture.resolution=e,s.baseTexture.update(),s},e.prototype.closePath=function(){var t=this.currentPath;return t&&t.shape&&t.shape.close(),this},e.prototype.addHole=function(){var t=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(t.shape),this.currentPath=null,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();for(var n in this._webgl)for(var i=0;i<this._webgl[n].data.length;++i)this._webgl[n].data[i].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null},e}(n.default);e.default=b,b._SPRITE_TEXTURE=null},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=t.width,r=t.height,n=t.getContext("2d"),i=n.getImageData(0,0,e,r).data,o=i.length,s={top:null,left:null,right:null,bottom:null},a=void 0,u=void 0,h=void 0;for(a=0;a<o;a+=4)0!==i[a+3]&&(u=a/4%e,h=~~(a/4/e),null===s.top&&(s.top=h),null===s.left?s.left=u:u<s.left&&(s.left=u),null===s.right?s.right=u+1:s.right<u&&(s.right=u+1),null===s.bottom?s.bottom=h:s.bottom<h&&(s.bottom=h));e=s.right-s.left,r=s.bottom-s.top+1;var l=n.getImageData(s.left,s.top,e,r);return{height:r,width:e,data:l}}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=d(r(34)),o=d(r(8)),s=r(4),a=r(2),u=r(0),h=d(r(3)),l=d(r(90)),c=d(r(89)),f=d(r(206));function d(t){return t&&t.__esModule?t:{default:t}}var p={texture:!0,children:!1,baseTexture:!0},v=function(t){function e(r,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=i||document.createElement("canvas")).width=3,i.height=3;var a=o.default.fromCanvas(i,h.default.SCALE_MODE,"text");a.orig=new s.Rectangle,a.trim=new s.Rectangle;var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,a));return o.default.addToCache(u._texture,u._texture.baseTexture.textureCacheIds[0]),u.canvas=i,u.context=u.canvas.getContext("2d"),u.resolution=h.default.RESOLUTION,u._text=null,u._style=null,u._styleListener=null,u._font="",u.text=r,u.style=n,u.localStyleID=-1,u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var r=this.context,n=c.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),i=n.width,o=n.height,s=n.lines,a=n.lineHeight,u=n.lineWidths,h=n.maxLineWidth,l=n.fontProperties;this.canvas.width=Math.ceil((Math.max(1,i)+2*e.padding)*this.resolution),this.canvas.height=Math.ceil((Math.max(1,o)+2*e.padding)*this.resolution),r.scale(this.resolution,this.resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.strokeStyle=e.stroke,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit;var f=void 0,d=void 0;if(e.dropShadow){r.fillStyle=e.dropShadowColor,r.globalAlpha=e.dropShadowAlpha,r.shadowBlur=e.dropShadowBlur,e.dropShadowBlur>0&&(r.shadowColor=e.dropShadowColor);for(var p=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,v=Math.sin(e.dropShadowAngle)*e.dropShadowDistance,y=0;y<s.length;y++)f=e.strokeThickness/2,d=e.strokeThickness/2+y*a+l.ascent,"right"===e.align?f+=h-u[y]:"center"===e.align&&(f+=(h-u[y])/2),e.fill&&(this.drawLetterSpacing(s[y],f+p+e.padding,d+v+e.padding),e.stroke&&e.strokeThickness&&(r.strokeStyle=e.dropShadowColor,this.drawLetterSpacing(s[y],f+p+e.padding,d+v+e.padding,!0),r.strokeStyle=e.stroke))}r.shadowBlur=0,r.globalAlpha=1,r.fillStyle=this._generateFillStyle(e,s);for(var g=0;g<s.length;g++)f=e.strokeThickness/2,d=e.strokeThickness/2+g*a+l.ascent,"right"===e.align?f+=h-u[g]:"center"===e.align&&(f+=(h-u[g])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(s[g],f+e.padding,d+e.padding,!0),e.fill&&this.drawLetterSpacing(s[g],f+e.padding,d+e.padding);this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this._style.letterSpacing;if(0!==i)for(var o=String.prototype.split.call(t,""),s=e,a=0,u="";a<t.length;)u=o[a++],n?this.context.strokeText(u,s,r):this.context.fillText(u,s,r),s+=this.context.measureText(u).width+i;else n?this.context.strokeText(t,e,r):this.context.fillText(t,e,r)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=(0,f.default)(t);t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0)}var r=this._texture,n=this._style,i=n.trim?0:n.padding,o=r.baseTexture;o.hasLoaded=!0,o.resolution=this.resolution,o.realWidth=t.width,o.realHeight=t.height,o.width=t.width/this.resolution,o.height=t.height/this.resolution,r.trim.width=r._frame.width=t.width/this.resolution,r.trim.height=r._frame.height=t.height/this.resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-2*i,r.orig.height=r._frame.height-2*i,this._onTextureUpdate(),o.emit("update",o),this.dirty=!1},e.prototype.renderWebGL=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype.renderWebGL.call(this,e)},e.prototype._renderCanvas=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._renderCanvas.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function(){this.dirty=!0},e.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(navigator.isCocoonJS)return t.fill[0];var r=void 0,n=void 0,i=void 0,o=void 0,s=this.canvas.width/this.resolution,a=this.canvas.height/this.resolution,h=t.fill.slice(),l=t.fillGradientStops.slice();if(!l.length)for(var c=h.length+1,f=1;f<c;++f)l.push(f/c);if(h.unshift(t.fill[0]),l.unshift(0),h.push(t.fill[t.fill.length-1]),l.push(1),t.fillGradientType===u.TEXT_GRADIENT.LINEAR_VERTICAL){r=this.context.createLinearGradient(s/2,0,s/2,a),n=(h.length+1)*e.length,i=0;for(var d=0;d<e.length;d++){i+=1;for(var p=0;p<h.length;p++)o="number"==typeof l[p]?l[p]/e.length+d/e.length:i/n,r.addColorStop(o,h[p]),i++}}else{r=this.context.createLinearGradient(0,a/2,s,a/2),n=h.length+1,i=1;for(var v=0;v<h.length;v++)o="number"==typeof l[v]?l[v]:i/n,r.addColorStop(o,h[v]),i++}return r},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},p,e),t.prototype.destroy.call(this,e),this.context=null,this.canvas=null,this._style=null},n(e,[{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,a.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,a.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"style",get:function(){return this._style},set:function(t){(t=t||{})instanceof l.default?this._style=t:this._style=new l.default(t),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(t){t=String(""===t||null===t||void 0===t?" ":t),this._text!==t&&(this._text=t,this.dirty=!0)}}]),e}(i.default);e.default=v},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vertices=new ArrayBuffer(e),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return t.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){var r=!e;if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(r){var n=document.createElement("canvas");n.width=1,n.height=1,e=o.default.createContext(n)}var i=e.createShader(e.FRAGMENT_SHADER);for(;;){var u=s.replace(/%forloop%/gi,a(t));if(e.shaderSource(i,u),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))break;t=t/2|0}r&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").loseContext();return t};var n,i=r(6),o=(n=i)&&n.__esModule?n:{default:n};var s=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function a(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){var r=s;r=(r=r.replace(/%count%/gi,e)).replace(/%forloop%/gi,function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(textureId == "+r+".0)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"}(e));for(var n=new o.default(t,"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",r),i=[],a=0;a<e;a++)i[a]=a;return n.bind(),n.uniforms.uSamplers=i,n};var n,i=r(15),o=(n=i)&&n.__esModule?n:{default:n};r(7);var s=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\n")},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[n.DRAW_MODES.POINTS]=t.POINTS,e[n.DRAW_MODES.LINES]=t.LINES,e[n.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,e[n.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,e[n.DRAW_MODES.TRIANGLES]=t.TRIANGLES,e[n.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,e[n.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN,e};var n=r(0)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e[n.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.ADD]=[t.ONE,t.DST_ALPHA],e[n.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR],e[n.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[n.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.DST_ALPHA,t.ONE,t.DST_ALPHA],e[n.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_COLOR],e};var n=r(0)},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(213),o=(n=i)&&n.__esModule?n:{default:n};var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=e,this.maxAttribs=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,o.default)(e),this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")}return t.prototype.push=function(){var t=this.stack[this.stackIndex];t||(t=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var e=0;e<this.activeState.length;e++)t[e]=this.activeState[e]},t.prototype.pop=function(){var t=this.stack[--this.stackIndex];this.setState(t)},t.prototype.setState=function(t){this.setBlend(t[0]),this.setDepthTest(t[1]),this.setFrontFace(t[2]),this.setCullFace(t[3]),this.setBlendMode(t[4])},t.prototype.setBlend=function(t){t=t?1:0,this.activeState[0]!==t&&(this.activeState[0]=t,this.gl[t?"enable":"disable"](this.gl.BLEND))},t.prototype.setBlendMode=function(t){if(t!==this.activeState[4]){this.activeState[4]=t;var e=this.blendModes[t];2===e.length?this.gl.blendFunc(e[0],e[1]):this.gl.blendFuncSeparate(e[0],e[1],e[2],e[3])}},t.prototype.setDepthTest=function(t){t=t?1:0,this.activeState[1]!==t&&(this.activeState[1]=t,this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST))},t.prototype.setCullFace=function(t){t=t?1:0,this.activeState[3]!==t&&(this.activeState[3]=t,this.gl[t?"enable":"disable"](this.gl.CULL_FACE))},t.prototype.setFrontFace=function(t){t=t?1:0,this.activeState[2]!==t&&(this.activeState[2]=t,this.gl.frontFace(this.gl[t?"CW":"CCW"]))},t.prototype.resetAttributes=function(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(var e=0;e<this.attribState.attribState.length;e++)this.attribState.attribState[e]=0;for(var r=1;r<this.maxAttribs;r++)this.gl.disableVertexAttribArray(r)},t.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(0),o=r(3),s=(n=o)&&n.__esModule?n:{default:n};var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=s.default.GC_MAX_IDLE,this.checkCountMax=s.default.GC_MAX_CHECK_COUNT,this.mode=s.default.GC_MODE}return t.prototype.update=function(){this.count++,this.mode!==i.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},t.prototype.run=function(){for(var t=this.renderer.textureManager,e=t._managedTextures,r=!1,n=0;n<e.length;n++){var i=e[n];!i._glRenderTargets&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[n]=null,r=!0)}if(r){for(var o=0,s=0;s<e.length;s++)null!==e[s]&&(e[o++]=e[s]);e.length=o}},t.prototype.unload=function(t){var e=this.renderer.textureManager;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture,!0);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},t}();e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(6),o=r(0),s=r(21),a=(n=s)&&n.__esModule?n:{default:n},u=r(2);var h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e,this.gl=e.gl,this._managedTextures=[]}return t.prototype.bindTexture=function(){},t.prototype.getTexture=function(){},t.prototype.updateTexture=function(t,e){var r=this.gl,n=!!t._glRenderTargets;if(!t.hasLoaded)return null;var s=this.renderer.boundTextures;if(void 0===e){e=0;for(var u=0;u<s.length;++u)if(s[u]===t){e=u;break}}s[e]=t,r.activeTexture(r.TEXTURE0+e);var h=t._glTextures[this.renderer.CONTEXT_UID];if(h)n?t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width,t.height):h.upload(t.source);else{if(n){var l=new a.default(this.gl,t.width,t.height,t.scaleMode,t.resolution);l.resize(t.width,t.height),t._glRenderTargets[this.renderer.CONTEXT_UID]=l,h=l.texture}else(h=new i.GLTexture(this.gl,null,null,null,null)).bind(e),h.premultiplyAlpha=!0,h.upload(t.source);t._glTextures[this.renderer.CONTEXT_UID]=h,t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this),this._managedTextures.push(t),t.isPowerOfTwo?(t.mipmap&&h.enableMipmap(),t.wrapMode===o.WRAP_MODES.CLAMP?h.enableWrapClamp():t.wrapMode===o.WRAP_MODES.REPEAT?h.enableWrapRepeat():h.enableWrapMirrorRepeat()):h.enableWrapClamp(),t.scaleMode===o.SCALE_MODES.NEAREST?h.enableNearestScaling():h.enableLinearScaling()}return h},t.prototype.destroyTexture=function(t,e){if((t=t.baseTexture||t).hasLoaded){var r=this.renderer.CONTEXT_UID,n=t._glTextures,i=t._glRenderTargets;if(n[r]&&(this.renderer.unbindTexture(t),n[r].destroy(),t.off("update",this.updateTexture,this),t.off("dispose",this.destroyTexture,this),delete n[r],!e)){var o=this._managedTextures.indexOf(t);-1!==o&&(0,u.removeItems)(this._managedTextures,o,1)}i&&i[r]&&(i[r].destroy(),delete i[r])}},t.prototype.removeAll=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.renderer.CONTEXT_UID]&&delete e._glTextures[this.renderer.CONTEXT_UID]}},t.prototype.destroy=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];this.destroyTexture(e,!0),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this)}this._managedTextures=null},t}();e.default=h},function(t,e,r){"use strict";e.__esModule=!0,e.calculateScreenSpaceMatrix=function(t,e,r){var n=t.identity();return n.translate(e.x/r.width,e.y/r.height),n.scale(r.width,r.height),n},e.calculateNormalizedScreenSpaceMatrix=function(t,e,r){var n=t.identity();n.translate(e.x/r.width,e.y/r.height);var i=r.width/e.width,o=r.height/e.height;return n.scale(i,o),n},e.calculateSpriteMatrix=function(t,e,r,i){var o=i._texture.orig,s=t.set(r.width,0,0,r.height,e.x,e.y),a=i.worldTransform.copy(n.Matrix.TEMP_MATRIX);return a.invert(),s.prepend(a),s.scale(1/o.width,1/o.height),s.translate(i.anchor.x,i.anchor.y),s};var n=r(4)},function(t,e,r){"use strict";e.__esModule=!0;var n=l(r(16)),i=l(r(21)),o=l(r(91)),s=r(4),a=l(r(15)),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(217)),h=l(r(33));function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var f=function t(){c(this,t),this.renderTarget=null,this.sourceFrame=new s.Rectangle,this.destinationFrame=new s.Rectangle,this.filters=[],this.target=null,this.resolution=1},d=function(t){function e(r){c(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.gl=n.renderer.gl,n.quad=new o.default(n.gl,r.state.attribState),n.shaderCache={},n.pool={},n.filterData=null,n.managedFilters=[],n.renderer.on("prerender",n.onPrerender,n),n._screenWidth=r.view.width,n._screenHeight=r.view.height,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pushFilter=function(t,e){var r=this.renderer,n=this.filterData;if(!n){n=this.renderer._activeRenderTarget.filterStack;var i=new f;i.sourceFrame=i.destinationFrame=this.renderer._activeRenderTarget.size,i.renderTarget=r._activeRenderTarget,this.renderer._activeRenderTarget.filterData=n={index:0,stack:[i]},this.filterData=n}var o=n.stack[++n.index],s=n.stack[0].destinationFrame;o||(o=n.stack[n.index]=new f);var a=t.filterArea&&0===t.filterArea.x&&0===t.filterArea.y&&t.filterArea.width===r.screen.width&&t.filterArea.height===r.screen.height,u=e[0].resolution,h=0|e[0].padding,l=a?r.screen:t.filterArea||t.getBounds(!0),c=o.sourceFrame,d=o.destinationFrame;c.x=(l.x*u|0)/u,c.y=(l.y*u|0)/u,c.width=(l.width*u|0)/u,c.height=(l.height*u|0)/u,a||(n.stack[0].renderTarget.transform||e[0].autoFit&&c.fit(s),c.pad(h)),d.width=c.width,d.height=c.height;var p=this.getPotRenderTarget(r.gl,c.width,c.height,u);o.target=t,o.filters=e,o.resolution=u,o.renderTarget=p,p.setFrame(d,c),r.bindRenderTarget(p),p.clear()},e.prototype.popFilter=function(){var t=this.filterData,e=t.stack[t.index-1],r=t.stack[t.index];this.quad.map(r.renderTarget.size,r.sourceFrame).upload();var n=r.filters;if(1===n.length)n[0].apply(this,r.renderTarget,e.renderTarget,!1,r),this.freePotRenderTarget(r.renderTarget);else{var i=r.renderTarget,o=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,r.resolution);o.setFrame(r.destinationFrame,r.sourceFrame),o.clear();var s=0;for(s=0;s<n.length-1;++s){n[s].apply(this,i,o,!0,r);var a=i;i=o,o=a}n[s].apply(this,i,e.renderTarget,!1,r),this.freePotRenderTarget(i),this.freePotRenderTarget(o)}t.index--,0===t.index&&(this.filterData=null)},e.prototype.applyFilter=function(t,e,r,n){var i=this.renderer,o=i.gl,s=t.glShaders[i.CONTEXT_UID];s||(t.glShaderKey?(s=this.shaderCache[t.glShaderKey])||(s=new a.default(this.gl,t.vertexSrc,t.fragmentSrc),t.glShaders[i.CONTEXT_UID]=this.shaderCache[t.glShaderKey]=s,this.managedFilters.push(t)):(s=t.glShaders[i.CONTEXT_UID]=new a.default(this.gl,t.vertexSrc,t.fragmentSrc),this.managedFilters.push(t)),i.bindVao(null),this.quad.initVao(s)),i.bindVao(this.quad.vao),i.bindRenderTarget(r),n&&(o.disable(o.SCISSOR_TEST),i.clear(),o.enable(o.SCISSOR_TEST)),r===i.maskManager.scissorRenderTarget&&i.maskManager.pushScissorMask(null,i.maskManager.scissorData),i.bindShader(s);var u=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=u,this.syncUniforms(s,t),i.state.setBlendMode(t.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,e.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,u._glTextures[this.renderer.CONTEXT_UID].texture)},e.prototype.syncUniforms=function(t,e){var r=e.uniformData,n=e.uniforms,i=1,o=void 0;if(t.uniforms.filterArea){o=this.filterData.stack[this.filterData.index];var s=t.uniforms.filterArea;s[0]=o.renderTarget.size.width,s[1]=o.renderTarget.size.height,s[2]=o.sourceFrame.x,s[3]=o.sourceFrame.y,t.uniforms.filterArea=s}if(t.uniforms.filterClamp){o=o||this.filterData.stack[this.filterData.index];var a=t.uniforms.filterClamp;a[0]=0,a[1]=0,a[2]=(o.sourceFrame.width-1)/o.renderTarget.size.width,a[3]=(o.sourceFrame.height-1)/o.renderTarget.size.height,t.uniforms.filterClamp=a}for(var u in r){var h=r[u].type;if("sampler2d"===h&&0!==n[u]){if(n[u].baseTexture)t.uniforms[u]=this.renderer.bindTexture(n[u].baseTexture,i);else{t.uniforms[u]=i;var l=this.renderer.gl;this.renderer.boundTextures[i]=this.renderer.emptyTextures[i],l.activeTexture(l.TEXTURE0+i),n[u].texture.bind()}i++}else if("mat3"===h)void 0!==n[u].a?t.uniforms[u]=n[u].toArray(!0):t.uniforms[u]=n[u];else if("vec2"===h)if(void 0!==n[u].x){var c=t.uniforms[u]||new Float32Array(2);c[0]=n[u].x,c[1]=n[u].y,t.uniforms[u]=c}else t.uniforms[u]=n[u];else"float"===h?t.uniforms.data[u].value!==r[u]&&(t.uniforms[u]=n[u]):t.uniforms[u]=n[u]}},e.prototype.getRenderTarget=function(t,e){var r=this.filterData.stack[this.filterData.index],n=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,e||r.resolution);return n.setFrame(r.destinationFrame,r.sourceFrame),n},e.prototype.returnRenderTarget=function(t){this.freePotRenderTarget(t)},e.prototype.calculateScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return u.calculateScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size)},e.prototype.calculateNormalizedScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return u.calculateNormalizedScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size,e.destinationFrame)},e.prototype.calculateSpriteMatrix=function(t,e){var r=this.filterData.stack[this.filterData.index];return u.calculateSpriteMatrix(t,r.sourceFrame,r.renderTarget.size,e)},e.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.renderer,r=this.managedFilters;e.off("prerender",this.onPrerender,this);for(var n=0;n<r.length;n++)t||r[n].glShaders[e.CONTEXT_UID].destroy(),delete r[n].glShaders[e.CONTEXT_UID];this.shaderCache={},t?this.pool={}:this.emptyPool()},e.prototype.getPotRenderTarget=function(t,e,r,n){var o="screen";r*=n,(e*=n)===this._screenWidth&&r===this._screenHeight||(o=(65535&(e=h.default.nextPow2(e)))<<16|65535&(r=h.default.nextPow2(r))),this.pool[o]||(this.pool[o]=[]);var s=this.pool[o].pop();if(!s){var a=this.renderer.boundTextures[0];t.activeTexture(t.TEXTURE0),s=new i.default(t,e,r,null,1),t.bindTexture(t.TEXTURE_2D,a._glTextures[this.renderer.CONTEXT_UID].texture)}return s.resolution=n,s.defaultFrame.width=s.size.width=e/n,s.defaultFrame.height=s.size.height=r/n,s},e.prototype.emptyPool=function(){for(var t in this.pool){var e=this.pool[t];if(e)for(var r=0;r<e.length;r++)e[r].destroy(!0)}this.pool={}},e.prototype.freePotRenderTarget=function(t){var e=t.size.width*t.resolution,r=t.size.height*t.resolution,n="screen";e===this._screenWidth&&r===this._screenHeight||(n=(65535&e)<<16|65535&r),this.pool[n].push(t)},e.prototype.onPrerender=function(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width,this._screenHeight=this.renderer.view.height;var t=this.pool.screen;if(t)for(var e=0;e<t.length;e++)t[e].destroy(!0);this.pool.screen=[]}},e}(n.default);e.default=d},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(16),o=(n=i)&&n.__esModule?n:{default:n};var s=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.stencilMaskStack=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},e.prototype.pushStencil=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var e=this.renderer.gl,r=this.stencilMaskStack.length;0===r&&e.enable(e.STENCIL_TEST),this.stencilMaskStack.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,r,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.INCR),this.renderer.plugins.graphics.render(t),this._useCurrent()},e.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var t=this.renderer.gl,e=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),this.renderer.plugins.graphics.render(e),this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},e.prototype.destroy=function(){o.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},e}(o.default);e.default=s},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e,r){var n=s(t),i=s(e);return Object.assign(n,i)};var n,i=r(6);var o=((n=i)&&n.__esModule?n:{default:n}).default.shader.defaultValue;function s(t){for(var e=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),r={},n=void 0,i=t.replace(/\s+/g," ").split(/\s*;\s*/),s=0;s<i.length;s++){var a=i[s].trim();if(a.indexOf("uniform")>-1){var u=a.split(" "),h=u[1],l=u[2],c=1;l.indexOf("[")>-1&&(l=(n=l.split(/\[|]/))[0],c*=Number(n[1])),l.match(e)||(r[l]={value:o(h,c),name:l,type:h})}}return r}},function(t,e,r){"use strict";e.__esModule=!0;var n=o(r(16)),i=o(r(95));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));return n.scissor=!1,n.scissorData=null,n.scissorRenderTarget=null,n.enableScissor=!0,n.alphaMaskPool=[],n.alphaMaskIndex=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.pushMask=function(t,e){if(e.texture)this.pushSpriteMask(t,e);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&e.isFastRect()){var r=e.worldTransform,n=Math.atan2(r.b,r.a);(n=Math.round(n*(180/Math.PI)))%90?this.pushStencilMask(e):this.pushScissorMask(t,e)}else this.pushStencilMask(e)},e.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)},e.prototype.pushSpriteMask=function(t,e){var r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new i.default(e)]),r[0].resolution=this.renderer.resolution,r[0].maskSprite=e,t.filterArea=e.getBounds(!0),this.renderer.filterManager.pushFilter(t,r),this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},e.prototype.pushStencilMask=function(t){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(t)},e.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},e.prototype.pushScissorMask=function(t,e){e.renderable=!0;var r=this.renderer._activeRenderTarget,n=e.getBounds();n.fit(r.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var i=this.renderer.resolution;this.renderer.gl.scissor(n.x*i,(r.root?r.size.height-n.y-n.height:n.y)*i,n.width*i,n.height*i),this.scissorRenderTarget=r,this.scissorData=e,this.scissor=!0},e.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},e}(n.default);e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=d(r(23)),i=d(r(22)),o=d(r(29)),s=d(r(210)),a=d(r(209)),u=d(r(208)),h=d(r(3)),l=r(2),c=d(r(6)),f=d(r(33));function d(t){return t&&t.__esModule?t:{default:t}}var p=0,v=0,y=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r));n.vertSize=5,n.vertByteSize=4*n.vertSize,n.size=h.default.SPRITE_BATCH_SIZE,n.buffers=[];for(var i=1;i<=f.default.nextPow2(n.size);i*=2)n.buffers.push(new u.default(4*i*n.vertByteSize));n.indices=(0,o.default)(n.size),n.shader=null,n.currentIndex=0,n.groups=[];for(var s=0;s<n.size;s++)n.groups[s]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return n.sprites=[],n.vertexBuffers=[],n.vaos=[],n.vaoMax=2,n.vertexCount=0,n.renderer.on("prerender",n.onPrerender,n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),h.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,a.default)(this.MAX_TEXTURES,t)),this.shader=(0,s.default)(t,this.MAX_TEXTURES),this.indexBuffer=c.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.renderer.bindVao(null);for(var e=this.shader.attributes,r=0;r<this.vaoMax;r++){var n=this.vertexBuffers[r]=c.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),i=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(n,e.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(n,e.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(n,e.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);e.aTextureId&&i.addAttribute(n,e.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[r]=i}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},e.prototype.onPrerender=function(){this.vertexCount=0},e.prototype.render=function(t){this.currentIndex>=this.size&&this.flush(),t._texture._uvs&&(this.sprites[this.currentIndex++]=t)},e.prototype.flush=function(){if(0!==this.currentIndex){var t=this.renderer.gl,e=this.MAX_TEXTURES,r=f.default.nextPow2(this.currentIndex),n=f.default.log2(r),i=this.buffers[n],o=this.sprites,s=this.groups,a=i.float32View,u=i.uint32View,d=this.boundTextures,y=this.renderer.boundTextures,g=this.renderer.textureGC.count,m=0,_=void 0,b=void 0,x=1,T=0,w=s[0],E=void 0,S=void 0,O=l.premultiplyBlendMode[o[0]._texture.baseTexture.premultipliedAlpha?1:0][o[0].blendMode];w.textureCount=0,w.start=0,w.blend=O,p++;var M=void 0;for(M=0;M<e;++M){var P=y[M];P._enabled!==p?(d[M]=P,P._virtalBoundId=M,P._enabled=p):d[M]=this.renderer.emptyTextures[M]}for(p++,M=0;M<this.currentIndex;++M){var C=o[M];_=C._texture.baseTexture;var A=l.premultiplyBlendMode[Number(_.premultipliedAlpha)][C.blendMode];if(O!==A&&(O=A,b=null,T=e,p++),b!==_&&(b=_,_._enabled!==p)){if(T===e&&(p++,w.size=M-w.start,T=0,(w=s[x++]).blend=O,w.textureCount=0,w.start=M),_.touched=g,-1===_._virtalBoundId)for(var R=0;R<e;++R){var I=(R+v)%e,D=d[I];if(D._enabled!==p){v++,D._virtalBoundId=-1,_._virtalBoundId=I,d[I]=_;break}}_._enabled=p,w.textureCount++,w.ids[T]=_._virtalBoundId,w.textures[T++]=_}if(E=C.vertexData,S=C._texture._uvs.uvsUint32,this.renderer.roundPixels){var L=this.renderer.resolution;a[m]=(E[0]*L|0)/L,a[m+1]=(E[1]*L|0)/L,a[m+5]=(E[2]*L|0)/L,a[m+6]=(E[3]*L|0)/L,a[m+10]=(E[4]*L|0)/L,a[m+11]=(E[5]*L|0)/L,a[m+15]=(E[6]*L|0)/L,a[m+16]=(E[7]*L|0)/L}else a[m]=E[0],a[m+1]=E[1],a[m+5]=E[2],a[m+6]=E[3],a[m+10]=E[4],a[m+11]=E[5],a[m+15]=E[6],a[m+16]=E[7];u[m+2]=S[0],u[m+7]=S[1],u[m+12]=S[2],u[m+17]=S[3];var N=Math.min(C.worldAlpha,1),k=N<1&&_.premultipliedAlpha?(0,l.premultiplyTint)(C._tintRGB,N):C._tintRGB+(255*N<<24);u[m+3]=u[m+8]=u[m+13]=u[m+18]=k,a[m+4]=a[m+9]=a[m+14]=a[m+19]=_._virtalBoundId,m+=20}if(w.size=M-w.start,h.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var F=this.shader.attributes,j=this.vertexBuffers[this.vertexCount]=c.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),B=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(j,F.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(j,F.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(j,F.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);F.aTextureId&&B.addAttribute(j,F.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=B}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!1),this.vertexCount++}for(M=0;M<e;++M)y[M]._virtalBoundId=-1;for(M=0;M<x;++M){for(var U=s[M],X=U.textureCount,H=0;H<X;H++)b=U.textures[H],y[U.ids[H]]!==b&&this.renderer.bindTexture(b,U.ids[H],!0),b._virtalBoundId=-1;this.renderer.state.setBlendMode(U.blend),t.drawElements(t.TRIANGLES,6*U.size,t.UNSIGNED_SHORT,6*U.start*2)}this.currentIndex=0}},e.prototype.start=function(){this.renderer.bindShader(this.shader),h.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this.vaoMax;e++)this.vertexBuffers[e]&&this.vertexBuffers[e].destroy(),this.vaos[e]&&this.vaos[e].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var r=0;r<this.buffers.length;++r)this.buffers[r].destroy()},e}(n.default);e.default=y,i.default.registerPlugin("sprite",y)},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,s.default)()?(t[i.BLEND_MODES.NORMAL]="source-over",t[i.BLEND_MODES.ADD]="lighter",t[i.BLEND_MODES.MULTIPLY]="multiply",t[i.BLEND_MODES.SCREEN]="screen",t[i.BLEND_MODES.OVERLAY]="overlay",t[i.BLEND_MODES.DARKEN]="darken",t[i.BLEND_MODES.LIGHTEN]="lighten",t[i.BLEND_MODES.COLOR_DODGE]="color-dodge",t[i.BLEND_MODES.COLOR_BURN]="color-burn",t[i.BLEND_MODES.HARD_LIGHT]="hard-light",t[i.BLEND_MODES.SOFT_LIGHT]="soft-light",t[i.BLEND_MODES.DIFFERENCE]="difference",t[i.BLEND_MODES.EXCLUSION]="exclusion",t[i.BLEND_MODES.HUE]="hue",t[i.BLEND_MODES.SATURATION]="saturate",t[i.BLEND_MODES.COLOR]="color",t[i.BLEND_MODES.LUMINOSITY]="luminosity"):(t[i.BLEND_MODES.NORMAL]="source-over",t[i.BLEND_MODES.ADD]="lighter",t[i.BLEND_MODES.MULTIPLY]="source-over",t[i.BLEND_MODES.SCREEN]="source-over",t[i.BLEND_MODES.OVERLAY]="source-over",t[i.BLEND_MODES.DARKEN]="source-over",t[i.BLEND_MODES.LIGHTEN]="source-over",t[i.BLEND_MODES.COLOR_DODGE]="source-over",t[i.BLEND_MODES.COLOR_BURN]="source-over",t[i.BLEND_MODES.HARD_LIGHT]="source-over",t[i.BLEND_MODES.SOFT_LIGHT]="source-over",t[i.BLEND_MODES.DIFFERENCE]="source-over",t[i.BLEND_MODES.EXCLUSION]="source-over",t[i.BLEND_MODES.HUE]="source-over",t[i.BLEND_MODES.SATURATION]="source-over",t[i.BLEND_MODES.COLOR]="source-over",t[i.BLEND_MODES.LUMINOSITY]="source-over");return t[i.BLEND_MODES.NORMAL_NPM]=t[i.BLEND_MODES.NORMAL],t[i.BLEND_MODES.ADD_NPM]=t[i.BLEND_MODES.ADD],t[i.BLEND_MODES.SCREEN_NPM]=t[i.BLEND_MODES.SCREEN],t};var n,i=r(0),o=r(96),s=(n=o)&&n.__esModule?n:{default:n}},function(t,e,r){"use strict";e.__esModule=!0;var n=r(0);var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.pushMask=function(t){var e=this.renderer;e.context.save();var r=t.alpha,n=t.transform.worldTransform,i=e.resolution;e.context.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),t._texture||(this.renderGraphicsShape(t),e.context.clip()),t.worldAlpha=r},t.prototype.renderGraphicsShape=function(t){var e=this.renderer.context,r=t.graphicsData.length;if(0!==r){e.beginPath();for(var i=0;i<r;i++){var o=t.graphicsData[i],s=o.shape;if(o.type===n.SHAPES.POLY){var a=s.points;e.moveTo(a[0],a[1]);for(var u=1;u<a.length/2;u++)e.lineTo(a[2*u],a[2*u+1]);a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&e.closePath()}else if(o.type===n.SHAPES.RECT)e.rect(s.x,s.y,s.width,s.height),e.closePath();else if(o.type===n.SHAPES.CIRC)e.arc(s.x,s.y,s.radius,0,2*Math.PI),e.closePath();else if(o.type===n.SHAPES.ELIP){var h=2*s.width,l=2*s.height,c=s.x-h/2,f=s.y-l/2,d=h/2*.5522848,p=l/2*.5522848,v=c+h,y=f+l,g=c+h/2,m=f+l/2;e.moveTo(c,m),e.bezierCurveTo(c,m-p,g-d,f,g,f),e.bezierCurveTo(g+d,f,v,m-p,v,m),e.bezierCurveTo(v,m+p,g+d,y,g,y),e.bezierCurveTo(g-d,y,c,m+p,c,m),e.closePath()}else if(o.type===n.SHAPES.RREC){var _=s.x,b=s.y,x=s.width,T=s.height,w=s.radius,E=Math.min(x,T)/2|0;w=w>E?E:w,e.moveTo(_,b+w),e.lineTo(_,b+T-w),e.quadraticCurveTo(_,b+T,_+w,b+T),e.lineTo(_+x-w,b+T),e.quadraticCurveTo(_+x,b+T,_+x,b+T-w),e.lineTo(_+x,b+w),e.quadraticCurveTo(_+x,b,_+x-w,b),e.lineTo(_+w,b),e.quadraticCurveTo(_,b,_,b+w),e.closePath()}}}},t.prototype.popMask=function(t){t.context.restore(),t.invalidateBlendMode()},t.prototype.destroy=function(){},t}();e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var n=a(r(17)),i=r(0),o=r(4),s=a(r(30));function a(t){return t&&t.__esModule?t:{default:t}}var u=new o.Matrix,h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=e}return t.prototype.render=function(t){var e=t._texture,r=this.renderer,n=e._frame.width,a=e._frame.height,h=t.transform.worldTransform,l=0,c=0;if(!(e.orig.width<=0||e.orig.height<=0)&&e.baseTexture.source&&(r.setBlendMode(t.blendMode),e.valid)){r.context.globalAlpha=t.worldAlpha;var f=e.baseTexture.scaleMode===i.SCALE_MODES.LINEAR;r.smoothProperty&&r.context[r.smoothProperty]!==f&&(r.context[r.smoothProperty]=f),e.trim?(l=e.trim.width/2+e.trim.x-t.anchor.x*e.orig.width,c=e.trim.height/2+e.trim.y-t.anchor.y*e.orig.height):(l=(.5-t.anchor.x)*e.orig.width,c=(.5-t.anchor.y)*e.orig.height),e.rotate&&(h.copy(u),h=u,o.GroupD8.matrixAppendRotationInv(h,e.rotate,l,c),l=0,c=0),l-=n/2,c-=a/2,r.roundPixels?(r.context.setTransform(h.a,h.b,h.c,h.d,h.tx*r.resolution|0,h.ty*r.resolution|0),l|=0,c|=0):r.context.setTransform(h.a,h.b,h.c,h.d,h.tx*r.resolution,h.ty*r.resolution);var d=e.baseTexture.resolution;16777215!==t.tint?(t.cachedTint===t.tint&&t.tintedTexture.tintId===t._texture._updateID||(t.cachedTint=t.tint,t.tintedTexture=s.default.getTintedTexture(t,t.tint)),r.context.drawImage(t.tintedTexture,0,0,n*d,a*d,l*r.resolution,c*r.resolution,n*r.resolution,a*r.resolution)):r.context.drawImage(e.baseTexture.source,e._frame.x*d,e._frame.y*d,n*d,a*d,l*r.resolution,c*r.resolution,n*r.resolution,a*r.resolution)}},t.prototype.destroy=function(){this.renderer=null},t}();e.default=h,n.default.registerPlugin("sprite",h)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fn=e,this.context=r,this.priority=n,this.once=i,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return e=e||null,this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.previous;return this.next=t?null:e,this.previous=null,e},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=a(r(3)),o=r(0),s=a(r(226));function a(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._head=new s.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/i.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.UPDATE_PRIORITY.NORMAL;return this._addListener(new s.default(t,e,r))},t.prototype.addOnce=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.UPDATE_PRIORITY.NORMAL;return this._addListener(new s.default(t,e,r,!0))},t.prototype._addListener=function(t){var e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var r=this._head.next;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null},t.prototype.update=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now(),e=void 0;if(t>this.lastTime){(e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*i.default.TARGET_FPMS*this.speed;for(var r=this._head,n=r.next;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=t},n(t,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,i.default.TARGET_FPMS);this._maxElapsedMS=1/e}}]),t}();e.default=u},function(t,e,r){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,a){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?o(s(t),function(s){var a=encodeURIComponent(n(s))+r;return i(t[s])?o(t[s],function(t){return a+encodeURIComponent(n(t))}).join(e):a+encodeURIComponent(n(t[s]))}).join(e):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},function(t,e,r){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,o){e=e||"&",r=r||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var h=t.length;u>0&&h>u&&(h=u);for(var l=0;l<h;++l){var c,f,d,p,v=t[l].replace(a,"%20"),y=v.indexOf(r);y>=0?(c=v.substr(0,y),f=v.substr(y+1)):(c=v,f=""),d=decodeURIComponent(c),p=decodeURIComponent(f),n(s,d)?i(s[d])?s[d].push(p):s[d]=[s[d],p]:s[d]=p}return s};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,r){"use strict";e.decode=e.parse=r(229),e.encode=e.stringify=r(228)},function(t,e,r){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){(function(t,n){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){"object"==typeof e&&e&&e.nodeType,"object"==typeof t&&t&&t.nodeType;var s="object"==typeof n&&n;s.global!==s&&s.window!==s&&s.self;var a,u=2147483647,h=36,l=1,c=26,f=38,d=700,p=72,v=128,y="-",g=/^xn--/,m=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=h-l,T=Math.floor,w=String.fromCharCode;function E(t){throw new RangeError(b[t])}function S(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function O(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+S((t=t.replace(_,".")).split("."),e).join(".")}function M(t){for(var e,r,n=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function P(t){return S(t,function(t){var e="";return t>65535&&(e+=w((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=w(t)}).join("")}function C(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function A(t,e,r){var n=0;for(t=r?T(t/d):t>>1,t+=T(t/e);t>x*c>>1;n+=h)t=T(t/x);return T(n+(x+1)*t/(t+f))}function R(t){var e,r,n,i,o,s,a,f,d,g,m,_=[],b=t.length,x=0,w=v,S=p;for((r=t.lastIndexOf(y))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&E("not-basic"),_.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<b;){for(o=x,s=1,a=h;i>=b&&E("invalid-input"),((f=(m=t.charCodeAt(i++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:h)>=h||f>T((u-x)/s))&&E("overflow"),x+=f*s,!(f<(d=a<=S?l:a>=S+c?c:a-S));a+=h)s>T(u/(g=h-d))&&E("overflow"),s*=g;S=A(x-o,e=_.length+1,0==o),T(x/e)>u-w&&E("overflow"),w+=T(x/e),x%=e,_.splice(x++,0,w)}return P(_)}function I(t){var e,r,n,i,o,s,a,f,d,g,m,_,b,x,S,O=[];for(_=(t=M(t)).length,e=v,r=0,o=p,s=0;s<_;++s)(m=t[s])<128&&O.push(w(m));for(n=i=O.length,i&&O.push(y);n<_;){for(a=u,s=0;s<_;++s)(m=t[s])>=e&&m<a&&(a=m);for(a-e>T((u-r)/(b=n+1))&&E("overflow"),r+=(a-e)*b,e=a,s=0;s<_;++s)if((m=t[s])<e&&++r>u&&E("overflow"),m==e){for(f=r,d=h;!(f<(g=d<=o?l:d>=o+c?c:d-o));d+=h)S=f-g,x=h-g,O.push(w(C(g+S%x,0))),f=T(S/x);O.push(w(C(f,0))),o=A(r,b,n==i),r=0,++n}++r,++e}return O.join("")}a={version:"1.4.1",ucs2:{decode:M,encode:P},decode:R,encode:I,toASCII:function(t){return O(t,function(t){return m.test(t)?"xn--"+I(t):t})},toUnicode:function(t){return O(t,function(t){return g.test(t)?R(t.slice(4).toLowerCase()):t})}},void 0===(i=function(){return a}.call(e,r,e,t))||(t.exports=i)}()}).call(this,r(232)(t),r(43))},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[n.BLEND_MODES.NORMAL_NPM]=n.BLEND_MODES.NORMAL,t[n.BLEND_MODES.ADD_NPM]=n.BLEND_MODES.ADD,t[n.BLEND_MODES.SCREEN_NPM]=n.BLEND_MODES.SCREEN,e[n.BLEND_MODES.NORMAL]=n.BLEND_MODES.NORMAL_NPM,e[n.BLEND_MODES.ADD]=n.BLEND_MODES.ADD_NPM,e[n.BLEND_MODES.SCREEN]=n.BLEND_MODES.SCREEN_NPM;var i=[];return i.push(e),i.push(t),i};var n=r(0)},function(t,e,r){"use strict";t.exports=function(t,e,r){var n,i=t.length;if(!(e>=i||0===r)){var o=i-(r=e+r>i?i-e:r);for(n=e;n<o;++n)t[n]=t[n+r];t.length=o}}},function(t,e,r){"use strict";function n(t,e){if(t&&e)for(var r=Object.keys(e),n=0;n<r.length;++n){var i=r[n];Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}}e.__esModule=!0,e.mixin=n,e.delayMixin=function(t,e){i.push(t,e)},e.performMixins=function(){for(var t=0;t<i.length;t+=2)n(i[t],i[t+1]);i.length=0};var i=[]},function(t,e,r){"use strict";e.__esModule=!0,e.default={mixin:function(t){!function(t){t.__plugins={},t.registerPlugin=function(e,r){t.__plugins[e]=r},t.prototype.initPlugins=function(){for(var e in this.plugins=this.plugins||{},t.__plugins)this.plugins[e]=new t.__plugins[e](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}(t)}}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(){return!(navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){if(o.default.tablet||o.default.phone)return 4;return t};var n,i=r(37),o=(n=i)&&n.__esModule?n:{default:n}},function(t,e,r){t.exports={compileProgram:r(113),defaultValue:r(109),extractAttributes:r(112),extractUniforms:r(110),generateUniformAccessObject:r(107),setPrecision:r(108),mapSize:r(111),mapType:r(39)}},function(t,e,r){var n=r(115);function i(t,e){if(this.nativeVaoExtension=null,i.FORCE_NATIVE||(this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=e,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var r=t.getParameter(t.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(r),attribState:new Array(r)}}this.gl=t,this.attributes=[],this.indexBuffer=null,this.dirty=!1}i.prototype.constructor=i,t.exports=i,i.FORCE_NATIVE=!1,i.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},i.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},i.prototype.activate=function(){for(var t=this.gl,e=null,r=0;r<this.attributes.length;r++){var i=this.attributes[r];e!==i.buffer&&(i.buffer.bind(),e=i.buffer),t.vertexAttribPointer(i.attribute.location,i.attribute.size,i.type||t.FLOAT,i.normalized||!1,i.stride||0,i.start||0)}return n(t,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},i.prototype.addAttribute=function(t,e,r,n,i,o){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:r||this.gl.FLOAT,normalized:n||!1,stride:i||0,start:o||0}),this.dirty=!0,this},i.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},i.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},i.prototype.draw=function(t,e,r){var n=this.gl;return this.indexBuffer?n.drawElements(t,e||this.indexBuffer.data.length,n.UNSIGNED_SHORT,2*(r||0)):n.drawArrays(t,r,e||this.getSize()),this},i.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},i.prototype.getSize=function(){var t=this.attributes[0];return t.buffer.data.length/(t.stride/4||t.attribute.size)}},function(t,e,r){var n=r(113),i=r(112),o=r(110),s=r(108),a=r(107),u=function(t,e,r,u,h){this.gl=t,u&&(e=s(e,u),r=s(r,u)),this.program=n(t,e,r,h),this.attributes=i(t,this.program),this.uniformData=o(t,this.program),this.uniforms=a(t,this.uniformData)};u.prototype.bind=function(){return this.gl.useProgram(this.program),this},u.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},t.exports=u},function(t,e,r){var n=r(114),i=function(t,e,r){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=r||100};i.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new n(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},i.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},i.prototype.clear=function(t,e,r,n){this.bind();var i=this.gl;i.clearColor(t,e,r,n),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)},i.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},i.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},i.prototype.resize=function(t,e){var r=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t,e))},i.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},i.createRGBA=function(t,e,r,o){var s=n.fromData(t,null,e,r);s.enableNearestScaling(),s.enableWrapClamp();var a=new i(t,e,r);return a.enableTexture(s),a.unbind(),a},i.createFloat32=function(t,e,r,o){var s=new n.fromData(t,o,e,r);s.enableNearestScaling(),s.enableWrapClamp();var a=new i(t,e,r);return a.enableTexture(s),a.unbind(),a},t.exports=i},function(t,e){var r=new ArrayBuffer(0),n=function(t,e,n,i){this.gl=t,this.buffer=t.createBuffer(),this.type=e||t.ARRAY_BUFFER,this.drawType=i||t.STATIC_DRAW,this.data=r,n&&this.upload(n),this._updateID=0};n.prototype.upload=function(t,e,r){r||this.bind();var n=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?n.bufferSubData(this.type,e,t):n.bufferData(this.type,t,this.drawType),this.data=t},n.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},n.createVertexBuffer=function(t,e,r){return new n(t,t.ARRAY_BUFFER,e,r)},n.createIndexBuffer=function(t,e,r){return new n(t,t.ELEMENT_ARRAY_BUFFER,e,r)},n.create=function(t,e,r,i){return new n(t,e,r,i)},n.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},t.exports=n},function(t,e){t.exports=function(t,e){var r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!r)throw new Error("This browser does not support webGL. Try using the canvas renderer");return r}},function(t,e,r){"use strict";e.__esModule=!0;var n=r(0);var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=r,this.width=i,this.height=o,this.radius=s,this.type=n.SHAPES.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),n=e-(this.y+this.radius),i=this.radius*this.radius;if(r*r+n*n<=i)return!0;if((r=t-(this.x+this.width-this.radius))*r+n*n<=i)return!0;if(r*r+(n=e-(this.y+this.height-this.radius))*n<=i)return!0;if((r=t-(this.x+this.radius))*r+n*n<=i)return!0}return!1},t}();e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(42),o=(n=i)&&n.__esModule?n:{default:n},s=r(0);var a=function(){function t(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Array.isArray(r[0])&&(r=r[0]),r[0]instanceof o.default){for(var i=[],a=0,u=r.length;a<u;a++)i.push(r[a].x,r[a].y);r=i}this.closed=!0,this.points=r,this.type=s.SHAPES.POLY}return t.prototype.clone=function(){return new t(this.points.slice())},t.prototype.close=function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])},t.prototype.contains=function(t,e){for(var r=!1,n=this.points.length/2,i=0,o=n-1;i<n;o=i++){var s=this.points[2*i],a=this.points[2*i+1],u=this.points[2*o],h=this.points[2*o+1];a>e!=h>e&&t<(e-a)/(h-a)*(u-s)+s&&(r=!r)}return r},t}();e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(40),o=(n=i)&&n.__esModule?n:{default:n},s=r(0);var a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=r,this.width=n,this.height=i,this.type=s.SHAPES.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,n=(e-this.y)/this.height;return(r*=r)+(n*=n)<=1},t.prototype.getBounds=function(){return new o.default(this.x-this.width,this.y-this.height,this.width,this.height)},t}();e.default=a},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(40),o=(n=i)&&n.__esModule?n:{default:n},s=r(0);var a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=r,this.radius=n,this.type=s.SHAPES.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,n=this.x-t,i=this.y-e;return(n*=n)+(i*=i)<=r},t.prototype.getBounds=function(){return new o.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}();e.default=a},function(t,e,r){"use strict";Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t})},function(t,e,r){"use strict";Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1})},function(t,e,r){"use strict";(function(t){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var e=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}}for(var r=Date.now(),n=["ms","moz","webkit","o"],i=0;i<n.length&&!t.requestAnimationFrame;++i){var o=n[i];t.requestAnimationFrame=t[o+"RequestAnimationFrame"],t.cancelAnimationFrame=t[o+"CancelAnimationFrame"]||t[o+"CancelRequestAnimationFrame"]}t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),n=16+r-e;return n<0&&(n=0),r=e,setTimeout(function(){r=Date.now(),t(performance.now())},n)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){return clearTimeout(t)})}).call(this,r(43))},function(t,e,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,s,a=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),u=1;u<arguments.length;u++){for(var h in r=Object(arguments[u]))i.call(r,h)&&(a[h]=r[h]);if(n){s=n(r);for(var l=0;l<s.length;l++)o.call(r,s[l])&&(a[s[l]]=r[s[l]])}}return a}},function(t,e,r){"use strict";var n,i=r(253),o=(n=i)&&n.__esModule?n:{default:n};Object.assign||(Object.assign=o.default)},function(t,e,r){"use strict";r(254),r(252),r(251),r(250),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(19);r(154);const i=r(65),o=r(25),s=r(131);r(128),r(126);const a=r(124),u=r(121),h=r(120),l=document.getElementById("makeTurnButton"),c=document.getElementById("fabricTable"),f=document.getElementById("portrait-wrapper");e.Game=class{constructor({width:t,height:e}){this.makeTurn=(()=>{l.disabled=!0,i.default.makeTurn().then(({events:t,isDead:e})=>{e?s.showModal("You are dead!"):(t.length>0&&s.showModal(t),this.start(),l.disabled=!1)}),f.classList.remove("hidden"),c.classList.add("hidden")}),this.onSpriteClick=((t,{x:e,y:r})=>()=>{f.classList.add("hidden"),c.classList.remove("hidden");const t=this.avaliableFactorys.find(t=>t.x===e&&t.y===r);a.renderTable(t,t=>()=>i.default.buildFactory(t.type,e,r).then(this.makeTurn))}),this.app=new n.Application({width:t,height:e}),l.addEventListener("click",this.makeTurn),u.loadResourcesSprites(),u.loadPortraitSprite()}get view(){return this.app.view}async start(){const[t,e,r,n,o]=await Promise.all([i.default.getMap(),i.default.getFactories(),i.default.getResources(),i.default.getTurn(),i.default.getFactoryInfos()]);this.avaliableFactorys=o,this.render(t,e,r,n)}render(t,e,r,n){this.renderMap(t),this.renderFactories(e),this.renderSidebar(r)}renderMap(t){for(let e=0;e<t.cells.length;e++)for(let r=0;r<t.cells[e].length;r++){const n=o.getSprite(t.cells[e][r].sprite);n.setPosition(r,e),n.interactive=!0,n.buttonMode=!0,n.on("pointerdown",this.onSpriteClick(n,{x:r,y:e})),this.app.stage.addChild(n)}}renderFactories(t){for(let e=0;e<t.length;e++){const r=o.getSprite(t[e].sprite);r.setPosition(t[e].x,t[e].y),this.app.stage.addChild(r)}}renderSidebar(t){h.renderResources(t)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(256),i=r(119),o=r(24),s=document.getElementById("container");PIXI.loader.add(Object.keys(i.sprites).map(t=>i.sprites[t])).load(function(){const t={width:window.screen.width,height:window.screen.height};console.log("creating app with",t);const e=new n.Game(t);s.appendChild(e.view),o.loadFonts(),e.start()})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvY29uc3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdXRpbHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvc2V0dGluZ3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvbWF0aC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL3V0aWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wYXRoLWJyb3dzZXJpZnkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGV4dHVyZXMvVGV4dHVyZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZXZlbnRlbWl0dGVyMy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS90ZXh0dXJlcy9CYXNlVGV4dHVyZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9tZXNoL01lc2guanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Jlc291cmNlLWxvYWRlci9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvU2hhZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC9tYW5hZ2Vycy9XZWJHTE1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL2NhbnZhcy9DYW52YXNSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9kaXNwbGF5L0NvbnRhaW5lci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZ3JhcGhpY3Mvd2ViZ2wvdXRpbHMvYnVpbGRMaW5lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC91dGlscy9SZW5kZXJUYXJnZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL1dlYkdMUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL3V0aWxzL09iamVjdFJlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21tb24vdGV4dEV4dC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tbW9uL2xvYWRlckV4dC50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2RlZmF1bHRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wcmVwYXJlL0Jhc2VQcmVwYXJlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZXNvdXJjZS1sb2FkZXIvbGliL1Jlc291cmNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3V0aWxzL2NyZWF0ZUluZGljZXNGb3JRdWFkcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9zcHJpdGVzL2NhbnZhcy9DYW52YXNUaW50ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGV4dHVyZXMvUmVuZGVyVGV4dHVyZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS90aWNrZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JpdC10d2lkZGxlL3R3aWRkbGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvc3ByaXRlcy9TcHJpdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2VhcmN1dC9zcmMvZWFyY3V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2Rpc3BsYXkvVHJhbnNmb3JtQmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaXNtb2JpbGVqcy9pc01vYmlsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9kaXNwbGF5L0JvdW5kcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9zaGFkZXIvbWFwVHlwZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9tYXRoL3NoYXBlcy9SZWN0YW5nbGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvbWF0aC9NYXRyaXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvbWF0aC9Qb2ludC5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8uL3Nwcml0ZXMvY2hhcmFjdGVycy9jaGFyYWN0ZXIyLnBuZyIsIndlYnBhY2s6Ly8vLi9zcHJpdGVzL2NoYXJhY3RlcnMvY2hhcmFjdGVyLnBuZyIsIndlYnBhY2s6Ly8vLi9zcHJpdGVzL2ZhY3Rvcmllcy9taW5lcmFsLnBuZyIsIndlYnBhY2s6Ly8vLi9zcHJpdGVzL2ZhY3Rvcmllcy9lbmVyZ3kucG5nIiwid2VicGFjazovLy8uL3Nwcml0ZXMvcmVzb3VyY2VzL21vbC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3ByaXRlcy9yZXNvdXJjZXMvMS5wbmciLCJ3ZWJwYWNrOi8vLy4vc3ByaXRlcy9yZXNvdXJjZXMvY3J5LnBuZyIsIndlYnBhY2s6Ly8vLi9zcHJpdGVzL3Jlc291cmNlcy9vMi5wbmciLCJ3ZWJwYWNrOi8vLy4vc3ByaXRlcy9yZXNvdXJjZXMvb28yLnBuZyIsIndlYnBhY2s6Ly8vLi9zcHJpdGVzL2JhY2tncm91bmQvcm9ja0sucG5nIiwid2VicGFjazovLy8uL3Nwcml0ZXMvYmFja2dyb3VuZC9ub3Rzb21lZHJ5LnBuZyIsIndlYnBhY2s6Ly8vLi9zcHJpdGVzL2JhY2tncm91bmQvbGF2YS5wbmciLCJ3ZWJwYWNrOi8vLy4vc3ByaXRlcy9iYWNrZ3JvdW5kL2RyeS5wbmciLCJ3ZWJwYWNrOi8vLy4vc3ByaXRlcy9iYWNrZ3JvdW5kL2dyZWVuLnBuZyIsIndlYnBhY2s6Ly8vLi9zcHJpdGVzL2JhY2tncm91bmQvd2F0ZXJLLnBuZyIsIndlYnBhY2s6Ly8vLi9zcHJpdGVzL2JhY2tncm91bmQvd2F0ZXIucG5nIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL0NhbmNlbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NhbmNlbC9pc0NhbmNlbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvY3JlYXRlRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9hZGFwdGVycy94aHIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2JpbmQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NsaWVudHMvY2xpZW50LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wcmVwYXJlL2xpbWl0ZXJzL0NvdW50TGltaXRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvbWVzaC9QbGFuZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvbG9hZGVycy90ZXh0dXJlUGFyc2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9sb2FkZXJzL3Nwcml0ZXNoZWV0UGFyc2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZXNvdXJjZS1sb2FkZXIvbGliL2I2NC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVzb3VyY2UtbG9hZGVyL2xpYi9hc3luYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGFyc2UtdXJpL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9taW5pLXNpZ25hbHMvbGliL21pbmktc2lnbmFscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvbG9hZGVycy9iaXRtYXBGb250UGFyc2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9pbnRlcmFjdGlvbi9pbnRlcmFjdGl2ZVRhcmdldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uRXZlbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ludGVyYWN0aW9uL0ludGVyYWN0aW9uRGF0YS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9ibHVyL0JsdXJZRmlsdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL2JsdXIvZ2V0TWF4Qmx1cktlcm5lbFNpemUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvYmx1ci9nZW5lcmF0ZUJsdXJGcmFnU291cmNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL2JsdXIvZ2VuZXJhdGVCbHVyVmVydFNvdXJjZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9ibHVyL0JsdXJYRmlsdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9leHRyYXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2FjY2Vzc2liaWxpdHkvYWNjZXNzaWJsZVRhcmdldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9hdXRvRGV0ZWN0UmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvQXBwbGljYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZ3JhcGhpY3MvR3JhcGhpY3NEYXRhLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3RleHQvVGV4dE1ldHJpY3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGV4dC9UZXh0U3R5bGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL3V0aWxzL1F1YWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGV4dHVyZXMvVGV4dHVyZU1hdHJpeC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC9maWx0ZXJzL0ZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvZmlsdGVycy9zcHJpdGVNYXNrL1Nwcml0ZU1hc2tGaWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL2NhbnZhcy91dGlscy9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy9jYW52YXMvdXRpbHMvQ2FudmFzUmVuZGVyVGFyZ2V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3RleHR1cmVzL0Jhc2VSZW5kZXJUZXh0dXJlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy9TeXN0ZW1SZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS90ZXh0dXJlcy9UZXh0dXJlVXZzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3RleHR1cmVzL1ZpZGVvQmFzZVRleHR1cmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VybC91cmwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdXRpbHMvZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZGlzcGxheS9UcmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZGlzcGxheS9UcmFuc2Zvcm1TdGF0aWMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZGlzcGxheS9EaXNwbGF5T2JqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL3NoYWRlci9nZW5lcmF0ZVVuaWZvcm1BY2Nlc3NPYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvc2hhZGVyL3NldFByZWNpc2lvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9zaGFkZXIvZGVmYXVsdFZhbHVlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL3NoYWRlci9leHRyYWN0VW5pZm9ybXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvc2hhZGVyL21hcFNpemUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvc2hhZGVyL2V4dHJhY3RBdHRyaWJ1dGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL3NoYWRlci9jb21waWxlUHJvZ3JhbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9HTFRleHR1cmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGktZ2wtY29yZS9zcmMvc2V0VmVydGV4QXR0cmliQXJyYXlzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL21hdGgvR3JvdXBEOC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9tYXRoL09ic2VydmFibGVQb2ludC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL1Nwcml0ZUV4dC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2xvYWRlckV4dC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2lkZWJhci9yZXNvdXJjZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NpZGViYXIvbG9hZFJlc291cnNlU3ByaXRlcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2lkZWJhci9mYWJyaWNUYWJsZS9mYWJyaWNUYWJsZS5jc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NpZGViYXIvZmFicmljVGFibGUvZmFicmljVGFibGUuY3NzPzZmYzgiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NpZGViYXIvZmFicmljVGFibGUvZmFicmljVGFibGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Jlc291cmNlcy5jc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Jlc291cmNlcy5jc3M/ODM5ZiIsIndlYnBhY2s6Ly8vLi9zcmMvcG9ydHJhaXQuY3NzIiwid2VicGFjazovLy8uL3NyYy9wb3J0cmFpdC5jc3M/YWVkYiIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kYWwvbW9kYWwuY3NzIiwid2VicGFjazovLy8uL3NyYy9tb2RhbC9tb2RhbC5jc3M/ZDg5YiIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kYWwvbW9kYWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbW1vbi9TcHJpdGVFeHQudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3NwcmVhZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NhbmNlbC9DYW5jZWxUb2tlbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvY29tYmluZVVSTHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2lzQWJzb2x1dGVVUkwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL3RyYW5zZm9ybURhdGEuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2Rpc3BhdGNoUmVxdWVzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvSW50ZXJjZXB0b3JNYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9jb29raWVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9idG9hLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc1VSTFNhbWVPcmlnaW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3BhcnNlSGVhZGVycy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvYnVpbGRVUkwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2VuaGFuY2VFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvc2V0dGxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9ub3JtYWxpemVIZWFkZXJOYW1lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9BeGlvcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaXMtYnVmZmVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvYXhpb3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL3VybHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC5jc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC5jc3M/ZmFhYSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcHJlcGFyZS9saW1pdGVycy9UaW1lTGltaXRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcHJlcGFyZS9jYW52YXMvQ2FudmFzUHJlcGFyZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcHJlcGFyZS93ZWJnbC9XZWJHTFByZXBhcmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3ByZXBhcmUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3BhcnRpY2xlcy93ZWJnbC9QYXJ0aWNsZUJ1ZmZlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcGFydGljbGVzL3dlYmdsL1BhcnRpY2xlU2hhZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wYXJ0aWNsZXMvd2ViZ2wvUGFydGljbGVSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcGFydGljbGVzL1BhcnRpY2xlQ29udGFpbmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wYXJ0aWNsZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL21lc2gvUm9wZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvbWVzaC9OaW5lU2xpY2VQbGFuZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvbWVzaC9jYW52YXMvQ2FudmFzTWVzaFJlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9tZXNoL3dlYmdsL01lc2hSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvbWVzaC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVzb3VyY2UtbG9hZGVyL2xpYi9taWRkbGV3YXJlcy9wYXJzaW5nL2Jsb2IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2xvYWRlcnMvbG9hZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZXNvdXJjZS1sb2FkZXIvbGliL0xvYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvbG9hZGVycy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvaW50ZXJhY3Rpb24vSW50ZXJhY3Rpb25NYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9pbnRlcmFjdGlvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9hbHBoYS9BbHBoYUZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9jb2xvcm1hdHJpeC9Db2xvck1hdHJpeEZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9ibHVyL0JsdXJGaWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvZGlzcGxhY2VtZW50L0Rpc3BsYWNlbWVudEZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9ub2lzZS9Ob2lzZUZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9meGFhL0ZYQUFGaWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2V4dHJhcy9nZXRHbG9iYWxQb3NpdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXh0cmFzL2dldENoaWxkQnlOYW1lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9leHRyYXMvY2FjaGVBc0JpdG1hcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXh0cmFzL0JpdG1hcFRleHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2V4dHJhcy93ZWJnbC9UaWxpbmdTcHJpdGVSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXh0cmFzL1RpbGluZ1Nwcml0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXh0cmFzL0FuaW1hdGVkU3ByaXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9leHRyYWN0L2NhbnZhcy9DYW52YXNFeHRyYWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9leHRyYWN0L3dlYmdsL1dlYkdMRXh0cmFjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXh0cmFjdC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvYWNjZXNzaWJpbGl0eS9BY2Nlc3NpYmlsaXR5TWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvYWNjZXNzaWJpbGl0eS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZGVwcmVjYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGV4dHVyZXMvU3ByaXRlc2hlZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZ3JhcGhpY3MvY2FudmFzL0NhbnZhc0dyYXBoaWNzUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZ3JhcGhpY3Mvd2ViZ2wvdXRpbHMvYnVpbGRDaXJjbGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZ3JhcGhpY3Mvd2ViZ2wvdXRpbHMvYnVpbGRSb3VuZGVkUmVjdGFuZ2xlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2dyYXBoaWNzL3dlYmdsL3V0aWxzL2J1aWxkUmVjdGFuZ2xlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2dyYXBoaWNzL3dlYmdsL3V0aWxzL2J1aWxkUG9seS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9ncmFwaGljcy93ZWJnbC9zaGFkZXJzL1ByaW1pdGl2ZVNoYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9ncmFwaGljcy93ZWJnbC9XZWJHTEdyYXBoaWNzRGF0YS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9ncmFwaGljcy93ZWJnbC9HcmFwaGljc1JlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL2dyYXBoaWNzL3V0aWxzL2JlemllckN1cnZlVG8uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvZ3JhcGhpY3MvR3JhcGhpY3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdXRpbHMvdHJpbUNhbnZhcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS90ZXh0L1RleHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvc3ByaXRlcy93ZWJnbC9CYXRjaEJ1ZmZlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvY2hlY2tNYXhJZlN0YXRtZW50c0luU2hhZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3Nwcml0ZXMvd2ViZ2wvZ2VuZXJhdGVNdWx0aVRleHR1cmVTaGFkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL3V0aWxzL3ZhbGlkYXRlQ29udGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvbWFwV2ViR0xEcmF3TW9kZXNUb1BpeGkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL3V0aWxzL21hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvV2ViR0xTdGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9yZW5kZXJlcnMvd2ViZ2wvVGV4dHVyZUdhcmJhZ2VDb2xsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL1RleHR1cmVNYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC9maWx0ZXJzL2ZpbHRlclRyYW5zZm9ybXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL21hbmFnZXJzL0ZpbHRlck1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL21hbmFnZXJzL1N0ZW5jaWxNYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy93ZWJnbC9maWx0ZXJzL2V4dHJhY3RVbmlmb3Jtc0Zyb21TcmMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL3dlYmdsL21hbmFnZXJzL01hc2tNYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3Nwcml0ZXMvd2ViZ2wvU3ByaXRlUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvcmVuZGVyZXJzL2NhbnZhcy91dGlscy9tYXBDYW52YXNCbGVuZE1vZGVzVG9QaXhpLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3JlbmRlcmVycy9jYW52YXMvdXRpbHMvQ2FudmFzTWFza01hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvc3ByaXRlcy9jYW52YXMvQ2FudmFzU3ByaXRlUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdGlja2VyL1RpY2tlckxpc3RlbmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL3RpY2tlci9UaWNrZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nLWVzMy9lbmNvZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nLWVzMy9kZWNvZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nLWVzMy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXJsL3V0aWwuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL21vZHVsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHVueWNvZGUvcHVueWNvZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdXRpbHMvbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlbW92ZS1hcnJheS1pdGVtcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS91dGlscy9taXhpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS91dGlscy9wbHVnaW5UYXJnZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvdXRpbHMvY2FuVXBsb2FkU2FtZUJ1ZmZlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS91dGlscy9tYXhSZWNvbW1lbmRlZFRleHR1cmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL3NoYWRlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9WZXJ0ZXhBcnJheU9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9HTFNoYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS1nbC1jb3JlL3NyYy9HTEZyYW1lYnVmZmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL0dMQnVmZmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLWdsLWNvcmUvc3JjL2NyZWF0ZUNvbnRleHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvbWF0aC9zaGFwZXMvUm91bmRlZFJlY3RhbmdsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvY29yZS9tYXRoL3NoYXBlcy9Qb2x5Z29uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9jb3JlL21hdGgvc2hhcGVzL0VsbGlwc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2NvcmUvbWF0aC9zaGFwZXMvQ2lyY2xlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wb2x5ZmlsbC9OdW1iZXIuaXNJbnRlZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9wb2x5ZmlsbC9NYXRoLnNpZ24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3BvbHlmaWxsL3JlcXVlc3RBbmltYXRpb25GcmFtZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2JqZWN0LWFzc2lnbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcG9seWZpbGwvT2JqZWN0LmFzc2lnbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcG9seWZpbGwvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwidmFsdWUiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlZFUlNJT04iLCJQSV8yIiwiTWF0aCIsIlBJIiwiUkFEX1RPX0RFRyIsIkRFR19UT19SQUQiLCJSRU5ERVJFUl9UWVBFIiwiVU5LTk9XTiIsIldFQkdMIiwiQ0FOVkFTIiwiQkxFTkRfTU9ERVMiLCJOT1JNQUwiLCJBREQiLCJNVUxUSVBMWSIsIlNDUkVFTiIsIk9WRVJMQVkiLCJEQVJLRU4iLCJMSUdIVEVOIiwiQ09MT1JfRE9ER0UiLCJDT0xPUl9CVVJOIiwiSEFSRF9MSUdIVCIsIlNPRlRfTElHSFQiLCJESUZGRVJFTkNFIiwiRVhDTFVTSU9OIiwiSFVFIiwiU0FUVVJBVElPTiIsIkNPTE9SIiwiTFVNSU5PU0lUWSIsIk5PUk1BTF9OUE0iLCJBRERfTlBNIiwiU0NSRUVOX05QTSIsIkRSQVdfTU9ERVMiLCJQT0lOVFMiLCJMSU5FUyIsIkxJTkVfTE9PUCIsIkxJTkVfU1RSSVAiLCJUUklBTkdMRVMiLCJUUklBTkdMRV9TVFJJUCIsIlRSSUFOR0xFX0ZBTiIsIlNDQUxFX01PREVTIiwiTElORUFSIiwiTkVBUkVTVCIsIldSQVBfTU9ERVMiLCJDTEFNUCIsIlJFUEVBVCIsIk1JUlJPUkVEX1JFUEVBVCIsIkdDX01PREVTIiwiQVVUTyIsIk1BTlVBTCIsIlVSTF9GSUxFX0VYVEVOU0lPTiIsIkRBVEFfVVJJIiwiU1ZHX1NJWkUiLCJTSEFQRVMiLCJQT0xZIiwiUkVDVCIsIkNJUkMiLCJFTElQIiwiUlJFQyIsIlBSRUNJU0lPTiIsIkxPVyIsIk1FRElVTSIsIkhJR0giLCJUUkFOU0ZPUk1fTU9ERSIsIlNUQVRJQyIsIkRZTkFNSUMiLCJURVhUX0dSQURJRU5UIiwiTElORUFSX1ZFUlRJQ0FMIiwiTElORUFSX0hPUklaT05UQUwiLCJVUERBVEVfUFJJT1JJVFkiLCJJTlRFUkFDVElPTiIsIlVUSUxJVFkiLCJhdXRvRGV0ZWN0UmVuZGVyZXIiLCJBcHBsaWNhdGlvbiIsIkZpbHRlciIsIlNwcml0ZU1hc2tGaWx0ZXIiLCJRdWFkIiwiUmVuZGVyVGFyZ2V0IiwiT2JqZWN0UmVuZGVyZXIiLCJXZWJHTE1hbmFnZXIiLCJTaGFkZXIiLCJDYW52YXNSZW5kZXJUYXJnZXQiLCJUZXh0dXJlVXZzIiwiVmlkZW9CYXNlVGV4dHVyZSIsIkJhc2VSZW5kZXJUZXh0dXJlIiwiUmVuZGVyVGV4dHVyZSIsIkJhc2VUZXh0dXJlIiwiVGV4dHVyZU1hdHJpeCIsIlRleHR1cmUiLCJTcHJpdGVzaGVldCIsIkNhbnZhc0dyYXBoaWNzUmVuZGVyZXIiLCJHcmFwaGljc1JlbmRlcmVyIiwiR3JhcGhpY3NEYXRhIiwiR3JhcGhpY3MiLCJUZXh0TWV0cmljcyIsIlRleHRTdHlsZSIsIlRleHQiLCJTcHJpdGVSZW5kZXJlciIsIkNhbnZhc1RpbnRlciIsIkNhbnZhc1Nwcml0ZVJlbmRlcmVyIiwiU3ByaXRlIiwiVHJhbnNmb3JtQmFzZSIsIlRyYW5zZm9ybVN0YXRpYyIsIlRyYW5zZm9ybSIsIkNvbnRhaW5lciIsIkRpc3BsYXlPYmplY3QiLCJCb3VuZHMiLCJnbENvcmUiLCJXZWJHTFJlbmRlcmVyIiwiQ2FudmFzUmVuZGVyZXIiLCJ0aWNrZXIiLCJ1dGlscyIsInNldHRpbmdzIiwidW5kZWZpbmVkIiwiX2NvbnN0Iiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJfbWF0aCIsIl9waXhpR2xDb3JlIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsImRlZmF1bHQiLCJfQm91bmRzIiwiX0Rpc3BsYXlPYmplY3QiLCJfQ29udGFpbmVyIiwiX1RyYW5zZm9ybSIsIl9UcmFuc2Zvcm1TdGF0aWMiLCJfVHJhbnNmb3JtQmFzZSIsIl9TcHJpdGUiLCJfQ2FudmFzU3ByaXRlUmVuZGVyZXIiLCJfQ2FudmFzVGludGVyIiwiX1Nwcml0ZVJlbmRlcmVyIiwiX1RleHQiLCJfVGV4dFN0eWxlIiwiX1RleHRNZXRyaWNzIiwiX0dyYXBoaWNzIiwiX0dyYXBoaWNzRGF0YSIsIl9HcmFwaGljc1JlbmRlcmVyIiwiX0NhbnZhc0dyYXBoaWNzUmVuZGVyZXIiLCJfU3ByaXRlc2hlZXQiLCJfVGV4dHVyZSIsIl9UZXh0dXJlTWF0cml4IiwiX0Jhc2VUZXh0dXJlIiwiX1JlbmRlclRleHR1cmUiLCJfQmFzZVJlbmRlclRleHR1cmUiLCJfVmlkZW9CYXNlVGV4dHVyZSIsIl9UZXh0dXJlVXZzIiwiX0NhbnZhc1JlbmRlclRhcmdldCIsIl9TaGFkZXIiLCJfV2ViR0xNYW5hZ2VyIiwiX09iamVjdFJlbmRlcmVyIiwiX1JlbmRlclRhcmdldCIsIl9RdWFkIiwiX1Nwcml0ZU1hc2tGaWx0ZXIiLCJfRmlsdGVyIiwiX0FwcGxpY2F0aW9uIiwiX2F1dG9EZXRlY3RSZW5kZXJlciIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX3NldHRpbmdzMiIsIl9DYW52YXNSZW5kZXJlcjIiLCJfV2ViR0xSZW5kZXJlcjIiLCJvYmoiLCJuZXdPYmoiLCJwcmVtdWx0aXBseUJsZW5kTW9kZSIsIkJhc2VUZXh0dXJlQ2FjaGUiLCJUZXh0dXJlQ2FjaGUiLCJlYXJjdXQiLCJtaXhpbnMiLCJwbHVnaW5UYXJnZXQiLCJFdmVudEVtaXR0ZXIiLCJyZW1vdmVJdGVtcyIsImlzTW9iaWxlIiwidWlkIiwibmV4dFVpZCIsImhleDJyZ2IiLCJoZXgiLCJvdXQiLCJoZXgyc3RyaW5nIiwidG9TdHJpbmciLCJzdWJzdHIiLCJsZW5ndGgiLCJyZ2IyaGV4IiwicmdiIiwiZ2V0UmVzb2x1dGlvbk9mVXJsIiwidXJsIiwiZGVmYXVsdFZhbHVlIiwicmVzb2x1dGlvbiIsIlJFVElOQV9QUkVGSVgiLCJleGVjIiwicGFyc2VGbG9hdCIsImRlY29tcG9zZURhdGFVcmkiLCJkYXRhVXJpIiwiZGF0YVVyaU1hdGNoIiwibWVkaWFUeXBlIiwidG9Mb3dlckNhc2UiLCJzdWJUeXBlIiwiZW5jb2RpbmciLCJkYXRhIiwiZ2V0VXJsRmlsZUV4dGVuc2lvbiIsImV4dGVuc2lvbiIsImdldFN2Z1NpemUiLCJzdmdTdHJpbmciLCJzaXplTWF0Y2giLCJzaXplIiwicm91bmQiLCJza2lwSGVsbG8iLCJzYWlkSGVsbG8iLCJzYXlIZWxsbyIsInR5cGUiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJpbmRleE9mIiwiYXJncyIsIndpbmRvdyIsImNvbnNvbGUiLCJsb2ciLCJhcHBseSIsImlzV2ViR0xTdXBwb3J0ZWQiLCJjb250ZXh0T3B0aW9ucyIsInN0ZW5jaWwiLCJmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0IiwiV2ViR0xSZW5kZXJpbmdDb250ZXh0IiwiY2FudmFzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZ2wiLCJnZXRDb250ZXh0Iiwic3VjY2VzcyIsImdldENvbnRleHRBdHRyaWJ1dGVzIiwibG9zZUNvbnRleHQiLCJnZXRFeHRlbnNpb24iLCJlIiwic2lnbiIsImRlc3Ryb3lUZXh0dXJlQ2FjaGUiLCJkZXN0cm95IiwiY2xlYXJUZXh0dXJlQ2FjaGUiLCJjb3JyZWN0QmxlbmRNb2RlIiwiYmxlbmRNb2RlIiwicHJlbXVsdGlwbGllZCIsInByZW11bHRpcGx5VGludCIsInRpbnQiLCJhbHBoYSIsIlIiLCJHIiwiQiIsInByZW11bHRpcGx5UmdiYSIsInByZW11bHRpcGx5IiwiRmxvYXQzMkFycmF5IiwicHJlbXVsdGlwbHlUaW50VG9SZ2JhIiwiX2V2ZW50ZW1pdHRlcjIiLCJfcGx1Z2luVGFyZ2V0MiIsIl9yZW1vdmVBcnJheUl0ZW1zMiIsIl9tYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2RlczIiLCJfZWFyY3V0MiIsImNyZWF0ZSIsIl9tYXhSZWNvbW1lbmRlZFRleHR1cmVzMiIsIl9jYW5VcGxvYWRTYW1lQnVmZmVyMiIsIlRBUkdFVF9GUE1TIiwiTUlQTUFQX1RFWFRVUkVTIiwiUkVTT0xVVElPTiIsIkZJTFRFUl9SRVNPTFVUSU9OIiwiU1BSSVRFX01BWF9URVhUVVJFUyIsIlNQUklURV9CQVRDSF9TSVpFIiwiUkVOREVSX09QVElPTlMiLCJ2aWV3IiwiYW50aWFsaWFzIiwiZm9yY2VGWEFBIiwiYXV0b1Jlc2l6ZSIsInRyYW5zcGFyZW50IiwiYmFja2dyb3VuZENvbG9yIiwiY2xlYXJCZWZvcmVSZW5kZXIiLCJwcmVzZXJ2ZURyYXdpbmdCdWZmZXIiLCJyb3VuZFBpeGVscyIsIndpZHRoIiwiaGVpZ2h0IiwibGVnYWN5IiwiR0NfTU9ERSIsIkdDX01BWF9JRExFIiwiR0NfTUFYX0NIRUNLX0NPVU5UIiwiV1JBUF9NT0RFIiwiU0NBTEVfTU9ERSIsIlBSRUNJU0lPTl9WRVJURVgiLCJQUkVDSVNJT05fRlJBR01FTlQiLCJDQU5fVVBMT0FEX1NBTUVfQlVGRkVSIiwiTUVTSF9DQU5WQVNfUEFERElORyIsIl9Qb2ludCIsIl9PYnNlcnZhYmxlUG9pbnQiLCJfTWF0cml4IiwiX0dyb3VwRCIsIl9DaXJjbGUiLCJfRWxsaXBzZSIsIl9Qb2x5Z29uIiwiX1JlY3RhbmdsZSIsIl9Sb3VuZGVkUmVjdGFuZ2xlIiwiYmluZCIsImlzQnVmZmVyIiwiaXNBcnJheSIsInZhbCIsImlzT2JqZWN0IiwiaXNGdW5jdGlvbiIsImZuIiwiaXNBcnJheUJ1ZmZlciIsImlzRm9ybURhdGEiLCJGb3JtRGF0YSIsImlzQXJyYXlCdWZmZXJWaWV3IiwiQXJyYXlCdWZmZXIiLCJpc1ZpZXciLCJidWZmZXIiLCJpc1N0cmluZyIsImlzTnVtYmVyIiwiaXNVbmRlZmluZWQiLCJpc0RhdGUiLCJpc0ZpbGUiLCJpc0Jsb2IiLCJpc1N0cmVhbSIsInBpcGUiLCJpc1VSTFNlYXJjaFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsImlzU3RhbmRhcmRCcm93c2VyRW52IiwicHJvZHVjdCIsIm1lcmdlIiwicmVzdWx0IiwiYXNzaWduVmFsdWUiLCJhcmd1bWVudHMiLCJleHRlbmQiLCJhIiwiYiIsInRoaXNBcmciLCJ0cmltIiwic3RyIiwicmVwbGFjZSIsImNyZWF0ZUNvbnRleHQiLCJzZXRWZXJ0ZXhBdHRyaWJBcnJheXMiLCJHTEJ1ZmZlciIsIkdMRnJhbWVidWZmZXIiLCJHTFNoYWRlciIsIkdMVGV4dHVyZSIsIlZlcnRleEFycmF5T2JqZWN0Iiwic2hhZGVyIiwiUElYSSIsInByb2Nlc3MiLCJub3JtYWxpemVBcnJheSIsInBhcnRzIiwiYWxsb3dBYm92ZVJvb3QiLCJ1cCIsImxhc3QiLCJzcGxpY2UiLCJ1bnNoaWZ0Iiwic3BsaXRQYXRoUmUiLCJzcGxpdFBhdGgiLCJmaWxlbmFtZSIsInNsaWNlIiwiZmlsdGVyIiwieHMiLCJmIiwicmVzIiwicHVzaCIsInJlc29sdmUiLCJyZXNvbHZlZFBhdGgiLCJyZXNvbHZlZEFic29sdXRlIiwicGF0aCIsImN3ZCIsIlR5cGVFcnJvciIsImNoYXJBdCIsInNwbGl0Iiwiam9pbiIsIm5vcm1hbGl6ZSIsImlzQWJzb2x1dGUiLCJ0cmFpbGluZ1NsYXNoIiwicGF0aHMiLCJBcnJheSIsImluZGV4IiwicmVsYXRpdmUiLCJmcm9tIiwidG8iLCJhcnIiLCJzdGFydCIsImVuZCIsImZyb21QYXJ0cyIsInRvUGFydHMiLCJtaW4iLCJzYW1lUGFydHNMZW5ndGgiLCJvdXRwdXRQYXJ0cyIsImNvbmNhdCIsInNlcCIsImRlbGltaXRlciIsImRpcm5hbWUiLCJyb290IiwiZGlyIiwiYmFzZW5hbWUiLCJleHQiLCJleHRuYW1lIiwibGVuIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiZGVzY3JpcHRvciIsIndyaXRhYmxlIiwiQ29uc3RydWN0b3IiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJfQmFzZVRleHR1cmUyIiwiX1ZpZGVvQmFzZVRleHR1cmUyIiwiX1RleHR1cmVVdnMyIiwiX3V0aWxzIiwiX0V2ZW50RW1pdHRlciIsImJhc2VUZXh0dXJlIiwiZnJhbWUiLCJvcmlnIiwicm90YXRlIiwiaW5zdGFuY2UiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiX3RoaXMiLCJzZWxmIiwiUmVmZXJlbmNlRXJyb3IiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIm5vRnJhbWUiLCJSZWN0YW5nbGUiLCJfZnJhbWUiLCJ2YWxpZCIsInJlcXVpcmVzVXBkYXRlIiwiX3V2cyIsIl9yb3RhdGUiLCJOdW1iZXIiLCJFcnJvciIsImhhc0xvYWRlZCIsIm9uIiwib25CYXNlVGV4dHVyZVVwZGF0ZWQiLCJvbmNlIiwib25CYXNlVGV4dHVyZUxvYWRlZCIsIl91cGRhdGVJRCIsInRyYW5zZm9ybSIsInRleHR1cmVDYWNoZUlkcyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsImNvbnN0cnVjdG9yIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJfaW5oZXJpdHMiLCJ1cGRhdGUiLCJlbWl0IiwiZGVzdHJveUJhc2UiLCJpbWFnZVVybCIsInJlbW92ZUZyb21DYWNoZSIsIm9mZiIsImNsb25lIiwiX3VwZGF0ZVV2cyIsInNldCIsImZyb21JbWFnZSIsImNyb3Nzb3JpZ2luIiwic2NhbGVNb2RlIiwic291cmNlU2NhbGUiLCJ0ZXh0dXJlIiwiYWRkVG9DYWNoZSIsImZyb21GcmFtZSIsImZyYW1lSWQiLCJmcm9tQ2FudmFzIiwib3JpZ2luIiwiZnJvbVZpZGVvIiwidmlkZW8iLCJmcm9tVmlkZW9VcmwiLCJ2aWRlb1VybCIsImZyb21VcmwiLCJzb3VyY2UiLCJtYXRjaCIsIkhUTUxJbWFnZUVsZW1lbnQiLCJIVE1MQ2FudmFzRWxlbWVudCIsIkhUTUxWaWRlb0VsZW1lbnQiLCJmcm9tTG9hZGVyIiwiaWQiLCJ3YXJuIiwidGV4dHVyZUZyb21DYWNoZSIsIngiLCJ5IiwieE5vdEZpdCIsInlOb3RGaXQiLCJyZWxhdGlvbnNoaXAiLCJlcnJvclgiLCJlcnJvclkiLCJyZW1vdmVBbGxIYW5kbGVycyIsInRleCIsIkVNUFRZIiwiV0hJVEUiLCJjb250ZXh0IiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJjcmVhdGVXaGl0ZVRleHR1cmUiLCJoYXMiLCJwcmVmaXgiLCJFdmVudHMiLCJFRSIsIl9ldmVudHMiLCJfZXZlbnRzQ291bnQiLCJldmVudE5hbWVzIiwiZXZlbnRzIiwibmFtZXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJsaXN0ZW5lcnMiLCJldmVudCIsImV4aXN0cyIsImV2dCIsImF2YWlsYWJsZSIsImVlIiwiYTEiLCJhMiIsImEzIiwiYTQiLCJhNSIsInJlbW92ZUxpc3RlbmVyIiwiaiIsImxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiYWRkTGlzdGVuZXIiLCJzZXRNYXhMaXN0ZW5lcnMiLCJwcmVmaXhlZCIsIl9kZXRlcm1pbmVDcm9zc09yaWdpbjIiLCJfYml0VHdpZGRsZTIiLCJ0b3VjaGVkIiwicmVhbFdpZHRoIiwicmVhbEhlaWdodCIsImlzTG9hZGluZyIsIm9yaWdTb3VyY2UiLCJpbWFnZVR5cGUiLCJwcmVtdWx0aXBsaWVkQWxwaGEiLCJpc1Bvd2VyT2ZUd28iLCJtaXBtYXAiLCJ3cmFwTW9kZSIsIl9nbFRleHR1cmVzIiwiX2VuYWJsZWQiLCJfdmlydGFsQm91bmRJZCIsIl9kZXN0cm95ZWQiLCJsb2FkU291cmNlIiwibmF0dXJhbFdpZHRoIiwidmlkZW9XaWR0aCIsIm5hdHVyYWxIZWlnaHQiLCJ2aWRlb0hlaWdodCIsIl91cGRhdGVEaW1lbnNpb25zIiwiaXNQb3cyIiwid2FzTG9hZGluZyIsIm9ubG9hZCIsIm9uZXJyb3IiLCJmaXJzdFNvdXJjZUxvYWRlZCIsInNyYyIsImNvbXBsZXRlIiwiX3VwZGF0ZUltYWdlVHlwZSIsIl9sb2FkU3ZnU291cmNlIiwiX3NvdXJjZUxvYWRlZCIsInNjb3BlIiwiZmlyc3RTdWJUeXBlIiwiX2xvYWRTdmdTb3VyY2VVc2luZ0RhdGFVcmkiLCJfbG9hZFN2Z1NvdXJjZVVzaW5nWGhyIiwiYXRvYiIsIl9sb2FkU3ZnU291cmNlVXNpbmdTdHJpbmciLCJfdGhpczIiLCJzdmdYaHIiLCJYTUxIdHRwUmVxdWVzdCIsInJlYWR5U3RhdGUiLCJET05FIiwic3RhdHVzIiwicmVzcG9uc2UiLCJvcGVuIiwic2VuZCIsInN2Z1NpemUiLCJzdmdXaWR0aCIsInN2Z0hlaWdodCIsIl9waXhpSWQiLCJkcmF3SW1hZ2UiLCJpc0NvY29vbkpTIiwiZGlzcG9zZSIsInVwZGF0ZVNvdXJjZUltYWdlIiwibmV3U3JjIiwiaW1hZ2UiLCJJbWFnZSIsImNyb3NzT3JpZ2luIiwiYmFzZVRleHR1cmVGcm9tQ2FjaGUiLCJtZW1vIiwic3R5bGVzSW5Eb20iLCJpc09sZElFIiwiYWxsIiwiZ2V0RWxlbWVudCIsInN0eWxlVGFyZ2V0IiwicXVlcnlTZWxlY3RvciIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJzdHlsZXNJbnNlcnRlZEF0VG9wIiwiZml4VXJscyIsImFkZFN0eWxlc1RvRG9tIiwic3R5bGVzIiwib3B0aW9ucyIsIml0ZW0iLCJkb21TdHlsZSIsInJlZnMiLCJhZGRTdHlsZSIsImxpc3RUb1N0eWxlcyIsImxpc3QiLCJuZXdTdHlsZXMiLCJiYXNlIiwicGFydCIsImNzcyIsIm1lZGlhIiwic291cmNlTWFwIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGUiLCJpbnNlcnRJbnRvIiwibGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AiLCJpbnNlcnRBdCIsIm5leHRTaWJsaW5nIiwiaW5zZXJ0QmVmb3JlIiwiYXBwZW5kQ2hpbGQiLCJmaXJzdENoaWxkIiwiYmVmb3JlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiaWR4IiwiY3JlYXRlU3R5bGVFbGVtZW50IiwiYXR0cnMiLCJhZGRBdHRycyIsImVsIiwic2V0QXR0cmlidXRlIiwicmVtb3ZlIiwic3R5bGVJbmRleCIsImFwcGx5VG9TaW5nbGV0b25UYWciLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJyZXZva2VPYmplY3RVUkwiLCJCbG9iIiwiYnRvYSIsImxpbmsiLCJyZWwiLCJjcmVhdGVMaW5rRWxlbWVudCIsImF1dG9GaXhVcmxzIiwiY29udmVydFRvQWJzb2x1dGVVcmxzIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiYmxvYiIsIm9sZFNyYyIsImhyZWYiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNyZWF0ZVRleHROb2RlIiwiREVCVUciLCJuZXdMaXN0IiwibWF5UmVtb3ZlIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJyZXBsYWNlbWVudCIsIkJvb2xlYW4iLCJjc3NOb2RlIiwiY2hpbGROb2RlcyIsInVzZVNvdXJjZU1hcCIsIm1hcCIsImNvbnRlbnQiLCJjc3NNYXBwaW5nIiwic291cmNlTWFwcGluZyIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlUm9vdCIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJtZWRpYVF1ZXJ5IiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImNvcmUiLCJfVGV4dHVyZTIiLCJ0ZW1wUG9pbnQiLCJQb2ludCIsInRlbXBQb2x5Z29uIiwiUG9seWdvbiIsIk1lc2giLCJfY29yZSRDb250YWluZXIiLCJ2ZXJ0aWNlcyIsInV2cyIsImluZGljZXMiLCJkcmF3TW9kZSIsIl90ZXh0dXJlIiwiVWludDE2QXJyYXkiLCJkaXJ0eSIsImluZGV4RGlydHkiLCJjYW52YXNQYWRkaW5nIiwiVFJJQU5HTEVfTUVTSCIsInRpbnRSZ2IiLCJfZ2xEYXRhcyIsIl91dlRyYW5zZm9ybSIsInVwbG9hZFV2VHJhbnNmb3JtIiwicGx1Z2luTmFtZSIsIl9yZW5kZXJXZWJHTCIsInJlbmRlcmVyIiwicmVmcmVzaCIsInNldE9iamVjdFJlbmRlcmVyIiwicGx1Z2lucyIsInJlbmRlciIsIl9yZW5kZXJDYW52YXMiLCJfb25UZXh0dXJlVXBkYXRlIiwibXVsdGlwbHlVdnMiLCJmb3JjZVVwZGF0ZSIsIl9yZWZyZXNoIiwiX2NhbGN1bGF0ZUJvdW5kcyIsIl9ib3VuZHMiLCJhZGRWZXJ0aWNlcyIsImNvbnRhaW5zUG9pbnQiLCJwb2ludCIsImdldEJvdW5kcyIsImNvbnRhaW5zIiwid29ybGRUcmFuc2Zvcm0iLCJhcHBseUludmVyc2UiLCJwb2ludHMiLCJzdGVwIiwiaW5kMCIsImluZDEiLCJpbmQyIiwiTG9hZGVyIiwiUmVzb3VyY2UiLCJhc3luYyIsImI2NCIsImJhc2U2NCIsIl9zZXR0aW5ncyIsImNoZWNrUHJlY2lzaW9uIiwiZGVmIiwic3Vic3RyaW5nIiwiY29weSIsIl9HTFNoYWRlciIsInZlcnRleFNyYyIsImZyYWdtZW50U3JjIiwiYXR0cmlidXRlTG9jYXRpb25zIiwicHJlY2lzaW9uIiwib25Db250ZXh0Q2hhbmdlIiwiX1N5c3RlbVJlbmRlcmVyMyIsIl9DYW52YXNNYXNrTWFuYWdlcjIiLCJfQ2FudmFzUmVuZGVyVGFyZ2V0MiIsIl9tYXBDYW52YXNCbGVuZE1vZGVzVG9QaXhpMiIsIl9TeXN0ZW1SZW5kZXJlciIsImFyZzIiLCJhcmczIiwicm9vdENvbnRleHQiLCJtYXNrTWFuYWdlciIsInNtb290aFByb3BlcnR5IiwiaW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwid2Via2l0SW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwibW96SW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwib0ltYWdlU21vb3RoaW5nRW5hYmxlZCIsIm1zSW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwiaW5pdFBsdWdpbnMiLCJibGVuZE1vZGVzIiwiX2FjdGl2ZUJsZW5kTW9kZSIsInJlbmRlcmluZ1RvU2NyZWVuIiwicmVzaXplIiwiZGlzcGxheU9iamVjdCIsInJlbmRlclRleHR1cmUiLCJjbGVhciIsInNraXBVcGRhdGVUcmFuc2Zvcm0iLCJyb290UmVzb2x1dGlvbiIsIl9jYW52YXNSZW5kZXJUYXJnZXQiLCJfbGFzdE9iamVjdFJlbmRlcmVkIiwiY2FjaGVQYXJlbnQiLCJwYXJlbnQiLCJ0ZW1wV3QiLCJfdGVtcERpc3BsYXlPYmplY3RQYXJlbnQiLCJfd29ybGRJRCIsImlkZW50aXR5IiwidXBkYXRlVHJhbnNmb3JtIiwic2F2ZSIsInNldFRyYW5zZm9ybSIsImdsb2JhbEFscGhhIiwiZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uIiwic2NyZWVuY2FudmFzIiwiY2xlYXJSZWN0IiwiX2JhY2tncm91bmRDb2xvclN0cmluZyIsInRlbXBDb250ZXh0IiwicmVuZGVyQ2FudmFzIiwicmVzdG9yZSIsImNsZWFyQ29sb3IiLCJzZXRCbGVuZE1vZGUiLCJyZW1vdmVWaWV3IiwiZGVzdHJveVBsdWdpbnMiLCJzY3JlZW5XaWR0aCIsInNjcmVlbkhlaWdodCIsImludmFsaWRhdGVCbGVuZE1vZGUiLCJtaXhpbiIsIl9EaXNwbGF5T2JqZWN0MiIsImNoaWxkcmVuIiwib25DaGlsZHJlbkNoYW5nZSIsImFkZENoaWxkIiwiY2hpbGQiLCJhcmd1bWVudHNMZW5ndGgiLCJfcGFyZW50SUQiLCJfYm91bmRzSUQiLCJhZGRDaGlsZEF0Iiwic3dhcENoaWxkcmVuIiwiY2hpbGQyIiwiaW5kZXgxIiwiZ2V0Q2hpbGRJbmRleCIsImluZGV4MiIsInNldENoaWxkSW5kZXgiLCJjdXJyZW50SW5kZXgiLCJnZXRDaGlsZEF0IiwicmVtb3ZlQ2hpbGRBdCIsInJlbW92ZUNoaWxkcmVuIiwiYmVnaW5JbmRleCIsImVuZEluZGV4IiwiYmVnaW4iLCJyYW5nZSIsInJlbW92ZWQiLCJfaSIsIlJhbmdlRXJyb3IiLCJ3b3JsZEFscGhhIiwidmlzaWJsZSIsImNhbGN1bGF0ZUJvdW5kcyIsInJlbmRlcmFibGUiLCJfbWFzayIsImFkZEJvdW5kc01hc2siLCJmaWx0ZXJBcmVhIiwiYWRkQm91bmRzQXJlYSIsImFkZEJvdW5kcyIsIl9sYXN0Qm91bmRzSUQiLCJyZW5kZXJXZWJHTCIsIl9maWx0ZXJzIiwicmVuZGVyQWR2YW5jZWRXZWJHTCIsImZsdXNoIiwiZmlsdGVycyIsIm1hc2siLCJfZW5hYmxlZEZpbHRlcnMiLCJlbmFibGVkIiwiZmlsdGVyTWFuYWdlciIsInB1c2hGaWx0ZXIiLCJwdXNoTWFzayIsIl9pMiIsInBvcE1hc2siLCJwb3BGaWx0ZXIiLCJkZXN0cm95Q2hpbGRyZW4iLCJvbGRDaGlsZHJlbiIsInNjYWxlIiwiZ2V0TG9jYWxCb3VuZHMiLCJfd2lkdGgiLCJfaGVpZ2h0IiwiY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtIiwibG9hZGVyIiwicHJlcGFyZSIsInBhcnRpY2xlcyIsIm1lc2giLCJsb2FkZXJzIiwiaW50ZXJhY3Rpb24iLCJleHRyYXMiLCJleHRyYWN0IiwiYWNjZXNzaWJpbGl0eSIsIl9wb2x5ZmlsbCIsIl9jb3JlIiwiX2RlcHJlY2F0aW9uIiwiX2RlcHJlY2F0aW9uMiIsInBlcmZvcm1NaXhpbnMiLCJzaGFyZWQiLCJnbG9iYWwiLCJncmFwaGljc0RhdGEiLCJ3ZWJHTERhdGEiLCJ3ZWJHTERhdGFOYXRpdmVMaW5lcyIsIm5hdGl2ZUxpbmVzIiwidmVydHMiLCJjb2xvciIsImxpbmVDb2xvciIsImxpbmVBbHBoYSIsImciLCJwMXgiLCJwMXkiLCJwMngiLCJwMnkiLCJidWlsZE5hdGl2ZUxpbmUiLCJmaXJzdFBvaW50IiwibGFzdFBvaW50IiwicG9wIiwibWlkUG9pbnRYIiwibWlkUG9pbnRZIiwiaW5kZXhDb3VudCIsImluZGV4U3RhcnQiLCJsaW5lV2lkdGgiLCJwM3giLCJwM3kiLCJwZXJweCIsInBlcnB5IiwicGVycDJ4IiwicGVycDJ5IiwicGVycDN4IiwicGVycDN5IiwiZGlzdCIsInNxcnQiLCJiMSIsImMxIiwiYjIiLCJjMiIsImRlbm9tIiwiYWJzIiwicHgiLCJweSIsInBkaXN0IiwiYnVpbGRMaW5lIiwiZnJhbWVCdWZmZXIiLCJwcm9qZWN0aW9uTWF0cml4IiwiTWF0cml4IiwiZGVmYXVsdEZyYW1lIiwiZGVzdGluYXRpb25GcmFtZSIsInNvdXJjZUZyYW1lIiwic3RlbmNpbEJ1ZmZlciIsInN0ZW5jaWxNYXNrU3RhY2siLCJmaWx0ZXJEYXRhIiwiZnJhbWVidWZmZXIiLCJjcmVhdGVSR0JBIiwiZW5hYmxlTmVhcmVzdFNjYWxpbmciLCJlbmFibGVMaW5lYXJTY2FsaW5nIiwic2V0RnJhbWUiLCJjYyIsImF0dGFjaFN0ZW5jaWxCdWZmZXIiLCJlbmFibGVTdGVuY2lsIiwiYWN0aXZhdGUiLCJjYWxjdWxhdGVQcm9qZWN0aW9uIiwiYXBwZW5kIiwiZW5hYmxlIiwiU0NJU1NPUl9URVNUIiwic2Npc3NvciIsImRpc2FibGUiLCJ2aWV3cG9ydCIsInBtIiwidHgiLCJ0eSIsInByb2plY3Rpb25GcmFtZSIsIl9NYXNrTWFuYWdlcjIiLCJfU3RlbmNpbE1hbmFnZXIyIiwiX0ZpbHRlck1hbmFnZXIyIiwiX1JlbmRlclRhcmdldDIiLCJfT2JqZWN0UmVuZGVyZXIyIiwiX1RleHR1cmVNYW5hZ2VyMiIsIl9UZXh0dXJlR2FyYmFnZUNvbGxlY3RvcjIiLCJfV2ViR0xTdGF0ZTIiLCJfbWFwV2ViR0xEcmF3TW9kZXNUb1BpeGkyIiwiX3ZhbGlkYXRlQ29udGV4dDIiLCJfcGl4aUdsQ29yZTIiLCJDT05URVhUX1VJRCIsIkZPUkNFX05BVElWRSIsImhhbmRsZUNvbnRleHRMb3N0IiwiaGFuZGxlQ29udGV4dFJlc3RvcmVkIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9jb250ZXh0T3B0aW9ucyIsInBvd2VyUHJlZmVyZW5jZSIsIl9iYWNrZ3JvdW5kQ29sb3JSZ2JhIiwic3RlbmNpbE1hbmFnZXIiLCJlbXB0eVJlbmRlcmVyIiwiY3VycmVudFJlbmRlcmVyIiwidGV4dHVyZU1hbmFnZXIiLCJzdGF0ZSIsImJvdW5kVGV4dHVyZXMiLCJfYWN0aXZlU2hhZGVyIiwiX2FjdGl2ZVZhbyIsIl9hY3RpdmVSZW5kZXJUYXJnZXQiLCJfaW5pdENvbnRleHQiLCJkcmF3TW9kZXMiLCJfbmV4dFRleHR1cmVMb2NhdGlvbiIsImlzQ29udGV4dExvc3QiLCJyZXN0b3JlQ29udGV4dCIsIm1heFRleHR1cmVzIiwiZ2V0UGFyYW1ldGVyIiwiTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMiLCJlbXB0eVRleHR1cmVzIiwidGV4dHVyZUdDIiwicmVzZXRUb0RlZmF1bHQiLCJyb290UmVuZGVyVGFyZ2V0IiwiYmluZFJlbmRlclRhcmdldCIsImVtcHR5R0xUZXh0dXJlIiwiZnJvbURhdGEiLCJ0ZW1wT2JqIiwiZW1wdHkiLCJiaW5kVGV4dHVyZSIsInNjcmVlbiIsImJpbmRSZW5kZXJUZXh0dXJlIiwib2JqZWN0UmVuZGVyZXIiLCJzdG9wIiwidW5pZm9ybXMiLCJ0b0FycmF5IiwibWF0cml4IiwiY2xlYXJSZW5kZXJUZXh0dXJlIiwicmVuZGVyVGFyZ2V0IiwiX2dsUmVuZGVyVGFyZ2V0cyIsInVwZGF0ZVRleHR1cmUiLCJ1bmJpbmRUZXh0dXJlIiwic2V0TWFza1N0YWNrIiwiYmluZFNoYWRlciIsImF1dG9Qcm9qZWN0IiwibG9jYXRpb24iLCJmb3JjZUxvY2F0aW9uIiwiY291bnQiLCJnbFRleHR1cmUiLCJhY3RpdmVUZXh0dXJlIiwiVEVYVFVSRTAiLCJURVhUVVJFXzJEIiwiY3JlYXRlVmFvIiwiYXR0cmliU3RhdGUiLCJiaW5kVmFvIiwidmFvIiwidW5iaW5kIiwicmVzZXQiLCJwcmV2ZW50RGVmYXVsdCIsInJlbW92ZUFsbCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ1c2VQcm9ncmFtIiwiX1dlYkdMTWFuYWdlcjIiLCJ0ZXh0U3R5bGUiLCJmb250V2VpZ2h0IiwiZm9udFNpemUiLCJmb250RmFtaWx5IiwiZmlsbCIsImFsaWduIiwic3Ryb2tlIiwic3Ryb2tlVGhpY2tuZXNzIiwibG9hZEZvbnRzIiwiV2ViRm9udENvbmZpZyIsImdvb2dsZSIsImZhbWlsaWVzIiwid2YiLCJwcm90b2NvbCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiU3ByaXRlRXh0XzEiLCJ0ZXh0RXh0XzEiLCJzcHJpdGVzIiwid2F0ZXIiLCJ3YXRlcksiLCJncmVlbksiLCJkcnlLIiwibGF2YUsiLCJub3Rzb21lZHJ5SyIsInJvY2tLIiwib28yIiwibzIiLCJjcnkiLCIxIiwibW9sIiwiZW5lcmd5IiwibWluZXJhbCIsImNoYXJhY3RlciIsImNoYXJhY3RlcjIiLCJnZXRTcHJpdGUiLCJzcHJpdGVOYW1lIiwiU3ByaXRlRXh0IiwiaW1hZ2VQYXRoIiwicmVzb3VyY2VzIiwiZ2V0VGV4dHVyZSIsImdldFRleHQiLCJ0ZXh0IiwiYXNzaWduIiwibm9ybWFsaXplSGVhZGVyTmFtZSIsIkRFRkFVTFRfQ09OVEVOVF9UWVBFIiwiQ29udGVudC1UeXBlIiwic2V0Q29udGVudFR5cGVJZlVuc2V0IiwiaGVhZGVycyIsImFkYXB0ZXIiLCJkZWZhdWx0cyIsInRyYW5zZm9ybVJlcXVlc3QiLCJ0cmFuc2Zvcm1SZXNwb25zZSIsInBhcnNlIiwidGltZW91dCIsInhzcmZDb29raWVOYW1lIiwieHNyZkhlYWRlck5hbWUiLCJtYXhDb250ZW50TGVuZ3RoIiwidmFsaWRhdGVTdGF0dXMiLCJjb21tb24iLCJBY2NlcHQiLCJtZXRob2QiLCJfQ291bnRMaW1pdGVyIiwiX0NvdW50TGltaXRlcjIiLCJTaGFyZWRUaWNrZXIiLCJVUExPQURTX1BFUl9GUkFNRSIsIkJhc2VQcmVwYXJlIiwibGltaXRlciIsInVwbG9hZEhvb2tIZWxwZXIiLCJxdWV1ZSIsImFkZEhvb2tzIiwidXBsb2FkSG9va3MiLCJjb21wbGV0ZXMiLCJ0aWNraW5nIiwiZGVsYXllZFRpY2siLCJwcmVwYXJlSXRlbXMiLCJyZWdpc3RlckZpbmRIb29rIiwiZmluZFRleHQiLCJmaW5kVGV4dFN0eWxlIiwiZmluZE11bHRpcGxlQmFzZVRleHR1cmVzIiwiZmluZEJhc2VUZXh0dXJlIiwiZmluZFRleHR1cmUiLCJyZWdpc3RlclVwbG9hZEhvb2siLCJkcmF3VGV4dCIsImNhbGN1bGF0ZVRleHRTdHlsZSIsInVwbG9hZCIsImRvbmUiLCJhZGQiLCJhZGRPbmNlIiwidGljayIsInNldFRpbWVvdXQiLCJiZWdpbkZyYW1lIiwiYWxsb3dlZFRvVXBsb2FkIiwidXBsb2FkZWQiLCJzaGlmdCIsIl9sZW4iLCJhZGRIb29rIiwidXBsb2FkSG9vayIsIl90ZXh0dXJlcyIsImhlbHBlciIsInVwZGF0ZVRleHQiLCJmb250IiwidG9Gb250U3RyaW5nIiwibWVhc3VyZUZvbnQiLCJfcGFyc2VVcmkyIiwiX21pbmlTaWduYWxzMiIsInVzZVhkciIsIlhEb21haW5SZXF1ZXN0IiwidGVtcEFuY2hvciIsIl9ub29wIiwiX2ZsYWdzIiwiX3NldEZsYWciLCJTVEFUVVNfRkxBR1MiLCJEQVRBX1VSTCIsIl9nZXRFeHRlbnNpb24iLCJsb2FkVHlwZSIsIl9kZXRlcm1pbmVMb2FkVHlwZSIsInhoclR5cGUiLCJtZXRhZGF0YSIsImVycm9yIiwieGhyIiwiVFlQRSIsInByb2dyZXNzQ2h1bmsiLCJfZGVxdWV1ZSIsIl9vbkxvYWRCaW5kaW5nIiwiX2JvdW5kQ29tcGxldGUiLCJfYm91bmRPbkVycm9yIiwiX29uRXJyb3IiLCJfYm91bmRPblByb2dyZXNzIiwiX29uUHJvZ3Jlc3MiLCJfYm91bmRYaHJPbkVycm9yIiwiX3hock9uRXJyb3IiLCJfYm91bmRYaHJPbkFib3J0IiwiX3hock9uQWJvcnQiLCJfYm91bmRYaHJPbkxvYWQiLCJfeGhyT25Mb2FkIiwiX2JvdW5kWGRyT25UaW1lb3V0IiwiX3hkck9uVGltZW91dCIsIm9uU3RhcnQiLCJvblByb2dyZXNzIiwib25Db21wbGV0ZSIsIm9uQWZ0ZXJNaWRkbGV3YXJlIiwic2V0RXh0ZW5zaW9uTG9hZFR5cGUiLCJzZXRFeHRNYXAiLCJfbG9hZFR5cGVNYXAiLCJzZXRFeHRlbnNpb25YaHJUeXBlIiwiX3hoclR5cGVNYXAiLCJvbnRpbWVvdXQiLCJvbnByb2dyZXNzIiwiaXNDb21wbGV0ZSIsIkNPTVBMRVRFIiwiTE9BRElORyIsImRpc3BhdGNoIiwiYWJvcnQiLCJtZXNzYWdlIiwieGRyIiwiRU1QVFlfR0lGIiwibG9hZCIsImNiIiwiX2RldGVybWluZUNyb3NzT3JpZ2luIiwiTE9BRF9UWVBFIiwiSU1BR0UiLCJfbG9hZEVsZW1lbnQiLCJBVURJTyIsIl9sb2FkU291cmNlRWxlbWVudCIsIlZJREVPIiwiWEhSIiwiX2xvYWRYZHIiLCJfbG9hZFhociIsIl9oYXNGbGFnIiwiZmxhZyIsImxvYWRFbGVtZW50Iiwic2tpcFNvdXJjZSIsIkF1ZGlvIiwibWltZVR5cGVzIiwibWltZVR5cGUiLCJfY3JlYXRlU291cmNlIiwiX21pbWVUeXBlcyIsIl9kZXRlcm1pbmVYaHJUeXBlIiwiWEhSX1JFU1BPTlNFX1RZUEUiLCJET0NVTUVOVCIsInJlc3BvbnNlVHlwZSIsIlRFWFQiLCJtaW1lIiwibm9kZU5hbWUiLCJsZW5ndGhDb21wdXRhYmxlIiwibG9hZGVkIiwidG90YWwiLCJyZXFUeXBlIiwic3RhdHVzVGV4dCIsInJlc3BvbnNlVGV4dCIsIkJVRkZFUiIsIkRPTVBhcnNlciIsImRvbXBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsImRpdiIsImlubmVySFRNTCIsIlhNTCIsInJlc3BvbnNlVVJMIiwibG9jIiwic2FtZVBvcnQiLCJzdHJpY3RNb2RlIiwicG9ydCIsImhvc3QiLCJob3N0bmFtZSIsImlzRGF0YVVybCIsInNsYXNoSW5kZXgiLCJxdWVyeVN0YXJ0IiwiaGFzaFN0YXJ0IiwibGFzdEluZGV4T2YiLCJfZ2V0TWltZUZyb21YaHJUeXBlIiwiQkxPQiIsIkRFRkFVTFQiLCJOT05FIiwiZ2lmIiwicG5nIiwiYm1wIiwianBnIiwianBlZyIsInRpZiIsInRpZmYiLCJ3ZWJwIiwidGdhIiwic3ZnIiwic3ZnK3htbCIsIm1wMyIsIm9nZyIsIndhdiIsIm1wNCIsIndlYm0iLCJ4aHRtbCIsImh0bWwiLCJodG0iLCJ4bWwiLCJ0bXgiLCJ0c3giLCJqc29uIiwidHh0IiwidHRmIiwib3RmIiwidG90YWxJbmRpY2VzIiwiX2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMiLCJnZXRUaW50ZWRUZXh0dXJlIiwic3ByaXRlIiwic3RyaW5nQ29sb3IiLCJyb3VuZENvbG9yIiwidGludENhY2hlIiwiY2FjaGVkVGV4dHVyZSIsInRpbnRJZCIsInRpbnRNZXRob2QiLCJjb252ZXJ0VGludFRvSW1hZ2UiLCJ0aW50SW1hZ2UiLCJ0b0RhdGFVUkwiLCJ0aW50V2l0aE11bHRpcGx5IiwiY3JvcCIsImNlaWwiLCJ0aW50V2l0aE92ZXJsYXkiLCJ0aW50V2l0aFBlclBpeGVsIiwicmdiVmFsdWVzIiwicGl4ZWxEYXRhIiwiZ2V0SW1hZ2VEYXRhIiwicGl4ZWxzIiwicHV0SW1hZ2VEYXRhIiwiY2FjaGVTdGVwc1BlckNvbG9yQ2hhbm5lbCIsImNhblVzZU11bHRpcGx5IiwiX0Jhc2VSZW5kZXJUZXh0dXJlMiIsImJhc2VSZW5kZXJUZXh0dXJlIiwiX2xlZ2FjeVJlbmRlcmVyIiwibGVnYWN5UmVuZGVyZXIiLCJkb05vdFJlc2l6ZUJhc2VUZXh0dXJlIiwiVGlja2VyIiwiX1RpY2tlciIsIl9UaWNrZXIyIiwiYXV0b1N0YXJ0IiwiY291bnRUcmFpbGluZ1plcm9zIiwidiIsIklOVF9CSVRTIiwiSU5UX01BWCIsIklOVF9NSU4iLCJtYXgiLCJsb2cyIiwibG9nMTAiLCJwb3BDb3VudCIsIm5leHRQb3cyIiwicHJldlBvdzIiLCJwYXJpdHkiLCJSRVZFUlNFX1RBQkxFIiwidGFiIiwicmV2ZXJzZSIsImludGVybGVhdmUyIiwiZGVpbnRlcmxlYXZlMiIsImludGVybGVhdmUzIiwieiIsImRlaW50ZXJsZWF2ZTMiLCJuZXh0Q29tYmluYXRpb24iLCJ0IiwiX0NvbnRhaW5lcjMiLCJfYW5jaG9yIiwiT2JzZXJ2YWJsZVBvaW50IiwiX29uQW5jaG9yVXBkYXRlIiwiX3RpbnQiLCJfdGludFJHQiIsImNhY2hlZFRpbnQiLCJ2ZXJ0ZXhEYXRhIiwidmVydGV4VHJpbW1lZERhdGEiLCJfdHJhbnNmb3JtSUQiLCJfdGV4dHVyZUlEIiwiX3RyYW5zZm9ybVRyaW1tZWRJRCIsIl90ZXh0dXJlVHJpbW1lZElEIiwiY2FsY3VsYXRlVmVydGljZXMiLCJ3dCIsImFuY2hvciIsIncwIiwidzEiLCJoMCIsImgxIiwiX3giLCJfeSIsImNhbGN1bGF0ZVRyaW1tZWRWZXJ0aWNlcyIsImFkZFF1YWQiLCJyZWN0IiwibWluWCIsIm1pblkiLCJtYXhYIiwibWF4WSIsIl9sb2NhbEJvdW5kc1JlY3QiLCJnZXRSZWN0YW5nbGUiLCJ4MSIsInkxIiwiZGVzdHJveUJhc2VUZXh0dXJlIiwiaW1hZ2VJZCIsImhvbGVJbmRpY2VzIiwiZGltIiwiaW52U2l6ZSIsImhhc0hvbGVzIiwib3V0ZXJMZW4iLCJvdXRlck5vZGUiLCJsaW5rZWRMaXN0IiwidHJpYW5nbGVzIiwibmV4dCIsInN0ZWluZXIiLCJnZXRMZWZ0bW9zdCIsInNvcnQiLCJjb21wYXJlWCIsImVsaW1pbmF0ZUhvbGUiLCJmaWx0ZXJQb2ludHMiLCJlbGltaW5hdGVIb2xlcyIsImVhcmN1dExpbmtlZCIsImNsb2Nrd2lzZSIsInNpZ25lZEFyZWEiLCJpbnNlcnROb2RlIiwiZXF1YWxzIiwicmVtb3ZlTm9kZSIsImFnYWluIiwiYXJlYSIsInByZXYiLCJlYXIiLCJwYXNzIiwiek9yZGVyIiwicHJldloiLCJuZXh0WiIsInEiLCJ0YWlsIiwibnVtTWVyZ2VzIiwicFNpemUiLCJxU2l6ZSIsImluU2l6ZSIsInNvcnRMaW5rZWQiLCJpbmRleEN1cnZlIiwiaXNFYXJIYXNoZWQiLCJpc0VhciIsImN1cmVMb2NhbEludGVyc2VjdGlvbnMiLCJzcGxpdEVhcmN1dCIsInBvaW50SW5UcmlhbmdsZSIsIm1pblRYIiwibWluVFkiLCJtYXhUWCIsIm1heFRZIiwibWluWiIsIm1heFoiLCJpbnRlcnNlY3RzIiwibG9jYWxseUluc2lkZSIsImlzVmFsaWREaWFnb25hbCIsInNwbGl0UG9seWdvbiIsImhvbGUiLCJoeCIsImh5IiwicXgiLCJJbmZpbml0eSIsInRhbiIsIm14IiwibXkiLCJ0YW5NaW4iLCJmaW5kSG9sZUJyaWRnZSIsImxlZnRtb3N0IiwiYXgiLCJheSIsImJ4IiwiYnkiLCJjeCIsImN5IiwiaW50ZXJzZWN0c1BvbHlnb24iLCJpbnNpZGUiLCJtaWRkbGVJbnNpZGUiLCJwMSIsInAyIiwicTEiLCJxMiIsIk5vZGUiLCJhbiIsImJwIiwic3VtIiwiZGV2aWF0aW9uIiwicG9seWdvbkFyZWEiLCJ0cmlhbmdsZXNBcmVhIiwiZmxhdHRlbiIsImhvbGVzIiwiZGltZW5zaW9ucyIsImhvbGVJbmRleCIsImxvY2FsVHJhbnNmb3JtIiwidXBkYXRlTG9jYWxUcmFuc2Zvcm0iLCJwYXJlbnRUcmFuc2Zvcm0iLCJwdCIsImx0IiwidXBkYXRlV29ybGRUcmFuc2Zvcm0iLCJJREVOVElUWSIsIl9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyIsIl9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18iLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyIsImFwcGxlX3Bob25lIiwiYXBwbGVfaXBvZCIsImFwcGxlX3RhYmxldCIsImFuZHJvaWRfcGhvbmUiLCJhbmRyb2lkX3RhYmxldCIsImFtYXpvbl9waG9uZSIsImFtYXpvbl90YWJsZXQiLCJ3aW5kb3dzX3Bob25lIiwid2luZG93c190YWJsZXQiLCJvdGhlcl9ibGFja2JlcnJ5Iiwib3RoZXJfYmxhY2tiZXJyeV8xMCIsIm90aGVyX29wZXJhIiwib3RoZXJfY2hyb21lIiwib3RoZXJfZmlyZWZveCIsInNldmVuX2luY2giLCJJc01vYmlsZUNsYXNzIiwiaW5zdGFudGlhdGUiLCJSZWdFeHAiLCJyZWdleCIsInRlc3QiLCJ1YSIsInRtcCIsImFwcGxlIiwicGhvbmUiLCJpcG9kIiwidGFibGV0IiwiZGV2aWNlIiwiYW1hem9uIiwiYW5kcm9pZCIsIndpbmRvd3MiLCJvdGhlciIsImJsYWNrYmVycnkiLCJibGFja2JlcnJ5MTAiLCJvcGVyYSIsImZpcmVmb3giLCJjaHJvbWUiLCJhbnkiLCJJTSIsIkNsYXNzIiwiaXNFbXB0eSIsInVwZGF0ZUlEIiwiYWRkUG9pbnQiLCJhZGRGcmFtZSIsIngwIiwieTAiLCJiZWdpbk9mZnNldCIsImVuZE9mZnNldCIsInJhd1giLCJyYXdZIiwiYm91bmRzIiwiX21pblgiLCJfbWluWSIsIl9tYXhYIiwiX21heFkiLCJHTF9UQUJMRSIsIkdMX1RPX0dMU0xfVFlQRVMiLCJGTE9BVCIsIkZMT0FUX1ZFQzIiLCJGTE9BVF9WRUMzIiwiRkxPQVRfVkVDNCIsIklOVCIsIklOVF9WRUMyIiwiSU5UX1ZFQzMiLCJJTlRfVkVDNCIsIkJPT0wiLCJCT09MX1ZFQzIiLCJCT09MX1ZFQzMiLCJCT09MX1ZFQzQiLCJGTE9BVF9NQVQyIiwiRkxPQVRfTUFUMyIsIkZMT0FUX01BVDQiLCJTQU1QTEVSXzJEIiwidHlwZU5hbWVzIiwidG4iLCJyZWN0YW5nbGUiLCJwYWQiLCJwYWRkaW5nWCIsInBhZGRpbmdZIiwiZml0IiwiZW5sYXJnZSIsIngyIiwieTIiLCJfUG9pbnQyIiwiYXJyYXkiLCJmcm9tQXJyYXkiLCJ0cmFuc3Bvc2UiLCJwb3MiLCJuZXdQb3MiLCJ0cmFuc2xhdGUiLCJhbmdsZSIsImNvcyIsInNpbiIsInR4MSIsImQxIiwicGl2b3RYIiwicGl2b3RZIiwic2NhbGVYIiwic2NhbGVZIiwicm90YXRpb24iLCJza2V3WCIsInNrZXdZIiwicHJlcGVuZCIsImRlY29tcG9zZSIsImF0YW4yIiwiZGVsdGEiLCJza2V3IiwicG9zaXRpb24iLCJpbnZlcnQiLCJGdW5jdGlvbiIsImV2YWwiLCJDYW5jZWwiLCJfX0NBTkNFTF9fIiwiZW5oYW5jZUVycm9yIiwiY29uZmlnIiwiY29kZSIsInJlcXVlc3QiLCJzZXR0bGUiLCJidWlsZFVSTCIsInBhcnNlSGVhZGVycyIsImlzVVJMU2FtZU9yaWdpbiIsImNyZWF0ZUVycm9yIiwiUHJvbWlzZSIsInJlamVjdCIsInJlcXVlc3REYXRhIiwicmVxdWVzdEhlYWRlcnMiLCJsb2FkRXZlbnQiLCJ4RG9tYWluIiwiYXV0aCIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJBdXRob3JpemF0aW9uIiwidG9VcHBlckNhc2UiLCJwYXJhbXMiLCJwYXJhbXNTZXJpYWxpemVyIiwicmVzcG9uc2VIZWFkZXJzIiwiZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIiwiY29va2llcyIsInhzcmZWYWx1ZSIsIndpdGhDcmVkZW50aWFscyIsInJlYWQiLCJzZXRSZXF1ZXN0SGVhZGVyIiwib25Eb3dubG9hZFByb2dyZXNzIiwib25VcGxvYWRQcm9ncmVzcyIsImNhbmNlbFRva2VuIiwicHJvbWlzZSIsInRoZW4iLCJjYW5jZWwiLCJtb2NrVXJsIiwiYmFzZVVSTCIsInN3aXRjaEFwaSIsImNsaWVudCIsImdldE1hcCIsImdldFR1cm4iLCJnZXRSZXNvdXJjZXMiLCJtYWtlVHVybiIsImdldEZhY3RvcmllcyIsImdldEZhY3RvcnlJbmZvcyIsImJ1aWxkRmFjdG9yeSIsInBvc3QiLCJnZXRGcmFjdGlvbiIsIkNvdW50TGltaXRlciIsIm1heEl0ZW1zUGVyRnJhbWUiLCJpdGVtc0xlZnQiLCJfTWVzaDIiLCJfTWVzaDMiLCJQbGFuZSIsIl9NZXNoIiwidmVydGljZXNYIiwidmVydGljZXNZIiwiX3JlYWR5Iiwic2VnbWVudHNYIiwic2VnbWVudHNZIiwic2l6ZVgiLCJzaXplWSIsInRvdGFsU3ViIiwieHBvcyIsInlwb3MiLCJ2YWx1ZTIiLCJ2YWx1ZTMiLCJ2YWx1ZTQiLCJjb2xvcnMiLCJyZXNvdXJjZSIsIl9yZXNvdXJjZUxvYWRlciIsImltYWdlUmVzb3VyY2VOYW1lIiwiZnJhbWVzIiwibG9hZE9wdGlvbnMiLCJpbWFnZU1ldGFkYXRhIiwicGFyZW50UmVzb3VyY2UiLCJyZXNvdXJjZVBhdGgiLCJnZXRSZXNvdXJjZVBhdGgiLCJiYXNlVXJsIiwic3ByaXRlc2hlZXQiLCJ0ZXh0dXJlcyIsIl91cmwiLCJfdXJsMiIsIm1ldGEiLCJlbmNvZGVCaW5hcnkiLCJpbnB1dCIsIm91dHB1dCIsImlueCIsImJ5dGVidWZmZXIiLCJlbmNvZGVkQ2hhckluZGV4ZXMiLCJqbngiLCJjaGFyQ29kZUF0IiwicGFkZGluZ0J5dGVzIiwiX2pueCIsIl9rZXlTdHIiLCJvbmx5T25jZSIsImNhbGxGbiIsImVhY2hTZXJpZXMiLCJpdGVyYXRvciIsImNhbGxiYWNrIiwiZGVmZXJOZXh0IiwiZXJyIiwid29ya2VyIiwiY29uY3VycmVuY3kiLCJ3b3JrZXJzIiwiX3Rhc2tzIiwic2F0dXJhdGVkIiwidW5zYXR1cmF0ZWQiLCJkcmFpbiIsInN0YXJ0ZWQiLCJwYXVzZWQiLCJfaW5zZXJ0Iiwia2lsbCIsInRhc2siLCJfbmV4dCIsInJ1bm5pbmciLCJpZGxlIiwicGF1c2UiLCJyZXN1bWUiLCJ3IiwiaW5zZXJ0QXRGcm9udCIsIm9wdHMiLCJwYXJzZXIiLCJzdHJpY3QiLCJsb29zZSIsInVyaSIsIiQwIiwiJDEiLCIkMiIsIk1pbmlTaWduYWxCaW5kaW5nIiwiX2ZuIiwiX29uY2UiLCJfdGhpc0FyZyIsIl9wcmV2IiwiX293bmVyIiwiZGV0YWNoIiwiX2FkZE1pbmlTaWduYWxCaW5kaW5nIiwibm9kZSIsIl9oZWFkIiwiX3RhaWwiLCJNaW5pU2lnbmFsIiwiZ2V0QXR0cmlidXRlIiwieG1sVXJsIiwidGV4dHVyZVVybCIsIl9leHRyYXMiLCJiaXRtYXBGb250IiwiQml0bWFwVGV4dCIsInJlZ2lzdGVyRm9udCIsImludGVyYWN0aXZlIiwiaW50ZXJhY3RpdmVDaGlsZHJlbiIsImhpdEFyZWEiLCJidXR0b25Nb2RlIiwiY3Vyc29yIiwidHJhY2tlZFBvaW50ZXJzIiwiX3RyYWNrZWRQb2ludGVycyIsIkludGVyYWN0aW9uVHJhY2tpbmdEYXRhIiwicG9pbnRlcklkIiwiX3BvaW50ZXJJZCIsIkZMQUdTIiwiX2RvU2V0IiwieW4iLCJmbGFncyIsIk9WRVIiLCJSSUdIVF9ET1dOIiwiTEVGVF9ET1dOIiwiZnJlZXplIiwiSW50ZXJhY3Rpb25FdmVudCIsInN0b3BwZWQiLCJjdXJyZW50VGFyZ2V0Iiwic3RvcFByb3BhZ2F0aW9uIiwiSW50ZXJhY3Rpb25EYXRhIiwib3JpZ2luYWxFdmVudCIsImlkZW50aWZpZXIiLCJpc1ByaW1hcnkiLCJidXR0b24iLCJidXR0b25zIiwidGlsdFgiLCJ0aWx0WSIsInBvaW50ZXJUeXBlIiwicHJlc3N1cmUiLCJyb3RhdGlvbkFuZ2xlIiwidHdpc3QiLCJ0YW5nZW50aWFsUHJlc3N1cmUiLCJnZXRMb2NhbFBvc2l0aW9uIiwiZ2xvYmFsUG9zIiwiY29weUV2ZW50IiwiaXNJbnRlZ2VyIiwid2hpY2giLCJfZ2VuZXJhdGVCbHVyVmVydFNvdXJjZTIiLCJfZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZTIiLCJfZ2V0TWF4Qmx1cktlcm5lbFNpemUyIiwiQmx1cllGaWx0ZXIiLCJfY29yZSRGaWx0ZXIiLCJzdHJlbmd0aCIsInF1YWxpdHkiLCJrZXJuZWxTaXplIiwidmVydFNyYyIsImZyYWdTcmMiLCJfcXVhbGl0eSIsImZpcnN0UnVuIiwicGFzc2VzIiwiYXBwbHlGaWx0ZXIiLCJnZXRSZW5kZXJUYXJnZXQiLCJmbGlwIiwiZmxvcCIsInRlbXAiLCJyZXR1cm5SZW5kZXJUYXJnZXQiLCJwYWRkaW5nIiwibWF4VmFyeWluZ3MiLCJNQVhfVkFSWUlOR19WRUNUT1JTIiwia2VybmVsIiwiR0FVU1NJQU5fVkFMVUVTIiwiaGFsZkxlbmd0aCIsImZyYWdTb3VyY2UiLCJmcmFnVGVtcGxhdGUiLCJibHVyTG9vcCIsImJsdXIiLCI1IiwiNyIsIjkiLCIxMSIsIjEzIiwiMTUiLCJ2ZXJ0U291cmNlIiwidmVydFRlbXBsYXRlIiwidGVtcGxhdGUiLCJCbHVyWEZpbHRlciIsIlRpbGluZ1Nwcml0ZVJlbmRlcmVyIiwiVGlsaW5nU3ByaXRlIiwiQW5pbWF0ZWRTcHJpdGUiLCJfQW5pbWF0ZWRTcHJpdGUiLCJfVGlsaW5nU3ByaXRlIiwiX1RpbGluZ1Nwcml0ZVJlbmRlcmVyIiwiX0JpdG1hcFRleHQiLCJhY2Nlc3NpYmxlIiwiYWNjZXNzaWJsZVRpdGxlIiwiYWNjZXNzaWJsZUhpbnQiLCJ0YWJJbmRleCIsIl9hY2Nlc3NpYmxlQWN0aXZlIiwiX2FjY2Vzc2libGVEaXYiLCJhcmcxIiwiZm9yY2VDYW52YXMiLCJfQ29udGFpbmVyMiIsIl90aWNrZXIiLCJhcmc0IiwiYXJnNSIsInNoYXJlZFRpY2tlciIsIl9vcHRpb25zIiwic2hhcmVkTG9hZGVyIiwic3RhZ2UiLCJvbGRUaWNrZXIiLCJmaWxsQ29sb3IiLCJmaWxsQWxwaGEiLCJzaGFwZSIsIl9saW5lVGludCIsIl9maWxsVGludCIsImFkZEhvbGUiLCJsaW5lcyIsImxpbmVXaWR0aHMiLCJsaW5lSGVpZ2h0IiwibWF4TGluZVdpZHRoIiwiZm9udFByb3BlcnRpZXMiLCJtZWFzdXJlVGV4dCIsIndvcmRXcmFwIiwiX2NhbnZhcyIsImxldHRlclNwYWNpbmciLCJkcm9wU2hhZG93IiwiZHJvcFNoYWRvd0Rpc3RhbmNlIiwibGVhZGluZyIsImxpbmUiLCJjYWNoZSIsImxzIiwid29yZFdyYXBXaWR0aCIsInNwYWNlV2lkdGgiLCJnZXRGcm9tQ2FjaGUiLCJ3b3JkcyIsIndvcmQiLCJ3b3JkV2lkdGgiLCJicmVha1dvcmRzIiwiY2hhcmFjdGVycyIsImNoYXJhY3RlcldpZHRoIiwiYWRkTGluZSIsInNwYWNpbmciLCJfZm9udHMiLCJwcm9wZXJ0aWVzIiwiX2NvbnRleHQiLCJiYXNlbGluZSIsInRleHRCYXNlbGluZSIsImZpbGxUZXh0IiwiaW1hZ2VkYXRhIiwiYXNjZW50IiwiX2oiLCJkZXNjZW50IiwiZGVmYXVsdFN0eWxlIiwiZHJvcFNoYWRvd0FscGhhIiwiZHJvcFNoYWRvd0FuZ2xlIiwiZHJvcFNoYWRvd0JsdXIiLCJkcm9wU2hhZG93Q29sb3IiLCJmaWxsR3JhZGllbnRUeXBlIiwiZmlsbEdyYWRpZW50U3RvcHMiLCJmb250U3R5bGUiLCJmb250VmFyaWFudCIsImxpbmVKb2luIiwibWl0ZXJMaW1pdCIsInN0eWxlSUQiLCJkZWVwQ29weVByb3BlcnRpZXMiLCJjbG9uZWRQcm9wZXJ0aWVzIiwiZm9udFNpemVTdHJpbmciLCJmb250RmFtaWxpZXMiLCJfYWxpZ24iLCJfYnJlYWtXb3JkcyIsIl9kcm9wU2hhZG93IiwiX2Ryb3BTaGFkb3dBbHBoYSIsIl9kcm9wU2hhZG93QW5nbGUiLCJfZHJvcFNoYWRvd0JsdXIiLCJfZHJvcFNoYWRvd0NvbG9yIiwib3V0cHV0Q29sb3IiLCJnZXRDb2xvciIsIl9kcm9wU2hhZG93RGlzdGFuY2UiLCJfZmlsbCIsIl9maWxsR3JhZGllbnRUeXBlIiwiX2ZpbGxHcmFkaWVudFN0b3BzIiwiYXJyYXkxIiwiYXJyYXkyIiwiYXJlQXJyYXlzRXF1YWwiLCJfZm9udEZhbWlseSIsIl9mb250U2l6ZSIsIl9mb250U3R5bGUiLCJfZm9udFZhcmlhbnQiLCJfZm9udFdlaWdodCIsIl9sZXR0ZXJTcGFjaW5nIiwiX2xpbmVIZWlnaHQiLCJfbGVhZGluZyIsIl9saW5lSm9pbiIsIl9taXRlckxpbWl0IiwiX3BhZGRpbmciLCJfc3Ryb2tlIiwiX3N0cm9rZVRoaWNrbmVzcyIsIl90ZXh0QmFzZWxpbmUiLCJfdHJpbSIsIl93b3JkV3JhcCIsIl93b3JkV3JhcFdpZHRoIiwiZ2V0U2luZ2xlQ29sb3IiLCJwcm9wZXJ0eU9iaiIsInByb3AiLCJfY3JlYXRlSW5kaWNlc0ZvclF1YWRzMiIsImludGVybGVhdmVkIiwidmVydGV4QnVmZmVyIiwiY3JlYXRlVmVydGV4QnVmZmVyIiwiU1RBVElDX0RSQVciLCJpbmRleEJ1ZmZlciIsImNyZWF0ZUluZGV4QnVmZmVyIiwiaW5pdFZhbyIsImFkZEluZGV4IiwiYWRkQXR0cmlidXRlIiwiYXR0cmlidXRlcyIsImFWZXJ0ZXhQb3NpdGlvbiIsImFUZXh0dXJlQ29vcmQiLCJ0YXJnZXRUZXh0dXJlRnJhbWUiLCJkZWxldGVCdWZmZXIiLCJfTWF0cml4MiIsInRlbXBNYXQiLCJjbGFtcE1hcmdpbiIsIm1hcENvb3JkIiwidUNsYW1wRnJhbWUiLCJ1Q2xhbXBPZmZzZXQiLCJfbGFzdFRleHR1cmVJRCIsImNsYW1wT2Zmc2V0IiwibWF0IiwieDMiLCJ5MyIsInRleEJhc2UiLCJtYXJnaW4iLCJvZmZzZXQiLCJjYWNoZWRTZXRUaW1lb3V0IiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwiZGVmYXVsdFNldFRpbW91dCIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZnVuIiwiY2xlYXJUaW1lb3V0IiwiY3VycmVudFF1ZXVlIiwiZHJhaW5pbmciLCJxdWV1ZUluZGV4IiwiY2xlYW5VcE5leHRUaWNrIiwiZHJhaW5RdWV1ZSIsInJ1biIsIm1hcmtlciIsInJ1bkNsZWFyVGltZW91dCIsIkl0ZW0iLCJub29wIiwibmV4dFRpY2siLCJ0aXRsZSIsImJyb3dzZXIiLCJlbnYiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImJpbmRpbmciLCJjaGRpciIsInVtYXNrIiwiX2V4dHJhY3RVbmlmb3Jtc0Zyb21TcmMyIiwiU09VUkNFX0tFWV9NQVAiLCJkZWZhdWx0VmVydGV4U3JjIiwiZGVmYXVsdEZyYWdtZW50U3JjIiwiX2JsZW5kTW9kZSIsInVuaWZvcm1EYXRhIiwiZ2xTaGFkZXJzIiwiZ2xTaGFkZXJLZXkiLCJhdXRvRml0IiwiY3VycmVudFN0YXRlIiwiX0ZpbHRlcjMiLCJfVGV4dHVyZU1hdHJpeDIiLCJtYXNrTWF0cml4IiwibWFza1Nwcml0ZSIsIm90aGVyTWF0cml4IiwiY2FsY3VsYXRlU3ByaXRlTWF0cml4IiwibWFza0NsYW1wIiwiY3JlYXRlQ29sb3JlZENhbnZhcyIsIm1hZ2VudGEiLCJ5ZWxsb3ciLCJpbWFnZURhdGEiLCJfQmFzZVRleHR1cmUzIiwiX1JlbmRlclRleHR1cmUyIiwidGVtcE1hdHJpeCIsIlN5c3RlbVJlbmRlcmVyIiwic3lzdGVtIiwiX2JhY2tncm91bmRDb2xvciIsImdlbmVyYXRlVGV4dHVyZSIsInJlZ2lvbiIsIl9Hcm91cEQyIiwidXZzVWludDMyIiwiVWludDMyQXJyYXkiLCJiYXNlRnJhbWUiLCJ0dyIsInRoIiwidzIiLCJoMiIsImNYIiwiY1kiLCJOVyIsInVYIiwidVkiLCJIQVZFX0VOT1VHSF9EQVRBIiwiSEFWRV9GVVRVUkVfREFUQSIsIl9hdXRvVXBkYXRlIiwiX2lzQXV0b1VwZGF0aW5nIiwiYXV0b1BsYXkiLCJfb25DYW5QbGF5IiwiX29uUGxheVN0YXJ0IiwiX29uUGxheVN0b3AiLCJfX2xvYWRlZCIsIl9pc1NvdXJjZVJlYWR5IiwiX2lzU291cmNlUGxheWluZyIsImN1cnJlbnRUaW1lIiwiZW5kZWQiLCJhdXRvVXBkYXRlIiwicGxheSIsInZpZGVvU3JjIiwiY3JlYXRlU291cmNlIiwiZnJvbVVybHMiLCJwdW55Y29kZSIsInV0aWwiLCJVcmwiLCJzbGFzaGVzIiwiaGFzaCIsInNlYXJjaCIsInF1ZXJ5IiwicGF0aG5hbWUiLCJ1cmxQYXJzZSIsInJlc29sdmVPYmplY3QiLCJmb3JtYXQiLCJwcm90b2NvbFBhdHRlcm4iLCJwb3J0UGF0dGVybiIsInNpbXBsZVBhdGhQYXR0ZXJuIiwidW53aXNlIiwiYXV0b0VzY2FwZSIsIm5vbkhvc3RDaGFycyIsImhvc3RFbmRpbmdDaGFycyIsImhvc3RuYW1lUGFydFBhdHRlcm4iLCJob3N0bmFtZVBhcnRTdGFydCIsInVuc2FmZVByb3RvY29sIiwiamF2YXNjcmlwdCIsImphdmFzY3JpcHQ6IiwiaG9zdGxlc3NQcm90b2NvbCIsInNsYXNoZWRQcm90b2NvbCIsImh0dHAiLCJodHRwcyIsImZ0cCIsImdvcGhlciIsImZpbGUiLCJodHRwOiIsImh0dHBzOiIsImZ0cDoiLCJnb3BoZXI6IiwiZmlsZToiLCJxdWVyeXN0cmluZyIsInBhcnNlUXVlcnlTdHJpbmciLCJzbGFzaGVzRGVub3RlSG9zdCIsInUiLCJxdWVyeUluZGV4Iiwic3BsaXR0ZXIiLCJ1U3BsaXQiLCJyZXN0Iiwic2ltcGxlUGF0aCIsInByb3RvIiwibG93ZXJQcm90byIsImF0U2lnbiIsImhvc3RFbmQiLCJoZWMiLCJkZWNvZGVVUklDb21wb25lbnQiLCJwYXJzZUhvc3QiLCJpcHY2SG9zdG5hbWUiLCJob3N0cGFydHMiLCJuZXdwYXJ0IiwiayIsInZhbGlkUGFydHMiLCJub3RIb3N0IiwiYml0IiwidG9BU0NJSSIsImgiLCJhZSIsImVzYyIsImVzY2FwZSIsInFtIiwidGtleXMiLCJ0ayIsInRrZXkiLCJya2V5cyIsInJrIiwicmtleSIsInJlbFBhdGgiLCJpc1NvdXJjZUFicyIsImlzUmVsQWJzIiwibXVzdEVuZEFicyIsInJlbW92ZUFsbERvdHMiLCJzcmNQYXRoIiwicHN5Y2hvdGljIiwiaXNOdWxsT3JVbmRlZmluZWQiLCJhdXRoSW5Ib3N0IiwiaXNOdWxsIiwiaGFzVHJhaWxpbmdTbGFzaCIsIl91cmwzIiwiX1RyYW5zZm9ybUJhc2UyIiwidXBkYXRlU2tldyIsInBpdm90IiwiX3JvdGF0aW9uIiwiX2N4IiwiX3N4IiwiX2N5IiwiX3N5Iiwic2V0RnJvbU1hdHJpeCIsIm9uQ2hhbmdlIiwiX2xvY2FsSUQiLCJfY3VycmVudExvY2FsSUQiLCJfVHJhbnNmb3JtU3RhdGljMiIsIl9UcmFuc2Zvcm0yIiwiX0JvdW5kczIiLCJUcmFuc2Zvcm1DbGFzcyIsInRlbXBEaXNwbGF5T2JqZWN0UGFyZW50IiwiX2JvdW5kc1JlY3QiLCJfcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSIsInNraXBVcGRhdGUiLCJ0cmFuc2Zvcm1SZWYiLCJwYXJlbnRSZWYiLCJ0b0dsb2JhbCIsImRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0iLCJ0b0xvY2FsIiwic2V0UGFyZW50IiwiY29udGFpbmVyIiwiX2N1cnJlbnRCb3VuZHMiLCJpc01hc2siLCJnZW5lcmF0ZUdldHRlciIsIkdMU0xfU0lOR0xFX1NFVFRFUlMiLCJmbG9hdCIsInVuaWZvcm0xZiIsInZlYzIiLCJ1bmlmb3JtMmYiLCJ2ZWMzIiwidW5pZm9ybTNmIiwidmVjNCIsInVuaWZvcm00ZiIsImludCIsInVuaWZvcm0xaSIsIml2ZWMyIiwidW5pZm9ybTJpIiwiaXZlYzMiLCJ1bmlmb3JtM2kiLCJpdmVjNCIsInVuaWZvcm00aSIsImJvb2wiLCJidmVjMiIsImJ2ZWMzIiwiYnZlYzQiLCJtYXQyIiwidW5pZm9ybU1hdHJpeDJmdiIsIm1hdDMiLCJ1bmlmb3JtTWF0cml4M2Z2IiwibWF0NCIsInVuaWZvcm1NYXRyaXg0ZnYiLCJzYW1wbGVyMkQiLCJHTFNMX0FSUkFZX1NFVFRFUlMiLCJ1bmlmb3JtMWZ2IiwidW5pZm9ybTJmdiIsInVuaWZvcm0zZnYiLCJ1bmlmb3JtNGZ2IiwidW5pZm9ybTFpdiIsInVuaWZvcm0yaXYiLCJ1bmlmb3JtM2l2IiwidW5pZm9ybTRpdiIsImdlbmVyYXRlU2V0dGVyIiwidW5pZm9ybSIsImdldFVuaWZvcm1Hcm91cCIsIm5hbWVUb2tlbnMiLCJjdXIiLCJ1bmlmb3JtS2V5cyIsImZ1bGxOYW1lIiwidW5pZm9ybUdyb3VwIiwiYm9vbGVhbkFycmF5IiwiSW50MzJBcnJheSIsIm1hcFR5cGUiLCJwcm9ncmFtIiwidG90YWxVbmlmb3JtcyIsImdldFByb2dyYW1QYXJhbWV0ZXIiLCJBQ1RJVkVfVU5JRk9STVMiLCJnZXRBY3RpdmVVbmlmb3JtIiwiZ2V0VW5pZm9ybUxvY2F0aW9uIiwiR0xTTF9UT19TSVpFIiwibWFwU2l6ZSIsInBvaW50ZXIiLCJub3JtYWxpemVkIiwic3RyaWRlIiwidmVydGV4QXR0cmliUG9pbnRlciIsInRvdGFsQXR0cmlidXRlcyIsIkFDVElWRV9BVFRSSUJVVEVTIiwiYXR0cmliRGF0YSIsImdldEFjdGl2ZUF0dHJpYiIsImdldEF0dHJpYkxvY2F0aW9uIiwiY29tcGlsZVNoYWRlciIsImNyZWF0ZVNoYWRlciIsInNoYWRlclNvdXJjZSIsImdldFNoYWRlclBhcmFtZXRlciIsIkNPTVBJTEVfU1RBVFVTIiwiZ2V0U2hhZGVySW5mb0xvZyIsImdsVmVydFNoYWRlciIsIlZFUlRFWF9TSEFERVIiLCJnbEZyYWdTaGFkZXIiLCJGUkFHTUVOVF9TSEFERVIiLCJjcmVhdGVQcm9ncmFtIiwiYXR0YWNoU2hhZGVyIiwiYmluZEF0dHJpYkxvY2F0aW9uIiwibGlua1Byb2dyYW0iLCJMSU5LX1NUQVRVUyIsIlZBTElEQVRFX1NUQVRVUyIsImdldEVycm9yIiwiZ2V0UHJvZ3JhbUluZm9Mb2ciLCJkZWxldGVQcm9ncmFtIiwiZGVsZXRlU2hhZGVyIiwiY3JlYXRlVGV4dHVyZSIsInByZW11bHRpcGx5QWxwaGEiLCJSR0JBIiwiVU5TSUdORURfQllURSIsInBpeGVsU3RvcmVpIiwiVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMIiwibmV3V2lkdGgiLCJuZXdIZWlnaHQiLCJ0ZXhJbWFnZTJEIiwidGV4U3ViSW1hZ2UyRCIsIkZMT0FUSU5HX1BPSU5UX0FWQUlMQUJMRSIsInVwbG9hZERhdGEiLCJtaW5GaWx0ZXIiLCJsaW5lYXIiLCJ0ZXhQYXJhbWV0ZXJpIiwiVEVYVFVSRV9NSU5fRklMVEVSIiwiTElORUFSX01JUE1BUF9MSU5FQVIiLCJORUFSRVNUX01JUE1BUF9ORUFSRVNUIiwibWFnRmlsdGVyIiwiVEVYVFVSRV9NQUdfRklMVEVSIiwiZW5hYmxlTWlwbWFwIiwiZ2VuZXJhdGVNaXBtYXAiLCJlbmFibGVXcmFwQ2xhbXAiLCJURVhUVVJFX1dSQVBfUyIsIkNMQU1QX1RPX0VER0UiLCJURVhUVVJFX1dSQVBfVCIsImVuYWJsZVdyYXBSZXBlYXQiLCJlbmFibGVXcmFwTWlycm9yUmVwZWF0IiwiZGVsZXRlVGV4dHVyZSIsImZyb21Tb3VyY2UiLCJhdHRyaWJzIiwidGVtcEF0dHJpYlN0YXRlIiwiYXR0cmlidXRlIiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJkaXNhYmxlVmVydGV4QXR0cmliQXJyYXkiLCJhdHRyaWIiLCJ1eCIsInV5IiwidngiLCJ2eSIsInRlbXBNYXRyaWNlcyIsIm11bCIsInNpZ251bSIsInJvdyIsIl91eCIsIl91eSIsIl92eCIsIl92eSIsImluaXQiLCJHcm91cEQ4IiwiRSIsIlNFIiwiUyIsIlNXIiwiVyIsIk4iLCJORSIsIk1JUlJPUl9WRVJUSUNBTCIsIk1JUlJPUl9IT1JJWk9OVEFMIiwiaW5kIiwidlgiLCJ2WSIsImludiIsInJvdGF0aW9uU2Vjb25kIiwicm90YXRpb25GaXJzdCIsInN1YiIsInJvdGF0ZTE4MCIsImlzVmVydGljYWwiLCJieURpcmVjdGlvbiIsImR4IiwiZHkiLCJtYXRyaXhBcHBlbmRSb3RhdGlvbkludiIsIltvYmplY3QgT2JqZWN0XSIsInNldENvb3JkaW5hdGVzIiwic2V0UG9zaXRpb24iLCJjb2x1bW4iLCJtb3ZlVG8iLCJtaW5lcmFsc1NwYW4iLCJnZXRFbGVtZW50QnlJZCIsIm94eWdlblNwYW4iLCJlbmVyZ3lTcGFuIiwibWluZXJhbHNTcGFuX0RlbHRhIiwib3h5Z2VuU3Bhbl9EZWx0YSIsImVuZXJneVNwYW5fRGVsdGEiLCJyZW5kZXJSZXNvdXJjZXMiLCJ0ZXh0Q29udGVudCIsIm94eWdlbiIsImNsaWVudF8xIiwibG9hZGVyRXh0XzEiLCJsb2FkUmVzb3VyY2VzU3ByaXRlcyIsImZpbGVOYW1lIiwibG9hZFBvcnRyYWl0U3ByaXRlIiwiZnJhY3Rpb24iLCJpbWciLCJobXIiLCJsb2NhbHMiLCJmYWJyaWNUYWJsZSIsInJlZHVjZSIsImFjYyIsInJlbmRlclRhYmxlIiwiZmFjdG9yeXMiLCJvbkNsaWNrIiwidHJpYWRzIiwiaW5mb3MiLCJjdXJyZW50IiwidGFibGUiLCJmaXJzdEVsZW1lbnRDaGlsZCIsInRyaWFkIiwidHIiLCJ2YXJpYW50IiwidGQiLCJjb3N0IiwicHJvZHVjZXMiLCJtb2RhbCIsIm1vZGFsQm9keSIsImNsYXNzTGlzdCIsInNob3dNb2RhbCIsIkNhbmNlbFRva2VuIiwiZXhlY3V0b3IiLCJyZXNvbHZlUHJvbWlzZSIsInRva2VuIiwicmVhc29uIiwidGhyb3dJZlJlcXVlc3RlZCIsInJlbGF0aXZlVVJMIiwiZm5zIiwidHJhbnNmb3JtRGF0YSIsImlzQ2FuY2VsIiwiaXNBYnNvbHV0ZVVSTCIsImNvbWJpbmVVUkxzIiwidGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZCIsIkludGVyY2VwdG9yTWFuYWdlciIsImhhbmRsZXJzIiwidXNlIiwiZnVsZmlsbGVkIiwicmVqZWN0ZWQiLCJlamVjdCIsIndyaXRlIiwiZXhwaXJlcyIsImRvbWFpbiIsInNlY3VyZSIsImNvb2tpZSIsIkRhdGUiLCJ0b0dNVFN0cmluZyIsIm5vdyIsImNoYXJzIiwiYmxvY2siLCJjaGFyQ29kZSIsIlN0cmluZyIsIm9yaWdpblVSTCIsIm1zaWUiLCJ1cmxQYXJzaW5nTm9kZSIsInJlc29sdmVVUkwiLCJyZXF1ZXN0VVJMIiwicGFyc2VkIiwiaWdub3JlRHVwbGljYXRlT2YiLCJlbmNvZGUiLCJzZXJpYWxpemVkUGFyYW1zIiwidG9JU09TdHJpbmciLCJub3JtYWxpemVkTmFtZSIsImRpc3BhdGNoUmVxdWVzdCIsIkF4aW9zIiwiaW5zdGFuY2VDb25maWciLCJpbnRlcmNlcHRvcnMiLCJjaGFpbiIsImludGVyY2VwdG9yIiwicmVhZEZsb2F0TEUiLCJpc1Nsb3dCdWZmZXIiLCJfaXNCdWZmZXIiLCJjcmVhdGVJbnN0YW5jZSIsImRlZmF1bHRDb25maWciLCJheGlvcyIsInByb21pc2VzIiwic3ByZWFkIiwiY3VycmVudERpciIsImZ1bGxNYXRjaCIsIm9yaWdVcmwiLCJuZXdVcmwiLCJ1bnF1b3RlZE9yaWdVcmwiLCJUaW1lTGltaXRlciIsIm1heE1pbGxpc2Vjb25kcyIsImZyYW1lU3RhcnQiLCJfQmFzZVByZXBhcmUyIiwiQ0FOVkFTX1NUQVJUX1NJWkUiLCJDYW52YXNQcmVwYXJlIiwiX0Jhc2VQcmVwYXJlIiwiY3R4IiwidXBsb2FkQmFzZVRleHR1cmVzIiwiaW1hZ2VXaWR0aCIsImltYWdlSGVpZ2h0IiwicmVnaXN0ZXJQbHVnaW4iLCJXZWJHTFByZXBhcmUiLCJmaW5kR3JhcGhpY3MiLCJ1cGxvYWRHcmFwaGljcyIsImNsZWFyRGlydHkiLCJfd2ViR0wiLCJncmFwaGljcyIsInVwZGF0ZUdyYXBoaWNzIiwiX1dlYkdMUHJlcGFyZSIsIl9DYW52YXNQcmVwYXJlIiwiX1RpbWVMaW1pdGVyIiwiUGFydGljbGVCdWZmZXIiLCJkeW5hbWljUHJvcGVydHlGbGFncyIsImR5bmFtaWNQcm9wZXJ0aWVzIiwic3RhdGljUHJvcGVydGllcyIsInVwbG9hZEZ1bmN0aW9uIiwidW5zaWduZWRCeXRlIiwic3RhdGljU3RyaWRlIiwic3RhdGljQnVmZmVyIiwic3RhdGljRGF0YSIsInN0YXRpY0RhdGFVaW50MzIiLCJkeW5hbWljU3RyaWRlIiwiZHluYW1pY0J1ZmZlciIsImR5bmFtaWNEYXRhIiwiZHluYW1pY0RhdGFVaW50MzIiLCJpbml0QnVmZmVycyIsImR5bmFtaWNPZmZzZXQiLCJkeW5CdWZmZXIiLCJTVFJFQU1fRFJBVyIsInN0YXRpY09mZnNldCIsIl9wcm9wZXJ0eSIsInN0YXRCdWZmZXIiLCJfcHJvcGVydHkyIiwiX2kzIiwiX3Byb3BlcnR5MyIsInVwbG9hZER5bmFtaWMiLCJzdGFydEluZGV4IiwiYW1vdW50IiwidXBsb2FkU3RhdGljIiwiX1NoYWRlcjIiLCJQYXJ0aWNsZVNoYWRlciIsIl9QYXJ0aWNsZVNoYWRlcjIiLCJfUGFydGljbGVCdWZmZXIyIiwiUGFydGljbGVSZW5kZXJlciIsIl9jb3JlJE9iamVjdFJlbmRlcmVyIiwidXBsb2FkVmVydGljZXMiLCJhUG9zaXRpb25Db29yZCIsInVwbG9hZFBvc2l0aW9uIiwiYVJvdGF0aW9uIiwidXBsb2FkUm90YXRpb24iLCJ1cGxvYWRVdnMiLCJhQ29sb3IiLCJ1cGxvYWRUaW50IiwibWF4U2l6ZSIsIl9tYXhTaXplIiwiYmF0Y2hTaXplIiwiX2JhdGNoU2l6ZSIsInRvdGFsQ2hpbGRyZW4iLCJidWZmZXJzIiwiX2dsQnVmZmVycyIsImdlbmVyYXRlQnVmZmVycyIsInVDb2xvciIsInVTYW1wbGVyIiwidXBkYXRlU3RhdGljIiwiX2dlbmVyYXRlT25lTW9yZUJ1ZmZlciIsImJpZCIsIl9idWZmZXJVcGRhdGVJRHMiLCJkcmF3IiwiX3Byb3BlcnRpZXMiLCJzeCIsInN5Iiwic3ByaXRlUG9zaXRpb24iLCJzcHJpdGVSb3RhdGlvbiIsInRleHR1cmVVdnMiLCJhcmdiIiwiUGFydGljbGVDb250YWluZXIiLCJzZXRQcm9wZXJ0aWVzIiwicGFydGljbGUiLCJzbWFsbGVzdENoaWxkSW5kZXgiLCJidWZmZXJJbmRleCIsImZsb29yIiwiaXNSb3RhdGVkIiwicG9zaXRpb25YIiwicG9zaXRpb25ZIiwiZmluYWxXaWR0aCIsImZpbmFsSGVpZ2h0IiwiY2hpbGRUcmFuc2Zvcm0iLCJfYnVmZmVycyIsIl9QYXJ0aWNsZUNvbnRhaW5lciIsIl9QYXJ0aWNsZVJlbmRlcmVyIiwiUm9wZSIsInJlZnJlc2hWZXJ0aWNlcyIsIm5leHRQb2ludCIsInBlcnBYIiwicGVycFkiLCJyYXRpbyIsInBlcnBMZW5ndGgiLCJudW0iLCJfUGxhbmUyIiwiREVGQVVMVF9CT1JERVJfU0laRSIsIk5pbmVTbGljZVBsYW5lIiwiX1BsYW5lIiwibGVmdFdpZHRoIiwidG9wSGVpZ2h0IiwicmlnaHRXaWR0aCIsImJvdHRvbUhlaWdodCIsIl9vcmlnV2lkdGgiLCJfb3JpZ0hlaWdodCIsInVwZGF0ZUhvcml6b250YWxWZXJ0aWNlcyIsIl90b3BIZWlnaHQiLCJfYm90dG9tSGVpZ2h0IiwidXBkYXRlVmVydGljYWxWZXJ0aWNlcyIsIl9sZWZ0V2lkdGgiLCJfcmlnaHRXaWR0aCIsInRleHR1cmVTb3VyY2UiLCJkcmF3U2VnbWVudCIsInN3Iiwic2giLCJkdyIsImRoIiwiX3V2dyIsIl91dmgiLCJNZXNoU3ByaXRlUmVuZGVyZXIiLCJfcmVuZGVyVHJpYW5nbGVNZXNoIiwiX3JlbmRlclRyaWFuZ2xlcyIsIl9yZW5kZXJEcmF3VHJpYW5nbGUiLCJpbmRleDAiLCJ0ZXh0dXJlV2lkdGgiLCJ0ZXh0dXJlSGVpZ2h0IiwidTAiLCJ1MSIsInUyIiwidjAiLCJ2MSIsInYyIiwidXQiLCJjZW50ZXJYIiwiY2VudGVyWSIsIm5vcm1YIiwibm9ybVkiLCJiZWdpblBhdGgiLCJsaW5lVG8iLCJjbG9zZVBhdGgiLCJjbGlwIiwiZGVsdGFBIiwiZGVsdGFCIiwiZGVsdGFDIiwiZGVsdGFEIiwiZGVsdGFFIiwiZGVsdGFGIiwicmVuZGVyTWVzaEZsYXQiLCJtYXRyaXhJZGVudGl0eSIsIk1lc2hSZW5kZXJlciIsImdsRGF0YSIsInV2QnVmZmVyIiwidVRyYW5zZm9ybSIsInRyYW5zbGF0aW9uTWF0cml4IiwiX01lc2hSZW5kZXJlciIsIl9DYW52YXNNZXNoUmVuZGVyZXIiLCJfTmluZVNsaWNlUGxhbmUiLCJfUm9wZSIsIl90eXBlb2YiLCJTeW1ib2wiLCJibG9iTWlkZGxld2FyZUZhY3RvcnkiLCJfUmVzb3VyY2UyIiwiX3JldCIsImdldFJlc3BvbnNlSGVhZGVyIiwiX2IyIiwid2Via2l0VVJMIiwiX3Jlc291cmNlTG9hZGVyMiIsIl9ibG9iIiwiX3RleHR1cmVQYXJzZXIyIiwiX3Nwcml0ZXNoZWV0UGFyc2VyMiIsIl9iaXRtYXBGb250UGFyc2VyMiIsIl9SZXNvdXJjZUxvYWRlciIsIl9waXhpTWlkZGxld2FyZSIsIm9uRXJyb3IiLCJvbkxvYWQiLCJhZGRQaXhpTWlkZGxld2FyZSIsInJneEV4dHJhY3RVcmxIYXNoIiwicHJvZ3Jlc3MiLCJsb2FkaW5nIiwiZGVmYXVsdFF1ZXJ5U3RyaW5nIiwiX2JlZm9yZU1pZGRsZXdhcmUiLCJfYWZ0ZXJNaWRkbGV3YXJlIiwiX3Jlc291cmNlc1BhcnNpbmciLCJfYm91bmRMb2FkUmVzb3VyY2UiLCJfbG9hZFJlc291cmNlIiwiX3F1ZXVlIiwiX3ByZXBhcmVVcmwiLCJpbmNvbXBsZXRlQ2hpbGRyZW4iLCJlYWNoQ2h1bmsiLCJwcmUiLCJfb25TdGFydCIsIl9vbkNvbXBsZXRlIiwiY2h1bmsiLCJwYXJzZWRVcmwiLCJkZXF1ZXVlIiwiX29uTG9hZCIsIl90aGlzMyIsInRleHR1cmVQYXJzZXIiLCJzcHJpdGVzaGVldFBhcnNlciIsInBhcnNlQml0bWFwRm9udERhdGEiLCJiaXRtYXBGb250UGFyc2VyIiwiX2JpdG1hcEZvbnRQYXJzZXIiLCJfc3ByaXRlc2hlZXRQYXJzZXIiLCJfdGV4dHVyZVBhcnNlciIsIl9BcHBsaWNhdGlvbjIiLCJfbG9hZGVyMiIsIkFwcFByb3RvdHlwZSIsIl9sb2FkZXIiLCJfcGFyZW50RGVzdHJveSIsIl9JbnRlcmFjdGlvbkRhdGEyIiwiX0ludGVyYWN0aW9uRXZlbnQyIiwiX0ludGVyYWN0aW9uVHJhY2tpbmdEYXRhMiIsIl9pbnRlcmFjdGl2ZVRhcmdldDIiLCJkZWxheU1peGluIiwiTU9VU0VfUE9JTlRFUl9JRCIsImhpdFRlc3RFdmVudCIsIkludGVyYWN0aW9uTWFuYWdlciIsImF1dG9QcmV2ZW50RGVmYXVsdCIsImludGVyYWN0aW9uRnJlcXVlbmN5IiwibW91c2UiLCJhY3RpdmVJbnRlcmFjdGlvbkRhdGEiLCJpbnRlcmFjdGlvbkRhdGFQb29sIiwiZXZlbnREYXRhIiwiaW50ZXJhY3Rpb25ET01FbGVtZW50IiwibW92ZVdoZW5JbnNpZGUiLCJldmVudHNBZGRlZCIsIm1vdXNlT3ZlclJlbmRlcmVyIiwic3VwcG9ydHNUb3VjaEV2ZW50cyIsInN1cHBvcnRzUG9pbnRlckV2ZW50cyIsIlBvaW50ZXJFdmVudCIsIm9uUG9pbnRlclVwIiwicHJvY2Vzc1BvaW50ZXJVcCIsIm9uUG9pbnRlckNhbmNlbCIsInByb2Nlc3NQb2ludGVyQ2FuY2VsIiwib25Qb2ludGVyRG93biIsInByb2Nlc3NQb2ludGVyRG93biIsIm9uUG9pbnRlck1vdmUiLCJwcm9jZXNzUG9pbnRlck1vdmUiLCJvblBvaW50ZXJPdXQiLCJwcm9jZXNzUG9pbnRlck92ZXJPdXQiLCJvblBvaW50ZXJPdmVyIiwiY3Vyc29yU3R5bGVzIiwiY3VycmVudEN1cnNvck1vZGUiLCJfdGVtcFBvaW50Iiwic2V0VGFyZ2V0RWxlbWVudCIsImhpdFRlc3QiLCJnbG9iYWxQb2ludCIsInByb2Nlc3NJbnRlcmFjdGl2ZSIsImVsZW1lbnQiLCJyZW1vdmVFdmVudHMiLCJhZGRFdmVudHMiLCJtc1BvaW50ZXJFbmFibGVkIiwiZGVsdGFUaW1lIiwiX2RlbHRhVGltZSIsImRpZE1vdmUiLCJpbnRlcmFjdGlvbkRhdGEiLCJpbnRlcmFjdGlvbkV2ZW50IiwiY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50Iiwic2V0Q3Vyc29yTW9kZSIsIm1vZGUiLCJkaXNwYXRjaEV2ZW50IiwiZXZlbnRTdHJpbmciLCJtYXBQb3NpdGlvblRvUG9pbnQiLCJwYXJlbnRFbGVtZW50IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicmVzb2x1dGlvbk11bHRpcGxpZXIiLCJsZWZ0IiwidG9wIiwiZnVuYyIsImhpdCIsImludGVyYWN0aXZlUGFyZW50IiwiaGl0VGVzdENoaWxkcmVuIiwiY2hpbGRIaXQiLCJub3JtYWxpemVUb1BvaW50ZXJEYXRhIiwiaXNOb3JtYWxpemVkIiwiZXZlbnRMZW4iLCJnZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQiLCJpc1JpZ2h0QnV0dG9uIiwicmlnaHREb3duIiwibGVmdERvd24iLCJvblBvaW50ZXJDb21wbGV0ZSIsImNhbmNlbGxlZCIsImV2ZW50QXBwZW5kIiwicmVsZWFzZUludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZCIsInRyYWNraW5nRGF0YSIsImlzVG91Y2giLCJpc0Rvd24iLCJvdmVyIiwibm9uZSIsImlzTW91c2UiLCJwb2ludGVyRXZlbnQiLCJjbGllbnRYIiwiY2xpZW50WSIsImdsb2JhbFgiLCJnbG9iYWxZIiwibm9ybWFsaXplZEV2ZW50cyIsIlRvdWNoRXZlbnQiLCJsaSIsImNoYW5nZWRUb3VjaGVzIiwidG91Y2giLCJ0b3VjaGVzIiwicmFkaXVzWCIsInJhZGl1c1kiLCJmb3JjZSIsImxheWVyWCIsIm9mZnNldFgiLCJsYXllclkiLCJvZmZzZXRZIiwiTW91c2VFdmVudCIsIl9JbnRlcmFjdGlvbkRhdGEiLCJfSW50ZXJhY3Rpb25NYW5hZ2VyIiwiX2ludGVyYWN0aXZlVGFyZ2V0IiwiX0ludGVyYWN0aW9uVHJhY2tpbmdEYXRhIiwiX0ludGVyYWN0aW9uRXZlbnQiLCJBbHBoYUZpbHRlciIsInVBbHBoYSIsIkNvbG9yTWF0cml4RmlsdGVyIiwiX2xvYWRNYXRyaXgiLCJuZXdNYXRyaXgiLCJfbXVsdGlwbHkiLCJfY29sb3JNYXRyaXgiLCJicmlnaHRuZXNzIiwibXVsdGlwbHkiLCJncmV5c2NhbGUiLCJibGFja0FuZFdoaXRlIiwiaHVlIiwiY29zUiIsInNpblIiLCJzcXJXIiwiY29udHJhc3QiLCJzYXR1cmF0ZSIsImRlc2F0dXJhdGUiLCJuZWdhdGl2ZSIsInNlcGlhIiwidGVjaG5pY29sb3IiLCJwb2xhcm9pZCIsInRvQkdSIiwia29kYWNocm9tZSIsImJyb3duaSIsInZpbnRhZ2UiLCJjb2xvclRvbmUiLCJkZXNhdHVyYXRpb24iLCJ0b25lZCIsImxpZ2h0Q29sb3IiLCJkYXJrQ29sb3IiLCJsUiIsImxHIiwibEIiLCJkUiIsImRHIiwiZEIiLCJuaWdodCIsImludGVuc2l0eSIsInByZWRhdG9yIiwibHNkIiwiZ3JheXNjYWxlIiwiX0JsdXJYRmlsdGVyMiIsIl9CbHVyWUZpbHRlcjIiLCJCbHVyRmlsdGVyIiwiYmx1clhGaWx0ZXIiLCJibHVyWUZpbHRlciIsIkRpc3BsYWNlbWVudEZpbHRlciIsIm1hcFNhbXBsZXIiLCJmaWx0ZXJNYXRyaXgiLCJOb2lzZUZpbHRlciIsIm5vaXNlIiwic2VlZCIsInJhbmRvbSIsInVOb2lzZSIsInVTZWVkIiwiRlhBQUZpbHRlciIsIl9GWEFBRmlsdGVyIiwiX05vaXNlRmlsdGVyIiwiX0Rpc3BsYWNlbWVudEZpbHRlciIsIl9CbHVyRmlsdGVyIiwiX0JsdXJYRmlsdGVyIiwiX0JsdXJZRmlsdGVyIiwiX0NvbG9yTWF0cml4RmlsdGVyIiwiX0FscGhhRmlsdGVyIiwiZ2V0R2xvYmFsUG9zaXRpb24iLCJnZXRDaGlsZEJ5TmFtZSIsIl90ZW1wTWF0cml4IiwiX2NhY2hlQXNCaXRtYXAiLCJfY2FjaGVEYXRhIiwiQ2FjaGVEYXRhIiwidGV4dHVyZUNhY2hlSWQiLCJvcmlnaW5hbFJlbmRlcldlYkdMIiwib3JpZ2luYWxSZW5kZXJDYW52YXMiLCJvcmlnaW5hbENhbGN1bGF0ZUJvdW5kcyIsIm9yaWdpbmFsR2V0TG9jYWxCb3VuZHMiLCJvcmlnaW5hbFVwZGF0ZVRyYW5zZm9ybSIsIm9yaWdpbmFsSGl0VGVzdCIsIm9yaWdpbmFsRGVzdHJveSIsIm9yaWdpbmFsTWFzayIsIm9yaWdpbmFsRmlsdGVyQXJlYSIsImNhY2hlQXNCaXRtYXAiLCJvcmlnaW5hbENvbnRhaW5zUG9pbnQiLCJfcmVuZGVyQ2FjaGVkV2ViR0wiLCJfcmVuZGVyQ2FjaGVkQ2FudmFzIiwiX2NhY2hlQXNCaXRtYXBEZXN0cm95IiwiX2Rlc3Ryb3lDYWNoZWREaXNwbGF5T2JqZWN0IiwiX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0IiwiY2FjaGVBbHBoYSIsImNhY2hlZFJlbmRlclRhcmdldCIsInN0YWNrIiwiZmlsdGVyU3RhY2siLCJjYWNoZWRTcHJpdGUiLCJfY2FsY3VsYXRlQ2FjaGVkQm91bmRzIiwiX2dldENhY2hlZExvY2FsQm91bmRzIiwiX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzIiwiX09ic2VydmFibGVQb2ludDIiLCJfdGV4dFdpZHRoIiwiX3RleHRIZWlnaHQiLCJfZ2x5cGhzIiwiX2ZvbnQiLCJfdGV4dCIsIl9tYXhXaWR0aCIsIl9tYXhMaW5lSGVpZ2h0IiwiZm9udHMiLCJwcmV2Q2hhckNvZGUiLCJsYXN0TGluZVdpZHRoIiwibGFzdFNwYWNlIiwibGFzdFNwYWNlV2lkdGgiLCJzcGFjZXNSZW1vdmVkIiwibWF4TGluZUhlaWdodCIsImNoYXJEYXRhIiwia2VybmluZyIsInhPZmZzZXQiLCJ5T2Zmc2V0IiwieEFkdmFuY2UiLCJsaW5lQWxpZ25PZmZzZXRzIiwiYWxpZ25PZmZzZXQiLCJsZW5DaGFycyIsIl9pNCIsInZhbGlkYXRlIiwiaW5mbyIsInBhcnNlSW50IiwibGV0dGVycyIsImxldHRlciIsInRleHR1cmVSZWN0Iiwia2VybmluZ3MiLCJfaTUiLCJmaXJzdCIsInNlY29uZCIsInNpbXBsZVNoYWRlciIsInF1YWQiLCJ0cyIsInV2UmVzcGVjdEFuY2hvciIsImJhc2VUZXgiLCJ0aWxlVHJhbnNmb3JtIiwidXYiLCJ1dlRyYW5zZm9ybSIsImlzU2ltcGxlIiwiSCIsInVNYXBDb29yZCIsIl9DYW52YXNUaW50ZXIyIiwiX2NvcmUkU3ByaXRlIiwiX2NhbnZhc1BhdHRlcm4iLCJiYXNlVGV4dHVyZVJlc29sdXRpb24iLCJtb2RYIiwidGlsZVBvc2l0aW9uIiwidGlsZVNjYWxlIiwibW9kWSIsInRlbXBDYW52YXMiLCJ0aW50ZWRUZXh0dXJlIiwiY3JlYXRlUGF0dGVybiIsImFuY2hvclgiLCJhbmNob3JZIiwiX2R1cmF0aW9ucyIsImFuaW1hdGlvblNwZWVkIiwibG9vcCIsIm9uRnJhbWVDaGFuZ2UiLCJvbkxvb3AiLCJfY3VycmVudFRpbWUiLCJwbGF5aW5nIiwiZ290b0FuZFN0b3AiLCJmcmFtZU51bWJlciIsInByZXZpb3VzRnJhbWUiLCJjdXJyZW50RnJhbWUiLCJnb3RvQW5kUGxheSIsImVsYXBzZWQiLCJsYWciLCJmcm9tRnJhbWVzIiwiZnJvbUltYWdlcyIsImltYWdlcyIsInRpbWUiLCJURU1QX1JFQ1QiLCJDYW52YXNFeHRyYWN0IiwiY2FudmFzQnVmZmVyIiwiY2FudmFzRGF0YSIsIldlYkdMRXh0cmFjdCIsInRleHR1cmVCdWZmZXIiLCJmbGlwWSIsImdlbmVyYXRlZCIsIndlYmdsUGl4ZWxzIiwiVWludDhBcnJheSIsInJlYWRQaXhlbHMiLCJfV2ViR0xFeHRyYWN0IiwiX0NhbnZhc0V4dHJhY3QiLCJfaXNtb2JpbGVqczIiLCJfYWNjZXNzaWJsZVRhcmdldDIiLCJESVZfVE9VQ0hfU0laRSIsIkRJVl9UT1VDSF9QT1NfWCIsIkRJVl9UT1VDSF9QT1NfWSIsIkRJVl9UT1VDSF9aSU5ERVgiLCJBY2Nlc3NpYmlsaXR5TWFuYWdlciIsImNyZWF0ZVRvdWNoSG9vayIsInpJbmRleCIsInBvb2wiLCJyZW5kZXJJZCIsImRlYnVnIiwiX29uS2V5RG93biIsIl9vbk1vdXNlTW92ZSIsImlzQWN0aXZlIiwiaXNNb2JpbGVBY2Nlc3NhYmlsbGl0eSIsImhvb2tEaXYiLCJESVZfSE9PS19TSVpFIiwiRElWX0hPT0tfUE9TX1giLCJESVZfSE9PS19QT1NfWSIsImJvZHkiLCJkZWFjdGl2YXRlIiwidXBkYXRlQWNjZXNzaWJsZU9iamVjdHMiLCJjYXBIaXRBcmVhIiwiYm9yZGVyU3R5bGUiLCJfb25DbGljayIsIl9vbkZvY3VzIiwiX29uRm9jdXNPdXQiLCJpbnRlcmFjdGlvbk1hbmFnZXIiLCJrZXlDb2RlIiwiX2FjY2Vzc2libGVUYXJnZXQiLCJfQWNjZXNzaWJpbGl0eU1hbmFnZXIiLCJTcHJpdGVCYXRjaCIsIkFzc2V0TG9hZGVyIiwiU3RhZ2UiLCJEaXNwbGF5T2JqZWN0Q29udGFpbmVyIiwiU3RyaXAiLCJNb3ZpZUNsaXAiLCJzY2FsZU1vZGVzIiwibWF0aCIsIkFic3RyYWN0RmlsdGVyIiwiVHJhbnNmb3JtTWFudWFsIiwiREVGQVVMVF9SRU5ERVJfT1BUSU9OUyIsIl9sb29wIiwiZGVwcmVjYXRpb24iLCJUZXh0dXJlVHJhbnNmb3JtIiwiZ2VuZXJhdGVDYW52YXNUZXh0dXJlIiwiaXNTd2FwV2lkdGhIZWlnaHQiLCJnZXRJbWFnZSIsImdldEJhc2U2NCIsImdldENhbnZhcyIsImdldFBpeGVscyIsInNldFRleHR1cmUiLCJzZXRUZXh0IiwiY2FsY3VsYXRlRm9udFByb3BlcnRpZXMiLCJmb250UHJvcGVydGllc0NhY2hlIiwiZm9udFByb3BlcnRpZXNDYW52YXMiLCJmb250UHJvcGVydGllc0NvbnRleHQiLCJzZXRTdHlsZSIsImRldGVybWluZUZvbnRQcm9wZXJ0aWVzIiwiZ2V0Rm9udFN0eWxlIiwic3BsaXRzIiwiZm9udFNpemVJbmRleCIsImFkZFRleHR1cmVUb0NhY2hlIiwicmVtb3ZlVGV4dHVyZUZyb21DYWNoZSIsIlZvaWRGaWx0ZXIiLCJ1dWlkIiwiY2FuVXNlTmV3Q2FudmFzQmxlbmRNb2RlcyIsInJlZ2lzdGVyIiwiTmFOIiwid2ViZ2wiLCJpc0pzb24iLCJpc1htbCIsImlzSW1hZ2UiLCJpc0F1ZGlvIiwiaXNWaWRlbyIsImFmdGVyIiwiaW50ZXJhY3RpdmVUYXJnZXQiLCJ3YXJuaW5ncyIsIm1zZyIsImdyb3VwQ29sbGFwc2VkIiwiZ3JvdXBFbmQiLCJfIiwicmVzb2x1dGlvbkZpbGVuYW1lIiwiX3VwZGF0ZVJlc29sdXRpb24iLCJfZnJhbWVzIiwiX2ZyYW1lS2V5cyIsIl9iYXRjaEluZGV4IiwiX2NhbGxiYWNrIiwiQkFUQ0hfU0laRSIsIl9wcm9jZXNzRnJhbWVzIiwiX3BhcnNlQ29tcGxldGUiLCJfbmV4dEJhdGNoIiwiaW5pdGlhbEZyYW1lSW5kZXgiLCJmcmFtZUluZGV4IiwibWF4RnJhbWVzIiwic291cmNlU2l6ZSIsInRyaW1tZWQiLCJyb3RhdGVkIiwic3ByaXRlU291cmNlU2l6ZSIsIl9DYW52YXNSZW5kZXJlciIsIl9wcmV2VGludCIsInVwZGF0ZUdyYXBoaWNzVGludCIsInJlbmRlclBvbHlnb24iLCJjbG9zZWQiLCJzdHJva2VTdHlsZSIsInN0cm9rZVJlY3QiLCJhcmMiLCJyYWRpdXMiLCJveCIsIm95IiwieGUiLCJ5ZSIsInhtIiwieW0iLCJiZXppZXJDdXJ2ZVRvIiwicngiLCJyeSIsIm1heFJhZGl1cyIsInF1YWRyYXRpY0N1cnZlVG8iLCJ0aW50UiIsInRpbnRHIiwidGludEIiLCJjbG9zZSIsImNpcmNsZURhdGEiLCJ0b3RhbFNlZ3MiLCJzZWciLCJ2ZWNQb3MiLCJ0ZW1wUG9pbnRzIiwiX2J1aWxkTGluZTIiLCJfYnVpbGRMaW5lIiwicnJlY3REYXRhIiwicmVjUG9pbnRzIiwicXVhZHJhdGljQmV6aWVyQ3VydmUiLCJnZXRQdCIsIm4xIiwibjIiLCJwZXJjIiwiZnJvbVgiLCJmcm9tWSIsImNwWCIsImNwWSIsInRvWCIsInRvWSIsInhhIiwieWEiLCJ4YiIsInliIiwicmVjdERhdGEiLCJ2ZXJ0UG9zIiwiaG9sZUFycmF5IiwiUHJpbWl0aXZlU2hhZGVyIiwiV2ViR0xHcmFwaGljc0RhdGEiLCJhdHRyaWJzU3RhdGUiLCJnbFBvaW50cyIsImdsSW5kaWNlcyIsIl9PYmplY3RSZW5kZXJlcjMiLCJfV2ViR0xHcmFwaGljc0RhdGEyIiwiX1ByaW1pdGl2ZVNoYWRlcjIiLCJfYnVpbGRQb2x5MiIsIl9idWlsZFJlY3RhbmdsZTIiLCJfYnVpbGRSb3VuZGVkUmVjdGFuZ2xlMiIsIl9idWlsZENpcmNsZTIiLCJncmFwaGljc0RhdGFQb29sIiwicHJpbWl0aXZlU2hhZGVyIiwid2ViR0wiLCJzaGFkZXJUZW1wIiwiZHJhd0FycmF5cyIsImxhc3RJbmRleCIsImdldFdlYkdMRGF0YSIsImNwWDIiLCJjcFkyIiwiZHQiLCJkdDIiLCJkdDMiLCJ0MiIsInQzIiwiX0dyYXBoaWNzRGF0YTIiLCJfU3ByaXRlMiIsIl9iZXppZXJDdXJ2ZVRvMyIsImNhbnZhc1JlbmRlcmVyIiwidGVtcENvbG9yMSIsInRlbXBDb2xvcjIiLCJjdXJyZW50UGF0aCIsImJvdW5kc1BhZGRpbmciLCJfbG9jYWxCb3VuZHMiLCJmYXN0UmVjdERpcnR5IiwiYm91bmRzRGlydHkiLCJjYWNoZWRTcHJpdGVEaXJ0eSIsIl9zcHJpdGVSZWN0IiwiX2Zhc3RSZWN0IiwidXBkYXRlTG9jYWxCb3VuZHMiLCJsaW5lU3R5bGUiLCJkcmF3U2hhcGUiLCJhcmNUbyIsIm1tIiwiZGQiLCJ0dCIsImsxIiwiazIiLCJqMSIsImoyIiwicXkiLCJzdGFydEFuZ2xlIiwiZW5kQW5nbGUiLCJhbnRpY2xvY2t3aXNlIiwic3dlZXAiLCJzZWdzIiwic3RhcnRYIiwic3RhcnRZIiwidGhldGEiLCJ0aGV0YTIiLCJjVGhldGEiLCJzVGhldGEiLCJzZWdNaW51cyIsInJlbWFpbmRlciIsImJlZ2luRmlsbCIsImZpbGxpbmciLCJlbmRGaWxsIiwiZHJhd1JlY3QiLCJkcmF3Um91bmRlZFJlY3QiLCJSb3VuZGVkUmVjdGFuZ2xlIiwiZHJhd0NpcmNsZSIsIkNpcmNsZSIsImRyYXdFbGxpcHNlIiwiRWxsaXBzZSIsImRyYXdQb2x5Z29uIiwiZHJhd1N0YXIiLCJpbm5lclJhZGl1cyIsInBvbHlnb24iLCJpc0Zhc3RSZWN0IiwiX3JlbmRlclNwcml0ZVJlY3QiLCJ0MSIsImxiIiwicnciLCJyaCIsIl93ZWJnbCIsIl9TUFJJVEVfVEVYVFVSRSIsImJvdW5kIiwicmlnaHQiLCJib3R0b20iLCJfU3ByaXRlMyIsIl9UZXh0U3R5bGUyIiwiX1RleHRNZXRyaWNzMiIsIl90cmltQ2FudmFzMiIsImRlZmF1bHREZXN0cm95T3B0aW9ucyIsIl9zdHlsZSIsIl9zdHlsZUxpc3RlbmVyIiwibG9jYWxTdHlsZUlEIiwicmVzcGVjdERpcnR5IiwibWVhc3VyZWQiLCJsaW5lUG9zaXRpb25YIiwibGluZVBvc2l0aW9uWSIsInNoYWRvd0JsdXIiLCJzaGFkb3dDb2xvciIsInhTaGFkb3dPZmZzZXQiLCJ5U2hhZG93T2Zmc2V0IiwiZHJhd0xldHRlclNwYWNpbmciLCJfZ2VuZXJhdGVGaWxsU3R5bGUiLCJpc1N0cm9rZSIsImN1cnJlbnRQb3NpdGlvbiIsInN0cm9rZVRleHQiLCJfb25TdHlsZUNoYW5nZSIsImdyYWRpZW50IiwidG90YWxJdGVyYXRpb25zIiwiY3VycmVudEl0ZXJhdGlvbiIsImxlbmd0aFBsdXMxIiwiY3JlYXRlTGluZWFyR3JhZGllbnQiLCJhZGRDb2xvclN0b3AiLCJCdWZmZXIiLCJmbG9hdDMyVmlldyIsInVpbnQzMlZpZXciLCJwb3NpdGlvbnMiLCJtYXhJZnMiLCJjcmVhdGVUZW1wQ29udGV4dCIsInRpbnlDYW52YXMiLCJnZW5lcmF0ZUlmVGVzdFNyYyIsImdlbmVyYXRlU2FtcGxlU3JjIiwic2FtcGxlVmFsdWVzIiwidVNhbXBsZXJzIiwiT05FIiwiT05FX01JTlVTX1NSQ19BTFBIQSIsIkRTVF9BTFBIQSIsIkRTVF9DT0xPUiIsIk9ORV9NSU5VU19TUkNfQ09MT1IiLCJTUkNfQUxQSEEiLCJfbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpIiwiX21hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aTIiLCJXZWJHTFN0YXRlIiwiYWN0aXZlU3RhdGUiLCJkZWZhdWx0U3RhdGUiLCJzdGFja0luZGV4IiwibWF4QXR0cmlicyIsIk1BWF9WRVJURVhfQVRUUklCUyIsIm5hdGl2ZVZhb0V4dGVuc2lvbiIsInNldFN0YXRlIiwic2V0QmxlbmQiLCJzZXREZXB0aFRlc3QiLCJzZXRGcm9udEZhY2UiLCJzZXRDdWxsRmFjZSIsIkJMRU5EIiwiYmxlbmRGdW5jIiwiYmxlbmRGdW5jU2VwYXJhdGUiLCJERVBUSF9URVNUIiwiQ1VMTF9GQUNFIiwiZnJvbnRGYWNlIiwicmVzZXRBdHRyaWJ1dGVzIiwiYmluZFZlcnRleEFycmF5T0VTIiwiVU5QQUNLX0ZMSVBfWV9XRUJHTCIsIlRleHR1cmVHYXJiYWdlQ29sbGVjdG9yIiwiY2hlY2tDb3VudCIsIm1heElkbGUiLCJjaGVja0NvdW50TWF4IiwidG0iLCJtYW5hZ2VkVGV4dHVyZXMiLCJfbWFuYWdlZFRleHR1cmVzIiwid2FzUmVtb3ZlZCIsImRlc3Ryb3lUZXh0dXJlIiwidW5sb2FkIiwiVGV4dHVyZU1hbmFnZXIiLCJpc1JlbmRlclRleHR1cmUiLCJza2lwUmVtb3ZlIiwiZ2xUZXh0dXJlcyIsImdsUmVuZGVyVGFyZ2V0cyIsImNhbGN1bGF0ZVNjcmVlblNwYWNlTWF0cml4Iiwib3V0cHV0TWF0cml4IiwidGV4dHVyZVNpemUiLCJtYXBwZWRNYXRyaXgiLCJjYWxjdWxhdGVOb3JtYWxpemVkU2NyZWVuU3BhY2VNYXRyaXgiLCJ0cmFuc2xhdGVTY2FsZVgiLCJ0cmFuc2xhdGVTY2FsZVkiLCJURU1QX01BVFJJWCIsIl9XZWJHTE1hbmFnZXIzIiwiX1F1YWQyIiwiZmlsdGVyVHJhbnNmb3JtcyIsIkZpbHRlclN0YXRlIiwiRmlsdGVyTWFuYWdlciIsInNoYWRlckNhY2hlIiwibWFuYWdlZEZpbHRlcnMiLCJvblByZXJlbmRlciIsIl9zY3JlZW5XaWR0aCIsIl9zY3JlZW5IZWlnaHQiLCJmaWx0ZXJTdGF0ZSIsInJlbmRlclRhcmdldEZyYW1lIiwiZnVsbFNjcmVlbiIsInRhcmdldEJvdW5kcyIsImdldFBvdFJlbmRlclRhcmdldCIsImxhc3RTdGF0ZSIsImZyZWVQb3RSZW5kZXJUYXJnZXQiLCJzY2lzc29yUmVuZGVyVGFyZ2V0IiwicHVzaFNjaXNzb3JNYXNrIiwic2Npc3NvckRhdGEiLCJzeW5jVW5pZm9ybXMiLCJ0ZXh0dXJlQ291bnQiLCJmaWx0ZXJDbGFtcCIsImNvbnRleHRMb3N0IiwiZW1wdHlQb29sIiwibWluV2lkdGgiLCJtaW5IZWlnaHQiLCJTdGVuY2lsTWFuYWdlciIsIlNURU5DSUxfVEVTVCIsInB1c2hTdGVuY2lsIiwicHJldk1hc2tDb3VudCIsImNvbG9yTWFzayIsInN0ZW5jaWxGdW5jIiwiRVFVQUwiLCJfZ2V0Qml0d2lzZU1hc2siLCJzdGVuY2lsT3AiLCJLRUVQIiwiSU5DUiIsIl91c2VDdXJyZW50IiwicG9wU3RlbmNpbCIsIlNURU5DSUxfQlVGRkVSX0JJVCIsImNsZWFyU3RlbmNpbCIsIkRFQ1IiLCJzdGVuY2lsU3RhY2siLCJ2ZXJ0VW5pZm9ybXMiLCJleHRyYWN0VW5pZm9ybXNGcm9tU3RyaW5nIiwiZnJhZ1VuaWZvcm1zIiwic3RyaW5nIiwibWFza1JlZ2V4IiwibmFtZVNwbGl0Iiwic3BsaXRMaW5lIiwiX1Nwcml0ZU1hc2tGaWx0ZXIyIiwiTWFza01hbmFnZXIiLCJlbmFibGVTY2lzc29yIiwiYWxwaGFNYXNrUG9vbCIsImFscGhhTWFza0luZGV4IiwibWFza0RhdGEiLCJwdXNoU3ByaXRlTWFzayIsInJvdCIsInB1c2hTdGVuY2lsTWFzayIsInBvcFNwcml0ZU1hc2siLCJwb3BTY2lzc29yTWFzayIsInBvcFN0ZW5jaWxNYXNrIiwiYWxwaGFNYXNrRmlsdGVyIiwiX2dlbmVyYXRlTXVsdGlUZXh0dXJlU2hhZGVyMiIsIl9jaGVja01heElmU3RhdG1lbnRzSW5TaGFkZXIyIiwiX0JhdGNoQnVmZmVyMiIsIlRJQ0siLCJURVhUVVJFX1RJQ0siLCJ2ZXJ0U2l6ZSIsInZlcnRCeXRlU2l6ZSIsImdyb3VwcyIsImlkcyIsImJsZW5kIiwidmVydGV4QnVmZmVycyIsInZhb3MiLCJ2YW9NYXgiLCJ2ZXJ0ZXhDb3VudCIsIk1BWF9URVhUVVJFUyIsIlVOU0lHTkVEX1NIT1JUIiwiYVRleHR1cmVJZCIsImN1cnJlbnRCbGVuZE1vZGUiLCJucDIiLCJyZW5kZXJlckJvdW5kVGV4dHVyZXMiLCJuZXh0VGV4dHVyZSIsImN1cnJlbnRUZXh0dXJlIiwiZ3JvdXBDb3VudCIsImN1cnJlbnRHcm91cCIsImJ0Iiwic3ByaXRlQmxlbmRNb2RlIiwidEluZGV4IiwiZ3JvdXAiLCJncm91cFRleHR1cmVDb3VudCIsImRyYXdFbGVtZW50cyIsIl9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzMiIsIkNhbnZhc01hc2tNYW5hZ2VyIiwicmVuZGVyR3JhcGhpY3NTaGFwZSIsImNhbnZhc1JlbmRlcldvcmxkVHJhbnNmb3JtIiwic21vb3RoaW5nRW5hYmxlZCIsIlRpY2tlckxpc3RlbmVyIiwicHJpb3JpdHkiLCJwcmV2aW91cyIsInJlZGlyZWN0IiwiY29ubmVjdCIsImhhcmQiLCJfVGlja2VyTGlzdGVuZXIyIiwiX3JlcXVlc3RJZCIsIl9tYXhFbGFwc2VkTVMiLCJlbGFwc2VkTVMiLCJsYXN0VGltZSIsInNwZWVkIiwiX3RpY2siLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJfcmVxdWVzdElmTmVlZGVkIiwicGVyZm9ybWFuY2UiLCJfY2FuY2VsSWZOZWVkZWQiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIl9zdGFydElmUG9zc2libGUiLCJfYWRkTGlzdGVuZXIiLCJmcHMiLCJtaW5GUE1TIiwic3RyaW5naWZ5UHJpbWl0aXZlIiwiaXNGaW5pdGUiLCJlcSIsIm9iamVjdEtleXMiLCJrcyIsInFzIiwicmVnZXhwIiwibWF4S2V5cyIsImtzdHIiLCJ2c3RyIiwiZGVjb2RlIiwiYXJnIiwid2VicGFja1BvbHlmaWxsIiwiZGVwcmVjYXRlIiwibm9kZVR5cGUiLCJmcmVlR2xvYmFsIiwibWF4SW50IiwidE1pbiIsInRNYXgiLCJkYW1wIiwiaW5pdGlhbEJpYXMiLCJpbml0aWFsTiIsInJlZ2V4UHVueWNvZGUiLCJyZWdleE5vbkFTQ0lJIiwicmVnZXhTZXBhcmF0b3JzIiwiZXJyb3JzIiwib3ZlcmZsb3ciLCJub3QtYmFzaWMiLCJpbnZhbGlkLWlucHV0IiwiYmFzZU1pbnVzVE1pbiIsInN0cmluZ0Zyb21DaGFyQ29kZSIsImZyb21DaGFyQ29kZSIsIm1hcERvbWFpbiIsInVjczJkZWNvZGUiLCJleHRyYSIsImNvdW50ZXIiLCJ1Y3MyZW5jb2RlIiwiZGlnaXRUb0Jhc2ljIiwiZGlnaXQiLCJhZGFwdCIsIm51bVBvaW50cyIsImZpcnN0VGltZSIsImJhc2ljIiwib2xkaSIsImJhc2VNaW51c1QiLCJjb2RlUG9pbnQiLCJpbnB1dExlbmd0aCIsImJpYXMiLCJoYW5kbGVkQ1BDb3VudCIsImJhc2ljTGVuZ3RoIiwiY3VycmVudFZhbHVlIiwiaGFuZGxlZENQQ291bnRQbHVzT25lIiwicU1pbnVzVCIsInVjczIiLCJ0b1VuaWNvZGUiLCJucG0iLCJzdGFydElkeCIsInJlbW92ZUNvdW50IiwicHJvcGVydHlOYW1lIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiX19wbHVnaW5zIiwiY3RvciIsInBsYXRmb3JtIiwiX2lzbW9iaWxlanMiLCJjb21waWxlUHJvZ3JhbSIsImV4dHJhY3RBdHRyaWJ1dGVzIiwiZXh0cmFjdFVuaWZvcm1zIiwiZ2VuZXJhdGVVbmlmb3JtQWNjZXNzT2JqZWN0Iiwic2V0UHJlY2lzaW9uIiwibmF0aXZlU3RhdGUiLCJuYXRpdmVWYW8iLCJjcmVhdGVWZXJ0ZXhBcnJheU9FUyIsImxhc3RCdWZmZXIiLCJnZXRTaXplIiwiZGVsZXRlVmVydGV4QXJyYXlPRVMiLCJGcmFtZWJ1ZmZlciIsImNyZWF0ZUZyYW1lYnVmZmVyIiwiZW5hYmxlVGV4dHVyZSIsImZyYW1lYnVmZmVyVGV4dHVyZTJEIiwiRlJBTUVCVUZGRVIiLCJDT0xPUl9BVFRBQ0hNRU5UMCIsImNyZWF0ZVJlbmRlcmJ1ZmZlciIsImJpbmRSZW5kZXJidWZmZXIiLCJSRU5ERVJCVUZGRVIiLCJmcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlciIsIkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCIsInJlbmRlcmJ1ZmZlclN0b3JhZ2UiLCJERVBUSF9TVEVOQ0lMIiwiQ09MT1JfQlVGRkVSX0JJVCIsIkRFUFRIX0JVRkZFUl9CSVQiLCJiaW5kRnJhbWVidWZmZXIiLCJkZWxldGVGcmFtZWJ1ZmZlciIsImZibyIsImNyZWF0ZUZsb2F0MzIiLCJFTVBUWV9BUlJBWV9CVUZGRVIiLCJkcmF3VHlwZSIsImNyZWF0ZUJ1ZmZlciIsIkFSUkFZX0JVRkZFUiIsImRvbnRCaW5kIiwiYnl0ZUxlbmd0aCIsImJ1ZmZlclN1YkRhdGEiLCJidWZmZXJEYXRhIiwiYmluZEJ1ZmZlciIsIkVMRU1FTlRfQVJSQVlfQlVGRkVSIiwicmFkaXVzMiIsIl9rZXkiLCJpbCIsInhpIiwieWkiLCJ4aiIsInlqIiwiX1JlY3RhbmdsZTIiLCJub3JteCIsIm5vcm15IiwicjIiLCJpc05hTiIsImdldFRpbWUiLCJzdGFydFRpbWUiLCJ2ZW5kb3JzIiwiZGVsYXkiLCJwcm9wSXNFbnVtZXJhYmxlIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJ0ZXN0MSIsImdldE93blByb3BlcnR5TmFtZXMiLCJ0ZXN0MiIsInRlc3QzIiwic2hvdWxkVXNlTmF0aXZlIiwic3ltYm9scyIsInRvT2JqZWN0IiwiX29iamVjdEFzc2lnbiIsIl9vYmplY3RBc3NpZ24yIiwicGl4aV9qc18xIiwibW9kYWxfMSIsImZhYnJpY1RhYmxlXzEiLCJsb2FkUmVzb3Vyc2VTcHJpdGVzXzEiLCJyZXNvdXJjZXNfMSIsInBvcnRyYWl0V3JhcHBlciIsIkdhbWUiLCJkaXNhYmxlZCIsImlzRGVhZCIsIm9uU3ByaXRlQ2xpY2siLCJ2YXJpYW50cyIsImF2YWxpYWJsZUZhY3RvcnlzIiwiZmluZCIsImFwcCIsImZhY3RvcmllcyIsInJlc291cnNlcyIsInR1cm4iLCJyZW5kZXJNYXAiLCJyZW5kZXJGYWN0b3JpZXMiLCJyZW5kZXJTaWRlYmFyIiwiY2VsbHMiLCJhcHBfMSIsImVsZW1Ub1JlbmRlciIsImdhbWUiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUNBSyxjQUFBLEVBQ0FDLFlBQUEsRUFDQUMsSUFBQU4sS0FNQVosRUFBQW1CLEVBQUEsU0FBQWpCLEdBQ0FZLE9BQUFDLGVBQUFiLEVB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QSxJQUFBRCxFQUFBLEdBQUFDLEVBQUEsSUFDQXRKLEVBQUEsR0FBQXFKLEVBQUEsR0FBQUMsRUFBQSxHQUFBRCxFQUFBLEdBQUFDLEVBQUEsR0FBQUQsRUFBQSxHQUFBQyxFQUFBLElBQUFELEVBQUEsR0FBQUMsRUFBQSxJQUNBdEosRUFBQSxHQUFBcUosRUFBQSxHQUFBQyxFQUFBLEdBQUFELEVBQUEsR0FBQUMsRUFBQSxHQUFBRCxFQUFBLEdBQUFDLEVBQUEsSUFBQUQsRUFBQSxHQUFBQyxFQUFBLElBQ0F0SixFQUFBLEdBQUFxSixFQUFBLEdBQUFDLEVBQUEsR0FBQUQsRUFBQSxHQUFBQyxFQUFBLEdBQUFELEVBQUEsR0FBQUMsRUFBQSxJQUFBRCxFQUFBLEdBQUFDLEVBQUEsSUFDQXRKLEVBQUEsR0FBQXFKLEVBQUEsR0FBQUMsRUFBQSxHQUFBRCxFQUFBLEdBQUFDLEVBQUEsR0FBQUQsRUFBQSxHQUFBQyxFQUFBLElBQUFELEVBQUEsR0FBQUMsRUFBQSxJQUFBRCxFQUFBLEdBR0FySixFQUFBLElBQUFxSixFQUFBLElBQUFDLEVBQUEsR0FBQUQsRUFBQSxJQUFBQyxFQUFBLEdBQUFELEVBQUEsSUFBQUMsRUFBQSxJQUFBRCxFQUFBLElBQUFDLEVBQUEsSUFDQXRKLEVBQUEsSUFBQXFKLEVBQUEsSUFBQUMsRUFBQSxHQUFBRCxFQUFBLElBQUFDLEVBQUEsR0FBQUQsRUFBQSxJQUFBQyxFQUFBLElBQUFELEVBQUEsSUFBQUMsRUFBQSxJQUNBdEosRUFBQSxJQUFBcUosRUFBQSxJQUFBQyxFQUFBLEdBQUFELEVBQUEsSUFBQUMsRUFBQSxHQUFBRCxFQUFBLElBQUFDLEVBQUEsSUFBQUQsRUFBQSxJQUFBQyxFQUFBLElBQ0F0SixFQUFBLElBQUFxSixFQUFBLElBQUFDLEVBQUEsR0FBQUQsRUFBQSxJQUFBQyxFQUFBLEdBQUFELEVBQUEsSUFBQUMsRUFBQSxJQUFBRCxFQUFBLElBQUFDLEVBQUEsSUFDQXRKLEVBQUEsSUFBQXFKLEVBQUEsSUFBQUMsRUFBQSxHQUFBRCxFQUFBLElBQUFDLEVBQUEs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QUFRNU0sSUFBSyxDQUN2QyxNQUFNeXZDLEVBQVNzaEMsRUFBQXR1QyxVQUFVdTVFLEVBQVVoOEcsR0FBR3l2QyxRQUN0Q0EsRUFBT3dnQyxZQUFZK3JDLEVBQVVoOEcsR0FBR2tmLEVBQUc4OEYsRUFBVWg4RyxHQUFHbWYsR0FDaEQ5RCxLQUFLMGdHLElBQUlucUQsTUFBTWovQixTQUFTOGMsSUFjeEJzZ0MsY0FBY2x0QyxHQUNsQnk0RSxFQUFBM3FDLGdCQUFnQjl0QyxvRkM1R3hCLE1BQUEwNUUsRUFBQTM4RyxFQUFBLEtBQ0FteEUsRUFBQW54RSxFQUFBLEtBQ0EyaEMsRUFBQTNoQyxFQUFBLElBRU00OEcsRUFBZWp0RyxTQUFTOGdFLGVBQWUsYUFZN0MxNUQsS0FBS3NmLE9BQ0E0UCxJQUFJbmxDLE9BQU9pSSxLQUFLb29FLEVBQUF2dkMsU0FBUzlXLElBQUk3aEIsR0FBT2tvRSxFQUFBdnZDLFFBQVEzNEIsS0FDNUNzaEMsS0FaTCxXQUNJLE1BQ01vWixHQUFXOXdDLE1BREg1RCxPQUFPeXZCLE9BQU83ckIsTUFDSkMsT0FEb0I3RCxPQUFPeXZCLE9BQU81ckIsUUFFMUQ1RCxRQUFRQyxJQUFJLG9CQUFxQncwQyxHQUNqQyxNQUFNazVELEVBQU8sSUFBSUYsRUFBQWYsS0FBS2o0RCxHQUN0Qmk1RCxFQUFhMzBGLFlBQVk0MEYsRUFBS3pxRyxNQUM5QnV2QixFQUFBUixZQUNBMDdFLEVBQUt6akciLCJmaWxlIjoibWFpbl9idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDI1Nyk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4vKipcbiAqIFN0cmluZyBvZiB0aGUgY3VycmVudCBQSVhJIHZlcnNpb24uXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgVkVSU0lPTlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xudmFyIFZFUlNJT04gPSBleHBvcnRzLlZFUlNJT04gPSAnNC43LjMnO1xuXG4vKipcbiAqIFR3byBQaS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG52YXIgUElfMiA9IGV4cG9ydHMuUElfMiA9IE1hdGguUEkgKiAyO1xuXG4vKipcbiAqIENvbnZlcnNpb24gZmFjdG9yIGZvciBjb252ZXJ0aW5nIHJhZGlhbnMgdG8gZGVncmVlcy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG52YXIgUkFEX1RPX0RFRyA9IGV4cG9ydHMuUkFEX1RPX0RFRyA9IDE4MCAvIE1hdGguUEk7XG5cbi8qKlxuICogQ29udmVyc2lvbiBmYWN0b3IgZm9yIGNvbnZlcnRpbmcgZGVncmVlcyB0byByYWRpYW5zLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbnZhciBERUdfVE9fUkFEID0gZXhwb3J0cy5ERUdfVE9fUkFEID0gTWF0aC5QSSAvIDE4MDtcblxuLyoqXG4gKiBDb25zdGFudCB0byBpZGVudGlmeSB0aGUgUmVuZGVyZXIgVHlwZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBSRU5ERVJFUl9UWVBFXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOS05PV04gLSBVbmtub3duIHJlbmRlciB0eXBlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMIC0gV2ViR0wgcmVuZGVyIHR5cGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0FOVkFTIC0gQ2FudmFzIHJlbmRlciB0eXBlLlxuICovXG52YXIgUkVOREVSRVJfVFlQRSA9IGV4cG9ydHMuUkVOREVSRVJfVFlQRSA9IHtcbiAgVU5LTk9XTjogMCxcbiAgV0VCR0w6IDEsXG4gIENBTlZBUzogMlxufTtcblxuLyoqXG4gKiBWYXJpb3VzIGJsZW5kIG1vZGVzIHN1cHBvcnRlZCBieSBQSVhJLlxuICpcbiAqIElNUE9SVEFOVCAtIFRoZSBXZWJHTCByZW5kZXJlciBvbmx5IHN1cHBvcnRzIHRoZSBOT1JNQUwsIEFERCwgTVVMVElQTFkgYW5kIFNDUkVFTiBibGVuZCBtb2Rlcy5cbiAqIEFueXRoaW5nIGVsc2Ugd2lsbCBzaWxlbnRseSBhY3QgbGlrZSBOT1JNQUwuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgQkxFTkRfTU9ERVNcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9STUFMXG4gKiBAcHJvcGVydHkge251bWJlcn0gQUREXG4gKiBAcHJvcGVydHkge251bWJlcn0gTVVMVElQTFlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTQ1JFRU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBPVkVSTEFZXG4gKiBAcHJvcGVydHkge251bWJlcn0gREFSS0VOXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElHSFRFTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTE9SX0RPREdFXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1JfQlVSTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhBUkRfTElHSFRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTT0ZUX0xJR0hUXG4gKiBAcHJvcGVydHkge251bWJlcn0gRElGRkVSRU5DRVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEVYQ0xVU0lPTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhVRVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNBVFVSQVRJT05cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUlxuICogQHByb3BlcnR5IHtudW1iZXJ9IExVTUlOT1NJVFlcbiAqL1xudmFyIEJMRU5EX01PREVTID0gZXhwb3J0cy5CTEVORF9NT0RFUyA9IHtcbiAgTk9STUFMOiAwLFxuICBBREQ6IDEsXG4gIE1VTFRJUExZOiAyLFxuICBTQ1JFRU46IDMsXG4gIE9WRVJMQVk6IDQsXG4gIERBUktFTjogNSxcbiAgTElHSFRFTjogNixcbiAgQ09MT1JfRE9ER0U6IDcsXG4gIENPTE9SX0JVUk46IDgsXG4gIEhBUkRfTElHSFQ6IDksXG4gIFNPRlRfTElHSFQ6IDEwLFxuICBESUZGRVJFTkNFOiAxMSxcbiAgRVhDTFVTSU9OOiAxMixcbiAgSFVFOiAxMyxcbiAgU0FUVVJBVElPTjogMTQsXG4gIENPTE9SOiAxNSxcbiAgTFVNSU5PU0lUWTogMTYsXG4gIE5PUk1BTF9OUE06IDE3LFxuICBBRERfTlBNOiAxOCxcbiAgU0NSRUVOX05QTTogMTlcbn07XG5cbi8qKlxuICogVmFyaW91cyB3ZWJnbCBkcmF3IG1vZGVzLiBUaGVzZSBjYW4gYmUgdXNlZCB0byBzcGVjaWZ5IHdoaWNoIEdMIGRyYXdNb2RlIHRvIHVzZVxuICogdW5kZXIgY2VydGFpbiBzaXR1YXRpb25zIGFuZCByZW5kZXJlcnMuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgRFJBV19NT0RFU1xuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQT0lOVFNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FU1xuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVfTE9PUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVfU1RSSVBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRVNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRV9TVFJJUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRSSUFOR0xFX0ZBTlxuICovXG52YXIgRFJBV19NT0RFUyA9IGV4cG9ydHMuRFJBV19NT0RFUyA9IHtcbiAgUE9JTlRTOiAwLFxuICBMSU5FUzogMSxcbiAgTElORV9MT09QOiAyLFxuICBMSU5FX1NUUklQOiAzLFxuICBUUklBTkdMRVM6IDQsXG4gIFRSSUFOR0xFX1NUUklQOiA1LFxuICBUUklBTkdMRV9GQU46IDZcbn07XG5cbi8qKlxuICogVGhlIHNjYWxlIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFfSBzY2FsZSBtb2RlIGFmZmVjdHMgdGhlIGRlZmF1bHQgc2NhbGluZyBtb2RlIG9mIGZ1dHVyZSBvcGVyYXRpb25zLlxuICogSXQgY2FuIGJlIHJlLWFzc2lnbmVkIHRvIGVpdGhlciBMSU5FQVIgb3IgTkVBUkVTVCwgZGVwZW5kaW5nIHVwb24gc3VpdGFiaWxpdHkuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgU0NBTEVfTU9ERVNcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORUFSIFNtb290aCBzY2FsaW5nXG4gKiBAcHJvcGVydHkge251bWJlcn0gTkVBUkVTVCBQaXhlbGF0aW5nIHNjYWxpbmdcbiAqL1xudmFyIFNDQUxFX01PREVTID0gZXhwb3J0cy5TQ0FMRV9NT0RFUyA9IHtcbiAgTElORUFSOiAwLFxuICBORUFSRVNUOiAxXG59O1xuXG4vKipcbiAqIFRoZSB3cmFwIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5XUkFQX01PREV9IHdyYXAgbW9kZSBhZmZlY3RzIHRoZSBkZWZhdWx0IHdyYXBwaW5nIG1vZGUgb2YgZnV0dXJlIG9wZXJhdGlvbnMuXG4gKiBJdCBjYW4gYmUgcmUtYXNzaWduZWQgdG8gZWl0aGVyIENMQU1QIG9yIFJFUEVBVCwgZGVwZW5kaW5nIHVwb24gc3VpdGFiaWxpdHkuXG4gKiBJZiB0aGUgdGV4dHVyZSBpcyBub24gcG93ZXIgb2YgdHdvIHRoZW4gY2xhbXAgd2lsbCBiZSB1c2VkIHJlZ2FyZGxlc3MgYXMgd2ViR0wgY2FuXG4gKiBvbmx5IHVzZSBSRVBFQVQgaWYgdGhlIHRleHR1cmUgaXMgcG8yLlxuICpcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgV1JBUF9NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0xBTVAgLSBUaGUgdGV4dHVyZXMgdXZzIGFyZSBjbGFtcGVkXG4gKiBAcHJvcGVydHkge251bWJlcn0gUkVQRUFUIC0gVGhlIHRleHR1cmUgdXZzIHRpbGUgYW5kIHJlcGVhdFxuICogQHByb3BlcnR5IHtudW1iZXJ9IE1JUlJPUkVEX1JFUEVBVCAtIFRoZSB0ZXh0dXJlIHV2cyB0aWxlIGFuZCByZXBlYXQgd2l0aCBtaXJyb3JpbmdcbiAqL1xudmFyIFdSQVBfTU9ERVMgPSBleHBvcnRzLldSQVBfTU9ERVMgPSB7XG4gIENMQU1QOiAwLFxuICBSRVBFQVQ6IDEsXG4gIE1JUlJPUkVEX1JFUEVBVDogMlxufTtcblxuLyoqXG4gKiBUaGUgZ2MgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLkdDX01PREV9IEdhcmJhZ2UgQ29sbGVjdGlvbiBtb2RlIGZvciBQaXhpSlMgdGV4dHVyZXMgaXMgQVVUT1xuICogSWYgc2V0IHRvIEdDX01PREUsIHRoZSByZW5kZXJlciB3aWxsIG9jY2FzaW9uYWxseSBjaGVjayB0ZXh0dXJlcyB1c2FnZS4gSWYgdGhleSBhcmUgbm90XG4gKiB1c2VkIGZvciBhIHNwZWNpZmllZCBwZXJpb2Qgb2YgdGltZSB0aGV5IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBHUFUuIFRoZXkgd2lsbCBvZiBjb3Vyc2VcbiAqIGJlIHVwbG9hZGVkIGFnYWluIHdoZW4gdGhleSBhcmUgcmVxdWlyZWQuIFRoaXMgaXMgYSBzaWxlbnQgYmVoaW5kIHRoZSBzY2VuZXMgcHJvY2VzcyB0aGF0XG4gKiBzaG91bGQgZW5zdXJlIHRoYXQgdGhlIEdQVSBkb2VzIG5vdCAgZ2V0IGZpbGxlZCB1cC5cbiAqXG4gKiBIYW5keSBmb3IgbW9iaWxlIGRldmljZXMhXG4gKiBUaGlzIHByb3BlcnR5IG9ubHkgYWZmZWN0cyBXZWJHTC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIEdDX01PREVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBVVRPIC0gR2FyYmFnZSBjb2xsZWN0aW9uIHdpbGwgaGFwcGVuIHBlcmlvZGljYWxseSBhdXRvbWF0aWNhbGx5XG4gKiBAcHJvcGVydHkge251bWJlcn0gTUFOVUFMIC0gR2FyYmFnZSBjb2xsZWN0aW9uIHdpbGwgbmVlZCB0byBiZSBjYWxsZWQgbWFudWFsbHlcbiAqL1xudmFyIEdDX01PREVTID0gZXhwb3J0cy5HQ19NT0RFUyA9IHtcbiAgQVVUTzogMCxcbiAgTUFOVUFMOiAxXG59O1xuXG4vKipcbiAqIFJlZ2V4cCBmb3IgaW1hZ2UgdHlwZSBieSBleHRlbnNpb24uXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge1JlZ0V4cHxzdHJpbmd9XG4gKiBAZXhhbXBsZSBgaW1hZ2UucG5nYFxuICovXG52YXIgVVJMX0ZJTEVfRVhURU5TSU9OID0gZXhwb3J0cy5VUkxfRklMRV9FWFRFTlNJT04gPSAvXFwuKFxcd3szLDR9KSg/OiR8XFw/fCMpL2k7XG5cbi8qKlxuICogUmVnZXhwIGZvciBkYXRhIFVSSS5cbiAqIEJhc2VkIG9uOiB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3JhZ2luZ3dpbmQvZGF0YS11cmktcmVnZXh9XG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBEQVRBX1VSSVxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtSZWdFeHB8c3RyaW5nfVxuICogQGV4YW1wbGUgZGF0YTppbWFnZS9wbmc7YmFzZTY0XG4gKi9cbnZhciBEQVRBX1VSSSA9IGV4cG9ydHMuREFUQV9VUkkgPSAvXlxccypkYXRhOig/OihbXFx3LV0rKVxcLyhbXFx3Ky4tXSspKT8oPzo7KGNoYXJzZXQ9W1xcdy1dK3xiYXNlNjQpKT8sKC4qKS9pO1xuXG4vKipcbiAqIFJlZ2V4cCBmb3IgU1ZHIHNpemUuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBTVkdfU0laRVxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtSZWdFeHB8c3RyaW5nfVxuICogQGV4YW1wbGUgJmx0O3N2ZyB3aWR0aD1cIjEwMFwiIGhlaWdodD1cIjEwMFwiJmd0OyZsdDsvc3ZnJmd0O1xuICovXG52YXIgU1ZHX1NJWkUgPSBleHBvcnRzLlNWR19TSVpFID0gLzxzdmdbXj5dKig/Olxccyh3aWR0aHxoZWlnaHQpPSgnfFwiKShcXGQqKD86XFwuXFxkKyk/KSg/OnB4KT8oJ3xcIikpW14+XSooPzpcXHMod2lkdGh8aGVpZ2h0KT0oJ3xcIikoXFxkKig/OlxcLlxcZCspPykoPzpweCk/KCd8XCIpKVtePl0qPi9pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG1heC1sZW5cblxuLyoqXG4gKiBDb25zdGFudHMgdGhhdCBpZGVudGlmeSBzaGFwZXMsIG1haW5seSB0byBwcmV2ZW50IGBpbnN0YW5jZW9mYCBjYWxscy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFNIQVBFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gUE9MWSBQb2x5Z29uXG4gKiBAcHJvcGVydHkge251bWJlcn0gUkVDVCBSZWN0YW5nbGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDSVJDIENpcmNsZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEVMSVAgRWxsaXBzZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJSRUMgUm91bmRlZCBSZWN0YW5nbGVcbiAqL1xudmFyIFNIQVBFUyA9IGV4cG9ydHMuU0hBUEVTID0ge1xuICBQT0xZOiAwLFxuICBSRUNUOiAxLFxuICBDSVJDOiAyLFxuICBFTElQOiAzLFxuICBSUkVDOiA0XG59O1xuXG4vKipcbiAqIENvbnN0YW50cyB0aGF0IHNwZWNpZnkgZmxvYXQgcHJlY2lzaW9uIGluIHNoYWRlcnMuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBQUkVDSVNJT05cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtzdHJpbmd9IExPVz0nbG93cCdcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBNRURJVU09J21lZGl1bXAnXG4gKiBAcHJvcGVydHkge3N0cmluZ30gSElHSD0naGlnaHAnXG4gKi9cbnZhciBQUkVDSVNJT04gPSBleHBvcnRzLlBSRUNJU0lPTiA9IHtcbiAgTE9XOiAnbG93cCcsXG4gIE1FRElVTTogJ21lZGl1bXAnLFxuICBISUdIOiAnaGlnaHAnXG59O1xuXG4vKipcbiAqIENvbnN0YW50cyB0aGF0IHNwZWNpZnkgdGhlIHRyYW5zZm9ybSB0eXBlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgVFJBTlNGT1JNX01PREVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNUQVRJQ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IERZTkFNSUNcbiAqL1xudmFyIFRSQU5TRk9STV9NT0RFID0gZXhwb3J0cy5UUkFOU0ZPUk1fTU9ERSA9IHtcbiAgU1RBVElDOiAwLFxuICBEWU5BTUlDOiAxXG59O1xuXG4vKipcbiAqIENvbnN0YW50cyB0aGF0IGRlZmluZSB0aGUgdHlwZSBvZiBncmFkaWVudCBvbiB0ZXh0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgVEVYVF9HUkFESUVOVFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORUFSX1ZFUlRJQ0FMIFZlcnRpY2FsIGdyYWRpZW50XG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORUFSX0hPUklaT05UQUwgTGluZWFyIGdyYWRpZW50XG4gKi9cbnZhciBURVhUX0dSQURJRU5UID0gZXhwb3J0cy5URVhUX0dSQURJRU5UID0ge1xuICBMSU5FQVJfVkVSVElDQUw6IDAsXG4gIExJTkVBUl9IT1JJWk9OVEFMOiAxXG59O1xuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIHVwZGF0ZSBwcmlvcml0aWVzIHVzZWQgYnkgaW50ZXJuYWwgUElYSSBjbGFzc2VzIHdoZW4gcmVnaXN0ZXJlZCB3aXRoXG4gKiB0aGUge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlcn0gb2JqZWN0LiBIaWdoZXIgcHJpb3JpdHkgaXRlbXMgYXJlIHVwZGF0ZWQgZmlyc3QgYW5kIGxvd2VyXG4gKiBwcmlvcml0eSBpdGVtcywgc3VjaCBhcyByZW5kZXIsIHNob3VsZCBnbyBsYXRlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFVQREFURV9QUklPUklUWVxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gSU5URVJBQ1RJT049NTAgSGlnaGVzdCBwcmlvcml0eSwgdXNlZCBmb3Ige0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhJR0g9MjUgSGlnaCBwcmlvcml0eSB1cGRhdGluZywge0BsaW5rIFBJWEkuVmlkZW9CYXNlVGV4dHVyZX0gYW5kIHtAbGluayBQSVhJLmV4dHJhcy5BbmltYXRlZFNwcml0ZX1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT1JNQUw9MCBEZWZhdWx0IHByaW9yaXR5IGZvciB0aWNrZXIgZXZlbnRzLCBzZWUge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNhZGR9LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IExPVz0tMjUgTG93IHByaW9yaXR5IHVzZWQgZm9yIHtAbGluayBQSVhJLkFwcGxpY2F0aW9ufSByZW5kZXJpbmcuXG4gKiBAcHJvcGVydHkge251bWJlcn0gVVRJTElUWT0tNTAgTG93ZXN0IHByaW9yaXR5IHVzZWQgZm9yIHtAbGluayBQSVhJLnByZXBhcmUuQmFzZVByZXBhcmV9IHV0aWxpdHkuXG4gKi9cbnZhciBVUERBVEVfUFJJT1JJVFkgPSBleHBvcnRzLlVQREFURV9QUklPUklUWSA9IHtcbiAgSU5URVJBQ1RJT046IDUwLFxuICBISUdIOiAyNSxcbiAgTk9STUFMOiAwLFxuICBMT1c6IC0yNSxcbiAgVVRJTElUWTogLTUwXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3QuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5hdXRvRGV0ZWN0UmVuZGVyZXIgPSBleHBvcnRzLkFwcGxpY2F0aW9uID0gZXhwb3J0cy5GaWx0ZXIgPSBleHBvcnRzLlNwcml0ZU1hc2tGaWx0ZXIgPSBleHBvcnRzLlF1YWQgPSBleHBvcnRzLlJlbmRlclRhcmdldCA9IGV4cG9ydHMuT2JqZWN0UmVuZGVyZXIgPSBleHBvcnRzLldlYkdMTWFuYWdlciA9IGV4cG9ydHMuU2hhZGVyID0gZXhwb3J0cy5DYW52YXNSZW5kZXJUYXJnZXQgPSBleHBvcnRzLlRleHR1cmVVdnMgPSBleHBvcnRzLlZpZGVvQmFzZVRleHR1cmUgPSBleHBvcnRzLkJhc2VSZW5kZXJUZXh0dXJlID0gZXhwb3J0cy5SZW5kZXJUZXh0dXJlID0gZXhwb3J0cy5CYXNlVGV4dHVyZSA9IGV4cG9ydHMuVGV4dHVyZU1hdHJpeCA9IGV4cG9ydHMuVGV4dHVyZSA9IGV4cG9ydHMuU3ByaXRlc2hlZXQgPSBleHBvcnRzLkNhbnZhc0dyYXBoaWNzUmVuZGVyZXIgPSBleHBvcnRzLkdyYXBoaWNzUmVuZGVyZXIgPSBleHBvcnRzLkdyYXBoaWNzRGF0YSA9IGV4cG9ydHMuR3JhcGhpY3MgPSBleHBvcnRzLlRleHRNZXRyaWNzID0gZXhwb3J0cy5UZXh0U3R5bGUgPSBleHBvcnRzLlRleHQgPSBleHBvcnRzLlNwcml0ZVJlbmRlcmVyID0gZXhwb3J0cy5DYW52YXNUaW50ZXIgPSBleHBvcnRzLkNhbnZhc1Nwcml0ZVJlbmRlcmVyID0gZXhwb3J0cy5TcHJpdGUgPSBleHBvcnRzLlRyYW5zZm9ybUJhc2UgPSBleHBvcnRzLlRyYW5zZm9ybVN0YXRpYyA9IGV4cG9ydHMuVHJhbnNmb3JtID0gZXhwb3J0cy5Db250YWluZXIgPSBleHBvcnRzLkRpc3BsYXlPYmplY3QgPSBleHBvcnRzLkJvdW5kcyA9IGV4cG9ydHMuZ2xDb3JlID0gZXhwb3J0cy5XZWJHTFJlbmRlcmVyID0gZXhwb3J0cy5DYW52YXNSZW5kZXJlciA9IGV4cG9ydHMudGlja2VyID0gZXhwb3J0cy51dGlscyA9IGV4cG9ydHMuc2V0dGluZ3MgPSB1bmRlZmluZWQ7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuL2NvbnN0Jyk7XG5cbk9iamVjdC5rZXlzKF9jb25zdCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gIGlmIChrZXkgPT09IFwiZGVmYXVsdFwiIHx8IGtleSA9PT0gXCJfX2VzTW9kdWxlXCIpIHJldHVybjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gX2NvbnN0W2tleV07XG4gICAgfVxuICB9KTtcbn0pO1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuL21hdGgnKTtcblxuT2JqZWN0LmtleXMoX21hdGgpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICBpZiAoa2V5ID09PSBcImRlZmF1bHRcIiB8fCBrZXkgPT09IFwiX19lc01vZHVsZVwiKSByZXR1cm47XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIF9tYXRoW2tleV07XG4gICAgfVxuICB9KTtcbn0pO1xuXG52YXIgX3BpeGlHbENvcmUgPSByZXF1aXJlKCdwaXhpLWdsLWNvcmUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdnbENvcmUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9waXhpR2xDb3JlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9Cb3VuZHMgPSByZXF1aXJlKCcuL2Rpc3BsYXkvQm91bmRzJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQm91bmRzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQm91bmRzKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9EaXNwbGF5T2JqZWN0ID0gcmVxdWlyZSgnLi9kaXNwbGF5L0Rpc3BsYXlPYmplY3QnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdEaXNwbGF5T2JqZWN0Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGlzcGxheU9iamVjdCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQ29udGFpbmVyID0gcmVxdWlyZSgnLi9kaXNwbGF5L0NvbnRhaW5lcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0NvbnRhaW5lcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnRhaW5lcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfVHJhbnNmb3JtID0gcmVxdWlyZSgnLi9kaXNwbGF5L1RyYW5zZm9ybScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1RyYW5zZm9ybScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RyYW5zZm9ybSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfVHJhbnNmb3JtU3RhdGljID0gcmVxdWlyZSgnLi9kaXNwbGF5L1RyYW5zZm9ybVN0YXRpYycpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1RyYW5zZm9ybVN0YXRpYycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RyYW5zZm9ybVN0YXRpYykuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfVHJhbnNmb3JtQmFzZSA9IHJlcXVpcmUoJy4vZGlzcGxheS9UcmFuc2Zvcm1CYXNlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnVHJhbnNmb3JtQmFzZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RyYW5zZm9ybUJhc2UpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1Nwcml0ZSA9IHJlcXVpcmUoJy4vc3ByaXRlcy9TcHJpdGUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdTcHJpdGUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TcHJpdGUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0NhbnZhc1Nwcml0ZVJlbmRlcmVyID0gcmVxdWlyZSgnLi9zcHJpdGVzL2NhbnZhcy9DYW52YXNTcHJpdGVSZW5kZXJlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0NhbnZhc1Nwcml0ZVJlbmRlcmVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzU3ByaXRlUmVuZGVyZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0NhbnZhc1RpbnRlciA9IHJlcXVpcmUoJy4vc3ByaXRlcy9jYW52YXMvQ2FudmFzVGludGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQ2FudmFzVGludGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzVGludGVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9TcHJpdGVSZW5kZXJlciA9IHJlcXVpcmUoJy4vc3ByaXRlcy93ZWJnbC9TcHJpdGVSZW5kZXJlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1Nwcml0ZVJlbmRlcmVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3ByaXRlUmVuZGVyZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1RleHQgPSByZXF1aXJlKCcuL3RleHQvVGV4dCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1RleHQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9UZXh0U3R5bGUgPSByZXF1aXJlKCcuL3RleHQvVGV4dFN0eWxlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnVGV4dFN0eWxlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dFN0eWxlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9UZXh0TWV0cmljcyA9IHJlcXVpcmUoJy4vdGV4dC9UZXh0TWV0cmljcycpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1RleHRNZXRyaWNzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dE1ldHJpY3MpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0dyYXBoaWNzID0gcmVxdWlyZSgnLi9ncmFwaGljcy9HcmFwaGljcycpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0dyYXBoaWNzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JhcGhpY3MpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0dyYXBoaWNzRGF0YSA9IHJlcXVpcmUoJy4vZ3JhcGhpY3MvR3JhcGhpY3NEYXRhJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnR3JhcGhpY3NEYXRhJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JhcGhpY3NEYXRhKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9HcmFwaGljc1JlbmRlcmVyID0gcmVxdWlyZSgnLi9ncmFwaGljcy93ZWJnbC9HcmFwaGljc1JlbmRlcmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnR3JhcGhpY3NSZW5kZXJlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyYXBoaWNzUmVuZGVyZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0NhbnZhc0dyYXBoaWNzUmVuZGVyZXIgPSByZXF1aXJlKCcuL2dyYXBoaWNzL2NhbnZhcy9DYW52YXNHcmFwaGljc1JlbmRlcmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQ2FudmFzR3JhcGhpY3NSZW5kZXJlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc0dyYXBoaWNzUmVuZGVyZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1Nwcml0ZXNoZWV0ID0gcmVxdWlyZSgnLi90ZXh0dXJlcy9TcHJpdGVzaGVldCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1Nwcml0ZXNoZWV0Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3ByaXRlc2hlZXQpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1RleHR1cmUgPSByZXF1aXJlKCcuL3RleHR1cmVzL1RleHR1cmUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdUZXh0dXJlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dHVyZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfVGV4dHVyZU1hdHJpeCA9IHJlcXVpcmUoJy4vdGV4dHVyZXMvVGV4dHVyZU1hdHJpeCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1RleHR1cmVNYXRyaXgnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlTWF0cml4KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9CYXNlVGV4dHVyZSA9IHJlcXVpcmUoJy4vdGV4dHVyZXMvQmFzZVRleHR1cmUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdCYXNlVGV4dHVyZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Jhc2VUZXh0dXJlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9SZW5kZXJUZXh0dXJlID0gcmVxdWlyZSgnLi90ZXh0dXJlcy9SZW5kZXJUZXh0dXJlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnUmVuZGVyVGV4dHVyZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlbmRlclRleHR1cmUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0Jhc2VSZW5kZXJUZXh0dXJlID0gcmVxdWlyZSgnLi90ZXh0dXJlcy9CYXNlUmVuZGVyVGV4dHVyZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0Jhc2VSZW5kZXJUZXh0dXJlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmFzZVJlbmRlclRleHR1cmUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1ZpZGVvQmFzZVRleHR1cmUgPSByZXF1aXJlKCcuL3RleHR1cmVzL1ZpZGVvQmFzZVRleHR1cmUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdWaWRlb0Jhc2VUZXh0dXJlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVmlkZW9CYXNlVGV4dHVyZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfVGV4dHVyZVV2cyA9IHJlcXVpcmUoJy4vdGV4dHVyZXMvVGV4dHVyZVV2cycpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1RleHR1cmVVdnMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlVXZzKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9DYW52YXNSZW5kZXJUYXJnZXQgPSByZXF1aXJlKCcuL3JlbmRlcmVycy9jYW52YXMvdXRpbHMvQ2FudmFzUmVuZGVyVGFyZ2V0Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQ2FudmFzUmVuZGVyVGFyZ2V0Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzUmVuZGVyVGFyZ2V0KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9TaGFkZXIgPSByZXF1aXJlKCcuL1NoYWRlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1NoYWRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NoYWRlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfV2ViR0xNYW5hZ2VyID0gcmVxdWlyZSgnLi9yZW5kZXJlcnMvd2ViZ2wvbWFuYWdlcnMvV2ViR0xNYW5hZ2VyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnV2ViR0xNYW5hZ2VyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xNYW5hZ2VyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9PYmplY3RSZW5kZXJlciA9IHJlcXVpcmUoJy4vcmVuZGVyZXJzL3dlYmdsL3V0aWxzL09iamVjdFJlbmRlcmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnT2JqZWN0UmVuZGVyZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9PYmplY3RSZW5kZXJlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfUmVuZGVyVGFyZ2V0ID0gcmVxdWlyZSgnLi9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvUmVuZGVyVGFyZ2V0Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnUmVuZGVyVGFyZ2V0Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmVuZGVyVGFyZ2V0KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9RdWFkID0gcmVxdWlyZSgnLi9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvUXVhZCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1F1YWQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9RdWFkKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9TcHJpdGVNYXNrRmlsdGVyID0gcmVxdWlyZSgnLi9yZW5kZXJlcnMvd2ViZ2wvZmlsdGVycy9zcHJpdGVNYXNrL1Nwcml0ZU1hc2tGaWx0ZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdTcHJpdGVNYXNrRmlsdGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3ByaXRlTWFza0ZpbHRlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfRmlsdGVyID0gcmVxdWlyZSgnLi9yZW5kZXJlcnMvd2ViZ2wvZmlsdGVycy9GaWx0ZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdGaWx0ZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GaWx0ZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0FwcGxpY2F0aW9uID0gcmVxdWlyZSgnLi9BcHBsaWNhdGlvbicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0FwcGxpY2F0aW9uJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQXBwbGljYXRpb24pLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2F1dG9EZXRlY3RSZW5kZXJlciA9IHJlcXVpcmUoJy4vYXV0b0RldGVjdFJlbmRlcmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnYXV0b0RldGVjdFJlbmRlcmVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2F1dG9EZXRlY3RSZW5kZXJlci5hdXRvRGV0ZWN0UmVuZGVyZXI7XG4gIH1cbn0pO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xuXG52YXIgdXRpbHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdXRpbHMpO1xuXG52YXIgX3RpY2tlciA9IHJlcXVpcmUoJy4vdGlja2VyJyk7XG5cbnZhciB0aWNrZXIgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdGlja2VyKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbnZhciBfQ2FudmFzUmVuZGVyZXIgPSByZXF1aXJlKCcuL3JlbmRlcmVycy9jYW52YXMvQ2FudmFzUmVuZGVyZXInKTtcblxudmFyIF9DYW52YXNSZW5kZXJlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNSZW5kZXJlcik7XG5cbnZhciBfV2ViR0xSZW5kZXJlciA9IHJlcXVpcmUoJy4vcmVuZGVyZXJzL3dlYmdsL1dlYkdMUmVuZGVyZXInKTtcblxudmFyIF9XZWJHTFJlbmRlcmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYkdMUmVuZGVyZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLnNldHRpbmdzID0gX3NldHRpbmdzMi5kZWZhdWx0O1xuZXhwb3J0cy51dGlscyA9IHV0aWxzO1xuZXhwb3J0cy50aWNrZXIgPSB0aWNrZXI7XG5leHBvcnRzLkNhbnZhc1JlbmRlcmVyID0gX0NhbnZhc1JlbmRlcmVyMi5kZWZhdWx0O1xuZXhwb3J0cy5XZWJHTFJlbmRlcmVyID0gX1dlYkdMUmVuZGVyZXIyLmRlZmF1bHQ7IC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBuYW1lc3BhY2UgUElYSVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5wcmVtdWx0aXBseUJsZW5kTW9kZSA9IGV4cG9ydHMuQmFzZVRleHR1cmVDYWNoZSA9IGV4cG9ydHMuVGV4dHVyZUNhY2hlID0gZXhwb3J0cy5lYXJjdXQgPSBleHBvcnRzLm1peGlucyA9IGV4cG9ydHMucGx1Z2luVGFyZ2V0ID0gZXhwb3J0cy5FdmVudEVtaXR0ZXIgPSBleHBvcnRzLnJlbW92ZUl0ZW1zID0gZXhwb3J0cy5pc01vYmlsZSA9IHVuZGVmaW5lZDtcbmV4cG9ydHMudWlkID0gdWlkO1xuZXhwb3J0cy5oZXgycmdiID0gaGV4MnJnYjtcbmV4cG9ydHMuaGV4MnN0cmluZyA9IGhleDJzdHJpbmc7XG5leHBvcnRzLnJnYjJoZXggPSByZ2IyaGV4O1xuZXhwb3J0cy5nZXRSZXNvbHV0aW9uT2ZVcmwgPSBnZXRSZXNvbHV0aW9uT2ZVcmw7XG5leHBvcnRzLmRlY29tcG9zZURhdGFVcmkgPSBkZWNvbXBvc2VEYXRhVXJpO1xuZXhwb3J0cy5nZXRVcmxGaWxlRXh0ZW5zaW9uID0gZ2V0VXJsRmlsZUV4dGVuc2lvbjtcbmV4cG9ydHMuZ2V0U3ZnU2l6ZSA9IGdldFN2Z1NpemU7XG5leHBvcnRzLnNraXBIZWxsbyA9IHNraXBIZWxsbztcbmV4cG9ydHMuc2F5SGVsbG8gPSBzYXlIZWxsbztcbmV4cG9ydHMuaXNXZWJHTFN1cHBvcnRlZCA9IGlzV2ViR0xTdXBwb3J0ZWQ7XG5leHBvcnRzLnNpZ24gPSBzaWduO1xuZXhwb3J0cy5kZXN0cm95VGV4dHVyZUNhY2hlID0gZGVzdHJveVRleHR1cmVDYWNoZTtcbmV4cG9ydHMuY2xlYXJUZXh0dXJlQ2FjaGUgPSBjbGVhclRleHR1cmVDYWNoZTtcbmV4cG9ydHMuY29ycmVjdEJsZW5kTW9kZSA9IGNvcnJlY3RCbGVuZE1vZGU7XG5leHBvcnRzLnByZW11bHRpcGx5VGludCA9IHByZW11bHRpcGx5VGludDtcbmV4cG9ydHMucHJlbXVsdGlwbHlSZ2JhID0gcHJlbXVsdGlwbHlSZ2JhO1xuZXhwb3J0cy5wcmVtdWx0aXBseVRpbnRUb1JnYmEgPSBwcmVtdWx0aXBseVRpbnRUb1JnYmE7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi9jb25zdCcpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbnZhciBfZXZlbnRlbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRlbWl0dGVyMycpO1xuXG52YXIgX2V2ZW50ZW1pdHRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ldmVudGVtaXR0ZXIpO1xuXG52YXIgX3BsdWdpblRhcmdldCA9IHJlcXVpcmUoJy4vcGx1Z2luVGFyZ2V0Jyk7XG5cbnZhciBfcGx1Z2luVGFyZ2V0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BsdWdpblRhcmdldCk7XG5cbnZhciBfbWl4aW4gPSByZXF1aXJlKCcuL21peGluJyk7XG5cbnZhciBtaXhpbnMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfbWl4aW4pO1xuXG52YXIgX2lzbW9iaWxlanMgPSByZXF1aXJlKCdpc21vYmlsZWpzJyk7XG5cbnZhciBpc01vYmlsZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9pc21vYmlsZWpzKTtcblxudmFyIF9yZW1vdmVBcnJheUl0ZW1zID0gcmVxdWlyZSgncmVtb3ZlLWFycmF5LWl0ZW1zJyk7XG5cbnZhciBfcmVtb3ZlQXJyYXlJdGVtczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZW1vdmVBcnJheUl0ZW1zKTtcblxudmFyIF9tYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2RlcyA9IHJlcXVpcmUoJy4vbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMnKTtcblxudmFyIF9tYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2RlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2Rlcyk7XG5cbnZhciBfZWFyY3V0ID0gcmVxdWlyZSgnZWFyY3V0Jyk7XG5cbnZhciBfZWFyY3V0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2VhcmN1dCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBuZXh0VWlkID0gMDtcbnZhciBzYWlkSGVsbG8gPSBmYWxzZTtcblxuLyoqXG4gKiBHZW5lcmFsaXplZCBjb252ZW5pZW5jZSB1dGlsaXRpZXMgZm9yIFBJWEkuXG4gKiBAZXhhbXBsZVxuICogLy8gRXh0ZW5kIFBJWEkncyBpbnRlcm5hbCBFdmVudCBFbWl0dGVyLlxuICogY2xhc3MgTXlFbWl0dGVyIGV4dGVuZHMgUElYSS51dGlscy5FdmVudEVtaXR0ZXIge1xuICogICBjb25zdHJ1Y3RvcigpIHtcbiAqICAgICAgc3VwZXIoKTtcbiAqICAgICAgY29uc29sZS5sb2coXCJFbWl0dGVyIGNyZWF0ZWQhXCIpO1xuICogICB9XG4gKiB9XG4gKlxuICogLy8gR2V0IGluZm8gb24gY3VycmVudCBkZXZpY2VcbiAqIGNvbnNvbGUubG9nKFBJWEkudXRpbHMuaXNNb2JpbGUpO1xuICpcbiAqIC8vIENvbnZlcnQgaGV4IGNvbG9yIHRvIHN0cmluZ1xuICogY29uc29sZS5sb2coUElYSS51dGlscy5oZXgyc3RyaW5nKDB4ZmYwMGZmKSk7IC8vIHJldHVybnM6IFwiI2ZmMDBmZlwiXG4gKiBAbmFtZXNwYWNlIFBJWEkudXRpbHNcbiAqL1xuZXhwb3J0cy5pc01vYmlsZSA9IGlzTW9iaWxlO1xuZXhwb3J0cy5yZW1vdmVJdGVtcyA9IF9yZW1vdmVBcnJheUl0ZW1zMi5kZWZhdWx0O1xuZXhwb3J0cy5FdmVudEVtaXR0ZXIgPSBfZXZlbnRlbWl0dGVyMi5kZWZhdWx0O1xuZXhwb3J0cy5wbHVnaW5UYXJnZXQgPSBfcGx1Z2luVGFyZ2V0Mi5kZWZhdWx0O1xuZXhwb3J0cy5taXhpbnMgPSBtaXhpbnM7XG5leHBvcnRzLmVhcmN1dCA9IF9lYXJjdXQyLmRlZmF1bHQ7XG5cbi8qKlxuICogR2V0cyB0aGUgbmV4dCB1bmlxdWUgaWRlbnRpZmllclxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gdWlkXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBuZXh0IHVuaXF1ZSBpZGVudGlmaWVyIHRvIHVzZS5cbiAqL1xuXG5mdW5jdGlvbiB1aWQoKSB7XG4gICAgcmV0dXJuICsrbmV4dFVpZDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIGhleCBjb2xvciBudW1iZXIgdG8gYW4gW1IsIEcsIEJdIGFycmF5XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBoZXgycmdiXG4gKiBAcGFyYW0ge251bWJlcn0gaGV4IC0gVGhlIG51bWJlciB0byBjb252ZXJ0XG4gKiBAcGFyYW0gIHtudW1iZXJbXX0gW291dD1bXV0gSWYgc3VwcGxpZWQsIHRoaXMgYXJyYXkgd2lsbCBiZSB1c2VkIHJhdGhlciB0aGFuIHJldHVybmluZyBhIG5ldyBvbmVcbiAqIEByZXR1cm4ge251bWJlcltdfSBBbiBhcnJheSByZXByZXNlbnRpbmcgdGhlIFtSLCBHLCBCXSBvZiB0aGUgY29sb3IuXG4gKi9cbmZ1bmN0aW9uIGhleDJyZ2IoaGV4LCBvdXQpIHtcbiAgICBvdXQgPSBvdXQgfHwgW107XG5cbiAgICBvdXRbMF0gPSAoaGV4ID4+IDE2ICYgMHhGRikgLyAyNTU7XG4gICAgb3V0WzFdID0gKGhleCA+PiA4ICYgMHhGRikgLyAyNTU7XG4gICAgb3V0WzJdID0gKGhleCAmIDB4RkYpIC8gMjU1O1xuXG4gICAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIGhleCBjb2xvciBudW1iZXIgdG8gYSBzdHJpbmcuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBoZXgyc3RyaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gaGV4IC0gTnVtYmVyIGluIGhleFxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgc3RyaW5nIGNvbG9yLlxuICovXG5mdW5jdGlvbiBoZXgyc3RyaW5nKGhleCkge1xuICAgIGhleCA9IGhleC50b1N0cmluZygxNik7XG4gICAgaGV4ID0gJzAwMDAwMCcuc3Vic3RyKDAsIDYgLSBoZXgubGVuZ3RoKSArIGhleDtcblxuICAgIHJldHVybiAnIycgKyBoZXg7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBjb2xvciBhcyBhbiBbUiwgRywgQl0gYXJyYXkgdG8gYSBoZXggbnVtYmVyXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiByZ2IyaGV4XG4gKiBAcGFyYW0ge251bWJlcltdfSByZ2IgLSByZ2IgYXJyYXlcbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIGNvbG9yIG51bWJlclxuICovXG5mdW5jdGlvbiByZ2IyaGV4KHJnYikge1xuICAgIHJldHVybiAocmdiWzBdICogMjU1IDw8IDE2KSArIChyZ2JbMV0gKiAyNTUgPDwgOCkgKyAocmdiWzJdICogMjU1IHwgMCk7XG59XG5cbi8qKlxuICogZ2V0IHRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIGFuIGFzc2V0IGJ5IGxvb2tpbmcgZm9yIHRoZSBwcmVmaXhcbiAqIHVzZWQgYnkgc3ByaXRlc2hlZXRzIGFuZCBpbWFnZSB1cmxzXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBnZXRSZXNvbHV0aW9uT2ZVcmxcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSB0aGUgaW1hZ2UgcGF0aFxuICogQHBhcmFtIHtudW1iZXJ9IFtkZWZhdWx0VmFsdWU9MV0gLSB0aGUgZGVmYXVsdFZhbHVlIGlmIG5vIGZpbGVuYW1lIHByZWZpeCBpcyBzZXQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgYW4gYXNzZXRcbiAqL1xuZnVuY3Rpb24gZ2V0UmVzb2x1dGlvbk9mVXJsKHVybCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgdmFyIHJlc29sdXRpb24gPSBfc2V0dGluZ3MyLmRlZmF1bHQuUkVUSU5BX1BSRUZJWC5leGVjKHVybCk7XG5cbiAgICBpZiAocmVzb2x1dGlvbikge1xuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChyZXNvbHV0aW9uWzFdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQgPyBkZWZhdWx0VmFsdWUgOiAxO1xufVxuXG4vKipcbiAqIFR5cGVkZWYgZm9yIGRlY29tcG9zZURhdGFVcmkgcmV0dXJuIG9iamVjdC5cbiAqXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBQSVhJLnV0aWxzfkRlY29tcG9zZWREYXRhVXJpXG4gKiBAcHJvcGVydHkge21lZGlhVHlwZX0gTWVkaWEgdHlwZSwgZWcuIGBpbWFnZWBcbiAqIEBwcm9wZXJ0eSB7c3ViVHlwZX0gU3ViIHR5cGUsIGVnLiBgcG5nYFxuICogQHByb3BlcnR5IHtlbmNvZGluZ30gRGF0YSBlbmNvZGluZywgZWcuIGBiYXNlNjRgXG4gKiBAcHJvcGVydHkge2RhdGF9IFRoZSBhY3R1YWwgZGF0YVxuICovXG5cbi8qKlxuICogU3BsaXQgYSBkYXRhIFVSSSBpbnRvIGNvbXBvbmVudHMuIFJldHVybnMgdW5kZWZpbmVkIGlmXG4gKiBwYXJhbWV0ZXIgYGRhdGFVcmlgIGlzIG5vdCBhIHZhbGlkIGRhdGEgVVJJLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gZGVjb21wb3NlRGF0YVVyaVxuICogQHBhcmFtIHtzdHJpbmd9IGRhdGFVcmkgLSB0aGUgZGF0YSBVUkkgdG8gY2hlY2tcbiAqIEByZXR1cm4ge1BJWEkudXRpbHN+RGVjb21wb3NlZERhdGFVcml8dW5kZWZpbmVkfSBUaGUgZGVjb21wb3NlZCBkYXRhIHVyaSBvciB1bmRlZmluZWRcbiAqL1xuZnVuY3Rpb24gZGVjb21wb3NlRGF0YVVyaShkYXRhVXJpKSB7XG4gICAgdmFyIGRhdGFVcmlNYXRjaCA9IF9jb25zdC5EQVRBX1VSSS5leGVjKGRhdGFVcmkpO1xuXG4gICAgaWYgKGRhdGFVcmlNYXRjaCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVkaWFUeXBlOiBkYXRhVXJpTWF0Y2hbMV0gPyBkYXRhVXJpTWF0Y2hbMV0udG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHN1YlR5cGU6IGRhdGFVcmlNYXRjaFsyXSA/IGRhdGFVcmlNYXRjaFsyXS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZW5jb2Rpbmc6IGRhdGFVcmlNYXRjaFszXSA/IGRhdGFVcmlNYXRjaFszXS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZGF0YTogZGF0YVVyaU1hdGNoWzRdXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBHZXQgdHlwZSBvZiB0aGUgaW1hZ2UgYnkgcmVnZXhwIGZvciBleHRlbnNpb24uIFJldHVybnMgdW5kZWZpbmVkIGZvciB1bmtub3duIGV4dGVuc2lvbnMuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBnZXRVcmxGaWxlRXh0ZW5zaW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gdGhlIGltYWdlIHBhdGhcbiAqIEByZXR1cm4ge3N0cmluZ3x1bmRlZmluZWR9IGltYWdlIGV4dGVuc2lvblxuICovXG5mdW5jdGlvbiBnZXRVcmxGaWxlRXh0ZW5zaW9uKHVybCkge1xuICAgIHZhciBleHRlbnNpb24gPSBfY29uc3QuVVJMX0ZJTEVfRVhURU5TSU9OLmV4ZWModXJsKTtcblxuICAgIGlmIChleHRlbnNpb24pIHtcbiAgICAgICAgcmV0dXJuIGV4dGVuc2lvblsxXS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogVHlwZWRlZiBmb3IgU2l6ZSBvYmplY3QuXG4gKlxuICogQHR5cGVkZWYge29iamVjdH0gUElYSS51dGlsc35TaXplXG4gKiBAcHJvcGVydHkge3dpZHRofSBXaWR0aCBjb21wb25lbnRcbiAqIEBwcm9wZXJ0eSB7aGVpZ2h0fSBIZWlnaHQgY29tcG9uZW50XG4gKi9cblxuLyoqXG4gKiBHZXQgc2l6ZSBmcm9tIGFuIHN2ZyBzdHJpbmcgdXNpbmcgcmVnZXhwLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gZ2V0U3ZnU2l6ZVxuICogQHBhcmFtIHtzdHJpbmd9IHN2Z1N0cmluZyAtIGEgc2VyaWFsaXplZCBzdmcgZWxlbWVudFxuICogQHJldHVybiB7UElYSS51dGlsc35TaXplfHVuZGVmaW5lZH0gaW1hZ2UgZXh0ZW5zaW9uXG4gKi9cbmZ1bmN0aW9uIGdldFN2Z1NpemUoc3ZnU3RyaW5nKSB7XG4gICAgdmFyIHNpemVNYXRjaCA9IF9jb25zdC5TVkdfU0laRS5leGVjKHN2Z1N0cmluZyk7XG4gICAgdmFyIHNpemUgPSB7fTtcblxuICAgIGlmIChzaXplTWF0Y2gpIHtcbiAgICAgICAgc2l6ZVtzaXplTWF0Y2hbMV1dID0gTWF0aC5yb3VuZChwYXJzZUZsb2F0KHNpemVNYXRjaFszXSkpO1xuICAgICAgICBzaXplW3NpemVNYXRjaFs1XV0gPSBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoc2l6ZU1hdGNoWzddKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNpemU7XG59XG5cbi8qKlxuICogU2tpcHMgdGhlIGhlbGxvIG1lc3NhZ2Ugb2YgcmVuZGVyZXJzIHRoYXQgYXJlIGNyZWF0ZWQgYWZ0ZXIgdGhpcyBpcyBydW4uXG4gKlxuICogQGZ1bmN0aW9uIHNraXBIZWxsb1xuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqL1xuZnVuY3Rpb24gc2tpcEhlbGxvKCkge1xuICAgIHNhaWRIZWxsbyA9IHRydWU7XG59XG5cbi8qKlxuICogTG9ncyBvdXQgdGhlIHZlcnNpb24gYW5kIHJlbmRlcmVyIGluZm9ybWF0aW9uIGZvciB0aGlzIHJ1bm5pbmcgaW5zdGFuY2Ugb2YgUElYSS5cbiAqIElmIHlvdSBkb24ndCB3YW50IHRvIHNlZSB0aGlzIG1lc3NhZ2UgeW91IGNhbiBydW4gYFBJWEkudXRpbHMuc2tpcEhlbGxvKClgIGJlZm9yZVxuICogY3JlYXRpbmcgeW91ciByZW5kZXJlci4gS2VlcCBpbiBtaW5kIHRoYXQgZG9pbmcgdGhhdCB3aWxsIGZvcmV2ZXIgbWFrZXMgeW91IGEgamVyayBmYWNlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBmdW5jdGlvbiBzYXlIZWxsb1xuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIHN0cmluZyByZW5kZXJlciB0eXBlIHRvIGxvZy5cbiAqL1xuZnVuY3Rpb24gc2F5SGVsbG8odHlwZSkge1xuICAgIGlmIChzYWlkSGVsbG8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignY2hyb21lJykgPiAtMSkge1xuICAgICAgICB2YXIgYXJncyA9IFsnXFxuICVjICVjICVjIFBpeGlKUyAnICsgX2NvbnN0LlZFUlNJT04gKyAnIC0gXFx1MjczMCAnICsgdHlwZSArICcgXFx1MjczMCAgJWMgICVjICBodHRwOi8vd3d3LnBpeGlqcy5jb20vICAlYyAlYyBcXHUyNjY1JWNcXHUyNjY1JWNcXHUyNjY1IFxcblxcbicsICdiYWNrZ3JvdW5kOiAjZmY2NmE1OyBwYWRkaW5nOjVweCAwOycsICdiYWNrZ3JvdW5kOiAjZmY2NmE1OyBwYWRkaW5nOjVweCAwOycsICdjb2xvcjogI2ZmNjZhNTsgYmFja2dyb3VuZDogIzAzMDMwNzsgcGFkZGluZzo1cHggMDsnLCAnYmFja2dyb3VuZDogI2ZmNjZhNTsgcGFkZGluZzo1cHggMDsnLCAnYmFja2dyb3VuZDogI2ZmYzNkYzsgcGFkZGluZzo1cHggMDsnLCAnYmFja2dyb3VuZDogI2ZmNjZhNTsgcGFkZGluZzo1cHggMDsnLCAnY29sb3I6ICNmZjI0MjQ7IGJhY2tncm91bmQ6ICNmZmY7IHBhZGRpbmc6NXB4IDA7JywgJ2NvbG9yOiAjZmYyNDI0OyBiYWNrZ3JvdW5kOiAjZmZmOyBwYWRkaW5nOjVweCAwOycsICdjb2xvcjogI2ZmMjQyNDsgYmFja2dyb3VuZDogI2ZmZjsgcGFkZGluZzo1cHggMDsnXTtcblxuICAgICAgICB3aW5kb3cuY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgYXJncyk7XG4gICAgfSBlbHNlIGlmICh3aW5kb3cuY29uc29sZSkge1xuICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coJ1BpeGlKUyAnICsgX2NvbnN0LlZFUlNJT04gKyAnIC0gJyArIHR5cGUgKyAnIC0gaHR0cDovL3d3dy5waXhpanMuY29tLycpO1xuICAgIH1cblxuICAgIHNhaWRIZWxsbyA9IHRydWU7XG59XG5cbi8qKlxuICogSGVscGVyIGZvciBjaGVja2luZyBmb3Igd2ViZ2wgc3VwcG9ydFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gaXNXZWJHTFN1cHBvcnRlZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaXMgd2ViZ2wgc3VwcG9ydGVkXG4gKi9cbmZ1bmN0aW9uIGlzV2ViR0xTdXBwb3J0ZWQoKSB7XG4gICAgdmFyIGNvbnRleHRPcHRpb25zID0geyBzdGVuY2lsOiB0cnVlLCBmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiB0cnVlIH07XG5cbiAgICB0cnkge1xuICAgICAgICBpZiAoIXdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgdmFyIGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywgY29udGV4dE9wdGlvbnMpIHx8IGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLCBjb250ZXh0T3B0aW9ucyk7XG5cbiAgICAgICAgdmFyIHN1Y2Nlc3MgPSAhIShnbCAmJiBnbC5nZXRDb250ZXh0QXR0cmlidXRlcygpLnN0ZW5jaWwpO1xuXG4gICAgICAgIGlmIChnbCkge1xuICAgICAgICAgICAgdmFyIGxvc2VDb250ZXh0ID0gZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKTtcblxuICAgICAgICAgICAgaWYgKGxvc2VDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgbG9zZUNvbnRleHQubG9zZUNvbnRleHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGdsID0gbnVsbDtcblxuICAgICAgICByZXR1cm4gc3VjY2VzcztcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbi8qKlxuICogUmV0dXJucyBzaWduIG9mIG51bWJlclxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gc2lnblxuICogQHBhcmFtIHtudW1iZXJ9IG4gLSB0aGUgbnVtYmVyIHRvIGNoZWNrIHRoZSBzaWduIG9mXG4gKiBAcmV0dXJucyB7bnVtYmVyfSAwIGlmIGBuYCBpcyAwLCAtMSBpZiBgbmAgaXMgbmVnYXRpdmUsIDEgaWYgYG5gIGlzIHBvc2l0aXZlXG4gKi9cbmZ1bmN0aW9uIHNpZ24obikge1xuICAgIGlmIChuID09PSAwKSByZXR1cm4gMDtcblxuICAgIHJldHVybiBuIDwgMCA/IC0xIDogMTtcbn1cblxuLyoqXG4gKiBAdG9kbyBEZXNjcmliZSBwcm9wZXJ0eSB1c2FnZVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgVGV4dHVyZUNhY2hlID0gZXhwb3J0cy5UZXh0dXJlQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4vKipcbiAqIEB0b2RvIERlc2NyaWJlIHByb3BlcnR5IHVzYWdlXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBCYXNlVGV4dHVyZUNhY2hlID0gZXhwb3J0cy5CYXNlVGV4dHVyZUNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuLyoqXG4gKiBEZXN0cm95cyBhbGwgdGV4dHVyZSBpbiB0aGUgY2FjaGVcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGRlc3Ryb3lUZXh0dXJlQ2FjaGVcbiAqL1xuZnVuY3Rpb24gZGVzdHJveVRleHR1cmVDYWNoZSgpIHtcbiAgICB2YXIga2V5ID0gdm9pZCAwO1xuXG4gICAgZm9yIChrZXkgaW4gVGV4dHVyZUNhY2hlKSB7XG4gICAgICAgIFRleHR1cmVDYWNoZVtrZXldLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgZm9yIChrZXkgaW4gQmFzZVRleHR1cmVDYWNoZSkge1xuICAgICAgICBCYXNlVGV4dHVyZUNhY2hlW2tleV0uZGVzdHJveSgpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCB0ZXh0dXJlcyBmcm9tIGNhY2hlLCBidXQgZG9lcyBub3QgZGVzdHJveSB0aGVtXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBjbGVhclRleHR1cmVDYWNoZVxuICovXG5mdW5jdGlvbiBjbGVhclRleHR1cmVDYWNoZSgpIHtcbiAgICB2YXIga2V5ID0gdm9pZCAwO1xuXG4gICAgZm9yIChrZXkgaW4gVGV4dHVyZUNhY2hlKSB7XG4gICAgICAgIGRlbGV0ZSBUZXh0dXJlQ2FjaGVba2V5XTtcbiAgICB9XG4gICAgZm9yIChrZXkgaW4gQmFzZVRleHR1cmVDYWNoZSkge1xuICAgICAgICBkZWxldGUgQmFzZVRleHR1cmVDYWNoZVtrZXldO1xuICAgIH1cbn1cblxuLyoqXG4gKiBtYXBzIHByZW11bHRpcGx5IGZsYWcgYW5kIGJsZW5kTW9kZSB0byBhZGp1c3RlZCBibGVuZE1vZGVcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAY29uc3QgcHJlbXVsdGlwbHlCbGVuZE1vZGVcbiAqIEB0eXBlIHtBcnJheTxudW1iZXJbXT59XG4gKi9cbnZhciBwcmVtdWx0aXBseUJsZW5kTW9kZSA9IGV4cG9ydHMucHJlbXVsdGlwbHlCbGVuZE1vZGUgPSAoMCwgX21hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzMi5kZWZhdWx0KSgpO1xuXG4vKipcbiAqIGNoYW5nZXMgYmxlbmRNb2RlIGFjY29yZGluZyB0byB0ZXh0dXJlIGZvcm1hdFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gY29ycmVjdEJsZW5kTW9kZVxuICogQHBhcmFtIHtudW1iZXJ9IGJsZW5kTW9kZSBzdXBwb3NlZCBibGVuZCBtb2RlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHByZW11bHRpcGxpZWQgIHdoZXRoZXIgc291cmNlIGlzIHByZW11bHRpcGxpZWRcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHRydWUgYmxlbmQgbW9kZSBmb3IgdGhpcyB0ZXh0dXJlXG4gKi9cbmZ1bmN0aW9uIGNvcnJlY3RCbGVuZE1vZGUoYmxlbmRNb2RlLCBwcmVtdWx0aXBsaWVkKSB7XG4gICAgcmV0dXJuIHByZW11bHRpcGx5QmxlbmRNb2RlW3ByZW11bHRpcGxpZWQgPyAxIDogMF1bYmxlbmRNb2RlXTtcbn1cblxuLyoqXG4gKiBwcmVtdWx0aXBsaWVzIHRpbnRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtudW1iZXJ9IHRpbnQgaW50ZWdldCBSR0JcbiAqIEBwYXJhbSB7bnVtYmVyfSBhbHBoYSBmbG9hdGluZyBwb2ludCBhbHBoYSAoMC4wLTEuMClcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHRpbnQgbXVsdGlwbGllZCBieSBhbHBoYVxuICovXG5mdW5jdGlvbiBwcmVtdWx0aXBseVRpbnQodGludCwgYWxwaGEpIHtcbiAgICBpZiAoYWxwaGEgPT09IDEuMCkge1xuICAgICAgICByZXR1cm4gKGFscGhhICogMjU1IDw8IDI0KSArIHRpbnQ7XG4gICAgfVxuICAgIGlmIChhbHBoYSA9PT0gMC4wKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICB2YXIgUiA9IHRpbnQgPj4gMTYgJiAweEZGO1xuICAgIHZhciBHID0gdGludCA+PiA4ICYgMHhGRjtcbiAgICB2YXIgQiA9IHRpbnQgJiAweEZGO1xuXG4gICAgUiA9IFIgKiBhbHBoYSArIDAuNSB8IDA7XG4gICAgRyA9IEcgKiBhbHBoYSArIDAuNSB8IDA7XG4gICAgQiA9IEIgKiBhbHBoYSArIDAuNSB8IDA7XG5cbiAgICByZXR1cm4gKGFscGhhICogMjU1IDw8IDI0KSArIChSIDw8IDE2KSArIChHIDw8IDgpICsgQjtcbn1cblxuLyoqXG4gKiBjb21iaW5lcyByZ2IgYW5kIGFscGhhIHRvIG91dCBhcnJheVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheXxudW1iZXJbXX0gcmdiIGlucHV0IHJnYlxuICogQHBhcmFtIHtudW1iZXJ9IGFscGhhIGFscGhhIHBhcmFtXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW291dF0gb3V0cHV0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtwcmVtdWx0aXBseT10cnVlXSBkbyBwcmVtdWx0aXBseSBpdFxuICogQHJldHVybnMge0Zsb2F0MzJBcnJheX0gdmVjNCByZ2JhXG4gKi9cbmZ1bmN0aW9uIHByZW11bHRpcGx5UmdiYShyZ2IsIGFscGhhLCBvdXQsIHByZW11bHRpcGx5KSB7XG4gICAgb3V0ID0gb3V0IHx8IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG4gICAgaWYgKHByZW11bHRpcGx5IHx8IHByZW11bHRpcGx5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgb3V0WzBdID0gcmdiWzBdICogYWxwaGE7XG4gICAgICAgIG91dFsxXSA9IHJnYlsxXSAqIGFscGhhO1xuICAgICAgICBvdXRbMl0gPSByZ2JbMl0gKiBhbHBoYTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBvdXRbMF0gPSByZ2JbMF07XG4gICAgICAgIG91dFsxXSA9IHJnYlsxXTtcbiAgICAgICAgb3V0WzJdID0gcmdiWzJdO1xuICAgIH1cbiAgICBvdXRbM10gPSBhbHBoYTtcblxuICAgIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogY29udmVydHMgaW50ZWdlciB0aW50IGFuZCBmbG9hdCBhbHBoYSB0byB2ZWM0IGZvcm0sIHByZW11bHRpcGxpZXMgYnkgZGVmYXVsdFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge251bWJlcn0gdGludCBpbnB1dCB0aW50XG4gKiBAcGFyYW0ge251bWJlcn0gYWxwaGEgYWxwaGEgcGFyYW1cbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0XSBvdXRwdXRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ByZW11bHRpcGx5PXRydWVdIGRvIHByZW11bHRpcGx5IGl0XG4gKiBAcmV0dXJucyB7RmxvYXQzMkFycmF5fSB2ZWM0IHJnYmFcbiAqL1xuZnVuY3Rpb24gcHJlbXVsdGlwbHlUaW50VG9SZ2JhKHRpbnQsIGFscGhhLCBvdXQsIHByZW11bHRpcGx5KSB7XG4gICAgb3V0ID0gb3V0IHx8IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG4gICAgb3V0WzBdID0gKHRpbnQgPj4gMTYgJiAweEZGKSAvIDI1NS4wO1xuICAgIG91dFsxXSA9ICh0aW50ID4+IDggJiAweEZGKSAvIDI1NS4wO1xuICAgIG91dFsyXSA9ICh0aW50ICYgMHhGRikgLyAyNTUuMDtcbiAgICBpZiAocHJlbXVsdGlwbHkgfHwgcHJlbXVsdGlwbHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvdXRbMF0gKj0gYWxwaGE7XG4gICAgICAgIG91dFsxXSAqPSBhbHBoYTtcbiAgICAgICAgb3V0WzJdICo9IGFscGhhO1xuICAgIH1cbiAgICBvdXRbM10gPSBhbHBoYTtcblxuICAgIHJldHVybiBvdXQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfbWF4UmVjb21tZW5kZWRUZXh0dXJlcyA9IHJlcXVpcmUoJy4vdXRpbHMvbWF4UmVjb21tZW5kZWRUZXh0dXJlcycpO1xuXG52YXIgX21heFJlY29tbWVuZGVkVGV4dHVyZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWF4UmVjb21tZW5kZWRUZXh0dXJlcyk7XG5cbnZhciBfY2FuVXBsb2FkU2FtZUJ1ZmZlciA9IHJlcXVpcmUoJy4vdXRpbHMvY2FuVXBsb2FkU2FtZUJ1ZmZlcicpO1xuXG52YXIgX2NhblVwbG9hZFNhbWVCdWZmZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2FuVXBsb2FkU2FtZUJ1ZmZlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogVXNlcidzIGN1c3RvbWl6YWJsZSBnbG9iYWxzIGZvciBvdmVycmlkaW5nIHRoZSBkZWZhdWx0IFBJWEkgc2V0dGluZ3MsIHN1Y2hcbiAqIGFzIGEgcmVuZGVyZXIncyBkZWZhdWx0IHJlc29sdXRpb24sIGZyYW1lcmF0ZSwgZmxvYXQgcGVyY2lzaW9uLCBldGMuXG4gKiBAZXhhbXBsZVxuICogLy8gVXNlIHRoZSBuYXRpdmUgd2luZG93IHJlc29sdXRpb24gYXMgdGhlIGRlZmF1bHQgcmVzb2x1dGlvblxuICogLy8gd2lsbCBzdXBwb3J0IGhpZ2gtZGVuc2l0eSBkaXNwbGF5cyB3aGVuIHJlbmRlcmluZ1xuICogUElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8uXG4gKlxuICogLy8gRGlzYWJsZSBpbnRlcnBvbGF0aW9uIHdoZW4gc2NhbGluZywgd2lsbCBtYWtlIHRleHR1cmUgYmUgcGl4ZWxhdGVkXG4gKiBQSVhJLnNldHRpbmdzLlNDQUxFX01PREUgPSBQSVhJLlNDQUxFX01PREVTLk5FQVJFU1Q7XG4gKiBAbmFtZXNwYWNlIFBJWEkuc2V0dGluZ3NcbiAqL1xuZXhwb3J0cy5kZWZhdWx0ID0ge1xuXG4gIC8qKlxuICAgKiBUYXJnZXQgZnJhbWVzIHBlciBtaWxsaXNlY29uZC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCAwLjA2XG4gICAqL1xuICBUQVJHRVRfRlBNUzogMC4wNixcblxuICAvKipcbiAgICogSWYgc2V0IHRvIHRydWUgV2ViR0wgd2lsbCBhdHRlbXB0IG1ha2UgdGV4dHVyZXMgbWltcGFwZWQgYnkgZGVmYXVsdC5cbiAgICogTWlwbWFwcGluZyB3aWxsIG9ubHkgc3VjY2VlZCBpZiB0aGUgYmFzZSB0ZXh0dXJlIHVwbG9hZGVkIGhhcyBwb3dlciBvZiB0d28gZGltZW5zaW9ucy5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgTUlQTUFQX1RFWFRVUkVTOiB0cnVlLFxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBkZWZhdWx0IDFcbiAgICovXG4gIFJFU09MVVRJT046IDEsXG5cbiAgLyoqXG4gICAqIERlZmF1bHQgZmlsdGVyIHJlc29sdXRpb24uXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQGRlZmF1bHQgMVxuICAgKi9cbiAgRklMVEVSX1JFU09MVVRJT046IDEsXG5cbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIHRleHR1cmVzIHRoYXQgdGhpcyBkZXZpY2Ugc3VwcG9ydHMuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQGRlZmF1bHQgMzJcbiAgICovXG4gIFNQUklURV9NQVhfVEVYVFVSRVM6ICgwLCBfbWF4UmVjb21tZW5kZWRUZXh0dXJlczIuZGVmYXVsdCkoMzIpLFxuXG4gIC8vIFRPRE86IG1heWJlIGNoYW5nZSB0byBTUFJJVEUuQkFUQ0hfU0laRTogMjAwMFxuICAvLyBUT0RPOiBtYXliZSBhZGQgUEFSVElDTEUuQkFUQ0hfU0laRTogMTUwMDBcblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgc3ByaXRlIGJhdGNoIHNpemUuXG4gICAqXG4gICAqIFRoZSBkZWZhdWx0IGFpbXMgdG8gYmFsYW5jZSBkZXNrdG9wIGFuZCBtb2JpbGUgZGV2aWNlcy5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAZGVmYXVsdCA0MDk2XG4gICAqL1xuICBTUFJJVEVfQkFUQ0hfU0laRTogNDA5NixcblxuICAvKipcbiAgICogVGhlIHByZWZpeCB0aGF0IGRlbm90ZXMgYSBVUkwgaXMgZm9yIGEgcmV0aW5hIGFzc2V0LlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtSZWdFeHB9XG4gICAqIEBleGFtcGxlIGBAMnhgXG4gICAqIEBkZWZhdWx0IC9AKFswLTlcXC5dKyl4L1xuICAgKi9cbiAgUkVUSU5BX1BSRUZJWDogL0AoWzAtOVxcLl0rKXgvLFxuXG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCByZW5kZXIgb3B0aW9ucyBpZiBub25lIGFyZSBzdXBwbGllZCB0byB7QGxpbmsgUElYSS5XZWJHTFJlbmRlcmVyfVxuICAgKiBvciB7QGxpbmsgUElYSS5DYW52YXNSZW5kZXJlcn0uXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQGNvbnN0YW50XG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtvYmplY3R9XG4gICAqIEBwcm9wZXJ0eSB7SFRNTENhbnZhc0VsZW1lbnR9IHZpZXc9bnVsbFxuICAgKiBAcHJvcGVydHkge251bWJlcn0gcmVzb2x1dGlvbj0xXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gYW50aWFsaWFzPWZhbHNlXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gZm9yY2VGWEFBPWZhbHNlXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gYXV0b1Jlc2l6ZT1mYWxzZVxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IHRyYW5zcGFyZW50PWZhbHNlXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBiYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBjbGVhckJlZm9yZVJlbmRlcj10cnVlXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gcHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gcm91bmRQaXhlbHM9ZmFsc2VcbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IHdpZHRoPTgwMFxuICAgKiBAcHJvcGVydHkge251bWJlcn0gaGVpZ2h0PTYwMFxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGxlZ2FjeT1mYWxzZVxuICAgKi9cbiAgUkVOREVSX09QVElPTlM6IHtcbiAgICB2aWV3OiBudWxsLFxuICAgIGFudGlhbGlhczogZmFsc2UsXG4gICAgZm9yY2VGWEFBOiBmYWxzZSxcbiAgICBhdXRvUmVzaXplOiBmYWxzZSxcbiAgICB0cmFuc3BhcmVudDogZmFsc2UsXG4gICAgYmFja2dyb3VuZENvbG9yOiAweDAwMDAwMCxcbiAgICBjbGVhckJlZm9yZVJlbmRlcjogdHJ1ZSxcbiAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IGZhbHNlLFxuICAgIHJvdW5kUGl4ZWxzOiBmYWxzZSxcbiAgICB3aWR0aDogODAwLFxuICAgIGhlaWdodDogNjAwLFxuICAgIGxlZ2FjeTogZmFsc2VcbiAgfSxcblxuICAvKipcbiAgICogRGVmYXVsdCB0cmFuc2Zvcm0gdHlwZS5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7UElYSS5UUkFOU0ZPUk1fTU9ERX1cbiAgICogQGRlZmF1bHQgUElYSS5UUkFOU0ZPUk1fTU9ERS5TVEFUSUNcbiAgICovXG4gIFRSQU5TRk9STV9NT0RFOiAwLFxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IEdhcmJhZ2UgQ29sbGVjdGlvbiBtb2RlLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtQSVhJLkdDX01PREVTfVxuICAgKiBAZGVmYXVsdCBQSVhJLkdDX01PREVTLkFVVE9cbiAgICovXG4gIEdDX01PREU6IDAsXG5cbiAgLyoqXG4gICAqIERlZmF1bHQgR2FyYmFnZSBDb2xsZWN0aW9uIG1heCBpZGxlLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBkZWZhdWx0IDM2MDBcbiAgICovXG4gIEdDX01BWF9JRExFOiA2MCAqIDYwLFxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IEdhcmJhZ2UgQ29sbGVjdGlvbiBtYXhpbXVtIGNoZWNrIGNvdW50LlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBkZWZhdWx0IDYwMFxuICAgKi9cbiAgR0NfTUFYX0NIRUNLX0NPVU5UOiA2MCAqIDEwLFxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IHdyYXAgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge1BJWEkuV1JBUF9NT0RFU31cbiAgICogQGRlZmF1bHQgUElYSS5XUkFQX01PREVTLkNMQU1QXG4gICAqL1xuICBXUkFQX01PREU6IDAsXG5cbiAgLyoqXG4gICAqIFRoZSBzY2FsZSBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7UElYSS5TQ0FMRV9NT0RFU31cbiAgICogQGRlZmF1bHQgUElYSS5TQ0FMRV9NT0RFUy5MSU5FQVJcbiAgICovXG4gIFNDQUxFX01PREU6IDAsXG5cbiAgLyoqXG4gICAqIERlZmF1bHQgc3BlY2lmeSBmbG9hdCBwcmVjaXNpb24gaW4gdmVydGV4IHNoYWRlci5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgKiBAdHlwZSB7UElYSS5QUkVDSVNJT059XG4gICAqIEBkZWZhdWx0IFBJWEkuUFJFQ0lTSU9OLkhJR0hcbiAgICovXG4gIFBSRUNJU0lPTl9WRVJURVg6ICdoaWdocCcsXG5cbiAgLyoqXG4gICAqIERlZmF1bHQgc3BlY2lmeSBmbG9hdCBwcmVjaXNpb24gaW4gZnJhZ21lbnQgc2hhZGVyLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtQSVhJLlBSRUNJU0lPTn1cbiAgICogQGRlZmF1bHQgUElYSS5QUkVDSVNJT04uTUVESVVNXG4gICAqL1xuICBQUkVDSVNJT05fRlJBR01FTlQ6ICdtZWRpdW1wJyxcblxuICAvKipcbiAgICogQ2FuIHdlIHVwbG9hZCB0aGUgc2FtZSBidWZmZXIgaW4gYSBzaW5nbGUgZnJhbWU/XG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQGNvbnN0YW50XG4gICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKi9cbiAgQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUjogKDAsIF9jYW5VcGxvYWRTYW1lQnVmZmVyMi5kZWZhdWx0KSgpLFxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IE1lc2ggYGNhbnZhc1BhZGRpbmdgLlxuICAgKlxuICAgKiBAc2VlIFBJWEkubWVzaC5NZXNoI2NhbnZhc1BhZGRpbmdcbiAgICogQHN0YXRpY1xuICAgKiBAY29uc3RhbnRcbiAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIE1FU0hfQ0FOVkFTX1BBRERJTkc6IDBcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXR0aW5ncy5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfUG9pbnQgPSByZXF1aXJlKCcuL1BvaW50Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnUG9pbnQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Qb2ludCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfT2JzZXJ2YWJsZVBvaW50ID0gcmVxdWlyZSgnLi9PYnNlcnZhYmxlUG9pbnQnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdPYnNlcnZhYmxlUG9pbnQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9PYnNlcnZhYmxlUG9pbnQpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX01hdHJpeCA9IHJlcXVpcmUoJy4vTWF0cml4Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnTWF0cml4Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWF0cml4KS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9Hcm91cEQgPSByZXF1aXJlKCcuL0dyb3VwRDgnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdHcm91cEQ4Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JvdXBEKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9DaXJjbGUgPSByZXF1aXJlKCcuL3NoYXBlcy9DaXJjbGUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdDaXJjbGUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DaXJjbGUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0VsbGlwc2UgPSByZXF1aXJlKCcuL3NoYXBlcy9FbGxpcHNlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnRWxsaXBzZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0VsbGlwc2UpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1BvbHlnb24gPSByZXF1aXJlKCcuL3NoYXBlcy9Qb2x5Z29uJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnUG9seWdvbicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BvbHlnb24pLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1JlY3RhbmdsZSA9IHJlcXVpcmUoJy4vc2hhcGVzL1JlY3RhbmdsZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1JlY3RhbmdsZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlY3RhbmdsZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfUm91bmRlZFJlY3RhbmdsZSA9IHJlcXVpcmUoJy4vc2hhcGVzL1JvdW5kZWRSZWN0YW5nbGUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdSb3VuZGVkUmVjdGFuZ2xlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUm91bmRlZFJlY3RhbmdsZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBiaW5kID0gcmVxdWlyZSgnLi9oZWxwZXJzL2JpbmQnKTtcbnZhciBpc0J1ZmZlciA9IHJlcXVpcmUoJ2lzLWJ1ZmZlcicpO1xuXG4vKmdsb2JhbCB0b1N0cmluZzp0cnVlKi9cblxuLy8gdXRpbHMgaXMgYSBsaWJyYXJ5IG9mIGdlbmVyaWMgaGVscGVyIGZ1bmN0aW9ucyBub24tc3BlY2lmaWMgdG8gYXhpb3NcblxudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBBcnJheVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEFycmF5LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheSh2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBBcnJheUJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlcih2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZvcm1EYXRhXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gRm9ybURhdGEsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Zvcm1EYXRhKHZhbCkge1xuICByZXR1cm4gKHR5cGVvZiBGb3JtRGF0YSAhPT0gJ3VuZGVmaW5lZCcpICYmICh2YWwgaW5zdGFuY2VvZiBGb3JtRGF0YSk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSB2aWV3IG9uIGFuIEFycmF5QnVmZmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSB2aWV3IG9uIGFuIEFycmF5QnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlclZpZXcodmFsKSB7XG4gIHZhciByZXN1bHQ7XG4gIGlmICgodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJykgJiYgKEFycmF5QnVmZmVyLmlzVmlldykpIHtcbiAgICByZXN1bHQgPSBBcnJheUJ1ZmZlci5pc1ZpZXcodmFsKTtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQgPSAodmFsKSAmJiAodmFsLmJ1ZmZlcikgJiYgKHZhbC5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcik7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmluZ1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgU3RyaW5nLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTdHJpbmcodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAnc3RyaW5nJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIE51bWJlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgTnVtYmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNOdW1iZXIodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAnbnVtYmVyJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyB1bmRlZmluZWRcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmFsdWUgaXMgdW5kZWZpbmVkLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBPYmplY3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBPYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWwpIHtcbiAgcmV0dXJuIHZhbCAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0Jztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIERhdGVcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIERhdGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0RhdGUodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IERhdGVdJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZpbGVcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZpbGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0ZpbGUodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEZpbGVdJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEJsb2JcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEJsb2IsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Jsb2IodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEJsb2JdJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZ1bmN0aW9uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGdW5jdGlvbiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBTdHJlYW1cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFN0cmVhbSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3RyZWFtKHZhbCkge1xuICByZXR1cm4gaXNPYmplY3QodmFsKSAmJiBpc0Z1bmN0aW9uKHZhbC5waXBlKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFVSTFNlYXJjaFBhcmFtcyBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFVSTFNlYXJjaFBhcmFtcyBvYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1VSTFNlYXJjaFBhcmFtcyh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiBVUkxTZWFyY2hQYXJhbXMgIT09ICd1bmRlZmluZWQnICYmIHZhbCBpbnN0YW5jZW9mIFVSTFNlYXJjaFBhcmFtcztcbn1cblxuLyoqXG4gKiBUcmltIGV4Y2VzcyB3aGl0ZXNwYWNlIG9mZiB0aGUgYmVnaW5uaW5nIGFuZCBlbmQgb2YgYSBzdHJpbmdcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyIFRoZSBTdHJpbmcgdG8gdHJpbVxuICogQHJldHVybnMge1N0cmluZ30gVGhlIFN0cmluZyBmcmVlZCBvZiBleGNlc3Mgd2hpdGVzcGFjZVxuICovXG5mdW5jdGlvbiB0cmltKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL15cXHMqLywgJycpLnJlcGxhY2UoL1xccyokLywgJycpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiB3ZSdyZSBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciBlbnZpcm9ubWVudFxuICpcbiAqIFRoaXMgYWxsb3dzIGF4aW9zIHRvIHJ1biBpbiBhIHdlYiB3b3JrZXIsIGFuZCByZWFjdC1uYXRpdmUuXG4gKiBCb3RoIGVudmlyb25tZW50cyBzdXBwb3J0IFhNTEh0dHBSZXF1ZXN0LCBidXQgbm90IGZ1bGx5IHN0YW5kYXJkIGdsb2JhbHMuXG4gKlxuICogd2ViIHdvcmtlcnM6XG4gKiAgdHlwZW9mIHdpbmRvdyAtPiB1bmRlZmluZWRcbiAqICB0eXBlb2YgZG9jdW1lbnQgLT4gdW5kZWZpbmVkXG4gKlxuICogcmVhY3QtbmF0aXZlOlxuICogIG5hdmlnYXRvci5wcm9kdWN0IC0+ICdSZWFjdE5hdGl2ZSdcbiAqL1xuZnVuY3Rpb24gaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IucHJvZHVjdCA9PT0gJ1JlYWN0TmF0aXZlJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gKFxuICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJ1xuICApO1xufVxuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBhbiBBcnJheSBvciBhbiBPYmplY3QgaW52b2tpbmcgYSBmdW5jdGlvbiBmb3IgZWFjaCBpdGVtLlxuICpcbiAqIElmIGBvYmpgIGlzIGFuIEFycmF5IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3NpbmdcbiAqIHRoZSB2YWx1ZSwgaW5kZXgsIGFuZCBjb21wbGV0ZSBhcnJheSBmb3IgZWFjaCBpdGVtLlxuICpcbiAqIElmICdvYmonIGlzIGFuIE9iamVjdCBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBwYXNzaW5nXG4gKiB0aGUgdmFsdWUsIGtleSwgYW5kIGNvbXBsZXRlIG9iamVjdCBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheX0gb2JqIFRoZSBvYmplY3QgdG8gaXRlcmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGNhbGxiYWNrIHRvIGludm9rZSBmb3IgZWFjaCBpdGVtXG4gKi9cbmZ1bmN0aW9uIGZvckVhY2gob2JqLCBmbikge1xuICAvLyBEb24ndCBib3RoZXIgaWYgbm8gdmFsdWUgcHJvdmlkZWRcbiAgaWYgKG9iaiA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEZvcmNlIGFuIGFycmF5IGlmIG5vdCBhbHJlYWR5IHNvbWV0aGluZyBpdGVyYWJsZVxuICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgICBvYmogPSBbb2JqXTtcbiAgfVxuXG4gIGlmIChpc0FycmF5KG9iaikpIHtcbiAgICAvLyBJdGVyYXRlIG92ZXIgYXJyYXkgdmFsdWVzXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBvYmoubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBmbi5jYWxsKG51bGwsIG9ialtpXSwgaSwgb2JqKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIG9iamVjdCBrZXlzXG4gICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcbiAgICAgICAgZm4uY2FsbChudWxsLCBvYmpba2V5XSwga2V5LCBvYmopO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEFjY2VwdHMgdmFyYXJncyBleHBlY3RpbmcgZWFjaCBhcmd1bWVudCB0byBiZSBhbiBvYmplY3QsIHRoZW5cbiAqIGltbXV0YWJseSBtZXJnZXMgdGhlIHByb3BlcnRpZXMgb2YgZWFjaCBvYmplY3QgYW5kIHJldHVybnMgcmVzdWx0LlxuICpcbiAqIFdoZW4gbXVsdGlwbGUgb2JqZWN0cyBjb250YWluIHRoZSBzYW1lIGtleSB0aGUgbGF0ZXIgb2JqZWN0IGluXG4gKiB0aGUgYXJndW1lbnRzIGxpc3Qgd2lsbCB0YWtlIHByZWNlZGVuY2UuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogdmFyIHJlc3VsdCA9IG1lcmdlKHtmb286IDEyM30sIHtmb286IDQ1Nn0pO1xuICogY29uc29sZS5sb2cocmVzdWx0LmZvbyk7IC8vIG91dHB1dHMgNDU2XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqMSBPYmplY3QgdG8gbWVyZ2VcbiAqIEByZXR1cm5zIHtPYmplY3R9IFJlc3VsdCBvZiBhbGwgbWVyZ2UgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBtZXJnZSgvKiBvYmoxLCBvYmoyLCBvYmozLCAuLi4gKi8pIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICBmdW5jdGlvbiBhc3NpZ25WYWx1ZSh2YWwsIGtleSkge1xuICAgIGlmICh0eXBlb2YgcmVzdWx0W2tleV0gPT09ICdvYmplY3QnICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnKSB7XG4gICAgICByZXN1bHRba2V5XSA9IG1lcmdlKHJlc3VsdFtrZXldLCB2YWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHRba2V5XSA9IHZhbDtcbiAgICB9XG4gIH1cblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBmb3JFYWNoKGFyZ3VtZW50c1tpXSwgYXNzaWduVmFsdWUpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogRXh0ZW5kcyBvYmplY3QgYSBieSBtdXRhYmx5IGFkZGluZyB0byBpdCB0aGUgcHJvcGVydGllcyBvZiBvYmplY3QgYi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYSBUaGUgb2JqZWN0IHRvIGJlIGV4dGVuZGVkXG4gKiBAcGFyYW0ge09iamVjdH0gYiBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tXG4gKiBAcGFyYW0ge09iamVjdH0gdGhpc0FyZyBUaGUgb2JqZWN0IHRvIGJpbmQgZnVuY3Rpb24gdG9cbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIHJlc3VsdGluZyB2YWx1ZSBvZiBvYmplY3QgYVxuICovXG5mdW5jdGlvbiBleHRlbmQoYSwgYiwgdGhpc0FyZykge1xuICBmb3JFYWNoKGIsIGZ1bmN0aW9uIGFzc2lnblZhbHVlKHZhbCwga2V5KSB7XG4gICAgaWYgKHRoaXNBcmcgJiYgdHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYVtrZXldID0gYmluZCh2YWwsIHRoaXNBcmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhW2tleV0gPSB2YWw7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGE7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpc0FycmF5OiBpc0FycmF5LFxuICBpc0FycmF5QnVmZmVyOiBpc0FycmF5QnVmZmVyLFxuICBpc0J1ZmZlcjogaXNCdWZmZXIsXG4gIGlzRm9ybURhdGE6IGlzRm9ybURhdGEsXG4gIGlzQXJyYXlCdWZmZXJWaWV3OiBpc0FycmF5QnVmZmVyVmlldyxcbiAgaXNTdHJpbmc6IGlzU3RyaW5nLFxuICBpc051bWJlcjogaXNOdW1iZXIsXG4gIGlzT2JqZWN0OiBpc09iamVjdCxcbiAgaXNVbmRlZmluZWQ6IGlzVW5kZWZpbmVkLFxuICBpc0RhdGU6IGlzRGF0ZSxcbiAgaXNGaWxlOiBpc0ZpbGUsXG4gIGlzQmxvYjogaXNCbG9iLFxuICBpc0Z1bmN0aW9uOiBpc0Z1bmN0aW9uLFxuICBpc1N0cmVhbTogaXNTdHJlYW0sXG4gIGlzVVJMU2VhcmNoUGFyYW1zOiBpc1VSTFNlYXJjaFBhcmFtcyxcbiAgaXNTdGFuZGFyZEJyb3dzZXJFbnY6IGlzU3RhbmRhcmRCcm93c2VyRW52LFxuICBmb3JFYWNoOiBmb3JFYWNoLFxuICBtZXJnZTogbWVyZ2UsXG4gIGV4dGVuZDogZXh0ZW5kLFxuICB0cmltOiB0cmltXG59O1xuIiwidmFyIGdsID0ge1xuICAgIGNyZWF0ZUNvbnRleHQ6ICAgICAgICAgIHJlcXVpcmUoJy4vY3JlYXRlQ29udGV4dCcpLFxuICAgIHNldFZlcnRleEF0dHJpYkFycmF5czogIHJlcXVpcmUoJy4vc2V0VmVydGV4QXR0cmliQXJyYXlzJyksXG4gICAgR0xCdWZmZXI6ICAgICAgICAgICAgICAgcmVxdWlyZSgnLi9HTEJ1ZmZlcicpLFxuICAgIEdMRnJhbWVidWZmZXI6ICAgICAgICAgIHJlcXVpcmUoJy4vR0xGcmFtZWJ1ZmZlcicpLFxuICAgIEdMU2hhZGVyOiAgICAgICAgICAgICAgIHJlcXVpcmUoJy4vR0xTaGFkZXInKSxcbiAgICBHTFRleHR1cmU6ICAgICAgICAgICAgICByZXF1aXJlKCcuL0dMVGV4dHVyZScpLFxuICAgIFZlcnRleEFycmF5T2JqZWN0OiAgICAgIHJlcXVpcmUoJy4vVmVydGV4QXJyYXlPYmplY3QnKSxcbiAgICBzaGFkZXI6ICAgICAgICAgICAgICAgICByZXF1aXJlKCcuL3NoYWRlcicpXG59O1xuXG4vLyBFeHBvcnQgZm9yIE5vZGUtY29tcGF0aWJsZSBlbnZpcm9ubWVudHNcbmlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cylcbntcbiAgICAvLyBFeHBvcnQgdGhlIG1vZHVsZVxuICAgIG1vZHVsZS5leHBvcnRzID0gZ2w7XG59XG5cbi8vIEFkZCB0byB0aGUgYnJvd3NlciB3aW5kb3cgcGl4aS5nbFxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKVxue1xuICAgIC8vIGFkZCB0aGUgd2luZG93IG9iamVjdFxuICAgIHdpbmRvdy5QSVhJID0gd2luZG93LlBJWEkgfHwge307XG4gICAgd2luZG93LlBJWEkuZ2xDb3JlID0gZ2w7XG59XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuLy8gcmVzb2x2ZXMgLiBhbmQgLi4gZWxlbWVudHMgaW4gYSBwYXRoIGFycmF5IHdpdGggZGlyZWN0b3J5IG5hbWVzIHRoZXJlXG4vLyBtdXN0IGJlIG5vIHNsYXNoZXMsIGVtcHR5IGVsZW1lbnRzLCBvciBkZXZpY2UgbmFtZXMgKGM6XFwpIGluIHRoZSBhcnJheVxuLy8gKHNvIGFsc28gbm8gbGVhZGluZyBhbmQgdHJhaWxpbmcgc2xhc2hlcyAtIGl0IGRvZXMgbm90IGRpc3Rpbmd1aXNoXG4vLyByZWxhdGl2ZSBhbmQgYWJzb2x1dGUgcGF0aHMpXG5mdW5jdGlvbiBub3JtYWxpemVBcnJheShwYXJ0cywgYWxsb3dBYm92ZVJvb3QpIHtcbiAgLy8gaWYgdGhlIHBhdGggdHJpZXMgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIGB1cGAgZW5kcyB1cCA+IDBcbiAgdmFyIHVwID0gMDtcbiAgZm9yICh2YXIgaSA9IHBhcnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgdmFyIGxhc3QgPSBwYXJ0c1tpXTtcbiAgICBpZiAobGFzdCA9PT0gJy4nKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgfSBlbHNlIGlmIChsYXN0ID09PSAnLi4nKSB7XG4gICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICAgIHVwLS07XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIHBhdGggaXMgYWxsb3dlZCB0byBnbyBhYm92ZSB0aGUgcm9vdCwgcmVzdG9yZSBsZWFkaW5nIC4uc1xuICBpZiAoYWxsb3dBYm92ZVJvb3QpIHtcbiAgICBmb3IgKDsgdXAtLTsgdXApIHtcbiAgICAgIHBhcnRzLnVuc2hpZnQoJy4uJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHBhcnRzO1xufVxuXG4vLyBTcGxpdCBhIGZpbGVuYW1lIGludG8gW3Jvb3QsIGRpciwgYmFzZW5hbWUsIGV4dF0sIHVuaXggdmVyc2lvblxuLy8gJ3Jvb3QnIGlzIGp1c3QgYSBzbGFzaCwgb3Igbm90aGluZy5cbnZhciBzcGxpdFBhdGhSZSA9XG4gICAgL14oXFwvP3wpKFtcXHNcXFNdKj8pKCg/OlxcLnsxLDJ9fFteXFwvXSs/fCkoXFwuW14uXFwvXSp8KSkoPzpbXFwvXSopJC87XG52YXIgc3BsaXRQYXRoID0gZnVuY3Rpb24oZmlsZW5hbWUpIHtcbiAgcmV0dXJuIHNwbGl0UGF0aFJlLmV4ZWMoZmlsZW5hbWUpLnNsaWNlKDEpO1xufTtcblxuLy8gcGF0aC5yZXNvbHZlKFtmcm9tIC4uLl0sIHRvKVxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5yZXNvbHZlID0gZnVuY3Rpb24oKSB7XG4gIHZhciByZXNvbHZlZFBhdGggPSAnJyxcbiAgICAgIHJlc29sdmVkQWJzb2x1dGUgPSBmYWxzZTtcblxuICBmb3IgKHZhciBpID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7IGkgPj0gLTEgJiYgIXJlc29sdmVkQWJzb2x1dGU7IGktLSkge1xuICAgIHZhciBwYXRoID0gKGkgPj0gMCkgPyBhcmd1bWVudHNbaV0gOiBwcm9jZXNzLmN3ZCgpO1xuXG4gICAgLy8gU2tpcCBlbXB0eSBhbmQgaW52YWxpZCBlbnRyaWVzXG4gICAgaWYgKHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIHRvIHBhdGgucmVzb2x2ZSBtdXN0IGJlIHN0cmluZ3MnKTtcbiAgICB9IGVsc2UgaWYgKCFwYXRoKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICByZXNvbHZlZFBhdGggPSBwYXRoICsgJy8nICsgcmVzb2x2ZWRQYXRoO1xuICAgIHJlc29sdmVkQWJzb2x1dGUgPSBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nO1xuICB9XG5cbiAgLy8gQXQgdGhpcyBwb2ludCB0aGUgcGF0aCBzaG91bGQgYmUgcmVzb2x2ZWQgdG8gYSBmdWxsIGFic29sdXRlIHBhdGgsIGJ1dFxuICAvLyBoYW5kbGUgcmVsYXRpdmUgcGF0aHMgdG8gYmUgc2FmZSAobWlnaHQgaGFwcGVuIHdoZW4gcHJvY2Vzcy5jd2QoKSBmYWlscylcblxuICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgcmVzb2x2ZWRQYXRoID0gbm9ybWFsaXplQXJyYXkoZmlsdGVyKHJlc29sdmVkUGF0aC5zcGxpdCgnLycpLCBmdW5jdGlvbihwKSB7XG4gICAgcmV0dXJuICEhcDtcbiAgfSksICFyZXNvbHZlZEFic29sdXRlKS5qb2luKCcvJyk7XG5cbiAgcmV0dXJuICgocmVzb2x2ZWRBYnNvbHV0ZSA/ICcvJyA6ICcnKSArIHJlc29sdmVkUGF0aCkgfHwgJy4nO1xufTtcblxuLy8gcGF0aC5ub3JtYWxpemUocGF0aClcbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMubm9ybWFsaXplID0gZnVuY3Rpb24ocGF0aCkge1xuICB2YXIgaXNBYnNvbHV0ZSA9IGV4cG9ydHMuaXNBYnNvbHV0ZShwYXRoKSxcbiAgICAgIHRyYWlsaW5nU2xhc2ggPSBzdWJzdHIocGF0aCwgLTEpID09PSAnLyc7XG5cbiAgLy8gTm9ybWFsaXplIHRoZSBwYXRoXG4gIHBhdGggPSBub3JtYWxpemVBcnJheShmaWx0ZXIocGF0aC5zcGxpdCgnLycpLCBmdW5jdGlvbihwKSB7XG4gICAgcmV0dXJuICEhcDtcbiAgfSksICFpc0Fic29sdXRlKS5qb2luKCcvJyk7XG5cbiAgaWYgKCFwYXRoICYmICFpc0Fic29sdXRlKSB7XG4gICAgcGF0aCA9ICcuJztcbiAgfVxuICBpZiAocGF0aCAmJiB0cmFpbGluZ1NsYXNoKSB7XG4gICAgcGF0aCArPSAnLyc7XG4gIH1cblxuICByZXR1cm4gKGlzQWJzb2x1dGUgPyAnLycgOiAnJykgKyBwYXRoO1xufTtcblxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5pc0Fic29sdXRlID0gZnVuY3Rpb24ocGF0aCkge1xuICByZXR1cm4gcGF0aC5jaGFyQXQoMCkgPT09ICcvJztcbn07XG5cbi8vIHBvc2l4IHZlcnNpb25cbmV4cG9ydHMuam9pbiA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcGF0aHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuICByZXR1cm4gZXhwb3J0cy5ub3JtYWxpemUoZmlsdGVyKHBhdGhzLCBmdW5jdGlvbihwLCBpbmRleCkge1xuICAgIGlmICh0eXBlb2YgcCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyB0byBwYXRoLmpvaW4gbXVzdCBiZSBzdHJpbmdzJyk7XG4gICAgfVxuICAgIHJldHVybiBwO1xuICB9KS5qb2luKCcvJykpO1xufTtcblxuXG4vLyBwYXRoLnJlbGF0aXZlKGZyb20sIHRvKVxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0cy5yZWxhdGl2ZSA9IGZ1bmN0aW9uKGZyb20sIHRvKSB7XG4gIGZyb20gPSBleHBvcnRzLnJlc29sdmUoZnJvbSkuc3Vic3RyKDEpO1xuICB0byA9IGV4cG9ydHMucmVzb2x2ZSh0bykuc3Vic3RyKDEpO1xuXG4gIGZ1bmN0aW9uIHRyaW0oYXJyKSB7XG4gICAgdmFyIHN0YXJ0ID0gMDtcbiAgICBmb3IgKDsgc3RhcnQgPCBhcnIubGVuZ3RoOyBzdGFydCsrKSB7XG4gICAgICBpZiAoYXJyW3N0YXJ0XSAhPT0gJycpIGJyZWFrO1xuICAgIH1cblxuICAgIHZhciBlbmQgPSBhcnIubGVuZ3RoIC0gMTtcbiAgICBmb3IgKDsgZW5kID49IDA7IGVuZC0tKSB7XG4gICAgICBpZiAoYXJyW2VuZF0gIT09ICcnKSBicmVhaztcbiAgICB9XG5cbiAgICBpZiAoc3RhcnQgPiBlbmQpIHJldHVybiBbXTtcbiAgICByZXR1cm4gYXJyLnNsaWNlKHN0YXJ0LCBlbmQgLSBzdGFydCArIDEpO1xuICB9XG5cbiAgdmFyIGZyb21QYXJ0cyA9IHRyaW0oZnJvbS5zcGxpdCgnLycpKTtcbiAgdmFyIHRvUGFydHMgPSB0cmltKHRvLnNwbGl0KCcvJykpO1xuXG4gIHZhciBsZW5ndGggPSBNYXRoLm1pbihmcm9tUGFydHMubGVuZ3RoLCB0b1BhcnRzLmxlbmd0aCk7XG4gIHZhciBzYW1lUGFydHNMZW5ndGggPSBsZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoZnJvbVBhcnRzW2ldICE9PSB0b1BhcnRzW2ldKSB7XG4gICAgICBzYW1lUGFydHNMZW5ndGggPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgdmFyIG91dHB1dFBhcnRzID0gW107XG4gIGZvciAodmFyIGkgPSBzYW1lUGFydHNMZW5ndGg7IGkgPCBmcm9tUGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICBvdXRwdXRQYXJ0cy5wdXNoKCcuLicpO1xuICB9XG5cbiAgb3V0cHV0UGFydHMgPSBvdXRwdXRQYXJ0cy5jb25jYXQodG9QYXJ0cy5zbGljZShzYW1lUGFydHNMZW5ndGgpKTtcblxuICByZXR1cm4gb3V0cHV0UGFydHMuam9pbignLycpO1xufTtcblxuZXhwb3J0cy5zZXAgPSAnLyc7XG5leHBvcnRzLmRlbGltaXRlciA9ICc6JztcblxuZXhwb3J0cy5kaXJuYW1lID0gZnVuY3Rpb24ocGF0aCkge1xuICB2YXIgcmVzdWx0ID0gc3BsaXRQYXRoKHBhdGgpLFxuICAgICAgcm9vdCA9IHJlc3VsdFswXSxcbiAgICAgIGRpciA9IHJlc3VsdFsxXTtcblxuICBpZiAoIXJvb3QgJiYgIWRpcikge1xuICAgIC8vIE5vIGRpcm5hbWUgd2hhdHNvZXZlclxuICAgIHJldHVybiAnLic7XG4gIH1cblxuICBpZiAoZGlyKSB7XG4gICAgLy8gSXQgaGFzIGEgZGlybmFtZSwgc3RyaXAgdHJhaWxpbmcgc2xhc2hcbiAgICBkaXIgPSBkaXIuc3Vic3RyKDAsIGRpci5sZW5ndGggLSAxKTtcbiAgfVxuXG4gIHJldHVybiByb290ICsgZGlyO1xufTtcblxuXG5leHBvcnRzLmJhc2VuYW1lID0gZnVuY3Rpb24ocGF0aCwgZXh0KSB7XG4gIHZhciBmID0gc3BsaXRQYXRoKHBhdGgpWzJdO1xuICAvLyBUT0RPOiBtYWtlIHRoaXMgY29tcGFyaXNvbiBjYXNlLWluc2Vuc2l0aXZlIG9uIHdpbmRvd3M/XG4gIGlmIChleHQgJiYgZi5zdWJzdHIoLTEgKiBleHQubGVuZ3RoKSA9PT0gZXh0KSB7XG4gICAgZiA9IGYuc3Vic3RyKDAsIGYubGVuZ3RoIC0gZXh0Lmxlbmd0aCk7XG4gIH1cbiAgcmV0dXJuIGY7XG59O1xuXG5cbmV4cG9ydHMuZXh0bmFtZSA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgcmV0dXJuIHNwbGl0UGF0aChwYXRoKVszXTtcbn07XG5cbmZ1bmN0aW9uIGZpbHRlciAoeHMsIGYpIHtcbiAgICBpZiAoeHMuZmlsdGVyKSByZXR1cm4geHMuZmlsdGVyKGYpO1xuICAgIHZhciByZXMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHhzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChmKHhzW2ldLCBpLCB4cykpIHJlcy5wdXNoKHhzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cblxuLy8gU3RyaW5nLnByb3RvdHlwZS5zdWJzdHIgLSBuZWdhdGl2ZSBpbmRleCBkb24ndCB3b3JrIGluIElFOFxudmFyIHN1YnN0ciA9ICdhYicuc3Vic3RyKC0xKSA9PT0gJ2InXG4gICAgPyBmdW5jdGlvbiAoc3RyLCBzdGFydCwgbGVuKSB7IHJldHVybiBzdHIuc3Vic3RyKHN0YXJ0LCBsZW4pIH1cbiAgICA6IGZ1bmN0aW9uIChzdHIsIHN0YXJ0LCBsZW4pIHtcbiAgICAgICAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSBzdHIubGVuZ3RoICsgc3RhcnQ7XG4gICAgICAgIHJldHVybiBzdHIuc3Vic3RyKHN0YXJ0LCBsZW4pO1xuICAgIH1cbjtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9CYXNlVGV4dHVyZSA9IHJlcXVpcmUoJy4vQmFzZVRleHR1cmUnKTtcblxudmFyIF9CYXNlVGV4dHVyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXNlVGV4dHVyZSk7XG5cbnZhciBfVmlkZW9CYXNlVGV4dHVyZSA9IHJlcXVpcmUoJy4vVmlkZW9CYXNlVGV4dHVyZScpO1xuXG52YXIgX1ZpZGVvQmFzZVRleHR1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVmlkZW9CYXNlVGV4dHVyZSk7XG5cbnZhciBfVGV4dHVyZVV2cyA9IHJlcXVpcmUoJy4vVGV4dHVyZVV2cycpO1xuXG52YXIgX1RleHR1cmVVdnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dHVyZVV2cyk7XG5cbnZhciBfZXZlbnRlbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRlbWl0dGVyMycpO1xuXG52YXIgX2V2ZW50ZW1pdHRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ldmVudGVtaXR0ZXIpO1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuLi9tYXRoJyk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBBIHRleHR1cmUgc3RvcmVzIHRoZSBpbmZvcm1hdGlvbiB0aGF0IHJlcHJlc2VudHMgYW4gaW1hZ2Ugb3IgcGFydCBvZiBhbiBpbWFnZS4gSXQgY2Fubm90IGJlIGFkZGVkXG4gKiB0byB0aGUgZGlzcGxheSBsaXN0IGRpcmVjdGx5LiBJbnN0ZWFkIHVzZSBpdCBhcyB0aGUgdGV4dHVyZSBmb3IgYSBTcHJpdGUuIElmIG5vIGZyYW1lIGlzIHByb3ZpZGVkXG4gKiB0aGVuIHRoZSB3aG9sZSBpbWFnZSBpcyB1c2VkLlxuICpcbiAqIFlvdSBjYW4gZGlyZWN0bHkgY3JlYXRlIGEgdGV4dHVyZSBmcm9tIGFuIGltYWdlIGFuZCB0aGVuIHJldXNlIGl0IG11bHRpcGxlIHRpbWVzIGxpa2UgdGhpcyA6XG4gKlxuICogYGBganNcbiAqIGxldCB0ZXh0dXJlID0gUElYSS5UZXh0dXJlLmZyb21JbWFnZSgnYXNzZXRzL2ltYWdlLnBuZycpO1xuICogbGV0IHNwcml0ZTEgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gKiBsZXQgc3ByaXRlMiA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAqIGBgYFxuICpcbiAqIFRleHR1cmVzIG1hZGUgZnJvbSBTVkdzLCBsb2FkZWQgb3Igbm90LCBjYW5ub3QgYmUgdXNlZCBiZWZvcmUgdGhlIGZpbGUgZmluaXNoZXMgcHJvY2Vzc2luZy5cbiAqIFlvdSBjYW4gY2hlY2sgZm9yIHRoaXMgYnkgY2hlY2tpbmcgdGhlIHNwcml0ZSdzIF90ZXh0dXJlSUQgcHJvcGVydHkuXG4gKiBgYGBqc1xuICogdmFyIHRleHR1cmUgPSBQSVhJLlRleHR1cmUuZnJvbUltYWdlKCdhc3NldHMvaW1hZ2Uuc3ZnJyk7XG4gKiB2YXIgc3ByaXRlMSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAqIC8vc3ByaXRlMS5fdGV4dHVyZUlEIHNob3VsZCBub3QgYmUgdW5kZWZpbmVkIGlmIHRoZSB0ZXh0dXJlIGhhcyBmaW5pc2hlZCBwcm9jZXNzaW5nIHRoZSBTVkcgZmlsZVxuICogYGBgXG4gKiBZb3UgY2FuIHVzZSBhIHRpY2tlciBvciByQUYgdG8gZW5zdXJlIHlvdXIgc3ByaXRlcyBsb2FkIHRoZSBmaW5pc2hlZCB0ZXh0dXJlcyBhZnRlciBwcm9jZXNzaW5nLiBTZWUgaXNzdWUgIzMwNjguXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBFdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0dXJlID0gZnVuY3Rpb24gKF9FdmVudEVtaXR0ZXIpIHtcbiAgICBfaW5oZXJpdHMoVGV4dHVyZSwgX0V2ZW50RW1pdHRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gVGhlIGJhc2UgdGV4dHVyZSBzb3VyY2UgdG8gY3JlYXRlIHRoZSB0ZXh0dXJlIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbZnJhbWVdIC0gVGhlIHJlY3RhbmdsZSBmcmFtZSBvZiB0aGUgdGV4dHVyZSB0byBzaG93XG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW29yaWddIC0gVGhlIGFyZWEgb2Ygb3JpZ2luYWwgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFt0cmltXSAtIFRyaW1tZWQgcmVjdGFuZ2xlIG9mIG9yaWdpbmFsIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JvdGF0ZV0gLSBpbmRpY2F0ZXMgaG93IHRoZSB0ZXh0dXJlIHdhcyByb3RhdGVkIGJ5IHRleHR1cmUgcGFja2VyLiBTZWUge0BsaW5rIFBJWEkuR3JvdXBEOH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0dXJlKGJhc2VUZXh0dXJlLCBmcmFtZSwgb3JpZywgdHJpbSwgcm90YXRlKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUZXh0dXJlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRG9lcyB0aGlzIFRleHR1cmUgaGF2ZSBhbnkgZnJhbWUgZGF0YSBhc3NpZ25lZCB0byBpdD9cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEVtaXR0ZXIuY2FsbCh0aGlzKSk7XG5cbiAgICAgICAgX3RoaXMubm9GcmFtZSA9IGZhbHNlO1xuXG4gICAgICAgIGlmICghZnJhbWUpIHtcbiAgICAgICAgICAgIF90aGlzLm5vRnJhbWUgPSB0cnVlO1xuICAgICAgICAgICAgZnJhbWUgPSBuZXcgX21hdGguUmVjdGFuZ2xlKDAsIDAsIDEsIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJhc2VUZXh0dXJlIGluc3RhbmNlb2YgVGV4dHVyZSkge1xuICAgICAgICAgICAgYmFzZVRleHR1cmUgPSBiYXNlVGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFzZSB0ZXh0dXJlIHRoYXQgdGhpcyB0ZXh0dXJlIHVzZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5iYXNlVGV4dHVyZSA9IGJhc2VUZXh0dXJlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBhcmVhIG9mIHRoZSBCYXNlVGV4dHVyZSBpbWFnZSB0byBhY3R1YWxseSBjb3B5IHRvIHRoZSBDYW52YXMgLyBXZWJHTCB3aGVuIHJlbmRlcmluZyxcbiAgICAgICAgICogaXJyZXNwZWN0aXZlIG9mIHRoZSBhY3R1YWwgZnJhbWUgc2l6ZSBvciBwbGFjZW1lbnQgKHdoaWNoIGNhbiBiZSBpbmZsdWVuY2VkIGJ5IHRyaW1tZWQgdGV4dHVyZSBhdGxhc2VzKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9mcmFtZSA9IGZyYW1lO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSB0cmltbWVkIGFyZWEgb2Ygb3JpZ2luYWwgdGV4dHVyZSwgYmVmb3JlIGl0IHdhcyBwdXQgaW4gYXRsYXNcbiAgICAgICAgICogUGxlYXNlIGNhbGwgYF91cGRhdGVVdnMoKWAgYWZ0ZXIgeW91IGNoYW5nZSBjb29yZGluYXRlcyBvZiBgdHJpbWAgbWFudWFsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHJpbSA9IHRyaW07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgd2lsbCBsZXQgdGhlIHJlbmRlcmVyIGtub3cgaWYgdGhlIHRleHR1cmUgaXMgdmFsaWQuIElmIGl0J3Mgbm90IHRoZW4gaXQgY2Fubm90IGJlIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudmFsaWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyB3aWxsIGxldCBhIHJlbmRlcmVyIGtub3cgdGhhdCBhIHRleHR1cmUgaGFzIGJlZW4gdXBkYXRlZCAodXNlZCBtYWlubHkgZm9yIHdlYkdMIHV2IHVwZGF0ZXMpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZXF1aXJlc1VwZGF0ZSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgV2ViR0wgVVYgZGF0YSBjYWNoZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlVXZzfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3V2cyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIGFyZWEgb2Ygb3JpZ2luYWwgdGV4dHVyZSwgYmVmb3JlIGl0IHdhcyBwdXQgaW4gYXRsYXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vcmlnID0gb3JpZyB8fCBmcmFtZTsgLy8gbmV3IFJlY3RhbmdsZSgwLCAwLCAxLCAxKTtcblxuICAgICAgICBfdGhpcy5fcm90YXRlID0gTnVtYmVyKHJvdGF0ZSB8fCAwKTtcblxuICAgICAgICBpZiAocm90YXRlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG9sZCB0ZXh0dXJlcGFja2VyIGxlZ2FjeSwgc29tZSBnYW1lcy9saWJyYXJpZXMgYXJlIHBhc3NpbmcgXCJ0cnVlXCIgZm9yIHJvdGF0ZWQgdGV4dHVyZXNcbiAgICAgICAgICAgIF90aGlzLl9yb3RhdGUgPSAyO1xuICAgICAgICB9IGVsc2UgaWYgKF90aGlzLl9yb3RhdGUgJSAyICE9PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2F0dGVtcHQgdG8gdXNlIGRpYW1vbmQtc2hhcGVkIFVWcy4gSWYgeW91IGFyZSBzdXJlLCBzZXQgcm90YXRpb24gbWFudWFsbHknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiYXNlVGV4dHVyZS5oYXNMb2FkZWQpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5ub0ZyYW1lKSB7XG4gICAgICAgICAgICAgICAgZnJhbWUgPSBuZXcgX21hdGguUmVjdGFuZ2xlKDAsIDAsIGJhc2VUZXh0dXJlLndpZHRoLCBiYXNlVGV4dHVyZS5oZWlnaHQpO1xuXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gZnJhbWUgd2Ugc2hvdWxkIG1vbml0b3IgZm9yIGFueSBiYXNlIHRleHR1cmUgY2hhbmdlcy4uXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUub24oJ3VwZGF0ZScsIF90aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkLCBfdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5mcmFtZSA9IGZyYW1lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYmFzZVRleHR1cmUub25jZSgnbG9hZGVkJywgX3RoaXMub25CYXNlVGV4dHVyZUxvYWRlZCwgX3RoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIHRleHR1cmUgaXMgdXBkYXRlZC4gVGhpcyBoYXBwZW5zIGlmIHRoZSBmcmFtZSBvciB0aGUgYmFzZVRleHR1cmUgaXMgdXBkYXRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuVGV4dHVyZSN1cGRhdGVcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIEluc3RhbmNlIG9mIHRleHR1cmUgYmVpbmcgdXBkYXRlZC5cbiAgICAgICAgICovXG5cbiAgICAgICAgX3RoaXMuX3VwZGF0ZUlEID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29udGFpbnMgZGF0YSBmb3IgdXZzLiBNYXkgY29udGFpbiBjbGFtcCBzZXR0aW5ncyBhbmQgc29tZSBtYXRyaWNlcy5cbiAgICAgICAgICogSXRzIGEgYml0IGhlYXZ5LCBzbyBieSBkZWZhdWx0IHRoYXQgb2JqZWN0IGlzIG5vdCBjcmVhdGVkLlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5UZXh0dXJlTWF0cml4fVxuICAgICAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50cmFuc2Zvcm0gPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaWRzIHVuZGVyIHdoaWNoIHRoaXMgVGV4dHVyZSBoYXMgYmVlbiBhZGRlZCB0byB0aGUgdGV4dHVyZSBjYWNoZS4gVGhpcyBpc1xuICAgICAgICAgKiBhdXRvbWF0aWNhbGx5IHNldCBhcyBsb25nIGFzIFRleHR1cmUuYWRkVG9DYWNoZSBpcyB1c2VkLCBidXQgbWF5IG5vdCBiZSBzZXQgaWYgYVxuICAgICAgICAgKiBUZXh0dXJlIGlzIGFkZGVkIGRpcmVjdGx5IHRvIHRoZSBUZXh0dXJlQ2FjaGUgYXJyYXkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ1tdfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dHVyZUNhY2hlSWRzID0gW107XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoaXMgdGV4dHVyZSBvbiB0aGUgZ3B1LlxuICAgICAqXG4gICAgICovXG5cblxuICAgIFRleHR1cmUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS51cGRhdGUoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGJhc2UgdGV4dHVyZSBpcyBsb2FkZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFRoZSBiYXNlIHRleHR1cmUuXG4gICAgICovXG5cblxuICAgIFRleHR1cmUucHJvdG90eXBlLm9uQmFzZVRleHR1cmVMb2FkZWQgPSBmdW5jdGlvbiBvbkJhc2VUZXh0dXJlTG9hZGVkKGJhc2VUZXh0dXJlKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEKys7XG5cbiAgICAgICAgLy8gVE9ETyB0aGlzIGNvZGUgbG9va3MgY29uZnVzaW5nLi4gYm9vIHRvIGFidXNpbmcgZ2V0dGVycyBhbmQgc2V0dGVycyFcbiAgICAgICAgaWYgKHRoaXMubm9GcmFtZSkge1xuICAgICAgICAgICAgdGhpcy5mcmFtZSA9IG5ldyBfbWF0aC5SZWN0YW5nbGUoMCwgMCwgYmFzZVRleHR1cmUud2lkdGgsIGJhc2VUZXh0dXJlLmhlaWdodCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmZyYW1lID0gdGhpcy5fZnJhbWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLm9uKCd1cGRhdGUnLCB0aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkLCB0aGlzKTtcbiAgICAgICAgdGhpcy5lbWl0KCd1cGRhdGUnLCB0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGJhc2UgdGV4dHVyZSBpcyB1cGRhdGVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBUaGUgYmFzZSB0ZXh0dXJlLlxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlLnByb3RvdHlwZS5vbkJhc2VUZXh0dXJlVXBkYXRlZCA9IGZ1bmN0aW9uIG9uQmFzZVRleHR1cmVVcGRhdGVkKGJhc2VUZXh0dXJlKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEKys7XG5cbiAgICAgICAgdGhpcy5fZnJhbWUud2lkdGggPSBiYXNlVGV4dHVyZS53aWR0aDtcbiAgICAgICAgdGhpcy5fZnJhbWUuaGVpZ2h0ID0gYmFzZVRleHR1cmUuaGVpZ2h0O1xuXG4gICAgICAgIHRoaXMuZW1pdCgndXBkYXRlJywgdGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZGVzdHJveUJhc2U9ZmFsc2VdIFdoZXRoZXIgdG8gZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIGFzIHdlbGxcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koZGVzdHJveUJhc2UpIHtcbiAgICAgICAgaWYgKHRoaXMuYmFzZVRleHR1cmUpIHtcbiAgICAgICAgICAgIGlmIChkZXN0cm95QmFzZSkge1xuICAgICAgICAgICAgICAgIC8vIGRlbGV0ZSB0aGUgdGV4dHVyZSBpZiBpdCBleGlzdHMgaW4gdGhlIHRleHR1cmUgY2FjaGUuLlxuICAgICAgICAgICAgICAgIC8vIHRoaXMgb25seSBuZWVkcyB0byBiZSByZW1vdmVkIGlmIHRoZSBiYXNlIHRleHR1cmUgaXMgYWN0dWFsbHkgZGVzdHJveWVkIHRvby4uXG4gICAgICAgICAgICAgICAgaWYgKF91dGlscy5UZXh0dXJlQ2FjaGVbdGhpcy5iYXNlVGV4dHVyZS5pbWFnZVVybF0pIHtcbiAgICAgICAgICAgICAgICAgICAgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUodGhpcy5iYXNlVGV4dHVyZS5pbWFnZVVybCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUub2ZmKCd1cGRhdGUnLCB0aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUub2ZmKCdsb2FkZWQnLCB0aGlzLm9uQmFzZVRleHR1cmVMb2FkZWQsIHRoaXMpO1xuXG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2ZyYW1lID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdXZzID0gbnVsbDtcbiAgICAgICAgdGhpcy50cmltID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnID0gbnVsbDtcblxuICAgICAgICB0aGlzLnZhbGlkID0gZmFsc2U7XG5cbiAgICAgICAgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUodGhpcyk7XG4gICAgICAgIHRoaXMudGV4dHVyZUNhY2hlSWRzID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyB0ZXh0dXJlIG9iamVjdCB0aGF0IGFjdHMgdGhlIHNhbWUgYXMgdGhpcyBvbmUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IFRoZSBuZXcgdGV4dHVyZVxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gbmV3IFRleHR1cmUodGhpcy5iYXNlVGV4dHVyZSwgdGhpcy5mcmFtZSwgdGhpcy5vcmlnLCB0aGlzLnRyaW0sIHRoaXMucm90YXRlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgaW50ZXJuYWwgV2ViR0wgVVYgY2FjaGUuIFVzZSBpdCBhZnRlciB5b3UgY2hhbmdlIGBmcmFtZWAgb3IgYHRyaW1gIG9mIHRoZSB0ZXh0dXJlLlxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlLnByb3RvdHlwZS5fdXBkYXRlVXZzID0gZnVuY3Rpb24gX3VwZGF0ZVV2cygpIHtcbiAgICAgICAgaWYgKCF0aGlzLl91dnMpIHtcbiAgICAgICAgICAgIHRoaXMuX3V2cyA9IG5ldyBfVGV4dHVyZVV2czIuZGVmYXVsdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdXZzLnNldCh0aGlzLl9mcmFtZSwgdGhpcy5iYXNlVGV4dHVyZSwgdGhpcy5yb3RhdGUpO1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEKys7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBUZXh0dXJlIG9iamVjdCBmcm9tIHRoZSBnaXZlbiBpbWFnZSB1cmwuXG4gICAgICogSWYgdGhlIGltYWdlIGlzIG5vdCBpbiB0aGUgdGV4dHVyZSBjYWNoZSBpdCB3aWxsIGJlICBjcmVhdGVkIGFuZCBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGltYWdlVXJsIC0gVGhlIGltYWdlIHVybCBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Nyb3Nzb3JpZ2luXSAtIFdoZXRoZXIgcmVxdWVzdHMgc2hvdWxkIGJlIHRyZWF0ZWQgYXMgY3Jvc3NvcmlnaW5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlTW9kZT1QSVhJLnNldHRpbmdzLlNDQUxFX01PREVdIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzb3VyY2VTY2FsZT0oYXV0byldIC0gU2NhbGUgZm9yIHRoZSBvcmlnaW5hbCBpbWFnZSwgdXNlZCB3aXRoIFNWRyBpbWFnZXMuXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBUaGUgbmV3bHkgY3JlYXRlZCB0ZXh0dXJlXG4gICAgICovXG5cblxuICAgIFRleHR1cmUuZnJvbUltYWdlID0gZnVuY3Rpb24gZnJvbUltYWdlKGltYWdlVXJsLCBjcm9zc29yaWdpbiwgc2NhbGVNb2RlLCBzb3VyY2VTY2FsZSkge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IF91dGlscy5UZXh0dXJlQ2FjaGVbaW1hZ2VVcmxdO1xuXG4gICAgICAgIGlmICghdGV4dHVyZSkge1xuICAgICAgICAgICAgdGV4dHVyZSA9IG5ldyBUZXh0dXJlKF9CYXNlVGV4dHVyZTIuZGVmYXVsdC5mcm9tSW1hZ2UoaW1hZ2VVcmwsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUsIHNvdXJjZVNjYWxlKSk7XG4gICAgICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwgaW1hZ2VVcmwpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBzcHJpdGUgdGhhdCB3aWxsIGNvbnRhaW4gYSB0ZXh0dXJlIGZyb20gdGhlIFRleHR1cmVDYWNoZSBiYXNlZCBvbiB0aGUgZnJhbWVJZFxuICAgICAqIFRoZSBmcmFtZSBpZHMgYXJlIGNyZWF0ZWQgd2hlbiBhIFRleHR1cmUgcGFja2VyIGZpbGUgaGFzIGJlZW4gbG9hZGVkXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZyYW1lSWQgLSBUaGUgZnJhbWUgSWQgb2YgdGhlIHRleHR1cmUgaW4gdGhlIGNhY2hlXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBUaGUgbmV3bHkgY3JlYXRlZCB0ZXh0dXJlXG4gICAgICovXG5cblxuICAgIFRleHR1cmUuZnJvbUZyYW1lID0gZnVuY3Rpb24gZnJvbUZyYW1lKGZyYW1lSWQpIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBfdXRpbHMuVGV4dHVyZUNhY2hlW2ZyYW1lSWRdO1xuXG4gICAgICAgIGlmICghdGV4dHVyZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgZnJhbWVJZCBcIicgKyBmcmFtZUlkICsgJ1wiIGRvZXMgbm90IGV4aXN0IGluIHRoZSB0ZXh0dXJlIGNhY2hlJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIG5ldyBUZXh0dXJlIGJhc2VkIG9uIHRoZSBnaXZlbiBjYW52YXMgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXMgLSBUaGUgY2FudmFzIGVsZW1lbnQgc291cmNlIG9mIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3JpZ2luPSdjYW52YXMnXSAtIEEgc3RyaW5nIG9yaWdpbiBvZiB3aG8gY3JlYXRlZCB0aGUgYmFzZSB0ZXh0dXJlXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBUaGUgbmV3bHkgY3JlYXRlZCB0ZXh0dXJlXG4gICAgICovXG5cblxuICAgIFRleHR1cmUuZnJvbUNhbnZhcyA9IGZ1bmN0aW9uIGZyb21DYW52YXMoY2FudmFzLCBzY2FsZU1vZGUpIHtcbiAgICAgICAgdmFyIG9yaWdpbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogJ2NhbnZhcyc7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0dXJlKF9CYXNlVGV4dHVyZTIuZGVmYXVsdC5mcm9tQ2FudmFzKGNhbnZhcywgc2NhbGVNb2RlLCBvcmlnaW4pKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIG5ldyBUZXh0dXJlIGJhc2VkIG9uIHRoZSBnaXZlbiB2aWRlbyBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7SFRNTFZpZGVvRWxlbWVudHxzdHJpbmd9IHZpZGVvIC0gVGhlIFVSTCBvciBhY3R1YWwgZWxlbWVudCBvZiB0aGUgdmlkZW9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlTW9kZT1QSVhJLnNldHRpbmdzLlNDQUxFX01PREVdIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBUaGUgbmV3bHkgY3JlYXRlZCB0ZXh0dXJlXG4gICAgICovXG5cblxuICAgIFRleHR1cmUuZnJvbVZpZGVvID0gZnVuY3Rpb24gZnJvbVZpZGVvKHZpZGVvLCBzY2FsZU1vZGUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2aWRlbyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBUZXh0dXJlLmZyb21WaWRlb1VybCh2aWRlbywgc2NhbGVNb2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgVGV4dHVyZShfVmlkZW9CYXNlVGV4dHVyZTIuZGVmYXVsdC5mcm9tVmlkZW8odmlkZW8sIHNjYWxlTW9kZSkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgbmV3IFRleHR1cmUgYmFzZWQgb24gdGhlIHZpZGVvIHVybC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmlkZW9VcmwgLSBVUkwgb2YgdGhlIHZpZGVvXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIG5ld2x5IGNyZWF0ZWQgdGV4dHVyZVxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlLmZyb21WaWRlb1VybCA9IGZ1bmN0aW9uIGZyb21WaWRlb1VybCh2aWRlb1VybCwgc2NhbGVNb2RlKSB7XG4gICAgICAgIHJldHVybiBuZXcgVGV4dHVyZShfVmlkZW9CYXNlVGV4dHVyZTIuZGVmYXVsdC5mcm9tVXJsKHZpZGVvVXJsLCBzY2FsZU1vZGUpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIG5ldyBUZXh0dXJlIGJhc2VkIG9uIHRoZSBzb3VyY2UgeW91IHByb3ZpZGUuXG4gICAgICogVGhlIHNvdXJjZSBjYW4gYmUgLSBmcmFtZSBpZCwgaW1hZ2UgdXJsLCB2aWRlbyB1cmwsIGNhbnZhcyBlbGVtZW50LCB2aWRlbyBlbGVtZW50LCBiYXNlIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd8SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fFBJWEkuQmFzZVRleHR1cmV9XG4gICAgICogICAgICAgIHNvdXJjZSAtIFNvdXJjZSB0byBjcmVhdGUgdGV4dHVyZSBmcm9tXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBUaGUgbmV3bHkgY3JlYXRlZCB0ZXh0dXJlXG4gICAgICovXG5cblxuICAgIFRleHR1cmUuZnJvbSA9IGZ1bmN0aW9uIGZyb20oc291cmNlKSB7XG4gICAgICAgIC8vIFRPRE8gYXV0byBkZXRlY3QgY3Jvc3Mgb3JpZ2luLi5cbiAgICAgICAgLy8gVE9ETyBwYXNzIGluIHNjYWxlIG1vZGU/XG4gICAgICAgIGlmICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBfdXRpbHMuVGV4dHVyZUNhY2hlW3NvdXJjZV07XG5cbiAgICAgICAgICAgIGlmICghdGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIGl0cyBhIHZpZGVvLi5cbiAgICAgICAgICAgICAgICB2YXIgaXNWaWRlbyA9IHNvdXJjZS5tYXRjaCgvXFwuKG1wNHx3ZWJtfG9nZ3xoMjY0fGF2aXxtb3YpJC8pICE9PSBudWxsO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzVmlkZW8pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFRleHR1cmUuZnJvbVZpZGVvVXJsKHNvdXJjZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFRleHR1cmUuZnJvbUltYWdlKHNvdXJjZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgICAgICB9IGVsc2UgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVGV4dHVyZShfQmFzZVRleHR1cmUyLmRlZmF1bHQuZnJvbShzb3VyY2UpKTtcbiAgICAgICAgfSBlbHNlIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIFRleHR1cmUuZnJvbUNhbnZhcyhzb3VyY2UsIF9zZXR0aW5nczIuZGVmYXVsdC5TQ0FMRV9NT0RFLCAnSFRNTENhbnZhc0VsZW1lbnQnKTtcbiAgICAgICAgfSBlbHNlIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gVGV4dHVyZS5mcm9tVmlkZW8oc291cmNlKTtcbiAgICAgICAgfSBlbHNlIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBfQmFzZVRleHR1cmUyLmRlZmF1bHQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVGV4dHVyZShzb3VyY2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbGV0cyBhc3N1bWUgaXRzIGEgdGV4dHVyZSFcbiAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgdGV4dHVyZSBmcm9tIGEgc291cmNlIGFuZCBhZGQgdG8gdGhlIGNhY2hlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gc291cmNlIC0gVGhlIGlucHV0IHNvdXJjZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaW1hZ2VVcmwgLSBGaWxlIG5hbWUgb2YgdGV4dHVyZSwgZm9yIGNhY2hlIGFuZCByZXNvbHZpbmcgcmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW25hbWVdIC0gSHVtYW4gcmVhZGlibGUgbmFtZSBmb3IgdGhlIHRleHR1cmUgY2FjaGUuIElmIG5vIG5hbWUgaXNcbiAgICAgKiAgICAgICAgc3BlY2lmaWVkLCBvbmx5IGBpbWFnZVVybGAgd2lsbCBiZSB1c2VkIGFzIHRoZSBjYWNoZSBJRC5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IE91dHB1dCB0ZXh0dXJlXG4gICAgICovXG5cblxuICAgIFRleHR1cmUuZnJvbUxvYWRlciA9IGZ1bmN0aW9uIGZyb21Mb2FkZXIoc291cmNlLCBpbWFnZVVybCwgbmFtZSkge1xuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSBuZXcgX0Jhc2VUZXh0dXJlMi5kZWZhdWx0KHNvdXJjZSwgdW5kZWZpbmVkLCAoMCwgX3V0aWxzLmdldFJlc29sdXRpb25PZlVybCkoaW1hZ2VVcmwpKTtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBuZXcgVGV4dHVyZShiYXNlVGV4dHVyZSk7XG5cbiAgICAgICAgYmFzZVRleHR1cmUuaW1hZ2VVcmwgPSBpbWFnZVVybDtcblxuICAgICAgICAvLyBObyBuYW1lLCB1c2UgaW1hZ2VVcmwgaW5zdGVhZFxuICAgICAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgICAgIG5hbWUgPSBpbWFnZVVybDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxldHMgYWxzbyBhZGQgdGhlIGZyYW1lIHRvIHBpeGkncyBnbG9iYWwgY2FjaGUgZm9yIGZyb21GcmFtZSBhbmQgZnJvbUltYWdlIGZ1Y250aW9uc1xuICAgICAgICBfQmFzZVRleHR1cmUyLmRlZmF1bHQuYWRkVG9DYWNoZSh0ZXh0dXJlLmJhc2VUZXh0dXJlLCBuYW1lKTtcbiAgICAgICAgVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUsIG5hbWUpO1xuXG4gICAgICAgIC8vIGFsc28gYWRkIHJlZmVyZW5jZXMgYnkgdXJsIGlmIHRoZXkgYXJlIGRpZmZlcmVudC5cbiAgICAgICAgaWYgKG5hbWUgIT09IGltYWdlVXJsKSB7XG4gICAgICAgICAgICBfQmFzZVRleHR1cmUyLmRlZmF1bHQuYWRkVG9DYWNoZSh0ZXh0dXJlLmJhc2VUZXh0dXJlLCBpbWFnZVVybCk7XG4gICAgICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwgaW1hZ2VVcmwpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBUZXh0dXJlIHRvIHRoZSBnbG9iYWwgVGV4dHVyZUNhY2hlLiBUaGlzIGNhY2hlIGlzIHNoYXJlZCBhY3Jvc3MgdGhlIHdob2xlIFBJWEkgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIFRleHR1cmUgdG8gYWRkIHRvIHRoZSBjYWNoZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgdGhhdCB0aGUgVGV4dHVyZSB3aWxsIGJlIHN0b3JlZCBhZ2FpbnN0LlxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlLmFkZFRvQ2FjaGUgPSBmdW5jdGlvbiBhZGRUb0NhY2hlKHRleHR1cmUsIGlkKSB7XG4gICAgICAgIGlmIChpZCkge1xuICAgICAgICAgICAgaWYgKHRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmluZGV4T2YoaWQpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHRleHR1cmUudGV4dHVyZUNhY2hlSWRzLnB1c2goaWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBAaWYgREVCVUdcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgICAgIGlmIChfdXRpbHMuVGV4dHVyZUNhY2hlW2lkXSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignVGV4dHVyZSBhZGRlZCB0byB0aGUgY2FjaGUgd2l0aCBhbiBpZCBbJyArIGlkICsgJ10gdGhhdCBhbHJlYWR5IGhhZCBhbiBlbnRyeScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG4gICAgICAgICAgICAvLyBAZW5kaWZcblxuICAgICAgICAgICAgX3V0aWxzLlRleHR1cmVDYWNoZVtpZF0gPSB0ZXh0dXJlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIFRleHR1cmUgZnJvbSB0aGUgZ2xvYmFsIFRleHR1cmVDYWNoZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBpZCBvZiBhIFRleHR1cmUgdG8gYmUgcmVtb3ZlZCwgb3IgYSBUZXh0dXJlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZXxudWxsfSBUaGUgVGV4dHVyZSB0aGF0IHdhcyByZW1vdmVkXG4gICAgICovXG5cblxuICAgIFRleHR1cmUucmVtb3ZlRnJvbUNhY2hlID0gZnVuY3Rpb24gcmVtb3ZlRnJvbUNhY2hlKHRleHR1cmUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0ZXh0dXJlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdmFyIHRleHR1cmVGcm9tQ2FjaGUgPSBfdXRpbHMuVGV4dHVyZUNhY2hlW3RleHR1cmVdO1xuXG4gICAgICAgICAgICBpZiAodGV4dHVyZUZyb21DYWNoZSkge1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRleHR1cmVGcm9tQ2FjaGUudGV4dHVyZUNhY2hlSWRzLmluZGV4T2YodGV4dHVyZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRlbGV0ZSBfdXRpbHMuVGV4dHVyZUNhY2hlW3RleHR1cmVdO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRleHR1cmVGcm9tQ2FjaGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGV4dHVyZSAmJiB0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIHRoYXQgdGV4dHVyZSBtYXRjaGVzIHRoZSBvbmUgYmVpbmcgcGFzc2VkIGluIGJlZm9yZSBkZWxldGluZyBpdCBmcm9tIHRoZSBjYWNoZS5cbiAgICAgICAgICAgICAgICBpZiAoX3V0aWxzLlRleHR1cmVDYWNoZVt0ZXh0dXJlLnRleHR1cmVDYWNoZUlkc1tpXV0gPT09IHRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIF91dGlscy5UZXh0dXJlQ2FjaGVbdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHNbaV1dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMubGVuZ3RoID0gMDtcblxuICAgICAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZyYW1lIHNwZWNpZmllcyB0aGUgcmVnaW9uIG9mIHRoZSBiYXNlIHRleHR1cmUgdGhhdCB0aGlzIHRleHR1cmUgdXNlcy5cbiAgICAgKiBQbGVhc2UgY2FsbCBgX3VwZGF0ZVV2cygpYCBhZnRlciB5b3UgY2hhbmdlIGNvb3JkaW5hdGVzIG9mIGBmcmFtZWAgbWFudWFsbHkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKFRleHR1cmUsIFt7XG4gICAgICAgIGtleTogJ2ZyYW1lJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZnJhbWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGZyYW1lKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZnJhbWUgPSBmcmFtZTtcblxuICAgICAgICAgICAgdGhpcy5ub0ZyYW1lID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHZhciB4ID0gZnJhbWUueCxcbiAgICAgICAgICAgICAgICB5ID0gZnJhbWUueSxcbiAgICAgICAgICAgICAgICB3aWR0aCA9IGZyYW1lLndpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodCA9IGZyYW1lLmhlaWdodDtcblxuICAgICAgICAgICAgdmFyIHhOb3RGaXQgPSB4ICsgd2lkdGggPiB0aGlzLmJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICAgICAgdmFyIHlOb3RGaXQgPSB5ICsgaGVpZ2h0ID4gdGhpcy5iYXNlVGV4dHVyZS5oZWlnaHQ7XG5cbiAgICAgICAgICAgIGlmICh4Tm90Rml0IHx8IHlOb3RGaXQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVsYXRpb25zaGlwID0geE5vdEZpdCAmJiB5Tm90Rml0ID8gJ2FuZCcgOiAnb3InO1xuICAgICAgICAgICAgICAgIHZhciBlcnJvclggPSAnWDogJyArIHggKyAnICsgJyArIHdpZHRoICsgJyA9ICcgKyAoeCArIHdpZHRoKSArICcgPiAnICsgdGhpcy5iYXNlVGV4dHVyZS53aWR0aDtcbiAgICAgICAgICAgICAgICB2YXIgZXJyb3JZID0gJ1k6ICcgKyB5ICsgJyArICcgKyBoZWlnaHQgKyAnID0gJyArICh5ICsgaGVpZ2h0KSArICcgPiAnICsgdGhpcy5iYXNlVGV4dHVyZS5oZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RleHR1cmUgRXJyb3I6IGZyYW1lIGRvZXMgbm90IGZpdCBpbnNpZGUgdGhlIGJhc2UgVGV4dHVyZSBkaW1lbnNpb25zOiAnICsgKGVycm9yWCArICcgJyArIHJlbGF0aW9uc2hpcCArICcgJyArIGVycm9yWSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB0aGlzLnZhbGlkID0gd2lkdGggJiYgaGVpZ2h0ICYmIHRoaXMuYmFzZVRleHR1cmUuc291cmNlICYmIHRoaXMuYmFzZVRleHR1cmUuaGFzTG9hZGVkO1xuICAgICAgICAgICAgdGhpcy52YWxpZCA9IHdpZHRoICYmIGhlaWdodCAmJiB0aGlzLmJhc2VUZXh0dXJlLmhhc0xvYWRlZDtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLnRyaW0gJiYgIXRoaXMucm90YXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcmlnID0gZnJhbWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlVXZzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHRleHR1cmUgaXMgcm90YXRlZCBpbnNpZGUgdGhlIGF0bGFzXG4gICAgICAgICAqIHNldCB0byAyIHRvIGNvbXBlbnNhdGUgZm9yIHRleHR1cmUgcGFja2VyIHJvdGF0aW9uXG4gICAgICAgICAqIHNldCB0byA2IHRvIGNvbXBlbnNhdGUgZm9yIHNwaW5lIHBhY2tlciByb3RhdGlvblxuICAgICAgICAgKiBjYW4gYmUgdXNlZCB0byByb3RhdGUgb3IgbWlycm9yIHNwcml0ZXNcbiAgICAgICAgICogU2VlIHtAbGluayBQSVhJLkdyb3VwRDh9IGZvciBleHBsYW5hdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyb3RhdGUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yb3RhdGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHJvdGF0ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0ZSA9IHJvdGF0ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlVXZzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBUZXh0dXJlIGluIHBpeGVscy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnd2lkdGgnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9yaWcud2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgVGV4dHVyZSBpbiBwaXhlbHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2hlaWdodCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3JpZy5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gVGV4dHVyZTtcbn0oX2V2ZW50ZW1pdHRlcjIuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRleHR1cmU7XG5cblxuZnVuY3Rpb24gY3JlYXRlV2hpdGVUZXh0dXJlKCkge1xuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgIGNhbnZhcy53aWR0aCA9IDEwO1xuICAgIGNhbnZhcy5oZWlnaHQgPSAxMDtcblxuICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCAxMCwgMTApO1xuXG4gICAgcmV0dXJuIG5ldyBUZXh0dXJlKG5ldyBfQmFzZVRleHR1cmUyLmRlZmF1bHQoY2FudmFzKSk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUFsbEhhbmRsZXJzKHRleCkge1xuICAgIHRleC5kZXN0cm95ID0gZnVuY3Rpb24gX2VtcHR5RGVzdHJveSgpIHsvKiBlbXB0eSAqL307XG4gICAgdGV4Lm9uID0gZnVuY3Rpb24gX2VtcHR5T24oKSB7LyogZW1wdHkgKi99O1xuICAgIHRleC5vbmNlID0gZnVuY3Rpb24gX2VtcHR5T25jZSgpIHsvKiBlbXB0eSAqL307XG4gICAgdGV4LmVtaXQgPSBmdW5jdGlvbiBfZW1wdHlFbWl0KCkgey8qIGVtcHR5ICovfTtcbn1cblxuLyoqXG4gKiBBbiBlbXB0eSB0ZXh0dXJlLCB1c2VkIG9mdGVuIHRvIG5vdCBoYXZlIHRvIGNyZWF0ZSBtdWx0aXBsZSBlbXB0eSB0ZXh0dXJlcy5cbiAqIENhbiBub3QgYmUgZGVzdHJveWVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICovXG5UZXh0dXJlLkVNUFRZID0gbmV3IFRleHR1cmUobmV3IF9CYXNlVGV4dHVyZTIuZGVmYXVsdCgpKTtcbnJlbW92ZUFsbEhhbmRsZXJzKFRleHR1cmUuRU1QVFkpO1xucmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5FTVBUWS5iYXNlVGV4dHVyZSk7XG5cbi8qKlxuICogQSB3aGl0ZSB0ZXh0dXJlIG9mIDEweDEwIHNpemUsIHVzZWQgZm9yIGdyYXBoaWNzIGFuZCBvdGhlciB0aGluZ3NcbiAqIENhbiBub3QgYmUgZGVzdHJveWVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICovXG5UZXh0dXJlLldISVRFID0gY3JlYXRlV2hpdGVUZXh0dXJlKCk7XG5yZW1vdmVBbGxIYW5kbGVycyhUZXh0dXJlLldISVRFKTtcbnJlbW92ZUFsbEhhbmRsZXJzKFRleHR1cmUuV0hJVEUuYmFzZVRleHR1cmUpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dHVyZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5XG4gICwgcHJlZml4ID0gJ34nO1xuXG4vKipcbiAqIENvbnN0cnVjdG9yIHRvIGNyZWF0ZSBhIHN0b3JhZ2UgZm9yIG91ciBgRUVgIG9iamVjdHMuXG4gKiBBbiBgRXZlbnRzYCBpbnN0YW5jZSBpcyBhIHBsYWluIG9iamVjdCB3aG9zZSBwcm9wZXJ0aWVzIGFyZSBldmVudCBuYW1lcy5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBFdmVudHMoKSB7fVxuXG4vL1xuLy8gV2UgdHJ5IHRvIG5vdCBpbmhlcml0IGZyb20gYE9iamVjdC5wcm90b3R5cGVgLiBJbiBzb21lIGVuZ2luZXMgY3JlYXRpbmcgYW5cbi8vIGluc3RhbmNlIGluIHRoaXMgd2F5IGlzIGZhc3RlciB0aGFuIGNhbGxpbmcgYE9iamVjdC5jcmVhdGUobnVsbClgIGRpcmVjdGx5LlxuLy8gSWYgYE9iamVjdC5jcmVhdGUobnVsbClgIGlzIG5vdCBzdXBwb3J0ZWQgd2UgcHJlZml4IHRoZSBldmVudCBuYW1lcyB3aXRoIGFcbi8vIGNoYXJhY3RlciB0byBtYWtlIHN1cmUgdGhhdCB0aGUgYnVpbHQtaW4gb2JqZWN0IHByb3BlcnRpZXMgYXJlIG5vdFxuLy8gb3ZlcnJpZGRlbiBvciB1c2VkIGFzIGFuIGF0dGFjayB2ZWN0b3IuXG4vL1xuaWYgKE9iamVjdC5jcmVhdGUpIHtcbiAgRXZlbnRzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgLy9cbiAgLy8gVGhpcyBoYWNrIGlzIG5lZWRlZCBiZWNhdXNlIHRoZSBgX19wcm90b19fYCBwcm9wZXJ0eSBpcyBzdGlsbCBpbmhlcml0ZWQgaW5cbiAgLy8gc29tZSBvbGQgYnJvd3NlcnMgbGlrZSBBbmRyb2lkIDQsIGlQaG9uZSA1LjEsIE9wZXJhIDExIGFuZCBTYWZhcmkgNS5cbiAgLy9cbiAgaWYgKCFuZXcgRXZlbnRzKCkuX19wcm90b19fKSBwcmVmaXggPSBmYWxzZTtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRhdGlvbiBvZiBhIHNpbmdsZSBldmVudCBsaXN0ZW5lci5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge01peGVkfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29uY2U9ZmFsc2VdIFNwZWNpZnkgaWYgdGhlIGxpc3RlbmVyIGlzIGEgb25lLXRpbWUgbGlzdGVuZXIuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBFRShmbiwgY29udGV4dCwgb25jZSkge1xuICB0aGlzLmZuID0gZm47XG4gIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gIHRoaXMub25jZSA9IG9uY2UgfHwgZmFsc2U7XG59XG5cbi8qKlxuICogTWluaW1hbCBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UgdGhhdCBpcyBtb2xkZWQgYWdhaW5zdCB0aGUgTm9kZS5qc1xuICogYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQGFwaSBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYW4gYXJyYXkgbGlzdGluZyB0aGUgZXZlbnRzIGZvciB3aGljaCB0aGUgZW1pdHRlciBoYXMgcmVnaXN0ZXJlZFxuICogbGlzdGVuZXJzLlxuICpcbiAqIEByZXR1cm5zIHtBcnJheX1cbiAqIEBhcGkgcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZXZlbnROYW1lcyA9IGZ1bmN0aW9uIGV2ZW50TmFtZXMoKSB7XG4gIHZhciBuYW1lcyA9IFtdXG4gICAgLCBldmVudHNcbiAgICAsIG5hbWU7XG5cbiAgaWYgKHRoaXMuX2V2ZW50c0NvdW50ID09PSAwKSByZXR1cm4gbmFtZXM7XG5cbiAgZm9yIChuYW1lIGluIChldmVudHMgPSB0aGlzLl9ldmVudHMpKSB7XG4gICAgaWYgKGhhcy5jYWxsKGV2ZW50cywgbmFtZSkpIG5hbWVzLnB1c2gocHJlZml4ID8gbmFtZS5zbGljZSgxKSA6IG5hbWUpO1xuICB9XG5cbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICByZXR1cm4gbmFtZXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZXZlbnRzKSk7XG4gIH1cblxuICByZXR1cm4gbmFtZXM7XG59O1xuXG4vKipcbiAqIFJldHVybiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8U3ltYm9sfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gZXhpc3RzIE9ubHkgY2hlY2sgaWYgdGhlcmUgYXJlIGxpc3RlbmVycy5cbiAqIEByZXR1cm5zIHtBcnJheXxCb29sZWFufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbiBsaXN0ZW5lcnMoZXZlbnQsIGV4aXN0cykge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudFxuICAgICwgYXZhaWxhYmxlID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKGV4aXN0cykgcmV0dXJuICEhYXZhaWxhYmxlO1xuICBpZiAoIWF2YWlsYWJsZSkgcmV0dXJuIFtdO1xuICBpZiAoYXZhaWxhYmxlLmZuKSByZXR1cm4gW2F2YWlsYWJsZS5mbl07XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBhdmFpbGFibGUubGVuZ3RoLCBlZSA9IG5ldyBBcnJheShsKTsgaSA8IGw7IGkrKykge1xuICAgIGVlW2ldID0gYXZhaWxhYmxlW2ldLmZuO1xuICB9XG5cbiAgcmV0dXJuIGVlO1xufTtcblxuLyoqXG4gKiBDYWxscyBlYWNoIG9mIHRoZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xTeW1ib2x9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgZXZlbnQgaGFkIGxpc3RlbmVycywgZWxzZSBgZmFsc2VgLlxuICogQGFwaSBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdChldmVudCwgYTEsIGEyLCBhMywgYTQsIGE1KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHJldHVybiBmYWxzZTtcblxuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF1cbiAgICAsIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGhcbiAgICAsIGFyZ3NcbiAgICAsIGk7XG5cbiAgaWYgKGxpc3RlbmVycy5mbikge1xuICAgIGlmIChsaXN0ZW5lcnMub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgc3dpdGNoIChsZW4pIHtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSksIHRydWU7XG4gICAgICBjYXNlIDM6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyKSwgdHJ1ZTtcbiAgICAgIGNhc2UgNDogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzKSwgdHJ1ZTtcbiAgICAgIGNhc2UgNTogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCksIHRydWU7XG4gICAgICBjYXNlIDY6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMywgYTQsIGE1KSwgdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGkgPCBsZW47IGkrKykge1xuICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuXG4gICAgbGlzdGVuZXJzLmZuLmFwcGx5KGxpc3RlbmVycy5jb250ZXh0LCBhcmdzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aFxuICAgICAgLCBqO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAobGlzdGVuZXJzW2ldLm9uY2UpIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyc1tpXS5mbiwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgICAgc3dpdGNoIChsZW4pIHtcbiAgICAgICAgY2FzZSAxOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCk7IGJyZWFrO1xuICAgICAgICBjYXNlIDI6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSk7IGJyZWFrO1xuICAgICAgICBjYXNlIDM6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIpOyBicmVhaztcbiAgICAgICAgY2FzZSA0OiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEsIGEyLCBhMyk7IGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmICghYXJncykgZm9yIChqID0gMSwgYXJncyA9IG5ldyBBcnJheShsZW4gLTEpOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaiAtIDFdID0gYXJndW1lbnRzW2pdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxpc3RlbmVyc1tpXS5mbi5hcHBseShsaXN0ZW5lcnNbaV0uY29udGV4dCwgYXJncyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG4vKipcbiAqIEFkZCBhIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfFN5bWJvbH0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge01peGVkfSBbY29udGV4dD10aGlzXSBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gb24oZXZlbnQsIGZuLCBjb250ZXh0KSB7XG4gIHZhciBsaXN0ZW5lciA9IG5ldyBFRShmbiwgY29udGV4dCB8fCB0aGlzKVxuICAgICwgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSB0aGlzLl9ldmVudHNbZXZ0XSA9IGxpc3RlbmVyLCB0aGlzLl9ldmVudHNDb3VudCsrO1xuICBlbHNlIGlmICghdGhpcy5fZXZlbnRzW2V2dF0uZm4pIHRoaXMuX2V2ZW50c1tldnRdLnB1c2gobGlzdGVuZXIpO1xuICBlbHNlIHRoaXMuX2V2ZW50c1tldnRdID0gW3RoaXMuX2V2ZW50c1tldnRdLCBsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEFkZCBhIG9uZS10aW1lIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfFN5bWJvbH0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge01peGVkfSBbY29udGV4dD10aGlzXSBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKGV2ZW50LCBmbiwgY29udGV4dCkge1xuICB2YXIgbGlzdGVuZXIgPSBuZXcgRUUoZm4sIGNvbnRleHQgfHwgdGhpcywgdHJ1ZSlcbiAgICAsIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgdGhpcy5fZXZlbnRzW2V2dF0gPSBsaXN0ZW5lciwgdGhpcy5fZXZlbnRzQ291bnQrKztcbiAgZWxzZSBpZiAoIXRoaXMuX2V2ZW50c1tldnRdLmZuKSB0aGlzLl9ldmVudHNbZXZ0XS5wdXNoKGxpc3RlbmVyKTtcbiAgZWxzZSB0aGlzLl9ldmVudHNbZXZ0XSA9IFt0aGlzLl9ldmVudHNbZXZ0XSwgbGlzdGVuZXJdO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgdGhlIGxpc3RlbmVycyBvZiBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfFN5bWJvbH0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBPbmx5IHJlbW92ZSB0aGUgbGlzdGVuZXJzIHRoYXQgbWF0Y2ggdGhpcyBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7TWl4ZWR9IGNvbnRleHQgT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IGhhdmUgdGhpcyBjb250ZXh0LlxuICogQHBhcmFtIHtCb29sZWFufSBvbmNlIE9ubHkgcmVtb3ZlIG9uZS10aW1lIGxpc3RlbmVycy5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBhcGkgcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcihldmVudCwgZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIHRoaXM7XG4gIGlmICghZm4pIHtcbiAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMCkgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICAgIGVsc2UgZGVsZXRlIHRoaXMuX2V2ZW50c1tldnRdO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmIChsaXN0ZW5lcnMuZm4pIHtcbiAgICBpZiAoXG4gICAgICAgICBsaXN0ZW5lcnMuZm4gPT09IGZuXG4gICAgICAmJiAoIW9uY2UgfHwgbGlzdGVuZXJzLm9uY2UpXG4gICAgICAmJiAoIWNvbnRleHQgfHwgbGlzdGVuZXJzLmNvbnRleHQgPT09IGNvbnRleHQpXG4gICAgKSB7XG4gICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMCkgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICAgICAgZWxzZSBkZWxldGUgdGhpcy5fZXZlbnRzW2V2dF07XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIGkgPSAwLCBldmVudHMgPSBbXSwgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoXG4gICAgICAgICAgIGxpc3RlbmVyc1tpXS5mbiAhPT0gZm5cbiAgICAgICAgfHwgKG9uY2UgJiYgIWxpc3RlbmVyc1tpXS5vbmNlKVxuICAgICAgICB8fCAoY29udGV4dCAmJiBsaXN0ZW5lcnNbaV0uY29udGV4dCAhPT0gY29udGV4dClcbiAgICAgICkge1xuICAgICAgICBldmVudHMucHVzaChsaXN0ZW5lcnNbaV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vXG4gICAgLy8gUmVzZXQgdGhlIGFycmF5LCBvciByZW1vdmUgaXQgY29tcGxldGVseSBpZiB3ZSBoYXZlIG5vIG1vcmUgbGlzdGVuZXJzLlxuICAgIC8vXG4gICAgaWYgKGV2ZW50cy5sZW5ndGgpIHRoaXMuX2V2ZW50c1tldnRdID0gZXZlbnRzLmxlbmd0aCA9PT0gMSA/IGV2ZW50c1swXSA6IGV2ZW50cztcbiAgICBlbHNlIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKSB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gICAgZWxzZSBkZWxldGUgdGhpcy5fZXZlbnRzW2V2dF07XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFsbCBsaXN0ZW5lcnMsIG9yIHRob3NlIG9mIHRoZSBzcGVjaWZpZWQgZXZlbnQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8U3ltYm9sfSBbZXZlbnRdIFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQGFwaSBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnQpIHtcbiAgdmFyIGV2dDtcblxuICBpZiAoZXZlbnQpIHtcbiAgICBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuICAgIGlmICh0aGlzLl9ldmVudHNbZXZ0XSkge1xuICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgICAgIGVsc2UgZGVsZXRlIHRoaXMuX2V2ZW50c1tldnRdO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vL1xuLy8gQWxpYXMgbWV0aG9kcyBuYW1lcyBiZWNhdXNlIHBlb3BsZSByb2xsIGxpa2UgdGhhdC5cbi8vXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbjtcblxuLy9cbi8vIFRoaXMgZnVuY3Rpb24gZG9lc24ndCBhcHBseSBhbnltb3JlLlxuLy9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gc2V0TWF4TGlzdGVuZXJzKCkge1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8vXG4vLyBFeHBvc2UgdGhlIHByZWZpeC5cbi8vXG5FdmVudEVtaXR0ZXIucHJlZml4ZWQgPSBwcmVmaXg7XG5cbi8vXG4vLyBBbGxvdyBgRXZlbnRFbWl0dGVyYCB0byBiZSBpbXBvcnRlZCBhcyBtb2R1bGUgbmFtZXNwYWNlLlxuLy9cbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbi8vXG4vLyBFeHBvc2UgdGhlIG1vZHVsZS5cbi8vXG5pZiAoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBtb2R1bGUpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbnZhciBfZXZlbnRlbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRlbWl0dGVyMycpO1xuXG52YXIgX2V2ZW50ZW1pdHRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ldmVudGVtaXR0ZXIpO1xuXG52YXIgX2RldGVybWluZUNyb3NzT3JpZ2luID0gcmVxdWlyZSgnLi4vdXRpbHMvZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4nKTtcblxudmFyIF9kZXRlcm1pbmVDcm9zc09yaWdpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZXRlcm1pbmVDcm9zc09yaWdpbik7XG5cbnZhciBfYml0VHdpZGRsZSA9IHJlcXVpcmUoJ2JpdC10d2lkZGxlJyk7XG5cbnZhciBfYml0VHdpZGRsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iaXRUd2lkZGxlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIEEgdGV4dHVyZSBzdG9yZXMgdGhlIGluZm9ybWF0aW9uIHRoYXQgcmVwcmVzZW50cyBhbiBpbWFnZS4gQWxsIHRleHR1cmVzIGhhdmUgYSBiYXNlIHRleHR1cmUuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBFdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCYXNlVGV4dHVyZSA9IGZ1bmN0aW9uIChfRXZlbnRFbWl0dGVyKSB7XG4gICAgX2luaGVyaXRzKEJhc2VUZXh0dXJlLCBfRXZlbnRFbWl0dGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gW3NvdXJjZV0gLSB0aGUgc291cmNlIG9iamVjdCBvZiB0aGUgdGV4dHVyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlTW9kZT1QSVhJLnNldHRpbmdzLlNDQUxFX01PREVdIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHRleHR1cmVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCYXNlVGV4dHVyZShzb3VyY2UsIHNjYWxlTW9kZSwgcmVzb2x1dGlvbikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQmFzZVRleHR1cmUpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEVtaXR0ZXIuY2FsbCh0aGlzKSk7XG5cbiAgICAgICAgX3RoaXMudWlkID0gKDAsIF91dGlscy51aWQpKCk7XG5cbiAgICAgICAgX3RoaXMudG91Y2hlZCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgX3NldHRpbmdzMi5kZWZhdWx0LlJFU09MVVRJT047XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgYmFzZSB0ZXh0dXJlIHNldCB3aGVuIHRoZSBpbWFnZSBoYXMgbG9hZGVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy53aWR0aCA9IDEwMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgYmFzZSB0ZXh0dXJlIHNldCB3aGVuIHRoZSBpbWFnZSBoYXMgbG9hZGVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5oZWlnaHQgPSAxMDA7XG5cbiAgICAgICAgLy8gVE9ETyBkb2NzXG4gICAgICAgIC8vIHVzZWQgdG8gc3RvcmUgdGhlIGFjdHVhbCBkaW1lbnNpb25zIG9mIHRoZSBzb3VyY2VcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gc3RvcmUgdGhlIGFjdHVhbCB3aWR0aCBvZiB0aGUgc291cmNlIG9mIHRoaXMgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVhbFdpZHRoID0gMTAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCB0byBzdG9yZSB0aGUgYWN0dWFsIGhlaWdodCBvZiB0aGUgc291cmNlIG9mIHRoaXMgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVhbEhlaWdodCA9IDEwMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNjYWxlIG1vZGUgdG8gYXBwbHkgd2hlbiBzY2FsaW5nIHRoaXMgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERVxuICAgICAgICAgKiBAc2VlIFBJWEkuU0NBTEVfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnNjYWxlTW9kZSA9IHNjYWxlTW9kZSAhPT0gdW5kZWZpbmVkID8gc2NhbGVNb2RlIDogX3NldHRpbmdzMi5kZWZhdWx0LlNDQUxFX01PREU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0byB0cnVlIG9uY2UgdGhlIGJhc2UgdGV4dHVyZSBoYXMgc3VjY2Vzc2Z1bGx5IGxvYWRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBpcyBuZXZlciB0cnVlIGlmIHRoZSB1bmRlcmx5aW5nIHNvdXJjZSBmYWlscyB0byBsb2FkIG9yIGhhcyBubyB0ZXh0dXJlIGRhdGEuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaGFzTG9hZGVkID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0byB0cnVlIGlmIHRoZSBzb3VyY2UgaXMgY3VycmVudGx5IGxvYWRpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIElmIGFuIEltYWdlIHNvdXJjZSBpcyBsb2FkaW5nIHRoZSAnbG9hZGVkJyBvciAnZXJyb3InIGV2ZW50IHdpbGwgYmVcbiAgICAgICAgICogZGlzcGF0Y2hlZCB3aGVuIHRoZSBvcGVyYXRpb24gZW5kcy4gQW4gdW5kZXJ5bGluZyBzb3VyY2UgdGhhdCBpc1xuICAgICAgICAgKiBpbW1lZGlhdGVseS1hdmFpbGFibGUgYnlwYXNzZXMgbG9hZGluZyBlbnRpcmVseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGltYWdlIHNvdXJjZSB0aGF0IGlzIHVzZWQgdG8gY3JlYXRlIHRoZSB0ZXh0dXJlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUT0RPOiBNYWtlIHRoaXMgYSBzZXR0ZXIgdGhhdCBjYWxscyBsb2FkU291cmNlKCk7XG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc291cmNlID0gbnVsbDsgLy8gc2V0IGluIGxvYWRTb3VyY2UsIGlmIGF0IGFsbFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaW1hZ2Ugc291cmNlIHRoYXQgaXMgdXNlZCB0byBjcmVhdGUgdGhlIHRleHR1cmUuIFRoaXMgaXMgdXNlZCB0b1xuICAgICAgICAgKiBzdG9yZSB0aGUgb3JpZ2luYWwgU3ZnIHNvdXJjZSB3aGVuIGl0IGlzIHJlcGxhY2VkIHdpdGggYSBjYW52YXMgZWxlbWVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogVE9ETzogQ3VycmVudGx5IG5vdCBpbiB1c2UgYnV0IGNvdWxkIGJlIHVzZWQgd2hlbiByZS1zY2FsaW5nIHN2Zy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge0ltYWdlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub3JpZ1NvdXJjZSA9IG51bGw7IC8vIHNldCBpbiBsb2FkU3ZnLCBpZiBhdCBhbGxcblxuICAgICAgICAvKipcbiAgICAgICAgICogVHlwZSBvZiBpbWFnZSBkZWZpbmVkIGluIHNvdXJjZSwgZWcuIGBwbmdgIG9yIGBzdmdgXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbWFnZVR5cGUgPSBudWxsOyAvLyBzZXQgaW4gdXBkYXRlSW1hZ2VUeXBlXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjYWxlIGZvciBzb3VyY2UgaW1hZ2UuIFVzZWQgd2l0aCBTdmcgaW1hZ2VzIHRvIHNjYWxlIHRoZW0gYmVmb3JlIHJhc3Rlcml6YXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zb3VyY2VTY2FsZSA9IDEuMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29udHJvbHMgaWYgUkdCIGNoYW5uZWxzIHNob3VsZCBiZSBwcmUtbXVsdGlwbGllZCBieSBBbHBoYSAgKFdlYkdMIG9ubHkpXG4gICAgICAgICAqIEFsbCBibGVuZCBtb2RlcywgYW5kIHNoYWRlcnMgd3JpdHRlbiBmb3IgZGVmYXVsdCB2YWx1ZS4gQ2hhbmdlIGl0IG9uIHlvdXIgb3duIHJpc2suXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnByZW11bHRpcGxpZWRBbHBoYSA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpbWFnZSB1cmwgb2YgdGhlIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaW1hZ2VVcmwgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGUgdGV4dHVyZSBpcyBhIHBvd2VyIG9mIHR3bywgdHJ5IHRvIHVzZSBwb3dlciBvZiB0d28gdGV4dHVyZXMgYXMgbXVjaFxuICAgICAgICAgKiBhcyB5b3UgY2FuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pc1Bvd2VyT2ZUd28gPSBmYWxzZTtcblxuICAgICAgICAvLyB1c2VkIGZvciB3ZWJHTFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBTZXQgdGhpcyB0byB0cnVlIGlmIGEgbWlwbWFwIG9mIHRoaXMgdGV4dHVyZSBuZWVkcyB0byBiZSBnZW5lcmF0ZWQuIFRoaXMgdmFsdWUgbmVlZHNcbiAgICAgICAgICogdG8gYmUgc2V0IGJlZm9yZSB0aGUgdGV4dHVyZSBpcyB1c2VkXG4gICAgICAgICAqIEFsc28gdGhlIHRleHR1cmUgbXVzdCBiZSBhIHBvd2VyIG9mIHR3byBzaXplIHRvIHdvcmtcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHNlZSBQSVhJLk1JUE1BUF9URVhUVVJFU1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWlwbWFwID0gX3NldHRpbmdzMi5kZWZhdWx0Lk1JUE1BUF9URVhUVVJFUztcblxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogV2ViR0wgVGV4dHVyZSB3cmFwIG1vZGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuV1JBUF9NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMud3JhcE1vZGUgPSBfc2V0dGluZ3MyLmRlZmF1bHQuV1JBUF9NT0RFO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG1hcCBvZiByZW5kZXJlciBJRHMgdG8gd2ViZ2wgdGV4dHVyZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0PG51bWJlciwgV2ViR0xUZXh0dXJlPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9nbFRleHR1cmVzID0ge307XG5cbiAgICAgICAgX3RoaXMuX2VuYWJsZWQgPSAwO1xuICAgICAgICBfdGhpcy5fdmlydGFsQm91bmRJZCA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgb2JqZWN0IGhhcyBiZWVuIGRlc3Ryb3llZCB2aWEgZGVzdHJveSgpLiBJZiB0cnVlLCBpdCBzaG91bGQgbm90IGJlIHVzZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2Rlc3Ryb3llZCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaWRzIHVuZGVyIHdoaWNoIHRoaXMgQmFzZVRleHR1cmUgaGFzIGJlZW4gYWRkZWQgdG8gdGhlIGJhc2UgdGV4dHVyZSBjYWNoZS4gVGhpcyBpc1xuICAgICAgICAgKiBhdXRvbWF0aWNhbGx5IHNldCBhcyBsb25nIGFzIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUgaXMgdXNlZCwgYnV0IG1heSBub3QgYmUgc2V0IGlmIGFcbiAgICAgICAgICogQmFzZVRleHR1cmUgaXMgYWRkZWQgZGlyZWN0bHkgdG8gdGhlIEJhc2VUZXh0dXJlQ2FjaGUgYXJyYXkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ1tdfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGV4dHVyZUNhY2hlSWRzID0gW107XG5cbiAgICAgICAgLy8gaWYgbm8gc291cmNlIHBhc3NlZCBkb24ndCB0cnkgdG8gbG9hZFxuICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICBfdGhpcy5sb2FkU291cmNlKHNvdXJjZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIG5vdC1pbW1lZGlhdGVseS1hdmFpbGFibGUgc291cmNlIGZpbmlzaGVzIGxvYWRpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjbG9hZGVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZXNvdXJjZSBsb2FkZWQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgbm90LWltbWVkaWF0ZWx5LWF2YWlsYWJsZSBzb3VyY2UgZmFpbHMgdG8gbG9hZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAZXZlbnQgUElYSS5CYXNlVGV4dHVyZSNlcnJvclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUmVzb3VyY2UgZXJyb3JlZC5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gQmFzZVRleHR1cmUgaXMgdXBkYXRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAZXZlbnQgUElYSS5CYXNlVGV4dHVyZSN1cGRhdGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIEluc3RhbmNlIG9mIHRleHR1cmUgYmVpbmcgdXBkYXRlZC5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gQmFzZVRleHR1cmUgaXMgZGVzdHJveWVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI2Rpc3Bvc2VcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIEluc3RhbmNlIG9mIHRleHR1cmUgYmVpbmcgZGVzdHJveWVkLlxuICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHRleHR1cmUgb24gYWxsIHRoZSB3ZWJnbCByZW5kZXJlcnMsIHRoaXMgYWxzbyBhc3N1bWVzIHRoZSBzcmMgaGFzIGNoYW5nZWQuXG4gICAgICpcbiAgICAgKiBAZmlyZXMgUElYSS5CYXNlVGV4dHVyZSN1cGRhdGVcbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgICAgLy8gU3ZnIHNpemUgaXMgaGFuZGxlZCBkdXJpbmcgbG9hZFxuICAgICAgICBpZiAodGhpcy5pbWFnZVR5cGUgIT09ICdzdmcnKSB7XG4gICAgICAgICAgICB0aGlzLnJlYWxXaWR0aCA9IHRoaXMuc291cmNlLm5hdHVyYWxXaWR0aCB8fCB0aGlzLnNvdXJjZS52aWRlb1dpZHRoIHx8IHRoaXMuc291cmNlLndpZHRoO1xuICAgICAgICAgICAgdGhpcy5yZWFsSGVpZ2h0ID0gdGhpcy5zb3VyY2UubmF0dXJhbEhlaWdodCB8fCB0aGlzLnNvdXJjZS52aWRlb0hlaWdodCB8fCB0aGlzLnNvdXJjZS5oZWlnaHQ7XG5cbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZURpbWVuc2lvbnMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZW1pdCgndXBkYXRlJywgdGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBkaW1lbnNpb25zIGZyb20gcmVhbCB2YWx1ZXNcbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLl91cGRhdGVEaW1lbnNpb25zID0gZnVuY3Rpb24gX3VwZGF0ZURpbWVuc2lvbnMoKSB7XG4gICAgICAgIHRoaXMud2lkdGggPSB0aGlzLnJlYWxXaWR0aCAvIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLnJlYWxIZWlnaHQgLyB0aGlzLnJlc29sdXRpb247XG5cbiAgICAgICAgdGhpcy5pc1Bvd2VyT2ZUd28gPSBfYml0VHdpZGRsZTIuZGVmYXVsdC5pc1BvdzIodGhpcy5yZWFsV2lkdGgpICYmIF9iaXRUd2lkZGxlMi5kZWZhdWx0LmlzUG93Mih0aGlzLnJlYWxIZWlnaHQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBMb2FkIGEgc291cmNlLlxuICAgICAqXG4gICAgICogSWYgdGhlIHNvdXJjZSBpcyBub3QtaW1tZWRpYXRlbHktYXZhaWxhYmxlLCBzdWNoIGFzIGFuIGltYWdlIHRoYXQgbmVlZHMgdG8gYmVcbiAgICAgKiBkb3dubG9hZGVkLCB0aGVuIHRoZSAnbG9hZGVkJyBvciAnZXJyb3InIGV2ZW50IHdpbGwgYmUgZGlzcGF0Y2hlZCBpbiB0aGUgZnV0dXJlXG4gICAgICogYW5kIGBoYXNMb2FkZWRgIHdpbGwgcmVtYWluIGZhbHNlIGFmdGVyIHRoaXMgY2FsbC5cbiAgICAgKlxuICAgICAqIFRoZSBsb2dpYyBzdGF0ZSBhZnRlciBjYWxsaW5nIGBsb2FkU291cmNlYCBkaXJlY3RseSBvciBpbmRpcmVjdGx5IChlZy4gYGZyb21JbWFnZWAsIGBuZXcgQmFzZVRleHR1cmVgKSBpczpcbiAgICAgKlxuICAgICAqICAgICBpZiAodGV4dHVyZS5oYXNMb2FkZWQpIHtcbiAgICAgKiAgICAgICAgLy8gdGV4dHVyZSByZWFkeSBmb3IgdXNlXG4gICAgICogICAgIH0gZWxzZSBpZiAodGV4dHVyZS5pc0xvYWRpbmcpIHtcbiAgICAgKiAgICAgICAgLy8gbGlzdGVuIHRvICdsb2FkZWQnIGFuZC9vciAnZXJyb3InIGV2ZW50cyBvbiB0ZXh0dXJlXG4gICAgICogICAgIH0gZWxzZSB7XG4gICAgICogICAgICAgIC8vIG5vdCBsb2FkaW5nLCBub3QgZ29pbmcgdG8gbG9hZCBVTkxFU1MgdGhlIHNvdXJjZSBpcyByZWxvYWRlZFxuICAgICAqICAgICAgICAvLyAoaXQgbWF5IHN0aWxsIG1ha2Ugc2Vuc2UgdG8gbGlzdGVuIHRvIHRoZSBldmVudHMpXG4gICAgICogICAgIH1cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IHNvdXJjZSAtIHRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSB0ZXh0dXJlLlxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUubG9hZFNvdXJjZSA9IGZ1bmN0aW9uIGxvYWRTb3VyY2Uoc291cmNlKSB7XG4gICAgICAgIHZhciB3YXNMb2FkaW5nID0gdGhpcy5pc0xvYWRpbmc7XG5cbiAgICAgICAgdGhpcy5oYXNMb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcblxuICAgICAgICBpZiAod2FzTG9hZGluZyAmJiB0aGlzLnNvdXJjZSkge1xuICAgICAgICAgICAgdGhpcy5zb3VyY2Uub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuc291cmNlLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGZpcnN0U291cmNlTG9hZGVkID0gIXRoaXMuc291cmNlO1xuXG4gICAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuXG4gICAgICAgIC8vIEFwcGx5IHNvdXJjZSBpZiBsb2FkZWQuIE90aGVyd2lzZSBzZXR1cCBhcHByb3ByaWF0ZSBsb2FkaW5nIG1vbml0b3JzLlxuICAgICAgICBpZiAoKHNvdXJjZS5zcmMgJiYgc291cmNlLmNvbXBsZXRlIHx8IHNvdXJjZS5nZXRDb250ZXh0KSAmJiBzb3VyY2Uud2lkdGggJiYgc291cmNlLmhlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlSW1hZ2VUeXBlKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmltYWdlVHlwZSA9PT0gJ3N2ZycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkU3ZnU291cmNlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NvdXJjZUxvYWRlZCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZmlyc3RTb3VyY2VMb2FkZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBzZW5kIGxvYWRlZCBldmVudCBpZiBwcmV2aW91cyBzb3VyY2Ugd2FzIG51bGwgYW5kIHdlIGhhdmUgYmVlbiBwYXNzZWQgYSBwcmUtbG9hZGVkIElNRyBlbGVtZW50XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdsb2FkZWQnLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghc291cmNlLmdldENvbnRleHQpIHtcbiAgICAgICAgICAgIC8vIEltYWdlIGZhaWwgLyBub3QgcmVhZHlcbiAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgdmFyIHNjb3BlID0gdGhpcztcblxuICAgICAgICAgICAgc291cmNlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzY29wZS5fdXBkYXRlSW1hZ2VUeXBlKCk7XG4gICAgICAgICAgICAgICAgc291cmNlLm9ubG9hZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgc291cmNlLm9uZXJyb3IgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFzY29wZS5pc0xvYWRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNjb3BlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHNjb3BlLl9zb3VyY2VMb2FkZWQoKTtcblxuICAgICAgICAgICAgICAgIGlmIChzY29wZS5pbWFnZVR5cGUgPT09ICdzdmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLl9sb2FkU3ZnU291cmNlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNjb3BlLmVtaXQoJ2xvYWRlZCcsIHNjb3BlKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHNvdXJjZS5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNvdXJjZS5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHNvdXJjZS5vbmVycm9yID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGlmICghc2NvcGUuaXNMb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzY29wZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBzY29wZS5lbWl0KCdlcnJvcicsIHNjb3BlKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIFBlciBodHRwOi8vd3d3LnczLm9yZy9UUi9odG1sNS9lbWJlZGRlZC1jb250ZW50LTAuaHRtbCN0aGUtaW1nLWVsZW1lbnRcbiAgICAgICAgICAgIC8vICAgXCJUaGUgdmFsdWUgb2YgYGNvbXBsZXRlYCBjYW4gdGh1cyBjaGFuZ2Ugd2hpbGUgYSBzY3JpcHQgaXMgZXhlY3V0aW5nLlwiXG4gICAgICAgICAgICAvLyBTbyBjb21wbGV0ZSBuZWVkcyB0byBiZSByZS1jaGVja2VkIGFmdGVyIHRoZSBjYWxsYmFja3MgaGF2ZSBiZWVuIGFkZGVkLi5cbiAgICAgICAgICAgIC8vIE5PVEU6IGNvbXBsZXRlIHdpbGwgYmUgdHJ1ZSBpZiB0aGUgaW1hZ2UgaGFzIG5vIHNyYyBzbyBiZXN0IHRvIGNoZWNrIGlmIHRoZSBzcmMgaXMgc2V0LlxuICAgICAgICAgICAgaWYgKHNvdXJjZS5jb21wbGV0ZSAmJiBzb3VyY2Uuc3JjKSB7XG4gICAgICAgICAgICAgICAgLy8gLi5hbmQgaWYgd2UncmUgY29tcGxldGUgbm93LCBubyBuZWVkIGZvciBjYWxsYmFja3NcbiAgICAgICAgICAgICAgICBzb3VyY2Uub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgICAgICBzb3VyY2Uub25lcnJvciA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICBpZiAoc2NvcGUuaW1hZ2VUeXBlID09PSAnc3ZnJykge1xuICAgICAgICAgICAgICAgICAgICBzY29wZS5fbG9hZFN2Z1NvdXJjZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZS53aWR0aCAmJiBzb3VyY2UuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NvdXJjZUxvYWRlZCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGFueSBwcmV2aW91cyBzdWJzY3JpYmVycyBwb3NzaWJsZVxuICAgICAgICAgICAgICAgICAgICBpZiAod2FzTG9hZGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdsb2FkZWQnLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJZiBhbnkgcHJldmlvdXMgc3Vic2NyaWJlcnMgcG9zc2libGVcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh3YXNMb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHR5cGUgb2YgdGhlIHNvdXJjZSBpbWFnZS5cbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLl91cGRhdGVJbWFnZVR5cGUgPSBmdW5jdGlvbiBfdXBkYXRlSW1hZ2VUeXBlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW1hZ2VVcmwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkYXRhVXJpID0gKDAsIF91dGlscy5kZWNvbXBvc2VEYXRhVXJpKSh0aGlzLmltYWdlVXJsKTtcbiAgICAgICAgdmFyIGltYWdlVHlwZSA9IHZvaWQgMDtcblxuICAgICAgICBpZiAoZGF0YVVyaSAmJiBkYXRhVXJpLm1lZGlhVHlwZSA9PT0gJ2ltYWdlJykge1xuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHN1YlR5cGUgdmFsaWRpdHlcbiAgICAgICAgICAgIHZhciBmaXJzdFN1YlR5cGUgPSBkYXRhVXJpLnN1YlR5cGUuc3BsaXQoJysnKVswXTtcblxuICAgICAgICAgICAgaW1hZ2VUeXBlID0gKDAsIF91dGlscy5nZXRVcmxGaWxlRXh0ZW5zaW9uKSgnLicgKyBmaXJzdFN1YlR5cGUpO1xuXG4gICAgICAgICAgICBpZiAoIWltYWdlVHlwZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBpbWFnZSB0eXBlIGluIGRhdGEgVVJJLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW1hZ2VUeXBlID0gKDAsIF91dGlscy5nZXRVcmxGaWxlRXh0ZW5zaW9uKSh0aGlzLmltYWdlVXJsKTtcblxuICAgICAgICAgICAgaWYgKCFpbWFnZVR5cGUpIHtcbiAgICAgICAgICAgICAgICBpbWFnZVR5cGUgPSAncG5nJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW1hZ2VUeXBlID0gaW1hZ2VUeXBlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHNvdXJjZWAgaXMgYW4gU1ZHIGltYWdlIGFuZCB3aGV0aGVyIGl0J3MgbG9hZGVkIHZpYSBhIFVSTCBvciBhIGRhdGEgVVJJLiBUaGVuIGNhbGxzXG4gICAgICogYF9sb2FkU3ZnU291cmNlVXNpbmdEYXRhVXJpYCBvciBgX2xvYWRTdmdTb3VyY2VVc2luZ1hocmAuXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5fbG9hZFN2Z1NvdXJjZSA9IGZ1bmN0aW9uIF9sb2FkU3ZnU291cmNlKCkge1xuICAgICAgICBpZiAodGhpcy5pbWFnZVR5cGUgIT09ICdzdmcnKSB7XG4gICAgICAgICAgICAvLyBEbyBub3RoaW5nIGlmIHNvdXJjZSBpcyBub3Qgc3ZnXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGF0YVVyaSA9ICgwLCBfdXRpbHMuZGVjb21wb3NlRGF0YVVyaSkodGhpcy5pbWFnZVVybCk7XG5cbiAgICAgICAgaWYgKGRhdGFVcmkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvYWRTdmdTb3VyY2VVc2luZ0RhdGFVcmkoZGF0YVVyaSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBXZSBnb3QgYW4gVVJMLCBzbyB3ZSBuZWVkIHRvIGRvIGFuIFhIUiB0byBjaGVjayB0aGUgc3ZnIHNpemVcbiAgICAgICAgICAgIHRoaXMuX2xvYWRTdmdTb3VyY2VVc2luZ1hocigpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlYWRzIGFuIFNWRyBzdHJpbmcgZnJvbSBkYXRhIFVSSSBhbmQgdGhlbiBjYWxscyBgX2xvYWRTdmdTb3VyY2VVc2luZ1N0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YVVyaSAtIFRoZSBkYXRhIHVyaSB0byBsb2FkIGZyb20uXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5fbG9hZFN2Z1NvdXJjZVVzaW5nRGF0YVVyaSA9IGZ1bmN0aW9uIF9sb2FkU3ZnU291cmNlVXNpbmdEYXRhVXJpKGRhdGFVcmkpIHtcbiAgICAgICAgdmFyIHN2Z1N0cmluZyA9IHZvaWQgMDtcblxuICAgICAgICBpZiAoZGF0YVVyaS5lbmNvZGluZyA9PT0gJ2Jhc2U2NCcpIHtcbiAgICAgICAgICAgIGlmICghYXRvYikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWW91ciBicm93c2VyIGRvZXNuXFwndCBzdXBwb3J0IGJhc2U2NCBjb252ZXJzaW9ucy4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN2Z1N0cmluZyA9IGF0b2IoZGF0YVVyaS5kYXRhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN2Z1N0cmluZyA9IGRhdGFVcmkuZGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xvYWRTdmdTb3VyY2VVc2luZ1N0cmluZyhzdmdTdHJpbmcpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBMb2FkcyBhbiBTVkcgc3RyaW5nIGZyb20gYGltYWdlVXJsYCB1c2luZyBYSFIgYW5kIHRoZW4gY2FsbHMgYF9sb2FkU3ZnU291cmNlVXNpbmdTdHJpbmdgLlxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuX2xvYWRTdmdTb3VyY2VVc2luZ1hociA9IGZ1bmN0aW9uIF9sb2FkU3ZnU291cmNlVXNpbmdYaHIoKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHZhciBzdmdYaHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgICAgICAvLyBUaGlzIHRocm93cyBlcnJvciBvbiBJRSwgc28gU1ZHIERvY3VtZW50IGNhbid0IGJlIHVzZWRcbiAgICAgICAgLy8gc3ZnWGhyLnJlc3BvbnNlVHlwZSA9ICdkb2N1bWVudCc7XG5cbiAgICAgICAgLy8gVGhpcyBpcyBub3QgbmVlZGVkIHNpbmNlIHdlIGxvYWQgdGhlIHN2ZyBhcyBzdHJpbmcgKGJyZWFrcyBJRSB0b28pXG4gICAgICAgIC8vIGJ1dCBvdmVycmlkZU1pbWVUeXBlKCkgY2FuIGJlIHVzZWQgdG8gZm9yY2UgdGhlIHJlc3BvbnNlIHRvIGJlIHBhcnNlZCBhcyBYTUxcbiAgICAgICAgLy8gc3ZnWGhyLm92ZXJyaWRlTWltZVR5cGUoJ2ltYWdlL3N2Zyt4bWwnKTtcblxuICAgICAgICBzdmdYaHIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHN2Z1hoci5yZWFkeVN0YXRlICE9PSBzdmdYaHIuRE9ORSB8fCBzdmdYaHIuc3RhdHVzICE9PSAyMDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBsb2FkIFNWRyB1c2luZyBYSFIuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF90aGlzMi5fbG9hZFN2Z1NvdXJjZVVzaW5nU3RyaW5nKHN2Z1hoci5yZXNwb25zZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgc3ZnWGhyLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMyLmVtaXQoJ2Vycm9yJywgX3RoaXMyKTtcbiAgICAgICAgfTtcblxuICAgICAgICBzdmdYaHIub3BlbignR0VUJywgdGhpcy5pbWFnZVVybCwgdHJ1ZSk7XG4gICAgICAgIHN2Z1hoci5zZW5kKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExvYWRzIHRleHR1cmUgdXNpbmcgYW4gU1ZHIHN0cmluZy4gVGhlIG9yaWdpbmFsIFNWRyBJbWFnZSBpcyBzdG9yZWQgYXMgYG9yaWdTb3VyY2VgIGFuZCB0aGVcbiAgICAgKiBjcmVhdGVkIGNhbnZhcyBpcyB0aGUgbmV3IGBzb3VyY2VgLiBUaGUgU1ZHIGlzIHNjYWxlZCB1c2luZyBgc291cmNlU2NhbGVgLiBDYWxsZWQgYnlcbiAgICAgKiBgX2xvYWRTdmdTb3VyY2VVc2luZ1hocmAgb3IgYF9sb2FkU3ZnU291cmNlVXNpbmdEYXRhVXJpYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gc3ZnU3RyaW5nIFNWRyBzb3VyY2UgYXMgc3RyaW5nXG4gICAgICpcbiAgICAgKiBAZmlyZXMgUElYSS5CYXNlVGV4dHVyZSNsb2FkZWRcbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLl9sb2FkU3ZnU291cmNlVXNpbmdTdHJpbmcgPSBmdW5jdGlvbiBfbG9hZFN2Z1NvdXJjZVVzaW5nU3RyaW5nKHN2Z1N0cmluZykge1xuICAgICAgICB2YXIgc3ZnU2l6ZSA9ICgwLCBfdXRpbHMuZ2V0U3ZnU2l6ZSkoc3ZnU3RyaW5nKTtcblxuICAgICAgICB2YXIgc3ZnV2lkdGggPSBzdmdTaXplLndpZHRoO1xuICAgICAgICB2YXIgc3ZnSGVpZ2h0ID0gc3ZnU2l6ZS5oZWlnaHQ7XG5cbiAgICAgICAgaWYgKCFzdmdXaWR0aCB8fCAhc3ZnSGVpZ2h0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBTVkcgaW1hZ2UgbXVzdCBoYXZlIHdpZHRoIGFuZCBoZWlnaHQgZGVmaW5lZCAoaW4gcGl4ZWxzKSwgY2FudmFzIEFQSSBuZWVkcyB0aGVtLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2NhbGUgcmVhbFdpZHRoIGFuZCByZWFsSGVpZ2h0XG4gICAgICAgIHRoaXMucmVhbFdpZHRoID0gTWF0aC5yb3VuZChzdmdXaWR0aCAqIHRoaXMuc291cmNlU2NhbGUpO1xuICAgICAgICB0aGlzLnJlYWxIZWlnaHQgPSBNYXRoLnJvdW5kKHN2Z0hlaWdodCAqIHRoaXMuc291cmNlU2NhbGUpO1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZURpbWVuc2lvbnMoKTtcblxuICAgICAgICAvLyBDcmVhdGUgYSBjYW52YXMgZWxlbWVudFxuICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICAgICAgY2FudmFzLndpZHRoID0gdGhpcy5yZWFsV2lkdGg7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSB0aGlzLnJlYWxIZWlnaHQ7XG4gICAgICAgIGNhbnZhcy5fcGl4aUlkID0gJ2NhbnZhc18nICsgKDAsIF91dGlscy51aWQpKCk7XG5cbiAgICAgICAgLy8gRHJhdyB0aGUgU3ZnIHRvIHRoZSBjYW52YXNcbiAgICAgICAgY2FudmFzLmdldENvbnRleHQoJzJkJykuZHJhd0ltYWdlKHRoaXMuc291cmNlLCAwLCAwLCBzdmdXaWR0aCwgc3ZnSGVpZ2h0LCAwLCAwLCB0aGlzLnJlYWxXaWR0aCwgdGhpcy5yZWFsSGVpZ2h0KTtcblxuICAgICAgICAvLyBSZXBsYWNlIHRoZSBvcmlnaW5hbCBzb3VyY2UgaW1hZ2Ugd2l0aCB0aGUgY2FudmFzXG4gICAgICAgIHRoaXMub3JpZ1NvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICB0aGlzLnNvdXJjZSA9IGNhbnZhcztcblxuICAgICAgICAvLyBBZGQgYWxzbyB0aGUgY2FudmFzIGluIGNhY2hlIChkZXN0cm95IGNsZWFycyBieSBgaW1hZ2VVcmxgIGFuZCBgc291cmNlLl9waXhpSWRgKVxuICAgICAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKHRoaXMsIGNhbnZhcy5fcGl4aUlkKTtcblxuICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9zb3VyY2VMb2FkZWQoKTtcbiAgICAgICAgdGhpcy5lbWl0KCdsb2FkZWQnLCB0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXNlZCBpbnRlcm5hbGx5IHRvIHVwZGF0ZSB0aGUgd2lkdGgsIGhlaWdodCwgYW5kIHNvbWUgb3RoZXIgdHJhY2tpbmcgdmFycyBvbmNlXG4gICAgICogYSBzb3VyY2UgaGFzIHN1Y2Nlc3NmdWxseSBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuX3NvdXJjZUxvYWRlZCA9IGZ1bmN0aW9uIF9zb3VyY2VMb2FkZWQoKSB7XG4gICAgICAgIHRoaXMuaGFzTG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBiYXNlIHRleHR1cmVcbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLmltYWdlVXJsKSB7XG4gICAgICAgICAgICBkZWxldGUgX3V0aWxzLlRleHR1cmVDYWNoZVt0aGlzLmltYWdlVXJsXTtcblxuICAgICAgICAgICAgdGhpcy5pbWFnZVVybCA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmICghbmF2aWdhdG9yLmlzQ29jb29uSlMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZS5zcmMgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc291cmNlID0gbnVsbDtcblxuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcblxuICAgICAgICBCYXNlVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUodGhpcyk7XG4gICAgICAgIHRoaXMudGV4dHVyZUNhY2hlSWRzID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGcmVlcyB0aGUgdGV4dHVyZSBmcm9tIFdlYkdMIG1lbW9yeSB3aXRob3V0IGRlc3Ryb3lpbmcgdGhpcyB0ZXh0dXJlIG9iamVjdC5cbiAgICAgKiBUaGlzIG1lYW5zIHlvdSBjYW4gc3RpbGwgdXNlIHRoZSB0ZXh0dXJlIGxhdGVyIHdoaWNoIHdpbGwgdXBsb2FkIGl0IHRvIEdQVVxuICAgICAqIG1lbW9yeSBhZ2Fpbi5cbiAgICAgKlxuICAgICAqIEBmaXJlcyBQSVhJLkJhc2VUZXh0dXJlI2Rpc3Bvc2VcbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLmVtaXQoJ2Rpc3Bvc2UnLCB0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgc291cmNlIGltYWdlIG9mIHRoZSB0ZXh0dXJlLlxuICAgICAqIFRoZSBvcmlnaW5hbCBzb3VyY2UgbXVzdCBiZSBhbiBJbWFnZSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5ld1NyYyAtIHRoZSBwYXRoIG9mIHRoZSBpbWFnZVxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUudXBkYXRlU291cmNlSW1hZ2UgPSBmdW5jdGlvbiB1cGRhdGVTb3VyY2VJbWFnZShuZXdTcmMpIHtcbiAgICAgICAgdGhpcy5zb3VyY2Uuc3JjID0gbmV3U3JjO1xuXG4gICAgICAgIHRoaXMubG9hZFNvdXJjZSh0aGlzLnNvdXJjZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBiYXNlIHRleHR1cmUgZnJvbSB0aGUgZ2l2ZW4gaW1hZ2UgdXJsLlxuICAgICAqIElmIHRoZSBpbWFnZSBpcyBub3QgaW4gdGhlIGJhc2UgdGV4dHVyZSBjYWNoZSBpdCB3aWxsIGJlIGNyZWF0ZWQgYW5kIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW1hZ2VVcmwgLSBUaGUgaW1hZ2UgdXJsIG9mIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY3Jvc3NvcmlnaW49KGF1dG8pXSAtIFNob3VsZCB1c2UgYW5vbnltb3VzIENPUlM/IERlZmF1bHRzIHRvIHRydWUgaWYgdGhlIFVSTCBpcyBub3QgYSBkYXRhLVVSSS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlTW9kZT1QSVhJLnNldHRpbmdzLlNDQUxFX01PREVdIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzb3VyY2VTY2FsZT0oYXV0byldIC0gU2NhbGUgZm9yIHRoZSBvcmlnaW5hbCBpbWFnZSwgdXNlZCB3aXRoIFN2ZyBpbWFnZXMuXG4gICAgICogQHJldHVybiB7UElYSS5CYXNlVGV4dHVyZX0gVGhlIG5ldyBiYXNlIHRleHR1cmUuXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLmZyb21JbWFnZSA9IGZ1bmN0aW9uIGZyb21JbWFnZShpbWFnZVVybCwgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSwgc291cmNlU2NhbGUpIHtcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gX3V0aWxzLkJhc2VUZXh0dXJlQ2FjaGVbaW1hZ2VVcmxdO1xuXG4gICAgICAgIGlmICghYmFzZVRleHR1cmUpIHtcbiAgICAgICAgICAgIC8vIG5ldyBJbWFnZSgpIGJyZWFrcyB0ZXggbG9hZGluZyBpbiBzb21lIHZlcnNpb25zIG9mIENocm9tZS5cbiAgICAgICAgICAgIC8vIFNlZSBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MjM4MDcxXG4gICAgICAgICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTsgLy8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG5cbiAgICAgICAgICAgIGlmIChjcm9zc29yaWdpbiA9PT0gdW5kZWZpbmVkICYmIGltYWdlVXJsLmluZGV4T2YoJ2RhdGE6JykgIT09IDApIHtcbiAgICAgICAgICAgICAgICBpbWFnZS5jcm9zc09yaWdpbiA9ICgwLCBfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4yLmRlZmF1bHQpKGltYWdlVXJsKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY3Jvc3NvcmlnaW4pIHtcbiAgICAgICAgICAgICAgICBpbWFnZS5jcm9zc09yaWdpbiA9IHR5cGVvZiBjcm9zc29yaWdpbiA9PT0gJ3N0cmluZycgPyBjcm9zc29yaWdpbiA6ICdhbm9ueW1vdXMnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBiYXNlVGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZShpbWFnZSwgc2NhbGVNb2RlKTtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLmltYWdlVXJsID0gaW1hZ2VVcmw7XG5cbiAgICAgICAgICAgIGlmIChzb3VyY2VTY2FsZSkge1xuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLnNvdXJjZVNjYWxlID0gc291cmNlU2NhbGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIGFuIEAyeCBhdCB0aGUgZW5kIG9mIHRoZSB1cmwgd2UgYXJlIGdvaW5nIHRvIGFzc3VtZSBpdHMgYSBoaWdocmVzIGltYWdlXG4gICAgICAgICAgICBiYXNlVGV4dHVyZS5yZXNvbHV0aW9uID0gKDAsIF91dGlscy5nZXRSZXNvbHV0aW9uT2ZVcmwpKGltYWdlVXJsKTtcblxuICAgICAgICAgICAgaW1hZ2Uuc3JjID0gaW1hZ2VVcmw7IC8vIFNldHRpbmcgdGhpcyB0cmlnZ2VycyBsb2FkXG5cbiAgICAgICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUoYmFzZVRleHR1cmUsIGltYWdlVXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBiYXNlVGV4dHVyZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIGJhc2UgdGV4dHVyZSBmcm9tIHRoZSBnaXZlbiBjYW52YXMgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXMgLSBUaGUgY2FudmFzIGVsZW1lbnQgc291cmNlIG9mIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlTW9kZSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3JpZ2luPSdjYW52YXMnXSAtIEEgc3RyaW5nIG9yaWdpbiBvZiB3aG8gY3JlYXRlZCB0aGUgYmFzZSB0ZXh0dXJlXG4gICAgICogQHJldHVybiB7UElYSS5CYXNlVGV4dHVyZX0gVGhlIG5ldyBiYXNlIHRleHR1cmUuXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLmZyb21DYW52YXMgPSBmdW5jdGlvbiBmcm9tQ2FudmFzKGNhbnZhcywgc2NhbGVNb2RlKSB7XG4gICAgICAgIHZhciBvcmlnaW4gPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICdjYW52YXMnO1xuXG4gICAgICAgIGlmICghY2FudmFzLl9waXhpSWQpIHtcbiAgICAgICAgICAgIGNhbnZhcy5fcGl4aUlkID0gb3JpZ2luICsgJ18nICsgKDAsIF91dGlscy51aWQpKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSBfdXRpbHMuQmFzZVRleHR1cmVDYWNoZVtjYW52YXMuX3BpeGlJZF07XG5cbiAgICAgICAgaWYgKCFiYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgYmFzZVRleHR1cmUgPSBuZXcgQmFzZVRleHR1cmUoY2FudmFzLCBzY2FsZU1vZGUpO1xuICAgICAgICAgICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZShiYXNlVGV4dHVyZSwgY2FudmFzLl9waXhpSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJhc2VUZXh0dXJlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgYmFzZSB0ZXh0dXJlIGJhc2VkIG9uIHRoZSBzb3VyY2UgeW91IHByb3ZpZGUuXG4gICAgICogVGhlIHNvdXJjZSBjYW4gYmUgLSBpbWFnZSB1cmwsIGltYWdlIGVsZW1lbnQsIGNhbnZhcyBlbGVtZW50LiBJZiB0aGVcbiAgICAgKiBzb3VyY2UgaXMgYW4gaW1hZ2UgdXJsIG9yIGFuIGltYWdlIGVsZW1lbnQgYW5kIG5vdCBpbiB0aGUgYmFzZSB0ZXh0dXJlXG4gICAgICogY2FjaGUsIGl0IHdpbGwgYmUgY3JlYXRlZCBhbmQgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfEhUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IHNvdXJjZSAtIFRoZSBzb3VyY2UgdG8gY3JlYXRlIGJhc2UgdGV4dHVyZSBmcm9tLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NvdXJjZVNjYWxlPShhdXRvKV0gLSBTY2FsZSBmb3IgdGhlIG9yaWdpbmFsIGltYWdlLCB1c2VkIHdpdGggU3ZnIGltYWdlcy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJhc2VUZXh0dXJlfSBUaGUgbmV3IGJhc2UgdGV4dHVyZS5cbiAgICAgKi9cblxuXG4gICAgQmFzZVRleHR1cmUuZnJvbSA9IGZ1bmN0aW9uIGZyb20oc291cmNlLCBzY2FsZU1vZGUsIHNvdXJjZVNjYWxlKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIEJhc2VUZXh0dXJlLmZyb21JbWFnZShzb3VyY2UsIHVuZGVmaW5lZCwgc2NhbGVNb2RlLCBzb3VyY2VTY2FsZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoc291cmNlIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIGltYWdlVXJsID0gc291cmNlLnNyYztcbiAgICAgICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IF91dGlscy5CYXNlVGV4dHVyZUNhY2hlW2ltYWdlVXJsXTtcblxuICAgICAgICAgICAgaWYgKCFiYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKHNvdXJjZSwgc2NhbGVNb2RlKTtcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS5pbWFnZVVybCA9IGltYWdlVXJsO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZVNjYWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLnNvdXJjZVNjYWxlID0gc291cmNlU2NhbGU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgYW4gQDJ4IGF0IHRoZSBlbmQgb2YgdGhlIHVybCB3ZSBhcmUgZ29pbmcgdG8gYXNzdW1lIGl0cyBhIGhpZ2hyZXMgaW1hZ2VcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS5yZXNvbHV0aW9uID0gKDAsIF91dGlscy5nZXRSZXNvbHV0aW9uT2ZVcmwpKGltYWdlVXJsKTtcblxuICAgICAgICAgICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUoYmFzZVRleHR1cmUsIGltYWdlVXJsKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGJhc2VUZXh0dXJlO1xuICAgICAgICB9IGVsc2UgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gQmFzZVRleHR1cmUuZnJvbUNhbnZhcyhzb3VyY2UsIHNjYWxlTW9kZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsZXRzIGFzc3VtZSBpdHMgYSBiYXNlIHRleHR1cmUhXG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBCYXNlVGV4dHVyZSB0byB0aGUgZ2xvYmFsIEJhc2VUZXh0dXJlQ2FjaGUuIFRoaXMgY2FjaGUgaXMgc2hhcmVkIGFjcm9zcyB0aGUgd2hvbGUgUElYSSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFRoZSBCYXNlVGV4dHVyZSB0byBhZGQgdG8gdGhlIGNhY2hlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCB0aGF0IHRoZSBCYXNlVGV4dHVyZSB3aWxsIGJlIHN0b3JlZCBhZ2FpbnN0LlxuICAgICAqL1xuXG5cbiAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlID0gZnVuY3Rpb24gYWRkVG9DYWNoZShiYXNlVGV4dHVyZSwgaWQpIHtcbiAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICBpZiAoYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmluZGV4T2YoaWQpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5wdXNoKGlkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQGlmIERFQlVHXG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gICAgICAgICAgICBpZiAoX3V0aWxzLkJhc2VUZXh0dXJlQ2FjaGVbaWRdKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdCYXNlVGV4dHVyZSBhZGRlZCB0byB0aGUgY2FjaGUgd2l0aCBhbiBpZCBbJyArIGlkICsgJ10gdGhhdCBhbHJlYWR5IGhhZCBhbiBlbnRyeScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG4gICAgICAgICAgICAvLyBAZW5kaWZcblxuICAgICAgICAgICAgX3V0aWxzLkJhc2VUZXh0dXJlQ2FjaGVbaWRdID0gYmFzZVRleHR1cmU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgQmFzZVRleHR1cmUgZnJvbSB0aGUgZ2xvYmFsIEJhc2VUZXh0dXJlQ2FjaGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd8UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBpZCBvZiBhIEJhc2VUZXh0dXJlIHRvIGJlIHJlbW92ZWQsIG9yIGEgQmFzZVRleHR1cmUgaW5zdGFuY2UgaXRzZWxmLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQmFzZVRleHR1cmV8bnVsbH0gVGhlIEJhc2VUZXh0dXJlIHRoYXQgd2FzIHJlbW92ZWQuXG4gICAgICovXG5cblxuICAgIEJhc2VUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSA9IGZ1bmN0aW9uIHJlbW92ZUZyb21DYWNoZShiYXNlVGV4dHVyZSkge1xuICAgICAgICBpZiAodHlwZW9mIGJhc2VUZXh0dXJlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdmFyIGJhc2VUZXh0dXJlRnJvbUNhY2hlID0gX3V0aWxzLkJhc2VUZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmVdO1xuXG4gICAgICAgICAgICBpZiAoYmFzZVRleHR1cmVGcm9tQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBiYXNlVGV4dHVyZUZyb21DYWNoZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZihiYXNlVGV4dHVyZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZUZyb21DYWNoZS50ZXh0dXJlQ2FjaGVJZHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkZWxldGUgX3V0aWxzLkJhc2VUZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmVdO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJhc2VUZXh0dXJlRnJvbUNhY2hlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGJhc2VUZXh0dXJlICYmIGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgX3V0aWxzLkJhc2VUZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzW2ldXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgICAgIHJldHVybiBiYXNlVGV4dHVyZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gQmFzZVRleHR1cmU7XG59KF9ldmVudGVtaXR0ZXIyLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBCYXNlVGV4dHVyZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhc2VUZXh0dXJlLmpzLm1hcCIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5cbnZhciBzdHlsZXNJbkRvbSA9IHt9O1xuXG52YXJcdG1lbW9pemUgPSBmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW87XG5cblx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdHJldHVybiBtZW1vO1xuXHR9O1xufTtcblxudmFyIGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcblx0Ly8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3Ncblx0Ly8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuXHQvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG5cdC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuXHQvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcblx0cmV0dXJuIHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iO1xufSk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG59O1xuXG52YXIgZ2V0RWxlbWVudCA9IChmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW8gPSB7fTtcblxuXHRyZXR1cm4gZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgcGFzc2luZyBmdW5jdGlvbiBpbiBvcHRpb25zLCB0aGVuIHVzZSBpdCBmb3IgcmVzb2x2ZSBcImhlYWRcIiBlbGVtZW50LlxuICAgICAgICAgICAgICAgIC8vIFVzZWZ1bCBmb3IgU2hhZG93IFJvb3Qgc3R5bGUgaS5lXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgaW5zZXJ0SW50bzogZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmb29cIikuc2hhZG93Um9vdCB9XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHR2YXIgc3R5bGVUYXJnZXQgPSBnZXRUYXJnZXQuY2FsbCh0aGlzLCB0YXJnZXQpO1xuXHRcdFx0Ly8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblx0XHRcdGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHQvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuXHRcdFx0XHRcdC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcblx0XHRcdFx0fSBjYXRjaChlKSB7XG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcblx0XHR9XG5cdFx0cmV0dXJuIG1lbW9bdGFyZ2V0XVxuXHR9O1xufSkoKTtcblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXJcdHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xudmFyXHRzdHlsZXNJbnNlcnRlZEF0VG9wID0gW107XG5cbnZhclx0Zml4VXJscyA9IHJlcXVpcmUoXCIuL3VybHNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xuXHRpZiAodHlwZW9mIERFQlVHICE9PSBcInVuZGVmaW5lZFwiICYmIERFQlVHKSB7XG5cdFx0aWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuXHR9XG5cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0b3B0aW9ucy5hdHRycyA9IHR5cGVvZiBvcHRpb25zLmF0dHJzID09PSBcIm9iamVjdFwiID8gb3B0aW9ucy5hdHRycyA6IHt9O1xuXG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cdGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSBcImJvb2xlYW5cIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgPGhlYWQ+IGVsZW1lbnRcbiAgICAgICAgaWYgKCFvcHRpb25zLmluc2VydEludG8pIG9wdGlvbnMuaW5zZXJ0SW50byA9IFwiaGVhZFwiO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiB0aGUgdGFyZ2V0XG5cdGlmICghb3B0aW9ucy5pbnNlcnRBdCkgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XG5cblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0LCBvcHRpb25zKTtcblxuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGUgKG5ld0xpc3QpIHtcblx0XHR2YXIgbWF5UmVtb3ZlID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xuXHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xuXHRcdH1cblxuXHRcdGlmKG5ld0xpc3QpIHtcblx0XHRcdHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCwgb3B0aW9ucyk7XG5cdFx0XHRhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XG5cblx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcblx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykgZG9tU3R5bGUucGFydHNbal0oKTtcblxuXHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn07XG5cbmZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tIChzdHlsZXMsIG9wdGlvbnMpIHtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdGlmKGRvbVN0eWxlKSB7XG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBwYXJ0cyA9IFtdO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblxuXHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGxpc3RUb1N0eWxlcyAobGlzdCwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGVzID0gW107XG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XG5cdFx0dmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG5cdFx0dmFyIGNzcyA9IGl0ZW1bMV07XG5cdFx0dmFyIG1lZGlhID0gaXRlbVsyXTtcblx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcblx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XG5cblx0XHRpZighbmV3U3R5bGVzW2lkXSkgc3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtpZDogaWQsIHBhcnRzOiBbcGFydF19KTtcblx0XHRlbHNlIG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcblx0fVxuXG5cdHJldHVybiBzdHlsZXM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudCAob3B0aW9ucywgc3R5bGUpIHtcblx0dmFyIHRhcmdldCA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRJbnRvKVxuXG5cdGlmICghdGFyZ2V0KSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnRJbnRvJyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG5cdH1cblxuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZXNJbnNlcnRlZEF0VG9wW3N0eWxlc0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XG5cblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcblx0XHRpZiAoIWxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCB0YXJnZXQuZmlyc3RDaGlsZCk7XG5cdFx0fSBlbHNlIGlmIChsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHRcdH1cblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGUpO1xuXHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcblx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcIm9iamVjdFwiICYmIG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlKSB7XG5cdFx0dmFyIG5leHRTaWJsaW5nID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8gKyBcIiBcIiArIG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlKTtcblx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBuZXh0U2libGluZyk7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiW1N0eWxlIExvYWRlcl1cXG5cXG4gSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcgKCdvcHRpb25zLmluc2VydEF0JykgZm91bmQuXFxuIE11c3QgYmUgJ3RvcCcsICdib3R0b20nLCBvciBPYmplY3QuXFxuIChodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlciNpbnNlcnRhdClcXG5cIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50IChzdHlsZSkge1xuXHRpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXHRzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcblxuXHR2YXIgaWR4ID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlKTtcblx0aWYoaWR4ID49IDApIHtcblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cblx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXG5cdGFkZEF0dHJzKHN0eWxlLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlKTtcblxuXHRyZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG5cblx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHRvcHRpb25zLmF0dHJzLnJlbCA9IFwic3R5bGVzaGVldFwiO1xuXG5cdGFkZEF0dHJzKGxpbmssIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGluayk7XG5cblx0cmV0dXJuIGxpbms7XG59XG5cbmZ1bmN0aW9uIGFkZEF0dHJzIChlbCwgYXR0cnMpIHtcblx0T2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdGVsLnNldEF0dHJpYnV0ZShrZXksIGF0dHJzW2tleV0pO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gYWRkU3R5bGUgKG9iaiwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGUsIHVwZGF0ZSwgcmVtb3ZlLCByZXN1bHQ7XG5cblx0Ly8gSWYgYSB0cmFuc2Zvcm0gZnVuY3Rpb24gd2FzIGRlZmluZWQsIHJ1biBpdCBvbiB0aGUgY3NzXG5cdGlmIChvcHRpb25zLnRyYW5zZm9ybSAmJiBvYmouY3NzKSB7XG5cdCAgICByZXN1bHQgPSBvcHRpb25zLnRyYW5zZm9ybShvYmouY3NzKTtcblxuXHQgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgXHQvLyBJZiB0cmFuc2Zvcm0gcmV0dXJucyBhIHZhbHVlLCB1c2UgdGhhdCBpbnN0ZWFkIG9mIHRoZSBvcmlnaW5hbCBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIHJ1bm5pbmcgcnVudGltZSB0cmFuc2Zvcm1hdGlvbnMgb24gdGhlIGNzcy5cblx0ICAgIFx0b2JqLmNzcyA9IHJlc3VsdDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICBcdC8vIElmIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24gcmV0dXJucyBhIGZhbHN5IHZhbHVlLCBkb24ndCBhZGQgdGhpcyBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIGNvbmRpdGlvbmFsIGxvYWRpbmcgb2YgY3NzXG5cdCAgICBcdHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgIFx0XHQvLyBub29wXG5cdCAgICBcdH07XG5cdCAgICB9XG5cdH1cblxuXHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcblx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcblxuXHRcdHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcblxuXHR9IGVsc2UgaWYgKFxuXHRcdG9iai5zb3VyY2VNYXAgJiZcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRcdHN0eWxlID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXG5cdFx0XHRpZihzdHlsZS5ocmVmKSBVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlLmhyZWYpO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXHRcdH07XG5cdH1cblxuXHR1cGRhdGUob2JqKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUgKG5ld09iaikge1xuXHRcdGlmIChuZXdPYmopIHtcblx0XHRcdGlmIChcblx0XHRcdFx0bmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJlxuXHRcdFx0XHRuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJlxuXHRcdFx0XHRuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVtb3ZlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xuXHR2YXIgdGV4dFN0b3JlID0gW107XG5cblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcblx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG5cblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcblx0fTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcgKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xuXG5cdGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuXHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyAoc3R5bGUsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuXG5cdGlmKG1lZGlhKSB7XG5cdFx0c3R5bGUuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXG5cdH1cblxuXHRpZihzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuXHR9IGVsc2Uge1xuXHRcdHdoaWxlKHN0eWxlLmZpcnN0Q2hpbGQpIHtcblx0XHRcdHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuXHRcdH1cblxuXHRcdHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmsgKGxpbmssIG9wdGlvbnMsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cblx0Lypcblx0XHRJZiBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgaXNuJ3QgZGVmaW5lZCwgYnV0IHNvdXJjZW1hcHMgYXJlIGVuYWJsZWRcblx0XHRhbmQgdGhlcmUgaXMgbm8gcHVibGljUGF0aCBkZWZpbmVkIHRoZW4gbGV0cyB0dXJuIGNvbnZlcnRUb0Fic29sdXRlVXJsc1xuXHRcdG9uIGJ5IGRlZmF1bHQuICBPdGhlcndpc2UgZGVmYXVsdCB0byB0aGUgY29udmVydFRvQWJzb2x1dGVVcmxzIG9wdGlvblxuXHRcdGRpcmVjdGx5XG5cdCovXG5cdHZhciBhdXRvRml4VXJscyA9IG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzID09PSB1bmRlZmluZWQgJiYgc291cmNlTWFwO1xuXG5cdGlmIChvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyB8fCBhdXRvRml4VXJscykge1xuXHRcdGNzcyA9IGZpeFVybHMoY3NzKTtcblx0fVxuXG5cdGlmIChzb3VyY2VNYXApIHtcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcblx0fVxuXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xuXG5cdHZhciBvbGRTcmMgPSBsaW5rLmhyZWY7XG5cblx0bGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuXHRpZihvbGRTcmMpIFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcbn1cbiIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih1c2VTb3VyY2VNYXApIHtcblx0dmFyIGxpc3QgPSBbXTtcblxuXHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0XHRcdHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXHRcdFx0aWYoaXRlbVsyXSkge1xuXHRcdFx0XHRyZXR1cm4gXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBjb250ZW50ICsgXCJ9XCI7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gY29udGVudDtcblx0XHRcdH1cblx0XHR9KS5qb2luKFwiXCIpO1xuXHR9O1xuXG5cdC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG5cdGxpc3QuaSA9IGZ1bmN0aW9uKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcblx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcblx0XHRcdG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcblx0XHR2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXHRcdFx0aWYodHlwZW9mIGlkID09PSBcIm51bWJlclwiKVxuXHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG5cdFx0fVxuXHRcdGZvcihpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcblx0XHRcdC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcblx0XHRcdC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXG5cdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxuXHRcdFx0Ly8gIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcblx0XHRcdGlmKHR5cGVvZiBpdGVtWzBdICE9PSBcIm51bWJlclwiIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG5cdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gbWVkaWFRdWVyeTtcblx0XHRcdFx0fSBlbHNlIGlmKG1lZGlhUXVlcnkpIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0bGlzdC5wdXNoKGl0ZW0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0cmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7XG5cdHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblx0aWYgKCFjc3NNYXBwaW5nKSB7XG5cdFx0cmV0dXJuIGNvbnRlbnQ7XG5cdH1cblxuXHRpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0dmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG5cdFx0dmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcblx0XHRcdHJldHVybiAnLyojIHNvdXJjZVVSTD0nICsgY3NzTWFwcGluZy5zb3VyY2VSb290ICsgc291cmNlICsgJyAqLydcblx0XHR9KTtcblxuXHRcdHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuXHR9XG5cblx0cmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn1cblxuLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcblx0dmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG5cdHZhciBkYXRhID0gJ3NvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCcgKyBiYXNlNjQ7XG5cblx0cmV0dXJuICcvKiMgJyArIGRhdGEgKyAnICovJztcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9UZXh0dXJlID0gcmVxdWlyZSgnLi4vY29yZS90ZXh0dXJlcy9UZXh0dXJlJyk7XG5cbnZhciBfVGV4dHVyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgdGVtcFBvaW50ID0gbmV3IGNvcmUuUG9pbnQoKTtcbnZhciB0ZW1wUG9seWdvbiA9IG5ldyBjb3JlLlBvbHlnb24oKTtcblxuLyoqXG4gKiBCYXNlIG1lc2ggY2xhc3NcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJLm1lc2hcbiAqL1xuXG52YXIgTWVzaCA9IGZ1bmN0aW9uIChfY29yZSRDb250YWluZXIpIHtcbiAgX2luaGVyaXRzKE1lc2gsIF9jb3JlJENvbnRhaW5lcik7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgdG8gdXNlXG4gICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbdmVydGljZXNdIC0gaWYgeW91IHdhbnQgdG8gc3BlY2lmeSB0aGUgdmVydGljZXNcbiAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFt1dnNdIC0gaWYgeW91IHdhbnQgdG8gc3BlY2lmeSB0aGUgdXZzXG4gICAqIEBwYXJhbSB7VWludDE2QXJyYXl9IFtpbmRpY2VzXSAtIGlmIHlvdSB3YW50IHRvIHNwZWNpZnkgdGhlIGluZGljZXNcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtkcmF3TW9kZV0gLSB0aGUgZHJhd01vZGUsIGNhbiBiZSBhbnkgb2YgdGhlIE1lc2guRFJBV19NT0RFUyBjb25zdHNcbiAgICovXG4gIGZ1bmN0aW9uIE1lc2godGV4dHVyZSwgdmVydGljZXMsIHV2cywgaW5kaWNlcywgZHJhd01vZGUpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWVzaCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dHVyZSBvZiB0aGUgTWVzaFxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuVGV4dHVyZS5FTVBUWVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkQ29udGFpbmVyLmNhbGwodGhpcykpO1xuXG4gICAgX3RoaXMuX3RleHR1cmUgPSB0ZXh0dXJlIHx8IF9UZXh0dXJlMi5kZWZhdWx0LkVNUFRZO1xuXG4gICAgLyoqXG4gICAgICogVGhlIFV2cyBvZiB0aGUgTWVzaFxuICAgICAqXG4gICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAqL1xuICAgIF90aGlzLnV2cyA9IHV2cyB8fCBuZXcgRmxvYXQzMkFycmF5KFswLCAwLCAxLCAwLCAxLCAxLCAwLCAxXSk7XG5cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiB2ZXJ0aWNlc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAqL1xuICAgIF90aGlzLnZlcnRpY2VzID0gdmVydGljZXMgfHwgbmV3IEZsb2F0MzJBcnJheShbMCwgMCwgMTAwLCAwLCAxMDAsIDEwMCwgMCwgMTAwXSk7XG5cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBjb250YWluaW5nIHRoZSBpbmRpY2VzIG9mIHRoZSB2ZXJ0aWNlc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7VWludDE2QXJyYXl9XG4gICAgICovXG4gICAgLy8gIFRPRE8gYXV0byBnZW5lcmF0ZSB0aGlzIGJhc2VkIG9uIGRyYXcgbW9kZSFcbiAgICBfdGhpcy5pbmRpY2VzID0gaW5kaWNlcyB8fCBuZXcgVWludDE2QXJyYXkoWzAsIDEsIDMsIDJdKTtcblxuICAgIC8qKlxuICAgICAqIFZlcnNpb24gb2YgbWVzaCB1dnMgYXJlIGRpcnR5IG9yIG5vdFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIF90aGlzLmRpcnR5ID0gMDtcblxuICAgIC8qKlxuICAgICAqIFZlcnNpb24gb2YgbWVzaCBpbmRpY2VzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgX3RoaXMuaW5kZXhEaXJ0eSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBzcHJpdGUuIFNldCB0byBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgIHRvIHJlbW92ZVxuICAgICAqIGFueSBibGVuZCBtb2RlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICovXG4gICAgX3RoaXMuYmxlbmRNb2RlID0gY29yZS5CTEVORF9NT0RFUy5OT1JNQUw7XG5cbiAgICAvKipcbiAgICAgKiBUcmlhbmdsZXMgaW4gY2FudmFzIG1vZGUgYXJlIGF1dG9tYXRpY2FsbHkgYW50aWFsaWFzZWQsIHVzZSB0aGlzIHZhbHVlIHRvIGZvcmNlIHRyaWFuZ2xlc1xuICAgICAqIHRvIG92ZXJsYXAgYSBiaXQgd2l0aCBlYWNoIG90aGVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIF90aGlzLmNhbnZhc1BhZGRpbmcgPSBjb3JlLnNldHRpbmdzLk1FU0hfQ0FOVkFTX1BBRERJTkc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2F5IHRoZSBNZXNoIHNob3VsZCBiZSBkcmF3biwgY2FuIGJlIGFueSBvZiB0aGUge0BsaW5rIFBJWEkubWVzaC5NZXNoLkRSQVdfTU9ERVN9IGNvbnN0c1xuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBzZWUgUElYSS5tZXNoLk1lc2guRFJBV19NT0RFU1xuICAgICAqL1xuICAgIF90aGlzLmRyYXdNb2RlID0gZHJhd01vZGUgfHwgTWVzaC5EUkFXX01PREVTLlRSSUFOR0xFX01FU0g7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCBzaGFkZXIgdGhhdCBpcyB1c2VkIGlmIGEgbWVzaCBkb2Vzbid0IGhhdmUgYSBtb3JlIHNwZWNpZmljIG9uZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuU2hhZGVyfVxuICAgICAqL1xuICAgIF90aGlzLnNoYWRlciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBtZXNoLiBUaGlzIGlzIGEgW3IsZyxiXSB2YWx1ZS4gQSB2YWx1ZSBvZiBbMSwxLDFdIHdpbGwgcmVtb3ZlIGFueVxuICAgICAqIHRpbnQgZWZmZWN0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIF90aGlzLnRpbnRSZ2IgPSBuZXcgRmxvYXQzMkFycmF5KFsxLCAxLCAxXSk7XG5cbiAgICAvKipcbiAgICAgKiBBIG1hcCBvZiByZW5kZXJlciBJRHMgdG8gd2ViZ2wgcmVuZGVyIGRhdGFcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7b2JqZWN0PG51bWJlciwgb2JqZWN0Pn1cbiAgICAgKi9cbiAgICBfdGhpcy5fZ2xEYXRhcyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogdHJhbnNmb3JtIHRoYXQgaXMgYXBwbGllZCB0byBVViB0byBnZXQgdGhlIHRleHR1cmUgY29vcmRzXG4gICAgICogaXRzIHVwZGF0ZWQgaW5kZXBlbmRlbnRseSBmcm9tIHRleHR1cmUgdXZUcmFuc2Zvcm1cbiAgICAgKiB1cGRhdGVzIG9mIHV2cyBhcmUgdGllZCB0byB0aGF0IHRoaW5nXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVNYXRyaXh9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdGhpcy5fdXZUcmFuc2Zvcm0gPSBuZXcgY29yZS5UZXh0dXJlTWF0cml4KF90aGlzLl90ZXh0dXJlKTtcblxuICAgIC8qKlxuICAgICAqIHdoZXRoZXIgb3Igbm90IHVwbG9hZCB1dlRyYW5zZm9ybSB0byBzaGFkZXJcbiAgICAgKiBpZiBpdHMgZmFsc2UsIHRoZW4gdXZzIHNob3VsZCBiZSBwcmUtbXVsdGlwbGllZFxuICAgICAqIGlmIHlvdSBjaGFuZ2UgaXQgZm9yIGdlbmVyYXRlZCBtZXNoLCBwbGVhc2UgY2FsbCAncmVmcmVzaCh0cnVlKSdcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgX3RoaXMudXBsb2FkVXZUcmFuc2Zvcm0gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFBsdWdpbiB0aGF0IGlzIHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgdGhpcyBlbGVtZW50LlxuICAgICAqIEFsbG93cyB0byBjdXN0b21pemUgdGhlIHJlbmRlcmluZyBwcm9jZXNzIHdpdGhvdXQgb3ZlcnJpZGluZyAnX3JlbmRlcldlYkdMJyAmICdfcmVuZGVyQ2FudmFzJyBtZXRob2RzLlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKiBAZGVmYXVsdCAnbWVzaCdcbiAgICAgKi9cbiAgICBfdGhpcy5wbHVnaW5OYW1lID0gJ21lc2gnO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIGEgcmVmZXJlbmNlIHRvIHRoZSBXZWJHTCByZW5kZXJlclxuICAgKi9cblxuXG4gIE1lc2gucHJvdG90eXBlLl9yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIF9yZW5kZXJXZWJHTChyZW5kZXJlcikge1xuICAgIHRoaXMucmVmcmVzaCgpO1xuICAgIHJlbmRlcmVyLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXSk7XG4gICAgcmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcih0aGlzKTtcbiAgfTtcblxuICAvKipcbiAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBDYW52YXMgcmVuZGVyZXJcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSBjYW52YXMgcmVuZGVyZXIuXG4gICAqL1xuXG5cbiAgTWVzaC5wcm90b3R5cGUuX3JlbmRlckNhbnZhcyA9IGZ1bmN0aW9uIF9yZW5kZXJDYW52YXMocmVuZGVyZXIpIHtcbiAgICB0aGlzLnJlZnJlc2goKTtcbiAgICByZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0ucmVuZGVyKHRoaXMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBXaGVuIHRoZSB0ZXh0dXJlIGlzIHVwZGF0ZWQsIHRoaXMgZXZlbnQgd2lsbCBmaXJlIHRvIHVwZGF0ZSB0aGUgc2NhbGUgYW5kIGZyYW1lXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgTWVzaC5wcm90b3R5cGUuX29uVGV4dHVyZVVwZGF0ZSA9IGZ1bmN0aW9uIF9vblRleHR1cmVVcGRhdGUoKSB7XG4gICAgdGhpcy5fdXZUcmFuc2Zvcm0udGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgdGhpcy5yZWZyZXNoKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIG11bHRpcGxpZXMgdXZzIG9ubHkgaWYgdXBsb2FkVXZUcmFuc2Zvcm0gaXMgZmFsc2VcbiAgICogY2FsbCBpdCBhZnRlciB5b3UgY2hhbmdlIHV2cyBtYW51YWxseVxuICAgKiBtYWtlIHN1cmUgdGhhdCB0ZXh0dXJlIGlzIHZhbGlkXG4gICAqL1xuXG5cbiAgTWVzaC5wcm90b3R5cGUubXVsdGlwbHlVdnMgPSBmdW5jdGlvbiBtdWx0aXBseVV2cygpIHtcbiAgICBpZiAoIXRoaXMudXBsb2FkVXZUcmFuc2Zvcm0pIHtcbiAgICAgIHRoaXMuX3V2VHJhbnNmb3JtLm11bHRpcGx5VXZzKHRoaXMudXZzKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlZnJlc2hlcyB1dnMgZm9yIGdlbmVyYXRlZCBtZXNoZXMgKHJvcGUsIHBsYW5lKVxuICAgKiBzb21ldGltZXMgcmVmcmVzaGVzIHZlcnRpY2VzIHRvb1xuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmb3JjZVVwZGF0ZT1mYWxzZV0gaWYgdHJ1ZSwgbWF0cmljZXMgd2lsbCBiZSB1cGRhdGVkIGFueSBjYXNlXG4gICAqL1xuXG5cbiAgTWVzaC5wcm90b3R5cGUucmVmcmVzaCA9IGZ1bmN0aW9uIHJlZnJlc2goZm9yY2VVcGRhdGUpIHtcbiAgICBpZiAodGhpcy5fdXZUcmFuc2Zvcm0udXBkYXRlKGZvcmNlVXBkYXRlKSkge1xuICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogcmUtY2FsY3VsYXRlcyBtZXNoIGNvb3Jkc1xuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuXG5cbiAgTWVzaC5wcm90b3R5cGUuX3JlZnJlc2ggPSBmdW5jdGlvbiBfcmVmcmVzaCgpIHt9XG4gIC8qIGVtcHR5ICovXG5cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgYm91bmRzIG9mIHRoZSBtZXNoIGFzIGEgcmVjdGFuZ2xlLiBUaGUgYm91bmRzIGNhbGN1bGF0aW9uIHRha2VzIHRoZSB3b3JsZFRyYW5zZm9ybSBpbnRvIGFjY291bnQuXG4gICAqXG4gICAqL1xuICA7XG5cbiAgTWVzaC5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uIF9jYWxjdWxhdGVCb3VuZHMoKSB7XG4gICAgLy8gVE9ETyAtIHdlIGNhbiBjYWNoZSBsb2NhbCBib3VuZHMgYW5kIHVzZSB0aGVtIGlmIHRoZXkgYXJlIGRpcnR5IChsaWtlIGdyYXBoaWNzKVxuICAgIHRoaXMuX2JvdW5kcy5hZGRWZXJ0aWNlcyh0aGlzLnRyYW5zZm9ybSwgdGhpcy52ZXJ0aWNlcywgMCwgdGhpcy52ZXJ0aWNlcy5sZW5ndGgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUZXN0cyBpZiBhIHBvaW50IGlzIGluc2lkZSB0aGlzIG1lc2guIFdvcmtzIG9ubHkgZm9yIFRSSUFOR0xFX01FU0hcbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb2ludCAtIHRoZSBwb2ludCB0byB0ZXN0XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IHRoZSByZXN1bHQgb2YgdGhlIHRlc3RcbiAgICovXG5cblxuICBNZXNoLnByb3RvdHlwZS5jb250YWluc1BvaW50ID0gZnVuY3Rpb24gY29udGFpbnNQb2ludChwb2ludCkge1xuICAgIGlmICghdGhpcy5nZXRCb3VuZHMoKS5jb250YWlucyhwb2ludC54LCBwb2ludC55KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0ZW1wUG9pbnQpO1xuXG4gICAgdmFyIHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlcztcbiAgICB2YXIgcG9pbnRzID0gdGVtcFBvbHlnb24ucG9pbnRzO1xuICAgIHZhciBpbmRpY2VzID0gdGhpcy5pbmRpY2VzO1xuICAgIHZhciBsZW4gPSB0aGlzLmluZGljZXMubGVuZ3RoO1xuICAgIHZhciBzdGVwID0gdGhpcy5kcmF3TW9kZSA9PT0gTWVzaC5EUkFXX01PREVTLlRSSUFOR0xFUyA/IDMgOiAxO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgKyAyIDwgbGVuOyBpICs9IHN0ZXApIHtcbiAgICAgIHZhciBpbmQwID0gaW5kaWNlc1tpXSAqIDI7XG4gICAgICB2YXIgaW5kMSA9IGluZGljZXNbaSArIDFdICogMjtcbiAgICAgIHZhciBpbmQyID0gaW5kaWNlc1tpICsgMl0gKiAyO1xuXG4gICAgICBwb2ludHNbMF0gPSB2ZXJ0aWNlc1tpbmQwXTtcbiAgICAgIHBvaW50c1sxXSA9IHZlcnRpY2VzW2luZDAgKyAxXTtcbiAgICAgIHBvaW50c1syXSA9IHZlcnRpY2VzW2luZDFdO1xuICAgICAgcG9pbnRzWzNdID0gdmVydGljZXNbaW5kMSArIDFdO1xuICAgICAgcG9pbnRzWzRdID0gdmVydGljZXNbaW5kMl07XG4gICAgICBwb2ludHNbNV0gPSB2ZXJ0aWNlc1tpbmQyICsgMV07XG5cbiAgICAgIGlmICh0ZW1wUG9seWdvbi5jb250YWlucyh0ZW1wUG9pbnQueCwgdGVtcFBvaW50LnkpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvKipcbiAgICogVGhlIHRleHR1cmUgdGhhdCB0aGUgbWVzaCB1c2VzLlxuICAgKlxuICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKE1lc2gsIFt7XG4gICAga2V5OiAndGV4dHVyZScsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICBpZiAodGhpcy5fdGV4dHVyZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl90ZXh0dXJlID0gdmFsdWU7XG5cbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAvLyB3YWl0IGZvciB0aGUgdGV4dHVyZSB0byBsb2FkXG4gICAgICAgIGlmICh2YWx1ZS5iYXNlVGV4dHVyZS5oYXNMb2FkZWQpIHtcbiAgICAgICAgICB0aGlzLl9vblRleHR1cmVVcGRhdGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWx1ZS5vbmNlKCd1cGRhdGUnLCB0aGlzLl9vblRleHR1cmVVcGRhdGUsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgbWVzaC4gVGhpcyBpcyBhIGhleCB2YWx1ZS4gQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAndGludCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gY29yZS51dGlscy5yZ2IyaGV4KHRoaXMudGludFJnYik7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgdGhpcy50aW50UmdiID0gY29yZS51dGlscy5oZXgycmdiKHZhbHVlLCB0aGlzLnRpbnRSZ2IpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNZXNoO1xufShjb3JlLkNvbnRhaW5lcik7XG5cbi8qKlxuICogRGlmZmVyZW50IGRyYXdpbmcgYnVmZmVyIG1vZGVzIHN1cHBvcnRlZFxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRV9NRVNIXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVTXG4gKi9cblxuXG5leHBvcnRzLmRlZmF1bHQgPSBNZXNoO1xuTWVzaC5EUkFXX01PREVTID0ge1xuICBUUklBTkdMRV9NRVNIOiAwLFxuICBUUklBTkdMRVM6IDFcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NZXNoLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuLy8gaW1wb3J0IExvYWRlciBmcm9tICcuL0xvYWRlcic7XG4vLyBpbXBvcnQgUmVzb3VyY2UgZnJvbSAnLi9SZXNvdXJjZSc7XG4vLyBpbXBvcnQgKiBhcyBhc3luYyBmcm9tICcuL2FzeW5jJztcbi8vIGltcG9ydCAqIGFzIGI2NCBmcm9tICcuL2I2NCc7XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmICovXG5cbnZhciBMb2FkZXIgPSByZXF1aXJlKCcuL0xvYWRlcicpLmRlZmF1bHQ7XG52YXIgUmVzb3VyY2UgPSByZXF1aXJlKCcuL1Jlc291cmNlJykuZGVmYXVsdDtcbnZhciBhc3luYyA9IHJlcXVpcmUoJy4vYXN5bmMnKTtcbnZhciBiNjQgPSByZXF1aXJlKCcuL2I2NCcpO1xuXG5Mb2FkZXIuUmVzb3VyY2UgPSBSZXNvdXJjZTtcbkxvYWRlci5hc3luYyA9IGFzeW5jO1xuTG9hZGVyLmJhc2U2NCA9IGI2NDtcblxuLy8gZXhwb3J0IG1hbnVhbGx5LCBhbmQgYWxzbyBhcyBkZWZhdWx0XG5tb2R1bGUuZXhwb3J0cyA9IExvYWRlcjtcbi8vIGV4cG9ydCBkZWZhdWx0IExvYWRlcjtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBMb2FkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfcGl4aUdsQ29yZSA9IHJlcXVpcmUoJ3BpeGktZ2wtY29yZScpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBjaGVja1ByZWNpc2lvbihzcmMsIGRlZikge1xuICAgIGlmIChzcmMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICBpZiAoc3JjWzBdLnN1YnN0cmluZygwLCA5KSAhPT0gJ3ByZWNpc2lvbicpIHtcbiAgICAgICAgICAgIHZhciBjb3B5ID0gc3JjLnNsaWNlKDApO1xuXG4gICAgICAgICAgICBjb3B5LnVuc2hpZnQoJ3ByZWNpc2lvbiAnICsgZGVmICsgJyBmbG9hdDsnKTtcblxuICAgICAgICAgICAgcmV0dXJuIGNvcHk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHNyYy50cmltKCkuc3Vic3RyaW5nKDAsIDkpICE9PSAncHJlY2lzaW9uJykge1xuICAgICAgICByZXR1cm4gJ3ByZWNpc2lvbiAnICsgZGVmICsgJyBmbG9hdDtcXG4nICsgc3JjO1xuICAgIH1cblxuICAgIHJldHVybiBzcmM7XG59XG5cbi8qKlxuICogV3JhcHBlciBjbGFzcywgd2ViR0wgU2hhZGVyIGZvciBQaXhpLlxuICogQWRkcyBwcmVjaXNpb24gc3RyaW5nIGlmIHZlcnRleFNyYyBvciBmcmFnbWVudFNyYyBoYXZlIG5vIG1lbnRpb24gb2YgaXQuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBHTFNoYWRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuXG52YXIgU2hhZGVyID0gZnVuY3Rpb24gKF9HTFNoYWRlcikge1xuICAgIF9pbmhlcml0cyhTaGFkZXIsIF9HTFNoYWRlcik7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IHZlcnRleFNyYyAtIFRoZSB2ZXJ0ZXggc2hhZGVyIHNvdXJjZSBhcyBhbiBhcnJheSBvZiBzdHJpbmdzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSBmcmFnbWVudFNyYyAtIFRoZSBmcmFnbWVudCBzaGFkZXIgc291cmNlIGFzIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFthdHRyaWJ1dGVMb2NhdGlvbnNdIC0gQSBrZXkgdmFsdWUgcGFpciBzaG93aW5nIHdoaWNoIGxvY2F0aW9uIGVhY3QgYXR0cmlidXRlIHNob3VsZCBzaXQuXG4gICAgICAgICAgICAgICAgICAgICAgIGUuZy4ge3Bvc2l0aW9uOjAsIHV2czoxfS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ByZWNpc2lvbl0gLSBUaGUgZmxvYXQgcHJlY2lzaW9uIG9mIHRoZSBzaGFkZXIuIE9wdGlvbnMgYXJlICdsb3dwJywgJ21lZGl1bXAnIG9yICdoaWdocCcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2hhZGVyKGdsLCB2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBhdHRyaWJ1dGVMb2NhdGlvbnMsIHByZWNpc2lvbikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2hhZGVyKTtcblxuICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0dMU2hhZGVyLmNhbGwodGhpcywgZ2wsIGNoZWNrUHJlY2lzaW9uKHZlcnRleFNyYywgcHJlY2lzaW9uIHx8IF9zZXR0aW5nczIuZGVmYXVsdC5QUkVDSVNJT05fVkVSVEVYKSwgY2hlY2tQcmVjaXNpb24oZnJhZ21lbnRTcmMsIHByZWNpc2lvbiB8fCBfc2V0dGluZ3MyLmRlZmF1bHQuUFJFQ0lTSU9OX0ZSQUdNRU5UKSwgdW5kZWZpbmVkLCBhdHRyaWJ1dGVMb2NhdGlvbnMpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gU2hhZGVyO1xufShfcGl4aUdsQ29yZS5HTFNoYWRlcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFNoYWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNoYWRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgV2ViR0xNYW5hZ2VyID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAqL1xuICBmdW5jdGlvbiBXZWJHTE1hbmFnZXIocmVuZGVyZXIpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV2ViR0xNYW5hZ2VyKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSByZW5kZXJlciB0aGlzIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5XZWJHTFJlbmRlcmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcblxuICAgIHRoaXMucmVuZGVyZXIub24oJ2NvbnRleHQnLCB0aGlzLm9uQ29udGV4dENoYW5nZSwgdGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJpYyBtZXRob2QgY2FsbGVkIHdoZW4gdGhlcmUgaXMgYSBXZWJHTCBjb250ZXh0IGNoYW5nZS5cbiAgICpcbiAgICovXG5cblxuICBXZWJHTE1hbmFnZXIucHJvdG90eXBlLm9uQ29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIG9uQ29udGV4dENoYW5nZSgpIHt9XG4gIC8vIGRvIHNvbWUgY29kZXMgaW5pdCFcblxuXG4gIC8qKlxuICAgKiBHZW5lcmljIGRlc3Ryb3kgbWV0aG9kcyB0byBiZSBvdmVycmlkZGVuIGJ5IHRoZSBzdWJjbGFzc1xuICAgKlxuICAgKi9cbiAgO1xuXG4gIFdlYkdMTWFuYWdlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5yZW5kZXJlci5vZmYoJ2NvbnRleHQnLCB0aGlzLm9uQ29udGV4dENoYW5nZSwgdGhpcyk7XG5cbiAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgfTtcblxuICByZXR1cm4gV2ViR0xNYW5hZ2VyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBXZWJHTE1hbmFnZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1XZWJHTE1hbmFnZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1N5c3RlbVJlbmRlcmVyMiA9IHJlcXVpcmUoJy4uL1N5c3RlbVJlbmRlcmVyJyk7XG5cbnZhciBfU3lzdGVtUmVuZGVyZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3lzdGVtUmVuZGVyZXIyKTtcblxudmFyIF9DYW52YXNNYXNrTWFuYWdlciA9IHJlcXVpcmUoJy4vdXRpbHMvQ2FudmFzTWFza01hbmFnZXInKTtcblxudmFyIF9DYW52YXNNYXNrTWFuYWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNNYXNrTWFuYWdlcik7XG5cbnZhciBfQ2FudmFzUmVuZGVyVGFyZ2V0ID0gcmVxdWlyZSgnLi91dGlscy9DYW52YXNSZW5kZXJUYXJnZXQnKTtcblxudmFyIF9DYW52YXNSZW5kZXJUYXJnZXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzUmVuZGVyVGFyZ2V0KTtcblxudmFyIF9tYXBDYW52YXNCbGVuZE1vZGVzVG9QaXhpID0gcmVxdWlyZSgnLi91dGlscy9tYXBDYW52YXNCbGVuZE1vZGVzVG9QaXhpJyk7XG5cbnZhciBfbWFwQ2FudmFzQmxlbmRNb2Rlc1RvUGl4aTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXBDYW52YXNCbGVuZE1vZGVzVG9QaXhpKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzJyk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi9jb25zdCcpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi4vLi4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBUaGUgQ2FudmFzUmVuZGVyZXIgZHJhd3MgdGhlIHNjZW5lIGFuZCBhbGwgaXRzIGNvbnRlbnQgb250byBhIDJkIGNhbnZhcy4gVGhpcyByZW5kZXJlciBzaG91bGRcbiAqIGJlIHVzZWQgZm9yIGJyb3dzZXJzIHRoYXQgZG8gbm90IHN1cHBvcnQgV2ViR0wuIERvbid0IGZvcmdldCB0byBhZGQgdGhlIENhbnZhc1JlbmRlcmVyLnZpZXcgdG9cbiAqIHlvdXIgRE9NIG9yIHlvdSB3aWxsIG5vdCBzZWUgYW55dGhpbmcgOilcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVJlbmRlcmVyXG4gKi9cbnZhciBDYW52YXNSZW5kZXJlciA9IGZ1bmN0aW9uIChfU3lzdGVtUmVuZGVyZXIpIHtcbiAgICBfaW5oZXJpdHMoQ2FudmFzUmVuZGVyZXIsIF9TeXN0ZW1SZW5kZXJlcik7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdmFsaWQtanNkb2NcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbmFsIHJlbmRlcmVyIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9ODAwXSAtIHRoZSB3aWR0aCBvZiB0aGUgc2NyZWVuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodD02MDBdIC0gdGhlIGhlaWdodCBvZiB0aGUgc2NyZWVuXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW29wdGlvbnMudmlld10gLSB0aGUgY2FudmFzIHRvIHVzZSBhcyBhIHZpZXcsIG9wdGlvbmFsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFuc3BhcmVudD1mYWxzZV0gLSBJZiB0aGUgcmVuZGVyIHZpZXcgaXMgdHJhbnNwYXJlbnQsIGRlZmF1bHQgZmFsc2VcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9SZXNpemU9ZmFsc2VdIC0gSWYgdGhlIHJlbmRlciB2aWV3IGlzIGF1dG9tYXRpY2FsbHkgcmVzaXplZCwgZGVmYXVsdCBmYWxzZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYW50aWFsaWFzPWZhbHNlXSAtIHNldHMgYW50aWFsaWFzIChvbmx5IGFwcGxpY2FibGUgaW4gY2hyb21lIGF0IHRoZSBtb21lbnQpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIuIFRoZVxuICAgICAqICByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXJlciByZXRpbmEgd291bGQgYmUgMi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj1mYWxzZV0gLSBlbmFibGVzIGRyYXdpbmcgYnVmZmVyIHByZXNlcnZhdGlvbixcbiAgICAgKiAgZW5hYmxlIHRoaXMgaWYgeW91IG5lZWQgdG8gY2FsbCB0b0RhdGFVcmwgb24gdGhlIHdlYmdsIGNvbnRleHQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcj10cnVlXSAtIFRoaXMgc2V0cyBpZiB0aGUgcmVuZGVyZXIgd2lsbCBjbGVhciB0aGUgY2FudmFzIG9yXG4gICAgICogICAgICBub3QgYmVmb3JlIHRoZSBuZXcgcmVuZGVyIHBhc3MuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJhY2tncm91bmRDb2xvcj0weDAwMDAwMF0gLSBUaGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgcmVuZGVyZWQgYXJlYVxuICAgICAqICAoc2hvd24gaWYgbm90IHRyYW5zcGFyZW50KS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnJvdW5kUGl4ZWxzPWZhbHNlXSAtIElmIHRydWUgUGl4aUpTIHdpbGwgTWF0aC5mbG9vcigpIHgveSB2YWx1ZXMgd2hlbiByZW5kZXJpbmcsXG4gICAgICogIHN0b3BwaW5nIHBpeGVsIGludGVycG9sYXRpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ2FudmFzUmVuZGVyZXIob3B0aW9ucywgYXJnMiwgYXJnMykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FudmFzUmVuZGVyZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9TeXN0ZW1SZW5kZXJlci5jYWxsKHRoaXMsICdDYW52YXMnLCBvcHRpb25zLCBhcmcyLCBhcmczKSk7XG5cbiAgICAgICAgX3RoaXMudHlwZSA9IF9jb25zdC5SRU5ERVJFUl9UWVBFLkNBTlZBUztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJvb3QgY2FudmFzIDJkIGNvbnRleHQgdGhhdCBldmVyeXRoaW5nIGlzIGRyYXduIHdpdGguXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnJvb3RDb250ZXh0ID0gX3RoaXMudmlldy5nZXRDb250ZXh0KCcyZCcsIHsgYWxwaGE6IF90aGlzLnRyYW5zcGFyZW50IH0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudGx5IGFjdGl2ZSBjYW52YXMgMmQgY29udGV4dCAoY291bGQgY2hhbmdlIHdpdGggcmVuZGVyVGV4dHVyZXMpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbnRleHQgPSBfdGhpcy5yb290Q29udGV4dDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQm9vbGVhbiBmbGFnIGNvbnRyb2xsaW5nIGNhbnZhcyByZWZyZXNoLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVmcmVzaCA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluc3RhbmNlIG9mIGEgQ2FudmFzTWFza01hbmFnZXIsIGhhbmRsZXMgbWFza2luZyB3aGVuIHVzaW5nIHRoZSBjYW52YXMgcmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQ2FudmFzTWFza01hbmFnZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tYXNrTWFuYWdlciA9IG5ldyBfQ2FudmFzTWFza01hbmFnZXIyLmRlZmF1bHQoX3RoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FudmFzIHByb3BlcnR5IHVzZWQgdG8gc2V0IHRoZSBjYW52YXMgc21vb3RoaW5nIHByb3BlcnR5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zbW9vdGhQcm9wZXJ0eSA9ICdpbWFnZVNtb290aGluZ0VuYWJsZWQnO1xuXG4gICAgICAgIGlmICghX3RoaXMucm9vdENvbnRleHQuaW1hZ2VTbW9vdGhpbmdFbmFibGVkKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMucm9vdENvbnRleHQud2Via2l0SW1hZ2VTbW9vdGhpbmdFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc21vb3RoUHJvcGVydHkgPSAnd2Via2l0SW1hZ2VTbW9vdGhpbmdFbmFibGVkJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMucm9vdENvbnRleHQubW96SW1hZ2VTbW9vdGhpbmdFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc21vb3RoUHJvcGVydHkgPSAnbW96SW1hZ2VTbW9vdGhpbmdFbmFibGVkJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMucm9vdENvbnRleHQub0ltYWdlU21vb3RoaW5nRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnNtb290aFByb3BlcnR5ID0gJ29JbWFnZVNtb290aGluZ0VuYWJsZWQnO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpcy5yb290Q29udGV4dC5tc0ltYWdlU21vb3RoaW5nRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnNtb290aFByb3BlcnR5ID0gJ21zSW1hZ2VTbW9vdGhpbmdFbmFibGVkJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLmluaXRQbHVnaW5zKCk7XG5cbiAgICAgICAgX3RoaXMuYmxlbmRNb2RlcyA9ICgwLCBfbWFwQ2FudmFzQmxlbmRNb2Rlc1RvUGl4aTIuZGVmYXVsdCkoKTtcbiAgICAgICAgX3RoaXMuX2FjdGl2ZUJsZW5kTW9kZSA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMucmVuZGVyaW5nVG9TY3JlZW4gPSBmYWxzZTtcblxuICAgICAgICBfdGhpcy5yZXNpemUoX3RoaXMub3B0aW9ucy53aWR0aCwgX3RoaXMub3B0aW9ucy5oZWlnaHQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCBhZnRlciByZW5kZXJpbmcgZmluaXNoZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkNhbnZhc1JlbmRlcmVyI3Bvc3RyZW5kZXJcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIGJlZm9yZSByZW5kZXJpbmcgc3RhcnRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5DYW52YXNSZW5kZXJlciNwcmVyZW5kZXJcbiAgICAgICAgICovXG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdG8gdGhpcyBjYW52YXMgdmlld1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSBUaGUgb2JqZWN0IHRvIGJlIHJlbmRlcmVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IFtyZW5kZXJUZXh0dXJlXSAtIEEgcmVuZGVyIHRleHR1cmUgdG8gYmUgcmVuZGVyZWQgdG8uXG4gICAgICogIElmIHVuc2V0LCBpdCB3aWxsIHJlbmRlciB0byB0aGUgcm9vdCBjb250ZXh0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NsZWFyPWZhbHNlXSAtIFdoZXRoZXIgdG8gY2xlYXIgdGhlIGNhbnZhcyBiZWZvcmUgZHJhd2luZ1xuICAgICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm19IFt0cmFuc2Zvcm1dIC0gQSB0cmFuc2Zvcm1hdGlvbiB0byBiZSBhcHBsaWVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZVRyYW5zZm9ybT1mYWxzZV0gLSBXaGV0aGVyIHRvIHNraXAgdGhlIHVwZGF0ZSB0cmFuc2Zvcm1cbiAgICAgKi9cblxuXG4gICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcihkaXNwbGF5T2JqZWN0LCByZW5kZXJUZXh0dXJlLCBjbGVhciwgdHJhbnNmb3JtLCBza2lwVXBkYXRlVHJhbnNmb3JtKSB7XG4gICAgICAgIGlmICghdGhpcy52aWV3KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjYW4gYmUgaGFuZHkgdG8ga25vdyFcbiAgICAgICAgdGhpcy5yZW5kZXJpbmdUb1NjcmVlbiA9ICFyZW5kZXJUZXh0dXJlO1xuXG4gICAgICAgIHRoaXMuZW1pdCgncHJlcmVuZGVyJyk7XG5cbiAgICAgICAgdmFyIHJvb3RSZXNvbHV0aW9uID0gdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZSB8fCByZW5kZXJUZXh0dXJlO1xuXG4gICAgICAgICAgICBpZiAoIXJlbmRlclRleHR1cmUuX2NhbnZhc1JlbmRlclRhcmdldCkge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUuX2NhbnZhc1JlbmRlclRhcmdldCA9IG5ldyBfQ2FudmFzUmVuZGVyVGFyZ2V0Mi5kZWZhdWx0KHJlbmRlclRleHR1cmUud2lkdGgsIHJlbmRlclRleHR1cmUuaGVpZ2h0LCByZW5kZXJUZXh0dXJlLnJlc29sdXRpb24pO1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUuc291cmNlID0gcmVuZGVyVGV4dHVyZS5fY2FudmFzUmVuZGVyVGFyZ2V0LmNhbnZhcztcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0dXJlLnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jb250ZXh0ID0gcmVuZGVyVGV4dHVyZS5fY2FudmFzUmVuZGVyVGFyZ2V0LmNvbnRleHQ7XG4gICAgICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZW5kZXJUZXh0dXJlLl9jYW52YXNSZW5kZXJUYXJnZXQucmVzb2x1dGlvbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dCA9IHRoaXMucm9vdENvbnRleHQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dDtcblxuICAgICAgICBpZiAoIXJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RPYmplY3RSZW5kZXJlZCA9IGRpc3BsYXlPYmplY3Q7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXNraXBVcGRhdGVUcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgc2NlbmUgZ3JhcGhcbiAgICAgICAgICAgIHZhciBjYWNoZVBhcmVudCA9IGRpc3BsYXlPYmplY3QucGFyZW50O1xuICAgICAgICAgICAgdmFyIHRlbXBXdCA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcblxuICAgICAgICAgICAgaWYgKHRyYW5zZm9ybSkge1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybS5jb3B5KHRlbXBXdCk7XG5cbiAgICAgICAgICAgICAgICAvLyBsZXRzIG5vdCBmb3JnZXQgdG8gZmxhZyB0aGUgcGFyZW50IHRyYW5zZm9ybSBhcyBkaXJ0eS4uLlxuICAgICAgICAgICAgICAgIHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LnRyYW5zZm9ybS5fd29ybGRJRCA9IC0xO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ZW1wV3QuaWRlbnRpdHkoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGlzcGxheU9iamVjdC5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcblxuICAgICAgICAgICAgZGlzcGxheU9iamVjdC51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QucGFyZW50ID0gY2FjaGVQYXJlbnQ7XG4gICAgICAgICAgICAvLyBkaXNwbGF5T2JqZWN0LmhpdEFyZWEgPSAvL1RPRE8gYWRkIGEgdGVtcCBoaXQgYXJlYVxuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gMTtcbiAgICAgICAgdGhpcy5fYWN0aXZlQmxlbmRNb2RlID0gX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTDtcbiAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSB0aGlzLmJsZW5kTW9kZXNbX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTF07XG5cbiAgICAgICAgaWYgKG5hdmlnYXRvci5pc0NvY29vbkpTICYmIHRoaXMudmlldy5zY3JlZW5jYW52YXMpIHtcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICAgICAgICAgIGNvbnRleHQuY2xlYXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjbGVhciAhPT0gdW5kZWZpbmVkID8gY2xlYXIgOiB0aGlzLmNsZWFyQmVmb3JlUmVuZGVyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZW5kZXJpbmdUb1NjcmVlbikge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuX2JhY2tncm91bmRDb2xvclN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSAvLyBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRPRE86IGltcGxlbWVudCBiYWNrZ3JvdW5kIGZvciBDYW52YXNSZW5kZXJUYXJnZXQgb3IgUmVuZGVyVGV4dHVyZT9cbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE8gUkVOREVSIFRBUkdFVCBTVFVGRiBIRVJFLi5cbiAgICAgICAgdmFyIHRlbXBDb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuXG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIGRpc3BsYXlPYmplY3QucmVuZGVyQ2FudmFzKHRoaXMpO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSB0ZW1wQ29udGV4dDtcblxuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcblxuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByb290UmVzb2x1dGlvbjtcblxuICAgICAgICB0aGlzLmVtaXQoJ3Bvc3RyZW5kZXInKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgdGhlIGNhbnZhcyBvZiByZW5kZXJlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2xlYXJDb2xvcl0gLSBDbGVhciB0aGUgY2FudmFzIHdpdGggdGhpcyBjb2xvciwgZXhjZXB0IHRoZSBjYW52YXMgaXMgdHJhbnNwYXJlbnQuXG4gICAgICovXG5cblxuICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyKGNsZWFyQ29sb3IpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG5cbiAgICAgICAgY2xlYXJDb2xvciA9IGNsZWFyQ29sb3IgfHwgdGhpcy5fYmFja2dyb3VuZENvbG9yU3RyaW5nO1xuXG4gICAgICAgIGlmICghdGhpcy50cmFuc3BhcmVudCAmJiBjbGVhckNvbG9yKSB7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGNsZWFyQ29sb3I7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBibGVuZCBtb2RlIG9mIHRoZSByZW5kZXJlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBibGVuZE1vZGUgLSBTZWUge0BsaW5rIFBJWEkuQkxFTkRfTU9ERVN9IGZvciB2YWxpZCB2YWx1ZXMuXG4gICAgICovXG5cblxuICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5zZXRCbGVuZE1vZGUgPSBmdW5jdGlvbiBzZXRCbGVuZE1vZGUoYmxlbmRNb2RlKSB7XG4gICAgICAgIGlmICh0aGlzLl9hY3RpdmVCbGVuZE1vZGUgPT09IGJsZW5kTW9kZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYWN0aXZlQmxlbmRNb2RlID0gYmxlbmRNb2RlO1xuICAgICAgICB0aGlzLmNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gdGhpcy5ibGVuZE1vZGVzW2JsZW5kTW9kZV07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgZXZlcnl0aGluZyBmcm9tIHRoZSByZW5kZXJlciBhbmQgb3B0aW9uYWxseSByZW1vdmVzIHRoZSBDYW52YXMgRE9NIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZW1vdmVWaWV3PWZhbHNlXSAtIFJlbW92ZXMgdGhlIENhbnZhcyBlbGVtZW50IGZyb20gdGhlIERPTS5cbiAgICAgKi9cblxuXG4gICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KHJlbW92ZVZpZXcpIHtcbiAgICAgICAgdGhpcy5kZXN0cm95UGx1Z2lucygpO1xuXG4gICAgICAgIC8vIGNhbGwgdGhlIGJhc2UgZGVzdHJveVxuICAgICAgICBfU3lzdGVtUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCByZW1vdmVWaWV3KTtcblxuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMucmVmcmVzaCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5tYXNrTWFuYWdlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMubWFza01hbmFnZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuc21vb3RoUHJvcGVydHkgPSBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBjYW52YXMgdmlldyB0byB0aGUgc3BlY2lmaWVkIHdpZHRoIGFuZCBoZWlnaHQuXG4gICAgICpcbiAgICAgKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVJlbmRlcmVyI3Jlc2l6ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbldpZHRoIC0gdGhlIG5ldyB3aWR0aCBvZiB0aGUgc2NyZWVuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbkhlaWdodCAtIHRoZSBuZXcgaGVpZ2h0IG9mIHRoZSBzY3JlZW5cbiAgICAgKi9cblxuXG4gICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIHJlc2l6ZShzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KSB7XG4gICAgICAgIF9TeXN0ZW1SZW5kZXJlci5wcm90b3R5cGUucmVzaXplLmNhbGwodGhpcywgc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCk7XG5cbiAgICAgICAgLy8gcmVzZXQgdGhlIHNjYWxlIG1vZGUuLiBvZGRseSB0aGlzIHNlZW1zIHRvIGJlIHJlc2V0IHdoZW4gdGhlIGNhbnZhcyBpcyByZXNpemVkLlxuICAgICAgICAvLyBzdXJlbHkgYSBicm93c2VyIGJ1Zz8/IExldCBQaXhpSlMgZml4IHRoYXQgZm9yIHlvdS4uXG4gICAgICAgIGlmICh0aGlzLnNtb290aFByb3BlcnR5KSB7XG4gICAgICAgICAgICB0aGlzLnJvb3RDb250ZXh0W3RoaXMuc21vb3RoUHJvcGVydHldID0gX3NldHRpbmdzMi5kZWZhdWx0LlNDQUxFX01PREUgPT09IF9jb25zdC5TQ0FMRV9NT0RFUy5MSU5FQVI7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGJsZW5kIG1vZGUgaGFzIGNoYW5nZWQuXG4gICAgICovXG5cblxuICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5pbnZhbGlkYXRlQmxlbmRNb2RlID0gZnVuY3Rpb24gaW52YWxpZGF0ZUJsZW5kTW9kZSgpIHtcbiAgICAgICAgdGhpcy5fYWN0aXZlQmxlbmRNb2RlID0gdGhpcy5ibGVuZE1vZGVzLmluZGV4T2YodGhpcy5jb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbik7XG4gICAgfTtcblxuICAgIHJldHVybiBDYW52YXNSZW5kZXJlcjtcbn0oX1N5c3RlbVJlbmRlcmVyMy5kZWZhdWx0KTtcblxuLyoqXG4gKiBDb2xsZWN0aW9uIG9mIGluc3RhbGxlZCBwbHVnaW5zLiBUaGVzZSBhcmUgaW5jbHVkZWQgYnkgZGVmYXVsdCBpbiBQSVhJLCBidXQgY2FuIGJlIGV4Y2x1ZGVkXG4gKiBieSBjcmVhdGluZyBhIGN1c3RvbSBidWlsZC4gQ29uc3VsdCB0aGUgUkVBRE1FIGZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IGNyZWF0aW5nIGN1c3RvbVxuICogYnVpbGRzIGFuZCBleGNsdWRpbmcgcGx1Z2lucy5cbiAqIEBuYW1lIFBJWEkuQ2FudmFzUmVuZGVyZXIjcGx1Z2luc1xuICogQHR5cGUge29iamVjdH1cbiAqIEByZWFkb25seVxuICogQHByb3BlcnR5IHtQSVhJLmFjY2Vzc2liaWxpdHkuQWNjZXNzaWJpbGl0eU1hbmFnZXJ9IGFjY2Vzc2liaWxpdHkgU3VwcG9ydCB0YWJiaW5nIGludGVyYWN0aXZlIGVsZW1lbnRzLlxuICogQHByb3BlcnR5IHtQSVhJLmV4dHJhY3QuQ2FudmFzRXh0cmFjdH0gZXh0cmFjdCBFeHRyYWN0IGltYWdlIGRhdGEgZnJvbSByZW5kZXJlci5cbiAqIEBwcm9wZXJ0eSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXJ9IGludGVyYWN0aW9uIEhhbmRsZXMgbW91c2UsIHRvdWNoIGFuZCBwb2ludGVyIGV2ZW50cy5cbiAqIEBwcm9wZXJ0eSB7UElYSS5wcmVwYXJlLkNhbnZhc1ByZXBhcmV9IHByZXBhcmUgUHJlLXJlbmRlciBkaXNwbGF5IG9iamVjdHMuXG4gKi9cblxuLyoqXG4gKiBBZGRzIGEgcGx1Z2luIHRvIHRoZSByZW5kZXJlci5cbiAqXG4gKiBAbWV0aG9kIFBJWEkuQ2FudmFzUmVuZGVyZXIjcmVnaXN0ZXJQbHVnaW5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwbHVnaW5OYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHBsdWdpbi5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN0b3IgLSBUaGUgY29uc3RydWN0b3IgZnVuY3Rpb24gb3IgY2xhc3MgZm9yIHRoZSBwbHVnaW4uXG4gKi9cblxuZXhwb3J0cy5kZWZhdWx0ID0gQ2FudmFzUmVuZGVyZXI7XG5fdXRpbHMucGx1Z2luVGFyZ2V0Lm1peGluKENhbnZhc1JlbmRlcmVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhbnZhc1JlbmRlcmVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbnZhciBfRGlzcGxheU9iamVjdDIgPSByZXF1aXJlKCcuL0Rpc3BsYXlPYmplY3QnKTtcblxudmFyIF9EaXNwbGF5T2JqZWN0MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Rpc3BsYXlPYmplY3QyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIEEgQ29udGFpbmVyIHJlcHJlc2VudHMgYSBjb2xsZWN0aW9uIG9mIGRpc3BsYXkgb2JqZWN0cy5cbiAqIEl0IGlzIHRoZSBiYXNlIGNsYXNzIG9mIGFsbCBkaXNwbGF5IG9iamVjdHMgdGhhdCBhY3QgYXMgYSBjb250YWluZXIgZm9yIG90aGVyIG9iamVjdHMuXG4gKlxuICpgYGBqc1xuICogbGV0IGNvbnRhaW5lciA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuICogY29udGFpbmVyLmFkZENoaWxkKHNwcml0ZSk7XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRGlzcGxheU9iamVjdFxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENvbnRhaW5lciA9IGZ1bmN0aW9uIChfRGlzcGxheU9iamVjdCkge1xuICAgIF9pbmhlcml0cyhDb250YWluZXIsIF9EaXNwbGF5T2JqZWN0KTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ29udGFpbmVyKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29udGFpbmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFycmF5IG9mIGNoaWxkcmVuIG9mIHRoaXMgY29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3RbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfRGlzcGxheU9iamVjdC5jYWxsKHRoaXMpKTtcblxuICAgICAgICBfdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGFibGUgbWV0aG9kIHRoYXQgY2FuIGJlIHVzZWQgYnkgQ29udGFpbmVyIHN1YmNsYXNzZXMgd2hlbmV2ZXIgdGhlIGNoaWxkcmVuIGFycmF5IGlzIG1vZGlmaWVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLm9uQ2hpbGRyZW5DaGFuZ2UgPSBmdW5jdGlvbiBvbkNoaWxkcmVuQ2hhbmdlKCkge31cbiAgICAvKiBlbXB0eSAqL1xuXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIG9uZSBvciBtb3JlIGNoaWxkcmVuIHRvIHRoZSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBNdWx0aXBsZSBpdGVtcyBjYW4gYmUgYWRkZWQgbGlrZSBzbzogYG15Q29udGFpbmVyLmFkZENoaWxkKHRoaW5nT25lLCB0aGluZ1R3bywgdGhpbmdUaHJlZSlgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gey4uLlBJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgRGlzcGxheU9iamVjdChzKSB0byBhZGQgdG8gdGhlIGNvbnRhaW5lclxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGZpcnN0IGNoaWxkIHRoYXQgd2FzIGFkZGVkLlxuICAgICAqL1xuICAgIDtcblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUuYWRkQ2hpbGQgPSBmdW5jdGlvbiBhZGRDaGlsZChjaGlsZCkge1xuICAgICAgICB2YXIgYXJndW1lbnRzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcblxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBhcmd1bWVudCB3ZSBjYW4gYnlwYXNzIGxvb3BpbmcgdGhyb3VnaCB0aGUgdGhlbVxuICAgICAgICBpZiAoYXJndW1lbnRzTGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHRoZSBhcmd1bWVudHMgcHJvcGVydHkgYW5kIGFkZCBhbGwgY2hpbGRyZW5cbiAgICAgICAgICAgIC8vIHVzZSBpdCB0aGUgcmlnaHQgd2F5ICgubGVuZ3RoIGFuZCBbaV0pIHNvIHRoYXQgdGhpcyBmdW5jdGlvbiBjYW4gc3RpbGwgYmUgb3B0aW1pc2VkIGJ5IEpTIHJ1bnRpbWVzXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50c0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChhcmd1bWVudHNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gaWYgdGhlIGNoaWxkIGhhcyBhIHBhcmVudCB0aGVuIGxldHMgcmVtb3ZlIGl0IGFzIFBpeGlKUyBvYmplY3RzIGNhbiBvbmx5IGV4aXN0IGluIG9uZSBwbGFjZVxuICAgICAgICAgICAgaWYgKGNoaWxkLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIGNoaWxkLnBhcmVudC5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoaWxkLnBhcmVudCA9IHRoaXM7XG4gICAgICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICBjaGlsZC50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG5cbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChjaGlsZCk7XG5cbiAgICAgICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG5cbiAgICAgICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZSh0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgY2hpbGQuZW1pdCgnYWRkZWQnLCB0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIGNoaWxkIHRvIHRoZSBjb250YWluZXIgYXQgYSBzcGVjaWZpZWQgaW5kZXguIElmIHRoZSBpbmRleCBpcyBvdXQgb2YgYm91bmRzIGFuIGVycm9yIHdpbGwgYmUgdGhyb3duXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgY2hpbGQgdG8gYWRkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGluZGV4IHRvIHBsYWNlIHRoZSBjaGlsZCBpblxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIHRoYXQgd2FzIGFkZGVkLlxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLmFkZENoaWxkQXQgPSBmdW5jdGlvbiBhZGRDaGlsZEF0KGNoaWxkLCBpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID4gdGhpcy5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihjaGlsZCArICdhZGRDaGlsZEF0OiBUaGUgaW5kZXggJyArIGluZGV4ICsgJyBzdXBwbGllZCBpcyBvdXQgb2YgYm91bmRzICcgKyB0aGlzLmNoaWxkcmVuLmxlbmd0aCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hpbGQucGFyZW50KSB7XG4gICAgICAgICAgICBjaGlsZC5wYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2hpbGQucGFyZW50ID0gdGhpcztcbiAgICAgICAgLy8gZW5zdXJlIGNoaWxkIHRyYW5zZm9ybSB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICBjaGlsZC50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG5cbiAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDAsIGNoaWxkKTtcblxuICAgICAgICAvLyBlbnN1cmUgYm91bmRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG5cbiAgICAgICAgLy8gVE9ETyAtIGxldHMgZWl0aGVyIGRvIGFsbCBjYWxsYmFja3Mgb3IgYWxsIGV2ZW50cy4uIG5vdCBib3RoIVxuICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgICAgICBjaGlsZC5lbWl0KCdhZGRlZCcsIHRoaXMpO1xuXG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3dhcHMgdGhlIHBvc2l0aW9uIG9mIDIgRGlzcGxheSBPYmplY3RzIHdpdGhpbiB0aGlzIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIEZpcnN0IGRpc3BsYXkgb2JqZWN0IHRvIHN3YXBcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQyIC0gU2Vjb25kIGRpc3BsYXkgb2JqZWN0IHRvIHN3YXBcbiAgICAgKi9cblxuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5zd2FwQ2hpbGRyZW4gPSBmdW5jdGlvbiBzd2FwQ2hpbGRyZW4oY2hpbGQsIGNoaWxkMikge1xuICAgICAgICBpZiAoY2hpbGQgPT09IGNoaWxkMikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGluZGV4MSA9IHRoaXMuZ2V0Q2hpbGRJbmRleChjaGlsZCk7XG4gICAgICAgIHZhciBpbmRleDIgPSB0aGlzLmdldENoaWxkSW5kZXgoY2hpbGQyKTtcblxuICAgICAgICB0aGlzLmNoaWxkcmVuW2luZGV4MV0gPSBjaGlsZDI7XG4gICAgICAgIHRoaXMuY2hpbGRyZW5baW5kZXgyXSA9IGNoaWxkO1xuICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgxIDwgaW5kZXgyID8gaW5kZXgxIDogaW5kZXgyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgaW5kZXggcG9zaXRpb24gb2YgYSBjaGlsZCBEaXNwbGF5T2JqZWN0IGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgRGlzcGxheU9iamVjdCBpbnN0YW5jZSB0byBpZGVudGlmeVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGluZGV4IHBvc2l0aW9uIG9mIHRoZSBjaGlsZCBkaXNwbGF5IG9iamVjdCB0byBpZGVudGlmeVxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLmdldENoaWxkSW5kZXggPSBmdW5jdGlvbiBnZXRDaGlsZEluZGV4KGNoaWxkKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuY2hpbGRyZW4uaW5kZXhPZihjaGlsZCk7XG5cbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgc3VwcGxpZWQgRGlzcGxheU9iamVjdCBtdXN0IGJlIGEgY2hpbGQgb2YgdGhlIGNhbGxlcicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBwb3NpdGlvbiBvZiBhbiBleGlzdGluZyBjaGlsZCBpbiB0aGUgZGlzcGxheSBvYmplY3QgY29udGFpbmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgY2hpbGQgRGlzcGxheU9iamVjdCBpbnN0YW5jZSBmb3Igd2hpY2ggeW91IHdhbnQgdG8gY2hhbmdlIHRoZSBpbmRleCBudW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgcmVzdWx0aW5nIGluZGV4IG51bWJlciBmb3IgdGhlIGNoaWxkIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG5cblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUuc2V0Q2hpbGRJbmRleCA9IGZ1bmN0aW9uIHNldENoaWxkSW5kZXgoY2hpbGQsIGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gdGhpcy5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGluZGV4ICcgKyBpbmRleCArICcgc3VwcGxpZWQgaXMgb3V0IG9mIGJvdW5kcyAnICsgdGhpcy5jaGlsZHJlbi5sZW5ndGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IHRoaXMuZ2V0Q2hpbGRJbmRleChjaGlsZCk7XG5cbiAgICAgICAgKDAsIF91dGlscy5yZW1vdmVJdGVtcykodGhpcy5jaGlsZHJlbiwgY3VycmVudEluZGV4LCAxKTsgLy8gcmVtb3ZlIGZyb20gb2xkIHBvc2l0aW9uXG4gICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAwLCBjaGlsZCk7IC8vIGFkZCBhdCBuZXcgcG9zaXRpb25cblxuICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjaGlsZCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgaW5kZXggdG8gZ2V0IHRoZSBjaGlsZCBhdFxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIGF0IHRoZSBnaXZlbiBpbmRleCwgaWYgYW55LlxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLmdldENoaWxkQXQgPSBmdW5jdGlvbiBnZXRDaGlsZEF0KGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gdGhpcy5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZ2V0Q2hpbGRBdDogSW5kZXggKCcgKyBpbmRleCArICcpIGRvZXMgbm90IGV4aXN0LicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW5baW5kZXhdO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIG9uZSBvciBtb3JlIGNoaWxkcmVuIGZyb20gdGhlIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Li4uUElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBEaXNwbGF5T2JqZWN0KHMpIHRvIHJlbW92ZVxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGZpcnN0IGNoaWxkIHRoYXQgd2FzIHJlbW92ZWQuXG4gICAgICovXG5cblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVtb3ZlQ2hpbGQgPSBmdW5jdGlvbiByZW1vdmVDaGlsZChjaGlsZCkge1xuICAgICAgICB2YXIgYXJndW1lbnRzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcblxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBhcmd1bWVudCB3ZSBjYW4gYnlwYXNzIGxvb3BpbmcgdGhyb3VnaCB0aGUgdGhlbVxuICAgICAgICBpZiAoYXJndW1lbnRzTGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHRoZSBhcmd1bWVudHMgcHJvcGVydHkgYW5kIGFkZCBhbGwgY2hpbGRyZW5cbiAgICAgICAgICAgIC8vIHVzZSBpdCB0aGUgcmlnaHQgd2F5ICgubGVuZ3RoIGFuZCBbaV0pIHNvIHRoYXQgdGhpcyBmdW5jdGlvbiBjYW4gc3RpbGwgYmUgb3B0aW1pc2VkIGJ5IEpTIHJ1bnRpbWVzXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50c0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZChhcmd1bWVudHNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5jaGlsZHJlbi5pbmRleE9mKGNoaWxkKTtcblxuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAtMSkgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgICAgIGNoaWxkLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICBjaGlsZC50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgICAgICAgICAoMCwgX3V0aWxzLnJlbW92ZUl0ZW1zKSh0aGlzLmNoaWxkcmVuLCBpbmRleCwgMSk7XG5cbiAgICAgICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG5cbiAgICAgICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleCk7XG4gICAgICAgICAgICBjaGlsZC5lbWl0KCdyZW1vdmVkJywgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBjaGlsZCBmcm9tIHRoZSBzcGVjaWZpZWQgaW5kZXggcG9zaXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgaW5kZXggdG8gZ2V0IHRoZSBjaGlsZCBmcm9tXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgY2hpbGQgdGhhdCB3YXMgcmVtb3ZlZC5cbiAgICAgKi9cblxuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5yZW1vdmVDaGlsZEF0ID0gZnVuY3Rpb24gcmVtb3ZlQ2hpbGRBdChpbmRleCkge1xuICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmdldENoaWxkQXQoaW5kZXgpO1xuXG4gICAgICAgIC8vIGVuc3VyZSBjaGlsZCB0cmFuc2Zvcm0gd2lsbCBiZSByZWNhbGN1bGF0ZWQuLlxuICAgICAgICBjaGlsZC5wYXJlbnQgPSBudWxsO1xuICAgICAgICBjaGlsZC50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgICAgICgwLCBfdXRpbHMucmVtb3ZlSXRlbXMpKHRoaXMuY2hpbGRyZW4sIGluZGV4LCAxKTtcblxuICAgICAgICAvLyBlbnN1cmUgYm91bmRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG5cbiAgICAgICAgLy8gVE9ETyAtIGxldHMgZWl0aGVyIGRvIGFsbCBjYWxsYmFja3Mgb3IgYWxsIGV2ZW50cy4uIG5vdCBib3RoIVxuICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgICAgICBjaGlsZC5lbWl0KCdyZW1vdmVkJywgdGhpcyk7XG5cbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBjaGlsZHJlbiBmcm9tIHRoaXMgY29udGFpbmVyIHRoYXQgYXJlIHdpdGhpbiB0aGUgYmVnaW4gYW5kIGVuZCBpbmRleGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtiZWdpbkluZGV4PTBdIC0gVGhlIGJlZ2lubmluZyBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZEluZGV4PXRoaXMuY2hpbGRyZW4ubGVuZ3RoXSAtIFRoZSBlbmRpbmcgcG9zaXRpb24uIERlZmF1bHQgdmFsdWUgaXMgc2l6ZSBvZiB0aGUgY29udGFpbmVyLlxuICAgICAqIEByZXR1cm5zIHtEaXNwbGF5T2JqZWN0W119IExpc3Qgb2YgcmVtb3ZlZCBjaGlsZHJlblxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbW92ZUNoaWxkcmVuID0gZnVuY3Rpb24gcmVtb3ZlQ2hpbGRyZW4oKSB7XG4gICAgICAgIHZhciBiZWdpbkluZGV4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgICAgICB2YXIgZW5kSW5kZXggPSBhcmd1bWVudHNbMV07XG5cbiAgICAgICAgdmFyIGJlZ2luID0gYmVnaW5JbmRleDtcbiAgICAgICAgdmFyIGVuZCA9IHR5cGVvZiBlbmRJbmRleCA9PT0gJ251bWJlcicgPyBlbmRJbmRleCA6IHRoaXMuY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICB2YXIgcmFuZ2UgPSBlbmQgLSBiZWdpbjtcbiAgICAgICAgdmFyIHJlbW92ZWQgPSB2b2lkIDA7XG5cbiAgICAgICAgaWYgKHJhbmdlID4gMCAmJiByYW5nZSA8PSBlbmQpIHtcbiAgICAgICAgICAgIHJlbW92ZWQgPSB0aGlzLmNoaWxkcmVuLnNwbGljZShiZWdpbiwgcmFuZ2UpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlbW92ZWQubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVkW2ldLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKHJlbW92ZWRbaV0udHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZWRbaV0udHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcblxuICAgICAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGJlZ2luSW5kZXgpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgcmVtb3ZlZC5sZW5ndGg7ICsrX2kpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVkW19pXS5lbWl0KCdyZW1vdmVkJywgdGhpcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZW1vdmVkO1xuICAgICAgICB9IGVsc2UgaWYgKHJhbmdlID09PSAwICYmIHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigncmVtb3ZlQ2hpbGRyZW46IG51bWVyaWMgdmFsdWVzIGFyZSBvdXRzaWRlIHRoZSBhY2NlcHRhYmxlIHJhbmdlLicpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSB0cmFuc2Zvcm0gb24gYWxsIGNoaWxkcmVuIG9mIHRoaXMgY29udGFpbmVyIGZvciByZW5kZXJpbmdcbiAgICAgKi9cblxuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiB1cGRhdGVUcmFuc2Zvcm0oKSB7XG4gICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG5cbiAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMucGFyZW50LnRyYW5zZm9ybSk7XG5cbiAgICAgICAgLy8gVE9ETzogY2hlY2sgcmVuZGVyIGZsYWdzLCBob3cgdG8gcHJvY2VzcyBzdHVmZiBoZXJlXG4gICAgICAgIHRoaXMud29ybGRBbHBoYSA9IHRoaXMuYWxwaGEgKiB0aGlzLnBhcmVudC53b3JsZEFscGhhO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBqOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgIGlmIChjaGlsZC52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVjYWxjdWxhdGVzIHRoZSBib3VuZHMgb2YgdGhlIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLmNhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUJvdW5kcygpIHtcbiAgICAgICAgdGhpcy5fYm91bmRzLmNsZWFyKCk7XG5cbiAgICAgICAgdGhpcy5fY2FsY3VsYXRlQm91bmRzKCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuXG4gICAgICAgICAgICBpZiAoIWNoaWxkLnZpc2libGUgfHwgIWNoaWxkLnJlbmRlcmFibGUpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hpbGQuY2FsY3VsYXRlQm91bmRzKCk7XG5cbiAgICAgICAgICAgIC8vIFRPRE86IGZpbHRlcittYXNrLCBuZWVkIHRvIG1hc2sgYm90aCBzb21laG93XG4gICAgICAgICAgICBpZiAoY2hpbGQuX21hc2spIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5fbWFzay5jYWxjdWxhdGVCb3VuZHMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkQm91bmRzTWFzayhjaGlsZC5fYm91bmRzLCBjaGlsZC5fbWFzay5fYm91bmRzKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hpbGQuZmlsdGVyQXJlYSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRCb3VuZHNBcmVhKGNoaWxkLl9ib3VuZHMsIGNoaWxkLmZpbHRlckFyZWEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkQm91bmRzKGNoaWxkLl9ib3VuZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbGFzdEJvdW5kc0lEID0gdGhpcy5fYm91bmRzSUQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlY2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBvYmplY3QuIE92ZXJyaWRlIHRoaXMgdG9cbiAgICAgKiBjYWxjdWxhdGUgdGhlIGJvdW5kcyBvZiB0aGUgc3BlY2lmaWMgb2JqZWN0IChub3QgaW5jbHVkaW5nIGNoaWxkcmVuKS5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiBfY2FsY3VsYXRlQm91bmRzKCkge31cbiAgICAvLyBGSUxMIElOLy9cblxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgO1xuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIHJlbmRlcldlYkdMKHJlbmRlcmVyKSB7XG4gICAgICAgIC8vIGlmIHRoZSBvYmplY3QgaXMgbm90IHZpc2libGUgb3IgdGhlIGFscGhhIGlzIDAgdGhlbiBubyBuZWVkIHRvIHJlbmRlciB0aGlzIGVsZW1lbnRcbiAgICAgICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMucmVuZGVyYWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZG8gYSBxdWljayBjaGVjayB0byBzZWUgaWYgdGhpcyBlbGVtZW50IGhhcyBhIG1hc2sgb3IgYSBmaWx0ZXIuXG4gICAgICAgIGlmICh0aGlzLl9tYXNrIHx8IHRoaXMuX2ZpbHRlcnMpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyQWR2YW5jZWRXZWJHTChyZW5kZXJlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJXZWJHTChyZW5kZXJlcik7XG5cbiAgICAgICAgICAgIC8vIHNpbXBsZSByZW5kZXIgY2hpbGRyZW4hXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgKytpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltpXS5yZW5kZXJXZWJHTChyZW5kZXJlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyIGFuZCBhZHZhbmNlZCBmZWF0dXJlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG5cblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyQWR2YW5jZWRXZWJHTCA9IGZ1bmN0aW9uIHJlbmRlckFkdmFuY2VkV2ViR0wocmVuZGVyZXIpIHtcbiAgICAgICAgcmVuZGVyZXIuZmx1c2goKTtcblxuICAgICAgICB2YXIgZmlsdGVycyA9IHRoaXMuX2ZpbHRlcnM7XG4gICAgICAgIHZhciBtYXNrID0gdGhpcy5fbWFzaztcblxuICAgICAgICAvLyBwdXNoIGZpbHRlciBmaXJzdCBhcyB3ZSBuZWVkIHRvIGVuc3VyZSB0aGUgc3RlbmNpbCBidWZmZXIgaXMgY29ycmVjdCBmb3IgYW55IG1hc2tpbmdcbiAgICAgICAgaWYgKGZpbHRlcnMpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fZW5hYmxlZEZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbmFibGVkRmlsdGVycyA9IFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9lbmFibGVkRmlsdGVycy5sZW5ndGggPSAwO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyc1tpXS5lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VuYWJsZWRGaWx0ZXJzLnB1c2goZmlsdGVyc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5fZW5hYmxlZEZpbHRlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuZmlsdGVyTWFuYWdlci5wdXNoRmlsdGVyKHRoaXMsIHRoaXMuX2VuYWJsZWRGaWx0ZXJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtYXNrKSB7XG4gICAgICAgICAgICByZW5kZXJlci5tYXNrTWFuYWdlci5wdXNoTWFzayh0aGlzLCB0aGlzLl9tYXNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZCB0aGlzIG9iamVjdCB0byB0aGUgYmF0Y2gsIG9ubHkgcmVuZGVyZWQgaWYgaXQgaGFzIGEgdGV4dHVyZS5cbiAgICAgICAgdGhpcy5fcmVuZGVyV2ViR0wocmVuZGVyZXIpO1xuXG4gICAgICAgIC8vIG5vdyBsb29wIHRocm91Z2ggdGhlIGNoaWxkcmVuIGFuZCBtYWtlIHN1cmUgdGhleSBnZXQgcmVuZGVyZWRcbiAgICAgICAgZm9yICh2YXIgX2kyID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBfaTIgPCBqOyBfaTIrKykge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltfaTJdLnJlbmRlcldlYkdMKHJlbmRlcmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLmZsdXNoKCk7XG5cbiAgICAgICAgaWYgKG1hc2spIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLm1hc2tNYW5hZ2VyLnBvcE1hc2sodGhpcywgdGhpcy5fbWFzayk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmlsdGVycyAmJiB0aGlzLl9lbmFibGVkRmlsdGVycyAmJiB0aGlzLl9lbmFibGVkRmlsdGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLmZpbHRlck1hbmFnZXIucG9wRmlsdGVyKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVG8gYmUgb3ZlcnJpZGRlbiBieSB0aGUgc3ViY2xhc3Nlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG5cblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUuX3JlbmRlcldlYkdMID0gZnVuY3Rpb24gX3JlbmRlcldlYkdMKHJlbmRlcmVyKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAge31cbiAgICAvLyB0aGlzIGlzIHdoZXJlIGNvbnRlbnQgaXRzZWxmIGdldHMgcmVuZGVyZWQuLi5cblxuXG4gICAgLyoqXG4gICAgICogVG8gYmUgb3ZlcnJpZGRlbiBieSB0aGUgc3ViY2xhc3NcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIDtcblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUuX3JlbmRlckNhbnZhcyA9IGZ1bmN0aW9uIF9yZW5kZXJDYW52YXMocmVuZGVyZXIpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICB7fVxuICAgIC8vIHRoaXMgaXMgd2hlcmUgY29udGVudCBpdHNlbGYgZ2V0cyByZW5kZXJlZC4uLlxuXG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIENhbnZhcyByZW5kZXJlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIDtcblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyQ2FudmFzID0gZnVuY3Rpb24gcmVuZGVyQ2FudmFzKHJlbmRlcmVyKSB7XG4gICAgICAgIC8vIGlmIG5vdCB2aXNpYmxlIG9yIHRoZSBhbHBoYSBpcyAwIHRoZW4gbm8gbmVlZCB0byByZW5kZXIgdGhpc1xuICAgICAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5yZW5kZXJhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fbWFzaykge1xuICAgICAgICAgICAgcmVuZGVyZXIubWFza01hbmFnZXIucHVzaE1hc2sodGhpcy5fbWFzayk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9yZW5kZXJDYW52YXMocmVuZGVyZXIpO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgKytpKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLnJlbmRlckNhbnZhcyhyZW5kZXJlcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fbWFzaykge1xuICAgICAgICAgICAgcmVuZGVyZXIubWFza01hbmFnZXIucG9wTWFzayhyZW5kZXJlcik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgaW50ZXJuYWwgcmVmZXJlbmNlcyBhbmQgbGlzdGVuZXJzIGFzIHdlbGwgYXMgcmVtb3ZlcyBjaGlsZHJlbiBmcm9tIHRoZSBkaXNwbGF5IGxpc3QuXG4gICAgICogRG8gbm90IHVzZSBhIENvbnRhaW5lciBhZnRlciBjYWxsaW5nIGBkZXN0cm95YC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICovXG5cblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kob3B0aW9ucykge1xuICAgICAgICBfRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIHZhciBkZXN0cm95Q2hpbGRyZW4gPSB0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucyA6IG9wdGlvbnMgJiYgb3B0aW9ucy5jaGlsZHJlbjtcblxuICAgICAgICB2YXIgb2xkQ2hpbGRyZW4gPSB0aGlzLnJlbW92ZUNoaWxkcmVuKDAsIHRoaXMuY2hpbGRyZW4ubGVuZ3RoKTtcblxuICAgICAgICBpZiAoZGVzdHJveUNoaWxkcmVuKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9sZENoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgb2xkQ2hpbGRyZW5baV0uZGVzdHJveShvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIENvbnRhaW5lciwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKENvbnRhaW5lciwgW3tcbiAgICAgICAga2V5OiAnd2lkdGgnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNjYWxlLnggKiB0aGlzLmdldExvY2FsQm91bmRzKCkud2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5nZXRMb2NhbEJvdW5kcygpLndpZHRoO1xuXG4gICAgICAgICAgICBpZiAod2lkdGggIT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlLnggPSB2YWx1ZSAvIHdpZHRoO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlLnggPSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIENvbnRhaW5lciwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaGVpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zY2FsZS55ICogdGhpcy5nZXRMb2NhbEJvdW5kcygpLmhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5nZXRMb2NhbEJvdW5kcygpLmhlaWdodDtcblxuICAgICAgICAgICAgaWYgKGhlaWdodCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2NhbGUueSA9IHZhbHVlIC8gaGVpZ2h0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBDb250YWluZXI7XG59KF9EaXNwbGF5T2JqZWN0My5kZWZhdWx0KTtcblxuLy8gcGVyZm9ybWFuY2UgaW5jcmVhc2UgdG8gYXZvaWQgdXNpbmcgY2FsbC4uICgxMHggZmFzdGVyKVxuXG5cbmV4cG9ydHMuZGVmYXVsdCA9IENvbnRhaW5lcjtcbkNvbnRhaW5lci5wcm90b3R5cGUuY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtID0gQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db250YWluZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5sb2FkZXIgPSBleHBvcnRzLnByZXBhcmUgPSBleHBvcnRzLnBhcnRpY2xlcyA9IGV4cG9ydHMubWVzaCA9IGV4cG9ydHMubG9hZGVycyA9IGV4cG9ydHMuaW50ZXJhY3Rpb24gPSBleHBvcnRzLmZpbHRlcnMgPSBleHBvcnRzLmV4dHJhcyA9IGV4cG9ydHMuZXh0cmFjdCA9IGV4cG9ydHMuYWNjZXNzaWJpbGl0eSA9IHVuZGVmaW5lZDtcblxudmFyIF9wb2x5ZmlsbCA9IHJlcXVpcmUoJy4vcG9seWZpbGwnKTtcblxuT2JqZWN0LmtleXMoX3BvbHlmaWxsKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoa2V5ID09PSBcImRlZmF1bHRcIiB8fCBrZXkgPT09IFwiX19lc01vZHVsZVwiKSByZXR1cm47XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBfcG9seWZpbGxba2V5XTtcbiAgICAgICAgfVxuICAgIH0pO1xufSk7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4vY29yZScpO1xuXG5PYmplY3Qua2V5cyhfY29yZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKGtleSA9PT0gXCJkZWZhdWx0XCIgfHwga2V5ID09PSBcIl9fZXNNb2R1bGVcIikgcmV0dXJuO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gX2NvcmVba2V5XTtcbiAgICAgICAgfVxuICAgIH0pO1xufSk7XG5cbnZhciBfZGVwcmVjYXRpb24gPSByZXF1aXJlKCcuL2RlcHJlY2F0aW9uJyk7XG5cbnZhciBfZGVwcmVjYXRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVwcmVjYXRpb24pO1xuXG52YXIgX2FjY2Vzc2liaWxpdHkgPSByZXF1aXJlKCcuL2FjY2Vzc2liaWxpdHknKTtcblxudmFyIGFjY2Vzc2liaWxpdHkgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfYWNjZXNzaWJpbGl0eSk7XG5cbnZhciBfZXh0cmFjdCA9IHJlcXVpcmUoJy4vZXh0cmFjdCcpO1xuXG52YXIgZXh0cmFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9leHRyYWN0KTtcblxudmFyIF9leHRyYXMgPSByZXF1aXJlKCcuL2V4dHJhcycpO1xuXG52YXIgZXh0cmFzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2V4dHJhcyk7XG5cbnZhciBfZmlsdGVycyA9IHJlcXVpcmUoJy4vZmlsdGVycycpO1xuXG52YXIgZmlsdGVycyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9maWx0ZXJzKTtcblxudmFyIF9pbnRlcmFjdGlvbiA9IHJlcXVpcmUoJy4vaW50ZXJhY3Rpb24nKTtcblxudmFyIGludGVyYWN0aW9uID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2ludGVyYWN0aW9uKTtcblxudmFyIF9sb2FkZXJzID0gcmVxdWlyZSgnLi9sb2FkZXJzJyk7XG5cbnZhciBsb2FkZXJzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2xvYWRlcnMpO1xuXG52YXIgX21lc2ggPSByZXF1aXJlKCcuL21lc2gnKTtcblxudmFyIG1lc2ggPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfbWVzaCk7XG5cbnZhciBfcGFydGljbGVzID0gcmVxdWlyZSgnLi9wYXJ0aWNsZXMnKTtcblxudmFyIHBhcnRpY2xlcyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9wYXJ0aWNsZXMpO1xuXG52YXIgX3ByZXBhcmUgPSByZXF1aXJlKCcuL3ByZXBhcmUnKTtcblxudmFyIHByZXBhcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfcHJlcGFyZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8vIGV4cG9ydCBjb3JlXG5fY29yZS51dGlscy5taXhpbnMucGVyZm9ybU1peGlucygpO1xuXG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgUElYSS5sb2FkZXJzLnNoYXJlZH0uXG4gKiBAbmFtZSBsb2FkZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7UElYSS5sb2FkZXIuTG9hZGVyfVxuICovXG5cblxuLy8gaGFuZGxlIG1peGlucyBub3csIGFmdGVyIGFsbCBjb2RlIGhhcyBiZWVuIGFkZGVkLCBpbmNsdWRpbmcgZGVwcmVjYXRpb25cblxuXG4vLyBleHBvcnQgbGlic1xuLy8gaW1wb3J0IHBvbHlmaWxscy4gRG9uZSBhcyBhbiBleHBvcnQgdG8gbWFrZSBzdXJlIHBvbHlmaWxscyBhcmUgaW1wb3J0ZWQgZmlyc3RcbnZhciBsb2FkZXIgPSBsb2FkZXJzLnNoYXJlZCB8fCBudWxsO1xuXG5leHBvcnRzLmFjY2Vzc2liaWxpdHkgPSBhY2Nlc3NpYmlsaXR5O1xuZXhwb3J0cy5leHRyYWN0ID0gZXh0cmFjdDtcbmV4cG9ydHMuZXh0cmFzID0gZXh0cmFzO1xuZXhwb3J0cy5maWx0ZXJzID0gZmlsdGVycztcbmV4cG9ydHMuaW50ZXJhY3Rpb24gPSBpbnRlcmFjdGlvbjtcbmV4cG9ydHMubG9hZGVycyA9IGxvYWRlcnM7XG5leHBvcnRzLm1lc2ggPSBtZXNoO1xuZXhwb3J0cy5wYXJ0aWNsZXMgPSBwYXJ0aWNsZXM7XG5leHBvcnRzLnByZXBhcmUgPSBwcmVwYXJlO1xuZXhwb3J0cy5sb2FkZXIgPSBsb2FkZXI7XG5cbi8vIEFwcGx5IHRoZSBkZXByZWNhdGlvbnNcblxuaWYgKHR5cGVvZiBfZGVwcmVjYXRpb24yLmRlZmF1bHQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAoMCwgX2RlcHJlY2F0aW9uMi5kZWZhdWx0KShleHBvcnRzKTtcbn1cblxuLy8gQWx3YXlzIGV4cG9ydCBQaXhpSlMgZ2xvYmFsbHkuXG5nbG9iYWwuUElYSSA9IGV4cG9ydHM7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGdyYXBoaWNzRGF0YSwgd2ViR0xEYXRhLCB3ZWJHTERhdGFOYXRpdmVMaW5lcykge1xuICAgIGlmIChncmFwaGljc0RhdGEubmF0aXZlTGluZXMpIHtcbiAgICAgICAgYnVpbGROYXRpdmVMaW5lKGdyYXBoaWNzRGF0YSwgd2ViR0xEYXRhTmF0aXZlTGluZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGJ1aWxkTGluZShncmFwaGljc0RhdGEsIHdlYkdMRGF0YSk7XG4gICAgfVxufTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vLi4vLi4vbWF0aCcpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbHMnKTtcblxuLyoqXG4gKiBCdWlsZHMgYSBsaW5lIHRvIGRyYXcgdXNpbmcgdGhlIHBvbGlnb24gbWV0aG9kLlxuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSB3ZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICovXG5mdW5jdGlvbiBidWlsZExpbmUoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEpIHtcbiAgICAvLyBUT0RPIE9QVElNSVNFIVxuICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuXG4gICAgaWYgKHBvaW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBpZiB0aGUgbGluZSB3aWR0aCBpcyBhbiBvZGQgbnVtYmVyIGFkZCAwLjUgdG8gYWxpZ24gdG8gYSB3aG9sZSBwaXhlbFxuICAgIC8vIGNvbW1lbnRpbmcgdGhpcyBvdXQgZml4ZXMgIzcxMSBhbmQgIzE2MjBcbiAgICAvLyBpZiAoZ3JhcGhpY3NEYXRhLmxpbmVXaWR0aCUyKVxuICAgIC8vIHtcbiAgICAvLyAgICAgZm9yIChpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKylcbiAgICAvLyAgICAge1xuICAgIC8vICAgICAgICAgcG9pbnRzW2ldICs9IDAuNTtcbiAgICAvLyAgICAgfVxuICAgIC8vIH1cblxuICAgIC8vIGdldCBmaXJzdCBhbmQgbGFzdCBwb2ludC4uIGZpZ3VyZSBvdXQgdGhlIG1pZGRsZSFcbiAgICB2YXIgZmlyc3RQb2ludCA9IG5ldyBfbWF0aC5Qb2ludChwb2ludHNbMF0sIHBvaW50c1sxXSk7XG4gICAgdmFyIGxhc3RQb2ludCA9IG5ldyBfbWF0aC5Qb2ludChwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdLCBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdKTtcblxuICAgIC8vIGlmIHRoZSBmaXJzdCBwb2ludCBpcyB0aGUgbGFzdCBwb2ludCAtIGdvbm5hIGhhdmUgaXNzdWVzIDopXG4gICAgaWYgKGZpcnN0UG9pbnQueCA9PT0gbGFzdFBvaW50LnggJiYgZmlyc3RQb2ludC55ID09PSBsYXN0UG9pbnQueSkge1xuICAgICAgICAvLyBuZWVkIHRvIGNsb25lIGFzIHdlIGFyZSBnb2luZyB0byBzbGlnaHRseSBtb2RpZnkgdGhlIHNoYXBlLi5cbiAgICAgICAgcG9pbnRzID0gcG9pbnRzLnNsaWNlKCk7XG5cbiAgICAgICAgcG9pbnRzLnBvcCgpO1xuICAgICAgICBwb2ludHMucG9wKCk7XG5cbiAgICAgICAgbGFzdFBvaW50ID0gbmV3IF9tYXRoLlBvaW50KHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0sIHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0pO1xuXG4gICAgICAgIHZhciBtaWRQb2ludFggPSBsYXN0UG9pbnQueCArIChmaXJzdFBvaW50LnggLSBsYXN0UG9pbnQueCkgKiAwLjU7XG4gICAgICAgIHZhciBtaWRQb2ludFkgPSBsYXN0UG9pbnQueSArIChmaXJzdFBvaW50LnkgLSBsYXN0UG9pbnQueSkgKiAwLjU7XG5cbiAgICAgICAgcG9pbnRzLnVuc2hpZnQobWlkUG9pbnRYLCBtaWRQb2ludFkpO1xuICAgICAgICBwb2ludHMucHVzaChtaWRQb2ludFgsIG1pZFBvaW50WSk7XG4gICAgfVxuXG4gICAgdmFyIHZlcnRzID0gd2ViR0xEYXRhLnBvaW50cztcbiAgICB2YXIgaW5kaWNlcyA9IHdlYkdMRGF0YS5pbmRpY2VzO1xuICAgIHZhciBsZW5ndGggPSBwb2ludHMubGVuZ3RoIC8gMjtcbiAgICB2YXIgaW5kZXhDb3VudCA9IHBvaW50cy5sZW5ndGg7XG4gICAgdmFyIGluZGV4U3RhcnQgPSB2ZXJ0cy5sZW5ndGggLyA2O1xuXG4gICAgLy8gRFJBVyB0aGUgTGluZVxuICAgIHZhciB3aWR0aCA9IGdyYXBoaWNzRGF0YS5saW5lV2lkdGggLyAyO1xuXG4gICAgLy8gc29ydCBjb2xvclxuICAgIHZhciBjb2xvciA9ICgwLCBfdXRpbHMuaGV4MnJnYikoZ3JhcGhpY3NEYXRhLmxpbmVDb2xvcik7XG4gICAgdmFyIGFscGhhID0gZ3JhcGhpY3NEYXRhLmxpbmVBbHBoYTtcbiAgICB2YXIgciA9IGNvbG9yWzBdICogYWxwaGE7XG4gICAgdmFyIGcgPSBjb2xvclsxXSAqIGFscGhhO1xuICAgIHZhciBiID0gY29sb3JbMl0gKiBhbHBoYTtcblxuICAgIHZhciBwMXggPSBwb2ludHNbMF07XG4gICAgdmFyIHAxeSA9IHBvaW50c1sxXTtcbiAgICB2YXIgcDJ4ID0gcG9pbnRzWzJdO1xuICAgIHZhciBwMnkgPSBwb2ludHNbM107XG4gICAgdmFyIHAzeCA9IDA7XG4gICAgdmFyIHAzeSA9IDA7XG5cbiAgICB2YXIgcGVycHggPSAtKHAxeSAtIHAyeSk7XG4gICAgdmFyIHBlcnB5ID0gcDF4IC0gcDJ4O1xuICAgIHZhciBwZXJwMnggPSAwO1xuICAgIHZhciBwZXJwMnkgPSAwO1xuICAgIHZhciBwZXJwM3ggPSAwO1xuICAgIHZhciBwZXJwM3kgPSAwO1xuXG4gICAgdmFyIGRpc3QgPSBNYXRoLnNxcnQocGVycHggKiBwZXJweCArIHBlcnB5ICogcGVycHkpO1xuXG4gICAgcGVycHggLz0gZGlzdDtcbiAgICBwZXJweSAvPSBkaXN0O1xuICAgIHBlcnB4ICo9IHdpZHRoO1xuICAgIHBlcnB5ICo9IHdpZHRoO1xuXG4gICAgLy8gc3RhcnRcbiAgICB2ZXJ0cy5wdXNoKHAxeCAtIHBlcnB4LCBwMXkgLSBwZXJweSwgciwgZywgYiwgYWxwaGEpO1xuXG4gICAgdmVydHMucHVzaChwMXggKyBwZXJweCwgcDF5ICsgcGVycHksIHIsIGcsIGIsIGFscGhhKTtcblxuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbGVuZ3RoIC0gMTsgKytpKSB7XG4gICAgICAgIHAxeCA9IHBvaW50c1soaSAtIDEpICogMl07XG4gICAgICAgIHAxeSA9IHBvaW50c1soaSAtIDEpICogMiArIDFdO1xuXG4gICAgICAgIHAyeCA9IHBvaW50c1tpICogMl07XG4gICAgICAgIHAyeSA9IHBvaW50c1tpICogMiArIDFdO1xuXG4gICAgICAgIHAzeCA9IHBvaW50c1soaSArIDEpICogMl07XG4gICAgICAgIHAzeSA9IHBvaW50c1soaSArIDEpICogMiArIDFdO1xuXG4gICAgICAgIHBlcnB4ID0gLShwMXkgLSBwMnkpO1xuICAgICAgICBwZXJweSA9IHAxeCAtIHAyeDtcblxuICAgICAgICBkaXN0ID0gTWF0aC5zcXJ0KHBlcnB4ICogcGVycHggKyBwZXJweSAqIHBlcnB5KTtcbiAgICAgICAgcGVycHggLz0gZGlzdDtcbiAgICAgICAgcGVycHkgLz0gZGlzdDtcbiAgICAgICAgcGVycHggKj0gd2lkdGg7XG4gICAgICAgIHBlcnB5ICo9IHdpZHRoO1xuXG4gICAgICAgIHBlcnAyeCA9IC0ocDJ5IC0gcDN5KTtcbiAgICAgICAgcGVycDJ5ID0gcDJ4IC0gcDN4O1xuXG4gICAgICAgIGRpc3QgPSBNYXRoLnNxcnQocGVycDJ4ICogcGVycDJ4ICsgcGVycDJ5ICogcGVycDJ5KTtcbiAgICAgICAgcGVycDJ4IC89IGRpc3Q7XG4gICAgICAgIHBlcnAyeSAvPSBkaXN0O1xuICAgICAgICBwZXJwMnggKj0gd2lkdGg7XG4gICAgICAgIHBlcnAyeSAqPSB3aWR0aDtcblxuICAgICAgICB2YXIgYTEgPSAtcGVycHkgKyBwMXkgLSAoLXBlcnB5ICsgcDJ5KTtcbiAgICAgICAgdmFyIGIxID0gLXBlcnB4ICsgcDJ4IC0gKC1wZXJweCArIHAxeCk7XG4gICAgICAgIHZhciBjMSA9ICgtcGVycHggKyBwMXgpICogKC1wZXJweSArIHAyeSkgLSAoLXBlcnB4ICsgcDJ4KSAqICgtcGVycHkgKyBwMXkpO1xuICAgICAgICB2YXIgYTIgPSAtcGVycDJ5ICsgcDN5IC0gKC1wZXJwMnkgKyBwMnkpO1xuICAgICAgICB2YXIgYjIgPSAtcGVycDJ4ICsgcDJ4IC0gKC1wZXJwMnggKyBwM3gpO1xuICAgICAgICB2YXIgYzIgPSAoLXBlcnAyeCArIHAzeCkgKiAoLXBlcnAyeSArIHAyeSkgLSAoLXBlcnAyeCArIHAyeCkgKiAoLXBlcnAyeSArIHAzeSk7XG5cbiAgICAgICAgdmFyIGRlbm9tID0gYTEgKiBiMiAtIGEyICogYjE7XG5cbiAgICAgICAgaWYgKE1hdGguYWJzKGRlbm9tKSA8IDAuMSkge1xuICAgICAgICAgICAgZGVub20gKz0gMTAuMTtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gocDJ4IC0gcGVycHgsIHAyeSAtIHBlcnB5LCByLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgICAgIHZlcnRzLnB1c2gocDJ4ICsgcGVycHgsIHAyeSArIHBlcnB5LCByLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHB4ID0gKGIxICogYzIgLSBiMiAqIGMxKSAvIGRlbm9tO1xuICAgICAgICB2YXIgcHkgPSAoYTIgKiBjMSAtIGExICogYzIpIC8gZGVub207XG4gICAgICAgIHZhciBwZGlzdCA9IChweCAtIHAyeCkgKiAocHggLSBwMngpICsgKHB5IC0gcDJ5KSAqIChweSAtIHAyeSk7XG5cbiAgICAgICAgaWYgKHBkaXN0ID4gMTk2ICogd2lkdGggKiB3aWR0aCkge1xuICAgICAgICAgICAgcGVycDN4ID0gcGVycHggLSBwZXJwMng7XG4gICAgICAgICAgICBwZXJwM3kgPSBwZXJweSAtIHBlcnAyeTtcblxuICAgICAgICAgICAgZGlzdCA9IE1hdGguc3FydChwZXJwM3ggKiBwZXJwM3ggKyBwZXJwM3kgKiBwZXJwM3kpO1xuICAgICAgICAgICAgcGVycDN4IC89IGRpc3Q7XG4gICAgICAgICAgICBwZXJwM3kgLz0gZGlzdDtcbiAgICAgICAgICAgIHBlcnAzeCAqPSB3aWR0aDtcbiAgICAgICAgICAgIHBlcnAzeSAqPSB3aWR0aDtcblxuICAgICAgICAgICAgdmVydHMucHVzaChwMnggLSBwZXJwM3gsIHAyeSAtIHBlcnAzeSk7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcblxuICAgICAgICAgICAgdmVydHMucHVzaChwMnggKyBwZXJwM3gsIHAyeSArIHBlcnAzeSk7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcblxuICAgICAgICAgICAgdmVydHMucHVzaChwMnggLSBwZXJwM3gsIHAyeSAtIHBlcnAzeSk7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcblxuICAgICAgICAgICAgaW5kZXhDb3VudCsrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmVydHMucHVzaChweCwgcHkpO1xuICAgICAgICAgICAgdmVydHMucHVzaChyLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgICAgIHZlcnRzLnB1c2gocDJ4IC0gKHB4IC0gcDJ4KSwgcDJ5IC0gKHB5IC0gcDJ5KSk7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHAxeCA9IHBvaW50c1sobGVuZ3RoIC0gMikgKiAyXTtcbiAgICBwMXkgPSBwb2ludHNbKGxlbmd0aCAtIDIpICogMiArIDFdO1xuXG4gICAgcDJ4ID0gcG9pbnRzWyhsZW5ndGggLSAxKSAqIDJdO1xuICAgIHAyeSA9IHBvaW50c1sobGVuZ3RoIC0gMSkgKiAyICsgMV07XG5cbiAgICBwZXJweCA9IC0ocDF5IC0gcDJ5KTtcbiAgICBwZXJweSA9IHAxeCAtIHAyeDtcblxuICAgIGRpc3QgPSBNYXRoLnNxcnQocGVycHggKiBwZXJweCArIHBlcnB5ICogcGVycHkpO1xuICAgIHBlcnB4IC89IGRpc3Q7XG4gICAgcGVycHkgLz0gZGlzdDtcbiAgICBwZXJweCAqPSB3aWR0aDtcbiAgICBwZXJweSAqPSB3aWR0aDtcblxuICAgIHZlcnRzLnB1c2gocDJ4IC0gcGVycHgsIHAyeSAtIHBlcnB5KTtcbiAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcblxuICAgIHZlcnRzLnB1c2gocDJ4ICsgcGVycHgsIHAyeSArIHBlcnB5KTtcbiAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcblxuICAgIGluZGljZXMucHVzaChpbmRleFN0YXJ0KTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBpbmRleENvdW50OyArK19pKSB7XG4gICAgICAgIGluZGljZXMucHVzaChpbmRleFN0YXJ0KyspO1xuICAgIH1cblxuICAgIGluZGljZXMucHVzaChpbmRleFN0YXJ0IC0gMSk7XG59XG5cbi8qKlxuICogQnVpbGRzIGEgbGluZSB0byBkcmF3IHVzaW5nIHRoZSBnbC5kcmF3QXJyYXlzKGdsLkxJTkVTKSBtZXRob2RcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YSAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgd2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIHRoaXMgc2hhcGVcbiAqL1xuXG5cbi8qKlxuICogQnVpbGRzIGEgbGluZSB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhTmF0aXZlTGluZXMgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBuYXRpdmVMaW5lc1xuICovXG5mdW5jdGlvbiBidWlsZE5hdGl2ZUxpbmUoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEpIHtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG5cbiAgICBpZiAocG9pbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgdmFyIHZlcnRzID0gd2ViR0xEYXRhLnBvaW50cztcbiAgICB2YXIgbGVuZ3RoID0gcG9pbnRzLmxlbmd0aCAvIDI7XG5cbiAgICAvLyBzb3J0IGNvbG9yXG4gICAgdmFyIGNvbG9yID0gKDAsIF91dGlscy5oZXgycmdiKShncmFwaGljc0RhdGEubGluZUNvbG9yKTtcbiAgICB2YXIgYWxwaGEgPSBncmFwaGljc0RhdGEubGluZUFscGhhO1xuICAgIHZhciByID0gY29sb3JbMF0gKiBhbHBoYTtcbiAgICB2YXIgZyA9IGNvbG9yWzFdICogYWxwaGE7XG4gICAgdmFyIGIgPSBjb2xvclsyXSAqIGFscGhhO1xuXG4gICAgZm9yIChpID0gMTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBwMXggPSBwb2ludHNbKGkgLSAxKSAqIDJdO1xuICAgICAgICB2YXIgcDF5ID0gcG9pbnRzWyhpIC0gMSkgKiAyICsgMV07XG5cbiAgICAgICAgdmFyIHAyeCA9IHBvaW50c1tpICogMl07XG4gICAgICAgIHZhciBwMnkgPSBwb2ludHNbaSAqIDIgKyAxXTtcblxuICAgICAgICB2ZXJ0cy5wdXNoKHAxeCwgcDF5KTtcbiAgICAgICAgdmVydHMucHVzaChyLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgdmVydHMucHVzaChwMngsIHAyeSk7XG4gICAgICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1aWxkTGluZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uLy4uLy4uL21hdGgnKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uLy4uL2NvbnN0Jyk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi8uLi8uLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxudmFyIF9waXhpR2xDb3JlID0gcmVxdWlyZSgncGl4aS1nbC1jb3JlJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUmVuZGVyVGFyZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIGN1cnJlbnQgV2ViR0wgZHJhd2luZyBjb250ZXh0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MF0gLSB0aGUgaG9yaXpvbnRhbCByYW5nZSBvZiB0aGUgZmlsdGVyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTBdIC0gdGhlIHZlcnRpY2FsIHJhbmdlIG9mIHRoZSBmaWx0ZXJcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgY3VycmVudCByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Jvb3Q9ZmFsc2VdIC0gV2hldGhlciB0aGlzIG9iamVjdCBpcyB0aGUgcm9vdCBlbGVtZW50IG9yIG5vdFxuICAgKi9cbiAgZnVuY3Rpb24gUmVuZGVyVGFyZ2V0KGdsLCB3aWR0aCwgaGVpZ2h0LCBzY2FsZU1vZGUsIHJlc29sdXRpb24sIHJvb3QpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVuZGVyVGFyZ2V0KTtcblxuICAgIC8vIFRPRE8gUmVzb2x1dGlvbiBjb3VsZCBnbyBoZXJlICggZWcgbG93IHJlcyBibHVycyApXG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBXZWJHTCBkcmF3aW5nIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gICAgICovXG4gICAgdGhpcy5nbCA9IGdsO1xuXG4gICAgLy8gbmV4dCB0aW1lIHRvIGNyZWF0ZSBhIGZyYW1lIGJ1ZmZlciBhbmQgdGV4dHVyZVxuXG4gICAgLyoqXG4gICAgICogQSBmcmFtZSBidWZmZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuZ2xDb3JlLkdMRnJhbWVidWZmZXJ9XG4gICAgICovXG4gICAgdGhpcy5mcmFtZUJ1ZmZlciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dHVyZVxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5nbENvcmUuR0xUZXh0dXJlfVxuICAgICAqL1xuICAgIHRoaXMudGV4dHVyZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvdXIgb2YgdGhpcyByZW5kZXIgdGFyZ2V0LCBhcyBhbiBhcnJheSBvZiBbcixnLGIsYV0gdmFsdWVzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgKi9cbiAgICB0aGlzLmNsZWFyQ29sb3IgPSBbMCwgMCwgMCwgMF07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2l6ZSBvZiB0aGUgb2JqZWN0IGFzIGEgcmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgKi9cbiAgICB0aGlzLnNpemUgPSBuZXcgX21hdGguUmVjdGFuZ2xlKDAsIDAsIDEsIDEpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpb1xuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IF9zZXR0aW5nczIuZGVmYXVsdC5SRVNPTFVUSU9OO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHByb2plY3Rpb24gbWF0cml4XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgKi9cbiAgICB0aGlzLnByb2plY3Rpb25NYXRyaXggPSBuZXcgX21hdGguTWF0cml4KCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb2JqZWN0J3MgdHJhbnNmb3JtXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgKi9cbiAgICB0aGlzLnRyYW5zZm9ybSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnJhbWUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgKi9cbiAgICB0aGlzLmZyYW1lID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzdGVuY2lsIGJ1ZmZlciBzdG9yZXMgbWFza2luZyBkYXRhIGZvciB0aGUgcmVuZGVyIHRhcmdldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7Z2xDb3JlLkdMQnVmZmVyfVxuICAgICAqL1xuICAgIHRoaXMuZGVmYXVsdEZyYW1lID0gbmV3IF9tYXRoLlJlY3RhbmdsZSgpO1xuICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZSA9IG51bGw7XG4gICAgdGhpcy5zb3VyY2VGcmFtZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3RlbmNpbCBidWZmZXIgc3RvcmVzIG1hc2tpbmcgZGF0YSBmb3IgdGhlIHJlbmRlciB0YXJnZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2dsQ29yZS5HTEJ1ZmZlcn1cbiAgICAgKi9cbiAgICB0aGlzLnN0ZW5jaWxCdWZmZXIgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGRhdGEgc3RydWN0dXJlIGZvciB0aGUgc3RlbmNpbCBtYXNrc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc1tdfVxuICAgICAqL1xuICAgIHRoaXMuc3RlbmNpbE1hc2tTdGFjayA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogU3RvcmVzIGZpbHRlciBkYXRhIGZvciB0aGUgcmVuZGVyIHRhcmdldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7b2JqZWN0W119XG4gICAgICovXG4gICAgdGhpcy5maWx0ZXJEYXRhID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzY2FsZSBtb2RlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERVxuICAgICAqIEBzZWUgUElYSS5TQ0FMRV9NT0RFU1xuICAgICAqL1xuICAgIHRoaXMuc2NhbGVNb2RlID0gc2NhbGVNb2RlICE9PSB1bmRlZmluZWQgPyBzY2FsZU1vZGUgOiBfc2V0dGluZ3MyLmRlZmF1bHQuU0NBTEVfTU9ERTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhpcyBvYmplY3QgaXMgdGhlIHJvb3QgZWxlbWVudCBvciBub3RcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5yb290ID0gcm9vdDtcblxuICAgIGlmICghdGhpcy5yb290KSB7XG4gICAgICB0aGlzLmZyYW1lQnVmZmVyID0gX3BpeGlHbENvcmUuR0xGcmFtZWJ1ZmZlci5jcmVhdGVSR0JBKGdsLCAxMDAsIDEwMCk7XG5cbiAgICAgIGlmICh0aGlzLnNjYWxlTW9kZSA9PT0gX2NvbnN0LlNDQUxFX01PREVTLk5FQVJFU1QpIHtcbiAgICAgICAgdGhpcy5mcmFtZUJ1ZmZlci50ZXh0dXJlLmVuYWJsZU5lYXJlc3RTY2FsaW5nKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmZyYW1lQnVmZmVyLnRleHR1cmUuZW5hYmxlTGluZWFyU2NhbGluZygpO1xuICAgICAgfVxuICAgICAgLypcbiAgICAgICAgICBBIGZyYW1lIGJ1ZmZlciBuZWVkcyBhIHRhcmdldCB0byByZW5kZXIgdG8uLlxuICAgICAgICAgIGNyZWF0ZSBhIHRleHR1cmUgYW5kIGJpbmQgaXQgYXR0YWNoIGl0IHRvIHRoZSBmcmFtZWJ1ZmZlci4uXG4gICAgICAgKi9cblxuICAgICAgLy8gdGhpcyBpcyB1c2VkIGJ5IHRoZSBiYXNlIHRleHR1cmVcbiAgICAgIHRoaXMudGV4dHVyZSA9IHRoaXMuZnJhbWVCdWZmZXIudGV4dHVyZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbWFrZSBpdCBhIG51bGwgZnJhbWVidWZmZXIuLlxuICAgICAgdGhpcy5mcmFtZUJ1ZmZlciA9IG5ldyBfcGl4aUdsQ29yZS5HTEZyYW1lYnVmZmVyKGdsLCAxMDAsIDEwMCk7XG4gICAgICB0aGlzLmZyYW1lQnVmZmVyLmZyYW1lYnVmZmVyID0gbnVsbDtcbiAgICB9XG5cbiAgICB0aGlzLnNldEZyYW1lKCk7XG5cbiAgICB0aGlzLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhcnMgdGhlIGZpbHRlciB0ZXh0dXJlLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcltdfSBbY2xlYXJDb2xvcj10aGlzLmNsZWFyQ29sb3JdIC0gQXJyYXkgb2YgW3IsZyxiLGFdIHRvIGNsZWFyIHRoZSBmcmFtZWJ1ZmZlclxuICAgKi9cblxuXG4gIFJlbmRlclRhcmdldC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhcihjbGVhckNvbG9yKSB7XG4gICAgdmFyIGNjID0gY2xlYXJDb2xvciB8fCB0aGlzLmNsZWFyQ29sb3I7XG5cbiAgICB0aGlzLmZyYW1lQnVmZmVyLmNsZWFyKGNjWzBdLCBjY1sxXSwgY2NbMl0sIGNjWzNdKTsgLy8gcixnLGIsYSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEJpbmRzIHRoZSBzdGVuY2lsIGJ1ZmZlci5cbiAgICpcbiAgICovXG5cblxuICBSZW5kZXJUYXJnZXQucHJvdG90eXBlLmF0dGFjaFN0ZW5jaWxCdWZmZXIgPSBmdW5jdGlvbiBhdHRhY2hTdGVuY2lsQnVmZmVyKCkge1xuICAgIC8vIFRPRE8gY2hlY2sgaWYgc3RlbmNpbCBpcyBkb25lP1xuICAgIC8qKlxuICAgICAqIFRoZSBzdGVuY2lsIGJ1ZmZlciBpcyB1c2VkIGZvciBtYXNraW5nIGluIHBpeGlcbiAgICAgKiBsZXRzIGNyZWF0ZSBvbmUgYW5kIHRoZW4gYWRkIGF0dGFjaCBpdCB0byB0aGUgZnJhbWVidWZmZXIuLlxuICAgICAqL1xuICAgIGlmICghdGhpcy5yb290KSB7XG4gICAgICB0aGlzLmZyYW1lQnVmZmVyLmVuYWJsZVN0ZW5jaWwoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGZyYW1lIG9mIHRoZSByZW5kZXIgdGFyZ2V0LlxuICAgKlxuICAgKiBAcGFyYW0ge1JlY3RhbmdsZX0gZGVzdGluYXRpb25GcmFtZSAtIFRoZSBkZXN0aW5hdGlvbiBmcmFtZS5cbiAgICogQHBhcmFtIHtSZWN0YW5nbGV9IHNvdXJjZUZyYW1lIC0gVGhlIHNvdXJjZSBmcmFtZS5cbiAgICovXG5cblxuICBSZW5kZXJUYXJnZXQucHJvdG90eXBlLnNldEZyYW1lID0gZnVuY3Rpb24gc2V0RnJhbWUoZGVzdGluYXRpb25GcmFtZSwgc291cmNlRnJhbWUpIHtcbiAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUgPSBkZXN0aW5hdGlvbkZyYW1lIHx8IHRoaXMuZGVzdGluYXRpb25GcmFtZSB8fCB0aGlzLmRlZmF1bHRGcmFtZTtcbiAgICB0aGlzLnNvdXJjZUZyYW1lID0gc291cmNlRnJhbWUgfHwgdGhpcy5zb3VyY2VGcmFtZSB8fCB0aGlzLmRlc3RpbmF0aW9uRnJhbWU7XG4gIH07XG5cbiAgLyoqXG4gICAqIEJpbmRzIHRoZSBidWZmZXJzIGFuZCBpbml0aWFsaXNlcyB0aGUgdmlld3BvcnQuXG4gICAqXG4gICAqL1xuXG5cbiAgUmVuZGVyVGFyZ2V0LnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgIC8vIFRPT0QgcmVmYWN0b3IgdXNhZ2Ugb2YgZnJhbWUuLlxuICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAvLyBtYWtlIHN1cmUgdGhlIHRleHR1cmUgaXMgdW5ib3VuZCFcbiAgICB0aGlzLmZyYW1lQnVmZmVyLmJpbmQoKTtcblxuICAgIHRoaXMuY2FsY3VsYXRlUHJvamVjdGlvbih0aGlzLmRlc3RpbmF0aW9uRnJhbWUsIHRoaXMuc291cmNlRnJhbWUpO1xuXG4gICAgaWYgKHRoaXMudHJhbnNmb3JtKSB7XG4gICAgICB0aGlzLnByb2plY3Rpb25NYXRyaXguYXBwZW5kKHRoaXMudHJhbnNmb3JtKTtcbiAgICB9XG5cbiAgICAvLyBUT0RPIGFkZCBhIGNoZWNrIGFzIHRoZW0gbWF5IGJlIHRoZSBzYW1lIVxuICAgIGlmICh0aGlzLmRlc3RpbmF0aW9uRnJhbWUgIT09IHRoaXMuc291cmNlRnJhbWUpIHtcbiAgICAgIGdsLmVuYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICAgICAgZ2wuc2Npc3Nvcih0aGlzLmRlc3RpbmF0aW9uRnJhbWUueCB8IDAsIHRoaXMuZGVzdGluYXRpb25GcmFtZS55IHwgMCwgdGhpcy5kZXN0aW5hdGlvbkZyYW1lLndpZHRoICogdGhpcy5yZXNvbHV0aW9uIHwgMCwgdGhpcy5kZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAqIHRoaXMucmVzb2x1dGlvbiB8IDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBnbC5kaXNhYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gICAgfVxuXG4gICAgLy8gVE9ETyAtIGRvZXMgbm90IG5lZWQgdG8gYmUgdXBkYXRlZCBhbGwgdGhlIHRpbWU/P1xuICAgIGdsLnZpZXdwb3J0KHRoaXMuZGVzdGluYXRpb25GcmFtZS54IHwgMCwgdGhpcy5kZXN0aW5hdGlvbkZyYW1lLnkgfCAwLCB0aGlzLmRlc3RpbmF0aW9uRnJhbWUud2lkdGggKiB0aGlzLnJlc29sdXRpb24gfCAwLCB0aGlzLmRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uIHwgMCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHByb2plY3Rpb24gbWF0cml4IGJhc2VkIG9uIGEgcHJvamVjdGlvbiBmcmFtZSAod2hpY2ggaXMgYSByZWN0YW5nbGUpXG4gICAqXG4gICAqIEBwYXJhbSB7UmVjdGFuZ2xlfSBkZXN0aW5hdGlvbkZyYW1lIC0gVGhlIGRlc3RpbmF0aW9uIGZyYW1lLlxuICAgKiBAcGFyYW0ge1JlY3RhbmdsZX0gc291cmNlRnJhbWUgLSBUaGUgc291cmNlIGZyYW1lLlxuICAgKi9cblxuXG4gIFJlbmRlclRhcmdldC5wcm90b3R5cGUuY2FsY3VsYXRlUHJvamVjdGlvbiA9IGZ1bmN0aW9uIGNhbGN1bGF0ZVByb2plY3Rpb24oZGVzdGluYXRpb25GcmFtZSwgc291cmNlRnJhbWUpIHtcbiAgICB2YXIgcG0gPSB0aGlzLnByb2plY3Rpb25NYXRyaXg7XG5cbiAgICBzb3VyY2VGcmFtZSA9IHNvdXJjZUZyYW1lIHx8IGRlc3RpbmF0aW9uRnJhbWU7XG5cbiAgICBwbS5pZGVudGl0eSgpO1xuXG4gICAgLy8gVE9ETzogbWFrZSBkZXN0IHNjYWxlIHNvdXJjZVxuICAgIGlmICghdGhpcy5yb290KSB7XG4gICAgICBwbS5hID0gMSAvIGRlc3RpbmF0aW9uRnJhbWUud2lkdGggKiAyO1xuICAgICAgcG0uZCA9IDEgLyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAqIDI7XG5cbiAgICAgIHBtLnR4ID0gLTEgLSBzb3VyY2VGcmFtZS54ICogcG0uYTtcbiAgICAgIHBtLnR5ID0gLTEgLSBzb3VyY2VGcmFtZS55ICogcG0uZDtcbiAgICB9IGVsc2Uge1xuICAgICAgcG0uYSA9IDEgLyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoICogMjtcbiAgICAgIHBtLmQgPSAtMSAvIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ICogMjtcblxuICAgICAgcG0udHggPSAtMSAtIHNvdXJjZUZyYW1lLnggKiBwbS5hO1xuICAgICAgcG0udHkgPSAxIC0gc291cmNlRnJhbWUueSAqIHBtLmQ7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZXNpemVzIHRoZSB0ZXh0dXJlIHRvIHRoZSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodFxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgbmV3IHdpZHRoIG9mIHRoZSB0ZXh0dXJlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgbmV3IGhlaWdodCBvZiB0aGUgdGV4dHVyZVxuICAgKi9cblxuXG4gIFJlbmRlclRhcmdldC5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gcmVzaXplKHdpZHRoLCBoZWlnaHQpIHtcbiAgICB3aWR0aCA9IHdpZHRoIHwgMDtcbiAgICBoZWlnaHQgPSBoZWlnaHQgfCAwO1xuXG4gICAgaWYgKHRoaXMuc2l6ZS53aWR0aCA9PT0gd2lkdGggJiYgdGhpcy5zaXplLmhlaWdodCA9PT0gaGVpZ2h0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zaXplLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5zaXplLmhlaWdodCA9IGhlaWdodDtcblxuICAgIHRoaXMuZGVmYXVsdEZyYW1lLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5kZWZhdWx0RnJhbWUuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgdGhpcy5mcmFtZUJ1ZmZlci5yZXNpemUod2lkdGggKiB0aGlzLnJlc29sdXRpb24sIGhlaWdodCAqIHRoaXMucmVzb2x1dGlvbik7XG5cbiAgICB2YXIgcHJvamVjdGlvbkZyYW1lID0gdGhpcy5mcmFtZSB8fCB0aGlzLnNpemU7XG5cbiAgICB0aGlzLmNhbGN1bGF0ZVByb2plY3Rpb24ocHJvamVjdGlvbkZyYW1lKTtcbiAgfTtcblxuICAvKipcbiAgICogRGVzdHJveXMgdGhlIHJlbmRlciB0YXJnZXQuXG4gICAqXG4gICAqL1xuXG5cbiAgUmVuZGVyVGFyZ2V0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICB0aGlzLmZyYW1lQnVmZmVyLmRlc3Ryb3koKTtcblxuICAgIHRoaXMuZnJhbWVCdWZmZXIgPSBudWxsO1xuICAgIHRoaXMudGV4dHVyZSA9IG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIFJlbmRlclRhcmdldDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUmVuZGVyVGFyZ2V0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVuZGVyVGFyZ2V0LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9TeXN0ZW1SZW5kZXJlcjIgPSByZXF1aXJlKCcuLi9TeXN0ZW1SZW5kZXJlcicpO1xuXG52YXIgX1N5c3RlbVJlbmRlcmVyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1N5c3RlbVJlbmRlcmVyMik7XG5cbnZhciBfTWFza01hbmFnZXIgPSByZXF1aXJlKCcuL21hbmFnZXJzL01hc2tNYW5hZ2VyJyk7XG5cbnZhciBfTWFza01hbmFnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWFza01hbmFnZXIpO1xuXG52YXIgX1N0ZW5jaWxNYW5hZ2VyID0gcmVxdWlyZSgnLi9tYW5hZ2Vycy9TdGVuY2lsTWFuYWdlcicpO1xuXG52YXIgX1N0ZW5jaWxNYW5hZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1N0ZW5jaWxNYW5hZ2VyKTtcblxudmFyIF9GaWx0ZXJNYW5hZ2VyID0gcmVxdWlyZSgnLi9tYW5hZ2Vycy9GaWx0ZXJNYW5hZ2VyJyk7XG5cbnZhciBfRmlsdGVyTWFuYWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GaWx0ZXJNYW5hZ2VyKTtcblxudmFyIF9SZW5kZXJUYXJnZXQgPSByZXF1aXJlKCcuL3V0aWxzL1JlbmRlclRhcmdldCcpO1xuXG52YXIgX1JlbmRlclRhcmdldDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZW5kZXJUYXJnZXQpO1xuXG52YXIgX09iamVjdFJlbmRlcmVyID0gcmVxdWlyZSgnLi91dGlscy9PYmplY3RSZW5kZXJlcicpO1xuXG52YXIgX09iamVjdFJlbmRlcmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX09iamVjdFJlbmRlcmVyKTtcblxudmFyIF9UZXh0dXJlTWFuYWdlciA9IHJlcXVpcmUoJy4vVGV4dHVyZU1hbmFnZXInKTtcblxudmFyIF9UZXh0dXJlTWFuYWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlTWFuYWdlcik7XG5cbnZhciBfQmFzZVRleHR1cmUgPSByZXF1aXJlKCcuLi8uLi90ZXh0dXJlcy9CYXNlVGV4dHVyZScpO1xuXG52YXIgX0Jhc2VUZXh0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Jhc2VUZXh0dXJlKTtcblxudmFyIF9UZXh0dXJlR2FyYmFnZUNvbGxlY3RvciA9IHJlcXVpcmUoJy4vVGV4dHVyZUdhcmJhZ2VDb2xsZWN0b3InKTtcblxudmFyIF9UZXh0dXJlR2FyYmFnZUNvbGxlY3RvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlR2FyYmFnZUNvbGxlY3Rvcik7XG5cbnZhciBfV2ViR0xTdGF0ZSA9IHJlcXVpcmUoJy4vV2ViR0xTdGF0ZScpO1xuXG52YXIgX1dlYkdMU3RhdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xTdGF0ZSk7XG5cbnZhciBfbWFwV2ViR0xEcmF3TW9kZXNUb1BpeGkgPSByZXF1aXJlKCcuL3V0aWxzL21hcFdlYkdMRHJhd01vZGVzVG9QaXhpJyk7XG5cbnZhciBfbWFwV2ViR0xEcmF3TW9kZXNUb1BpeGkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWFwV2ViR0xEcmF3TW9kZXNUb1BpeGkpO1xuXG52YXIgX3ZhbGlkYXRlQ29udGV4dCA9IHJlcXVpcmUoJy4vdXRpbHMvdmFsaWRhdGVDb250ZXh0Jyk7XG5cbnZhciBfdmFsaWRhdGVDb250ZXh0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3ZhbGlkYXRlQ29udGV4dCk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi8uLi91dGlscycpO1xuXG52YXIgX3BpeGlHbENvcmUgPSByZXF1aXJlKCdwaXhpLWdsLWNvcmUnKTtcblxudmFyIF9waXhpR2xDb3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BpeGlHbENvcmUpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vY29uc3QnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgQ09OVEVYVF9VSUQgPSAwO1xuXG4vKipcbiAqIFRoZSBXZWJHTFJlbmRlcmVyIGRyYXdzIHRoZSBzY2VuZSBhbmQgYWxsIGl0cyBjb250ZW50IG9udG8gYSB3ZWJHTCBlbmFibGVkIGNhbnZhcy4gVGhpcyByZW5kZXJlclxuICogc2hvdWxkIGJlIHVzZWQgZm9yIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCB3ZWJHTC4gVGhpcyBSZW5kZXIgd29ya3MgYnkgYXV0b21hdGljYWxseSBtYW5hZ2luZyB3ZWJHTEJhdGNocy5cbiAqIFNvIG5vIG5lZWQgZm9yIFNwcml0ZSBCYXRjaGVzIG9yIFNwcml0ZSBDbG91ZHMuXG4gKiBEb24ndCBmb3JnZXQgdG8gYWRkIHRoZSB2aWV3IHRvIHlvdXIgRE9NIG9yIHlvdSB3aWxsIG5vdCBzZWUgYW55dGhpbmcgOilcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVJlbmRlcmVyXG4gKi9cblxudmFyIFdlYkdMUmVuZGVyZXIgPSBmdW5jdGlvbiAoX1N5c3RlbVJlbmRlcmVyKSB7XG4gICAgX2luaGVyaXRzKFdlYkdMUmVuZGVyZXIsIF9TeXN0ZW1SZW5kZXJlcik7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdmFsaWQtanNkb2NcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9uYWwgcmVuZGVyZXIgcGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD04MDBdIC0gdGhlIHdpZHRoIG9mIHRoZSBzY3JlZW5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTYwMF0gLSB0aGUgaGVpZ2h0IG9mIHRoZSBzY3JlZW5cbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbb3B0aW9ucy52aWV3XSAtIHRoZSBjYW52YXMgdG8gdXNlIGFzIGEgdmlldywgb3B0aW9uYWxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYW5zcGFyZW50PWZhbHNlXSAtIElmIHRoZSByZW5kZXIgdmlldyBpcyB0cmFuc3BhcmVudCwgZGVmYXVsdCBmYWxzZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b1Jlc2l6ZT1mYWxzZV0gLSBJZiB0aGUgcmVuZGVyIHZpZXcgaXMgYXV0b21hdGljYWxseSByZXNpemVkLCBkZWZhdWx0IGZhbHNlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbnRpYWxpYXM9ZmFsc2VdIC0gc2V0cyBhbnRpYWxpYXMuIElmIG5vdCBhdmFpbGFibGUgbmF0aXZlbHkgdGhlbiBGWEFBXG4gICAgICogIGFudGlhbGlhc2luZyBpcyB1c2VkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mb3JjZUZYQUE9ZmFsc2VdIC0gZm9yY2VzIEZYQUEgYW50aWFsaWFzaW5nIHRvIGJlIHVzZWQgb3ZlciBuYXRpdmUuXG4gICAgICogIEZYQUEgaXMgZmFzdGVyLCBidXQgbWF5IG5vdCBhbHdheXMgbG9vayBhcyBncmVhdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLlxuICAgICAqICBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyZXIgcmV0aW5hIHdvdWxkIGJlIDIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcj10cnVlXSAtIFRoaXMgc2V0cyBpZiB0aGUgcmVuZGVyZXIgd2lsbCBjbGVhclxuICAgICAqICB0aGUgY2FudmFzIG9yIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy4gSWYgeW91IHdpc2ggdG8gc2V0IHRoaXMgdG8gZmFsc2UsIHlvdSAqbXVzdCogc2V0XG4gICAgICogIHByZXNlcnZlRHJhd2luZ0J1ZmZlciB0byBgdHJ1ZWAuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZmFsc2VdIC0gZW5hYmxlcyBkcmF3aW5nIGJ1ZmZlciBwcmVzZXJ2YXRpb24sXG4gICAgICogIGVuYWJsZSB0aGlzIGlmIHlvdSBuZWVkIHRvIGNhbGwgdG9EYXRhVXJsIG9uIHRoZSB3ZWJnbCBjb250ZXh0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucm91bmRQaXhlbHM9ZmFsc2VdIC0gSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuXG4gICAgICogIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXSAtIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSByZW5kZXJlZCBhcmVhXG4gICAgICogIChzaG93biBpZiBub3QgdHJhbnNwYXJlbnQpLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVnYWN5PWZhbHNlXSAtIElmIHRydWUgUGl4aUpTIHdpbGwgYWltIHRvIGVuc3VyZSBjb21wYXRpYmlsaXR5XG4gICAgICogIHdpdGggb2xkZXIgLyBsZXNzIGFkdmFuY2VkIGRldmljZXMuIElmIHlvdSBleHBlcmlhbmNlIHVuZXhwbGFpbmVkIGZsaWNrZXJpbmcgdHJ5IHNldHRpbmcgdGhpcyB0byB0cnVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5wb3dlclByZWZlcmVuY2VdIC0gUGFyYW1ldGVyIHBhc3NlZCB0byB3ZWJnbCBjb250ZXh0LCBzZXQgdG8gXCJoaWdoLXBlcmZvcm1hbmNlXCJcbiAgICAgKiAgZm9yIGRldmljZXMgd2l0aCBkdWFsIGdyYXBoaWNzIGNhcmRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBXZWJHTFJlbmRlcmVyKG9wdGlvbnMsIGFyZzIsIGFyZzMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFdlYkdMUmVuZGVyZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9TeXN0ZW1SZW5kZXJlci5jYWxsKHRoaXMsICdXZWJHTCcsIG9wdGlvbnMsIGFyZzIsIGFyZzMpKTtcblxuICAgICAgICBfdGhpcy5sZWdhY3kgPSBfdGhpcy5vcHRpb25zLmxlZ2FjeTtcblxuICAgICAgICBpZiAoX3RoaXMubGVnYWN5KSB7XG4gICAgICAgICAgICBfcGl4aUdsQ29yZTIuZGVmYXVsdC5WZXJ0ZXhBcnJheU9iamVjdC5GT1JDRV9OQVRJVkUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoaXMgcmVuZGVyZXIgYXMgYSBzdGFuZGFyZGlzZWQgY29uc3RcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuUkVOREVSRVJfVFlQRVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHlwZSA9IF9jb25zdC5SRU5ERVJFUl9UWVBFLldFQkdMO1xuXG4gICAgICAgIF90aGlzLmhhbmRsZUNvbnRleHRMb3N0ID0gX3RoaXMuaGFuZGxlQ29udGV4dExvc3QuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZCA9IF90aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZC5iaW5kKF90aGlzKTtcblxuICAgICAgICBfdGhpcy52aWV3LmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dGxvc3QnLCBfdGhpcy5oYW5kbGVDb250ZXh0TG9zdCwgZmFsc2UpO1xuICAgICAgICBfdGhpcy52aWV3LmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dHJlc3RvcmVkJywgX3RoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkLCBmYWxzZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvcHRpb25zIHBhc3NlZCBpbiB0byBjcmVhdGUgYSBuZXcgd2ViZ2wgY29udGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2NvbnRleHRPcHRpb25zID0ge1xuICAgICAgICAgICAgYWxwaGE6IF90aGlzLnRyYW5zcGFyZW50LFxuICAgICAgICAgICAgYW50aWFsaWFzOiBfdGhpcy5vcHRpb25zLmFudGlhbGlhcyxcbiAgICAgICAgICAgIHByZW11bHRpcGxpZWRBbHBoYTogX3RoaXMudHJhbnNwYXJlbnQgJiYgX3RoaXMudHJhbnNwYXJlbnQgIT09ICdub3RNdWx0aXBsaWVkJyxcbiAgICAgICAgICAgIHN0ZW5jaWw6IHRydWUsXG4gICAgICAgICAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IF90aGlzLm9wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyLFxuICAgICAgICAgICAgcG93ZXJQcmVmZXJlbmNlOiBfdGhpcy5vcHRpb25zLnBvd2VyUHJlZmVyZW5jZVxuICAgICAgICB9O1xuXG4gICAgICAgIF90aGlzLl9iYWNrZ3JvdW5kQ29sb3JSZ2JhWzNdID0gX3RoaXMudHJhbnNwYXJlbnQgPyAwIDogMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWFuYWdlcyB0aGUgbWFza3MgdXNpbmcgdGhlIHN0ZW5jaWwgYnVmZmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hc2tNYW5hZ2VyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubWFza01hbmFnZXIgPSBuZXcgX01hc2tNYW5hZ2VyMi5kZWZhdWx0KF90aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWFuYWdlcyB0aGUgc3RlbmNpbCBidWZmZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RlbmNpbE1hbmFnZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGVuY2lsTWFuYWdlciA9IG5ldyBfU3RlbmNpbE1hbmFnZXIyLmRlZmF1bHQoX3RoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBlbXB0eSByZW5kZXJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYmplY3RSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmVtcHR5UmVuZGVyZXIgPSBuZXcgX09iamVjdFJlbmRlcmVyMi5kZWZhdWx0KF90aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnRseSBhY3RpdmUgT2JqZWN0UmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JqZWN0UmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jdXJyZW50UmVuZGVyZXIgPSBfdGhpcy5lbXB0eVJlbmRlcmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYW5hZ2VzIHRleHR1cmVzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZU1hbmFnZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50ZXh0dXJlTWFuYWdlciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hbmFnZXMgdGhlIGZpbHRlcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRmlsdGVyTWFuYWdlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZpbHRlck1hbmFnZXIgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLmluaXRQbHVnaW5zKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0LCBpdCBpcyBjcmVhdGVkIGhlcmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAgICAgKi9cbiAgICAgICAgLy8gaW5pdGlhbGl6ZSB0aGUgY29udGV4dCBzbyBpdCBpcyByZWFkeSBmb3IgdGhlIG1hbmFnZXJzLlxuICAgICAgICBpZiAoX3RoaXMub3B0aW9ucy5jb250ZXh0KSB7XG4gICAgICAgICAgICAvLyBjaGVja3MgdG8gc2VlIGlmIGEgY29udGV4dCBpcyB2YWxpZC4uXG4gICAgICAgICAgICAoMCwgX3ZhbGlkYXRlQ29udGV4dDIuZGVmYXVsdCkoX3RoaXMub3B0aW9ucy5jb250ZXh0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLmdsID0gX3RoaXMub3B0aW9ucy5jb250ZXh0IHx8IF9waXhpR2xDb3JlMi5kZWZhdWx0LmNyZWF0ZUNvbnRleHQoX3RoaXMudmlldywgX3RoaXMuX2NvbnRleHRPcHRpb25zKTtcblxuICAgICAgICBfdGhpcy5DT05URVhUX1VJRCA9IENPTlRFWFRfVUlEKys7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50bHkgYWN0aXZlIE9iamVjdFJlbmRlcmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLldlYkdMU3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IG5ldyBfV2ViR0xTdGF0ZTIuZGVmYXVsdChfdGhpcy5nbCk7XG5cbiAgICAgICAgX3RoaXMucmVuZGVyaW5nVG9TY3JlZW4gPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb2xkcyB0aGUgY3VycmVudCBzdGF0ZSBvZiB0ZXh0dXJlcyBib3VuZCB0byB0aGUgR1BVLlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ib3VuZFRleHR1cmVzID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSG9sZHMgdGhlIGN1cnJlbnQgc2hhZGVyXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU2hhZGVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2FjdGl2ZVNoYWRlciA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMuX2FjdGl2ZVZhbyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhvbGRzIHRoZSBjdXJyZW50IHJlbmRlciB0YXJnZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZW5kZXJUYXJnZXR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0ID0gbnVsbDtcblxuICAgICAgICBfdGhpcy5faW5pdENvbnRleHQoKTtcblxuICAgICAgICAvLyBtYXAgc29tZSB3ZWJHTCBibGVuZCBhbmQgZHJhd21vZGVzLi5cbiAgICAgICAgX3RoaXMuZHJhd01vZGVzID0gKDAsIF9tYXBXZWJHTERyYXdNb2Rlc1RvUGl4aTIuZGVmYXVsdCkoX3RoaXMuZ2wpO1xuXG4gICAgICAgIF90aGlzLl9uZXh0VGV4dHVyZUxvY2F0aW9uID0gMDtcblxuICAgICAgICBfdGhpcy5zZXRCbGVuZE1vZGUoMCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIGFmdGVyIHJlbmRlcmluZyBmaW5pc2hlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuV2ViR0xSZW5kZXJlciNwb3N0cmVuZGVyXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCBiZWZvcmUgcmVuZGVyaW5nIHN0YXJ0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuV2ViR0xSZW5kZXJlciNwcmVyZW5kZXJcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIFdlYkdMIGNvbnRleHQgaXMgc2V0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5XZWJHTFJlbmRlcmVyI2NvbnRleHRcbiAgICAgICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gV2ViR0wgY29udGV4dC5cbiAgICAgICAgICovXG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSBXZWJHTCBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5faW5pdENvbnRleHQgPSBmdW5jdGlvbiBfaW5pdENvbnRleHQoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgLy8gcmVzdG9yZSBhIGNvbnRleHQgaWYgaXQgd2FzIHByZXZpb3VzbHkgbG9zdFxuICAgICAgICBpZiAoZ2wuaXNDb250ZXh0TG9zdCgpICYmIGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JykpIHtcbiAgICAgICAgICAgIGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JykucmVzdG9yZUNvbnRleHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtYXhUZXh0dXJlcyA9IGdsLmdldFBhcmFtZXRlcihnbC5NQVhfVEVYVFVSRV9JTUFHRV9VTklUUyk7XG5cbiAgICAgICAgdGhpcy5fYWN0aXZlU2hhZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWN0aXZlVmFvID0gbnVsbDtcblxuICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXMgPSBuZXcgQXJyYXkobWF4VGV4dHVyZXMpO1xuICAgICAgICB0aGlzLmVtcHR5VGV4dHVyZXMgPSBuZXcgQXJyYXkobWF4VGV4dHVyZXMpO1xuXG4gICAgICAgIC8vIGNyZWF0ZSBhIHRleHR1cmUgbWFuYWdlci4uLlxuICAgICAgICB0aGlzLnRleHR1cmVNYW5hZ2VyID0gbmV3IF9UZXh0dXJlTWFuYWdlcjIuZGVmYXVsdCh0aGlzKTtcbiAgICAgICAgdGhpcy5maWx0ZXJNYW5hZ2VyID0gbmV3IF9GaWx0ZXJNYW5hZ2VyMi5kZWZhdWx0KHRoaXMpO1xuICAgICAgICB0aGlzLnRleHR1cmVHQyA9IG5ldyBfVGV4dHVyZUdhcmJhZ2VDb2xsZWN0b3IyLmRlZmF1bHQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5zdGF0ZS5yZXNldFRvRGVmYXVsdCgpO1xuXG4gICAgICAgIHRoaXMucm9vdFJlbmRlclRhcmdldCA9IG5ldyBfUmVuZGVyVGFyZ2V0Mi5kZWZhdWx0KGdsLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgbnVsbCwgdGhpcy5yZXNvbHV0aW9uLCB0cnVlKTtcbiAgICAgICAgdGhpcy5yb290UmVuZGVyVGFyZ2V0LmNsZWFyQ29sb3IgPSB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JSZ2JhO1xuXG4gICAgICAgIHRoaXMuYmluZFJlbmRlclRhcmdldCh0aGlzLnJvb3RSZW5kZXJUYXJnZXQpO1xuXG4gICAgICAgIC8vIG5vdyBsZXRzIGZpbGwgdXAgdGhlIHRleHR1cmVzIHdpdGggZW1wdHkgb25lcyFcbiAgICAgICAgdmFyIGVtcHR5R0xUZXh0dXJlID0gbmV3IF9waXhpR2xDb3JlMi5kZWZhdWx0LkdMVGV4dHVyZS5mcm9tRGF0YShnbCwgbnVsbCwgMSwgMSk7XG5cbiAgICAgICAgdmFyIHRlbXBPYmogPSB7IF9nbFRleHR1cmVzOiB7fSB9O1xuXG4gICAgICAgIHRlbXBPYmouX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0gPSB7fTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heFRleHR1cmVzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBlbXB0eSA9IG5ldyBfQmFzZVRleHR1cmUyLmRlZmF1bHQoKTtcblxuICAgICAgICAgICAgZW1wdHkuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0gPSBlbXB0eUdMVGV4dHVyZTtcblxuICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2ldID0gdGVtcE9iajtcbiAgICAgICAgICAgIHRoaXMuZW1wdHlUZXh0dXJlc1tpXSA9IGVtcHR5O1xuICAgICAgICAgICAgdGhpcy5iaW5kVGV4dHVyZShudWxsLCBpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZW1pdCgnY29udGV4dCcsIGdsKTtcblxuICAgICAgICAvLyBzZXR1cCB0aGUgd2lkdGgvaGVpZ2h0IHByb3BlcnRpZXMgYW5kIGdsIHZpZXdwb3J0XG4gICAgICAgIHRoaXMucmVzaXplKHRoaXMuc2NyZWVuLndpZHRoLCB0aGlzLnNjcmVlbi5oZWlnaHQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdG8gaXRzIHdlYkdMIHZpZXdcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gdGhlIG9iamVjdCB0byBiZSByZW5kZXJlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSByZW5kZXJUZXh0dXJlIC0gVGhlIHJlbmRlciB0ZXh0dXJlIHRvIHJlbmRlciB0by5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjbGVhcl0gLSBTaG91bGQgdGhlIGNhbnZhcyBiZSBjbGVhcmVkIGJlZm9yZSB0aGUgbmV3IHJlbmRlclxuICAgICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm19IFt0cmFuc2Zvcm1dIC0gQSB0cmFuc2Zvcm0gdG8gYXBwbHkgdG8gdGhlIHJlbmRlciB0ZXh0dXJlIGJlZm9yZSByZW5kZXJpbmcuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZVRyYW5zZm9ybV0gLSBTaG91bGQgd2Ugc2tpcCB0aGUgdXBkYXRlIHRyYW5zZm9ybSBwYXNzP1xuICAgICAqL1xuXG5cbiAgICBXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoZGlzcGxheU9iamVjdCwgcmVuZGVyVGV4dHVyZSwgY2xlYXIsIHRyYW5zZm9ybSwgc2tpcFVwZGF0ZVRyYW5zZm9ybSkge1xuICAgICAgICAvLyBjYW4gYmUgaGFuZHkgdG8ga25vdyFcbiAgICAgICAgdGhpcy5yZW5kZXJpbmdUb1NjcmVlbiA9ICFyZW5kZXJUZXh0dXJlO1xuXG4gICAgICAgIHRoaXMuZW1pdCgncHJlcmVuZGVyJyk7XG5cbiAgICAgICAgLy8gbm8gcG9pbnQgcmVuZGVyaW5nIGlmIG91ciBjb250ZXh0IGhhcyBiZWVuIGJsb3duIHVwIVxuICAgICAgICBpZiAoIXRoaXMuZ2wgfHwgdGhpcy5nbC5pc0NvbnRleHRMb3N0KCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX25leHRUZXh0dXJlTG9jYXRpb24gPSAwO1xuXG4gICAgICAgIGlmICghcmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdE9iamVjdFJlbmRlcmVkID0gZGlzcGxheU9iamVjdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc2tpcFVwZGF0ZVRyYW5zZm9ybSkge1xuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBzY2VuZSBncmFwaFxuICAgICAgICAgICAgdmFyIGNhY2hlUGFyZW50ID0gZGlzcGxheU9iamVjdC5wYXJlbnQ7XG5cbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgZGlzcGxheU9iamVjdC5wYXJlbnQgPSBjYWNoZVBhcmVudDtcbiAgICAgICAgICAgIC8vIGRpc3BsYXlPYmplY3QuaGl0QXJlYSA9IC8vVE9ETyBhZGQgYSB0ZW1wIGhpdCBhcmVhXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJpbmRSZW5kZXJUZXh0dXJlKHJlbmRlclRleHR1cmUsIHRyYW5zZm9ybSk7XG5cbiAgICAgICAgdGhpcy5jdXJyZW50UmVuZGVyZXIuc3RhcnQoKTtcblxuICAgICAgICBpZiAoY2xlYXIgIT09IHVuZGVmaW5lZCA/IGNsZWFyIDogdGhpcy5jbGVhckJlZm9yZVJlbmRlcikge1xuICAgICAgICAgICAgdGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0LmNsZWFyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBkaXNwbGF5T2JqZWN0LnJlbmRlcldlYkdMKHRoaXMpO1xuXG4gICAgICAgIC8vIGFwcGx5IHRyYW5zZm9ybS4uXG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyLmZsdXNoKCk7XG5cbiAgICAgICAgLy8gdGhpcy5zZXRPYmplY3RSZW5kZXJlcih0aGlzLmVtcHR5UmVuZGVyZXIpO1xuXG4gICAgICAgIHRoaXMudGV4dHVyZUdDLnVwZGF0ZSgpO1xuXG4gICAgICAgIHRoaXMuZW1pdCgncG9zdHJlbmRlcicpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBjdXJyZW50IHJlbmRlcmVyIHRvIHRoZSBvbmUgZ2l2ZW4gaW4gcGFyYW1ldGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuT2JqZWN0UmVuZGVyZXJ9IG9iamVjdFJlbmRlcmVyIC0gVGhlIG9iamVjdCByZW5kZXJlciB0byB1c2UuXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLnNldE9iamVjdFJlbmRlcmVyID0gZnVuY3Rpb24gc2V0T2JqZWN0UmVuZGVyZXIob2JqZWN0UmVuZGVyZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFJlbmRlcmVyID09PSBvYmplY3RSZW5kZXJlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jdXJyZW50UmVuZGVyZXIuc3RvcCgpO1xuICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJlciA9IG9iamVjdFJlbmRlcmVyO1xuICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJlci5zdGFydCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIHNob3VsZCBiZSBjYWxsZWQgaWYgeW91IHdpc2ggdG8gZG8gc29tZSBjdXN0b20gcmVuZGVyaW5nXG4gICAgICogSXQgd2lsbCBiYXNpY2FsbHkgcmVuZGVyIGFueXRoaW5nIHRoYXQgbWF5IGJlIGJhdGNoZWQgdXAgc3VjaCBhcyBzcHJpdGVzXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICAgICAgdGhpcy5zZXRPYmplY3RSZW5kZXJlcih0aGlzLmVtcHR5UmVuZGVyZXIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSB3ZWJHTCB2aWV3IHRvIHRoZSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5XaWR0aCAtIHRoZSBuZXcgd2lkdGggb2YgdGhlIHNjcmVlblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5IZWlnaHQgLSB0aGUgbmV3IGhlaWdodCBvZiB0aGUgc2NyZWVuXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIHJlc2l6ZShzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KSB7XG4gICAgICAgIC8vICBpZih3aWR0aCAqIHRoaXMucmVzb2x1dGlvbiA9PT0gdGhpcy53aWR0aCAmJiBoZWlnaHQgKiB0aGlzLnJlc29sdXRpb24gPT09IHRoaXMuaGVpZ2h0KXJldHVybjtcblxuICAgICAgICBfU3lzdGVtUmVuZGVyZXIzLmRlZmF1bHQucHJvdG90eXBlLnJlc2l6ZS5jYWxsKHRoaXMsIHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpO1xuXG4gICAgICAgIHRoaXMucm9vdFJlbmRlclRhcmdldC5yZXNpemUoc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVJlbmRlclRhcmdldCA9PT0gdGhpcy5yb290UmVuZGVyVGFyZ2V0KSB7XG4gICAgICAgICAgICB0aGlzLnJvb3RSZW5kZXJUYXJnZXQuYWN0aXZhdGUoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVNoYWRlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVNoYWRlci51bmlmb3Jtcy5wcm9qZWN0aW9uTWF0cml4ID0gdGhpcy5yb290UmVuZGVyVGFyZ2V0LnByb2plY3Rpb25NYXRyaXgudG9BcnJheSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSB3ZWJHTCB2aWV3IHRvIHRoZSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBibGVuZE1vZGUgLSB0aGUgZGVzaXJlZCBibGVuZCBtb2RlXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLnNldEJsZW5kTW9kZSA9IGZ1bmN0aW9uIHNldEJsZW5kTW9kZShibGVuZE1vZGUpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5zZXRCbGVuZE1vZGUoYmxlbmRNb2RlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRXJhc2VzIHRoZSBhY3RpdmUgcmVuZGVyIHRhcmdldCBhbmQgZmlsbHMgdGhlIGRyYXdpbmcgYXJlYSB3aXRoIGEgY29sb3VyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NsZWFyQ29sb3JdIC0gVGhlIGNvbG91clxuICAgICAqL1xuXG5cbiAgICBXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyKGNsZWFyQ29sb3IpIHtcbiAgICAgICAgdGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0LmNsZWFyKGNsZWFyQ29sb3IpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB0cmFuc2Zvcm0gb2YgdGhlIGFjdGl2ZSByZW5kZXIgdGFyZ2V0IHRvIHRoZSBnaXZlbiBtYXRyaXhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuc2V0VHJhbnNmb3JtID0gZnVuY3Rpb24gc2V0VHJhbnNmb3JtKG1hdHJpeCkge1xuICAgICAgICB0aGlzLl9hY3RpdmVSZW5kZXJUYXJnZXQudHJhbnNmb3JtID0gbWF0cml4O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFcmFzZXMgdGhlIHJlbmRlciB0ZXh0dXJlIGFuZCBmaWxscyB0aGUgZHJhd2luZyBhcmVhIHdpdGggYSBjb2xvdXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSByZW5kZXJUZXh0dXJlIC0gVGhlIHJlbmRlciB0ZXh0dXJlIHRvIGNsZWFyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjbGVhckNvbG9yXSAtIFRoZSBjb2xvdXJcbiAgICAgKiBAcmV0dXJuIHtQSVhJLldlYkdMUmVuZGVyZXJ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuXG5cbiAgICBXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5jbGVhclJlbmRlclRleHR1cmUgPSBmdW5jdGlvbiBjbGVhclJlbmRlclRleHR1cmUocmVuZGVyVGV4dHVyZSwgY2xlYXJDb2xvcikge1xuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgcmVuZGVyVGFyZ2V0ID0gYmFzZVRleHR1cmUuX2dsUmVuZGVyVGFyZ2V0c1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICBpZiAocmVuZGVyVGFyZ2V0KSB7XG4gICAgICAgICAgICByZW5kZXJUYXJnZXQuY2xlYXIoY2xlYXJDb2xvcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQmluZHMgYSByZW5kZXIgdGV4dHVyZSBmb3IgcmVuZGVyaW5nXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gcmVuZGVyVGV4dHVyZSAtIFRoZSByZW5kZXIgdGV4dHVyZSB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gLSBUaGUgdHJhbnNmb3JtIHRvIGJlIGFwcGxpZWQgdG8gdGhlIHJlbmRlciB0ZXh0dXJlXG4gICAgICogQHJldHVybiB7UElYSS5XZWJHTFJlbmRlcmVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuYmluZFJlbmRlclRleHR1cmUgPSBmdW5jdGlvbiBiaW5kUmVuZGVyVGV4dHVyZShyZW5kZXJUZXh0dXJlLCB0cmFuc2Zvcm0pIHtcbiAgICAgICAgdmFyIHJlbmRlclRhcmdldCA9IHZvaWQgMDtcblxuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICAgICAgaWYgKCFiYXNlVGV4dHVyZS5fZ2xSZW5kZXJUYXJnZXRzW3RoaXMuQ09OVEVYVF9VSURdKSB7XG4gICAgICAgICAgICAgICAgLy8gYmluZCB0aGUgY3VycmVudCB0ZXh0dXJlXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0dXJlTWFuYWdlci51cGRhdGVUZXh0dXJlKGJhc2VUZXh0dXJlLCAwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy51bmJpbmRUZXh0dXJlKGJhc2VUZXh0dXJlKTtcblxuICAgICAgICAgICAgcmVuZGVyVGFyZ2V0ID0gYmFzZVRleHR1cmUuX2dsUmVuZGVyVGFyZ2V0c1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgICAgIHJlbmRlclRhcmdldC5zZXRGcmFtZShyZW5kZXJUZXh0dXJlLmZyYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlbmRlclRhcmdldCA9IHRoaXMucm9vdFJlbmRlclRhcmdldDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlclRhcmdldC50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgIHRoaXMuYmluZFJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBjdXJyZW50IHJlbmRlciB0YXJnZXQgdG8gdGhlIG9uZSBnaXZlbiBpbiBwYXJhbWV0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IHJlbmRlclRhcmdldCAtIHRoZSBuZXcgcmVuZGVyIHRhcmdldFxuICAgICAqIEByZXR1cm4ge1BJWEkuV2ViR0xSZW5kZXJlcn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmJpbmRSZW5kZXJUYXJnZXQgPSBmdW5jdGlvbiBiaW5kUmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldCkge1xuICAgICAgICBpZiAocmVuZGVyVGFyZ2V0ICE9PSB0aGlzLl9hY3RpdmVSZW5kZXJUYXJnZXQpIHtcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVJlbmRlclRhcmdldCA9IHJlbmRlclRhcmdldDtcbiAgICAgICAgICAgIHJlbmRlclRhcmdldC5hY3RpdmF0ZSgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fYWN0aXZlU2hhZGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWN0aXZlU2hhZGVyLnVuaWZvcm1zLnByb2plY3Rpb25NYXRyaXggPSByZW5kZXJUYXJnZXQucHJvamVjdGlvbk1hdHJpeC50b0FycmF5KHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnN0ZW5jaWxNYW5hZ2VyLnNldE1hc2tTdGFjayhyZW5kZXJUYXJnZXQuc3RlbmNpbE1hc2tTdGFjayk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgY3VycmVudCBzaGFkZXIgdG8gdGhlIG9uZSBnaXZlbiBpbiBwYXJhbWV0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5TaGFkZXJ9IHNoYWRlciAtIHRoZSBuZXcgc2hhZGVyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYXV0b1Byb2plY3Q9dHJ1ZV0gLSBXaGV0aGVyIGF1dG9tYXRpY2FsbHkgc2V0IHRoZSBwcm9qZWN0aW9uIG1hdHJpeFxuICAgICAqIEByZXR1cm4ge1BJWEkuV2ViR0xSZW5kZXJlcn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmJpbmRTaGFkZXIgPSBmdW5jdGlvbiBiaW5kU2hhZGVyKHNoYWRlciwgYXV0b1Byb2plY3QpIHtcbiAgICAgICAgLy8gVE9ETyBjYWNoZVxuICAgICAgICBpZiAodGhpcy5fYWN0aXZlU2hhZGVyICE9PSBzaGFkZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVNoYWRlciA9IHNoYWRlcjtcbiAgICAgICAgICAgIHNoYWRlci5iaW5kKCk7XG5cbiAgICAgICAgICAgIC8vIGBhdXRvUHJvamVjdGAgbm9ybWFsbHkgd291bGQgYmUgYSBkZWZhdWx0IHBhcmFtZXRlciBzZXQgdG8gdHJ1ZVxuICAgICAgICAgICAgLy8gYnV0IGJlY2F1c2Ugb2YgaG93IEJhYmVsIHRyYW5zcGlsZXMgZGVmYXVsdCBwYXJhbWV0ZXJzXG4gICAgICAgICAgICAvLyBpdCBoaW5kZXJzIHRoZSBwZXJmb3JtYW5jZSBvZiB0aGlzIG1ldGhvZC5cbiAgICAgICAgICAgIGlmIChhdXRvUHJvamVjdCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAvLyBhdXRvbWF0aWNhbGx5IHNldCB0aGUgcHJvamVjdGlvbiBtYXRyaXhcbiAgICAgICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMucHJvamVjdGlvbk1hdHJpeCA9IHRoaXMuX2FjdGl2ZVJlbmRlclRhcmdldC5wcm9qZWN0aW9uTWF0cml4LnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQmluZHMgdGhlIHRleHR1cmUuIFRoaXMgd2lsbCByZXR1cm4gdGhlIGxvY2F0aW9uIG9mIHRoZSBib3VuZCB0ZXh0dXJlLlxuICAgICAqIEl0IG1heSBub3QgYmUgdGhlIHNhbWUgYXMgdGhlIG9uZSB5b3UgcGFzcyBpbi4gVGhpcyBpcyBkdWUgdG8gb3B0aW1pc2F0aW9uIHRoYXQgcHJldmVudHNcbiAgICAgKiBuZWVkbGVzcyBiaW5kaW5nIG9mIHRleHR1cmVzLiBGb3IgZXhhbXBsZSBpZiB0aGUgdGV4dHVyZSBpcyBhbHJlYWR5IGJvdW5kIGl0IHdpbGwgcmV0dXJuIHRoZVxuICAgICAqIGN1cnJlbnQgbG9jYXRpb24gb2YgdGhlIHRleHR1cmUgaW5zdGVhZCBvZiB0aGUgb25lIHByb3ZpZGVkLiBUbyBieXBhc3MgdGhpcyB1c2UgZm9yY2UgbG9jYXRpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gdGhlIG5ldyB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxvY2F0aW9uIC0gdGhlIHN1Z2dlc3RlZCB0ZXh0dXJlIGxvY2F0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBmb3JjZUxvY2F0aW9uIC0gZm9yY2UgdGhlIGxvY2F0aW9uXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBib3VuZCB0ZXh0dXJlIGxvY2F0aW9uXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmJpbmRUZXh0dXJlID0gZnVuY3Rpb24gYmluZFRleHR1cmUodGV4dHVyZSwgbG9jYXRpb24sIGZvcmNlTG9jYXRpb24pIHtcbiAgICAgICAgdGV4dHVyZSA9IHRleHR1cmUgfHwgdGhpcy5lbXB0eVRleHR1cmVzW2xvY2F0aW9uXTtcbiAgICAgICAgdGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmUgfHwgdGV4dHVyZTtcbiAgICAgICAgdGV4dHVyZS50b3VjaGVkID0gdGhpcy50ZXh0dXJlR0MuY291bnQ7XG5cbiAgICAgICAgaWYgKCFmb3JjZUxvY2F0aW9uKSB7XG4gICAgICAgICAgICAvLyBUT0RPIC0gbWF5YmUgbG9vayBpbnRvIGFkZGluZyBib3VuZElkcy4uIHNhdmUgdXMgdGhlIGxvb3A/XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYm91bmRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvdW5kVGV4dHVyZXNbaV0gPT09IHRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobG9jYXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX25leHRUZXh0dXJlTG9jYXRpb24rKztcbiAgICAgICAgICAgICAgICB0aGlzLl9uZXh0VGV4dHVyZUxvY2F0aW9uICU9IHRoaXMuYm91bmRUZXh0dXJlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgbG9jYXRpb24gPSB0aGlzLmJvdW5kVGV4dHVyZXMubGVuZ3RoIC0gdGhpcy5fbmV4dFRleHR1cmVMb2NhdGlvbiAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb2NhdGlvbiA9IGxvY2F0aW9uIHx8IDA7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgZ2xUZXh0dXJlID0gdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICBpZiAoIWdsVGV4dHVyZSkge1xuICAgICAgICAgICAgLy8gdGhpcyB3aWxsIGFsc28gYmluZCB0aGUgdGV4dHVyZS4uXG4gICAgICAgICAgICB0aGlzLnRleHR1cmVNYW5hZ2VyLnVwZGF0ZVRleHR1cmUodGV4dHVyZSwgbG9jYXRpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gYmluZCB0aGUgY3VycmVudCB0ZXh0dXJlXG4gICAgICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXNbbG9jYXRpb25dID0gdGV4dHVyZTtcbiAgICAgICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAgKyBsb2NhdGlvbik7XG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBnbFRleHR1cmUudGV4dHVyZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbG9jYXRpb247XG4gICAgfTtcblxuICAgIC8qKlxuICAgICogdW5iaW5kcyB0aGUgdGV4dHVyZSAuLi5cbiAgICAqXG4gICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIHRoZSB0ZXh0dXJlIHRvIHVuYmluZFxuICAgICogQHJldHVybiB7UElYSS5XZWJHTFJlbmRlcmVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAqL1xuXG5cbiAgICBXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS51bmJpbmRUZXh0dXJlID0gZnVuY3Rpb24gdW5iaW5kVGV4dHVyZSh0ZXh0dXJlKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgdGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmUgfHwgdGV4dHVyZTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYm91bmRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuYm91bmRUZXh0dXJlc1tpXSA9PT0gdGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYm91bmRUZXh0dXJlc1tpXSA9IHRoaXMuZW1wdHlUZXh0dXJlc1tpXTtcblxuICAgICAgICAgICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAgKyBpKTtcbiAgICAgICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLmVtcHR5VGV4dHVyZXNbaV0uX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0udGV4dHVyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBWQU8gZnJvbSB0aGlzIHJlbmRlcmVyJ3MgY29udGV4dCBhbmQgc3RhdGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtWZXJ0ZXhBcnJheU9iamVjdH0gVGhlIG5ldyBWQU8uXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZVZhbyA9IGZ1bmN0aW9uIGNyZWF0ZVZhbygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfcGl4aUdsQ29yZTIuZGVmYXVsdC5WZXJ0ZXhBcnJheU9iamVjdCh0aGlzLmdsLCB0aGlzLnN0YXRlLmF0dHJpYlN0YXRlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgY3VycmVudCBWYW8gdG8gdGhlIG9uZSBnaXZlbiBpbiBwYXJhbWV0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5WZXJ0ZXhBcnJheU9iamVjdH0gdmFvIC0gdGhlIG5ldyBWYW9cbiAgICAgKiBAcmV0dXJuIHtQSVhJLldlYkdMUmVuZGVyZXJ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuXG5cbiAgICBXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5iaW5kVmFvID0gZnVuY3Rpb24gYmluZFZhbyh2YW8pIHtcbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVZhbyA9PT0gdmFvKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2YW8pIHtcbiAgICAgICAgICAgIHZhby5iaW5kKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYWN0aXZlVmFvKSB7XG4gICAgICAgICAgICAvLyBUT0RPIHRoaXMgc2hvdWxkIGFsd2F5cyBiZSB0cnVlIGkgdGhpbms/XG4gICAgICAgICAgICB0aGlzLl9hY3RpdmVWYW8udW5iaW5kKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9hY3RpdmVWYW8gPSB2YW87XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgV2ViR0wgc3RhdGUgc28geW91IGNhbiByZW5kZXIgdGhpbmdzIGhvd2V2ZXIgeW91IGZhbmN5IVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5XZWJHTFJlbmRlcmVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgV2ViR0xSZW5kZXJlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgICAgdGhpcy5zZXRPYmplY3RSZW5kZXJlcih0aGlzLmVtcHR5UmVuZGVyZXIpO1xuXG4gICAgICAgIHRoaXMuYmluZFZhbyhudWxsKTtcbiAgICAgICAgdGhpcy5fYWN0aXZlU2hhZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0ID0gdGhpcy5yb290UmVuZGVyVGFyZ2V0O1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXNbaV0gPSB0aGlzLmVtcHR5VGV4dHVyZXNbaV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBiaW5kIHRoZSBtYWluIGZyYW1lIGJ1ZmZlciAodGhlIHNjcmVlbik7XG4gICAgICAgIHRoaXMucm9vdFJlbmRlclRhcmdldC5hY3RpdmF0ZSgpO1xuXG4gICAgICAgIHRoaXMuc3RhdGUucmVzZXRUb0RlZmF1bHQoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBhIGxvc3Qgd2ViZ2wgY29udGV4dFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1dlYkdMQ29udGV4dEV2ZW50fSBldmVudCAtIFRoZSBjb250ZXh0IGxvc3QgZXZlbnQuXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmhhbmRsZUNvbnRleHRMb3N0ID0gZnVuY3Rpb24gaGFuZGxlQ29udGV4dExvc3QoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBhIHJlc3RvcmVkIHdlYmdsIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmhhbmRsZUNvbnRleHRSZXN0b3JlZCA9IGZ1bmN0aW9uIGhhbmRsZUNvbnRleHRSZXN0b3JlZCgpIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlTWFuYWdlci5yZW1vdmVBbGwoKTtcbiAgICAgICAgdGhpcy5maWx0ZXJNYW5hZ2VyLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgIHRoaXMuX2luaXRDb250ZXh0KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgZXZlcnl0aGluZyBmcm9tIHRoZSByZW5kZXJlciAoZXZlbnQgbGlzdGVuZXJzLCBzcHJpdGViYXRjaCwgZXRjLi4uKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmVtb3ZlVmlldz1mYWxzZV0gLSBSZW1vdmVzIHRoZSBDYW52YXMgZWxlbWVudCBmcm9tIHRoZSBET00uXG4gICAgICogIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL2lzc3Vlcy8yMjMzXG4gICAgICovXG5cblxuICAgIFdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KHJlbW92ZVZpZXcpIHtcbiAgICAgICAgdGhpcy5kZXN0cm95UGx1Z2lucygpO1xuXG4gICAgICAgIC8vIHJlbW92ZSBsaXN0ZW5lcnNcbiAgICAgICAgdGhpcy52aWV3LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dGxvc3QnLCB0aGlzLmhhbmRsZUNvbnRleHRMb3N0KTtcbiAgICAgICAgdGhpcy52aWV3LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dHJlc3RvcmVkJywgdGhpcy5oYW5kbGVDb250ZXh0UmVzdG9yZWQpO1xuXG4gICAgICAgIHRoaXMudGV4dHVyZU1hbmFnZXIuZGVzdHJveSgpO1xuXG4gICAgICAgIC8vIGNhbGwgYmFzZSBkZXN0cm95XG4gICAgICAgIF9TeXN0ZW1SZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIHJlbW92ZVZpZXcpO1xuXG4gICAgICAgIHRoaXMudWlkID0gMDtcblxuICAgICAgICAvLyBkZXN0cm95IHRoZSBtYW5hZ2Vyc1xuICAgICAgICB0aGlzLm1hc2tNYW5hZ2VyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5zdGVuY2lsTWFuYWdlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuZmlsdGVyTWFuYWdlci5kZXN0cm95KCk7XG5cbiAgICAgICAgdGhpcy5tYXNrTWFuYWdlciA9IG51bGw7XG4gICAgICAgIHRoaXMuZmlsdGVyTWFuYWdlciA9IG51bGw7XG4gICAgICAgIHRoaXMudGV4dHVyZU1hbmFnZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJlciA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5oYW5kbGVDb250ZXh0TG9zdCA9IG51bGw7XG4gICAgICAgIHRoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9jb250ZXh0T3B0aW9ucyA9IG51bGw7XG4gICAgICAgIHRoaXMuZ2wudXNlUHJvZ3JhbShudWxsKTtcblxuICAgICAgICBpZiAodGhpcy5nbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2xvc2VfY29udGV4dCcpKSB7XG4gICAgICAgICAgICB0aGlzLmdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JykubG9zZUNvbnRleHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ2wgPSBudWxsO1xuXG4gICAgICAgIC8vIHRoaXMgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gV2ViR0xSZW5kZXJlcjtcbn0oX1N5c3RlbVJlbmRlcmVyMy5kZWZhdWx0KTtcblxuLyoqXG4gKiBDb2xsZWN0aW9uIG9mIGluc3RhbGxlZCBwbHVnaW5zLiBUaGVzZSBhcmUgaW5jbHVkZWQgYnkgZGVmYXVsdCBpbiBQSVhJLCBidXQgY2FuIGJlIGV4Y2x1ZGVkXG4gKiBieSBjcmVhdGluZyBhIGN1c3RvbSBidWlsZC4gQ29uc3VsdCB0aGUgUkVBRE1FIGZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IGNyZWF0aW5nIGN1c3RvbVxuICogYnVpbGRzIGFuZCBleGNsdWRpbmcgcGx1Z2lucy5cbiAqIEBuYW1lIFBJWEkuV2ViR0xSZW5kZXJlciNwbHVnaW5zXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHJlYWRvbmx5XG4gKiBAcHJvcGVydHkge1BJWEkuYWNjZXNzaWJpbGl0eS5BY2Nlc3NpYmlsaXR5TWFuYWdlcn0gYWNjZXNzaWJpbGl0eSBTdXBwb3J0IHRhYmJpbmcgaW50ZXJhY3RpdmUgZWxlbWVudHMuXG4gKiBAcHJvcGVydHkge1BJWEkuZXh0cmFjdC5XZWJHTEV4dHJhY3R9IGV4dHJhY3QgRXh0cmFjdCBpbWFnZSBkYXRhIGZyb20gcmVuZGVyZXIuXG4gKiBAcHJvcGVydHkge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyfSBpbnRlcmFjdGlvbiBIYW5kbGVzIG1vdXNlLCB0b3VjaCBhbmQgcG9pbnRlciBldmVudHMuXG4gKiBAcHJvcGVydHkge1BJWEkucHJlcGFyZS5XZWJHTFByZXBhcmV9IHByZXBhcmUgUHJlLXJlbmRlciBkaXNwbGF5IG9iamVjdHMuXG4gKi9cblxuLyoqXG4gKiBBZGRzIGEgcGx1Z2luIHRvIHRoZSByZW5kZXJlci5cbiAqXG4gKiBAbWV0aG9kIFBJWEkuV2ViR0xSZW5kZXJlciNyZWdpc3RlclBsdWdpblxuICogQHBhcmFtIHtzdHJpbmd9IHBsdWdpbk5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcGx1Z2luLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3RvciAtIFRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBvciBjbGFzcyBmb3IgdGhlIHBsdWdpbi5cbiAqL1xuXG5leHBvcnRzLmRlZmF1bHQgPSBXZWJHTFJlbmRlcmVyO1xuX3V0aWxzLnBsdWdpblRhcmdldC5taXhpbihXZWJHTFJlbmRlcmVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVdlYkdMUmVuZGVyZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1dlYkdMTWFuYWdlcjIgPSByZXF1aXJlKCcuLi9tYW5hZ2Vycy9XZWJHTE1hbmFnZXInKTtcblxudmFyIF9XZWJHTE1hbmFnZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xNYW5hZ2VyMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBCYXNlIGZvciBhIGNvbW1vbiBvYmplY3QgcmVuZGVyZXIgdGhhdCBjYW4gYmUgdXNlZCBhcyBhIHN5c3RlbSByZW5kZXJlciBwbHVnaW4uXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLldlYkdMTWFuYWdlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE9iamVjdFJlbmRlcmVyID0gZnVuY3Rpb24gKF9XZWJHTE1hbmFnZXIpIHtcbiAgX2luaGVyaXRzKE9iamVjdFJlbmRlcmVyLCBfV2ViR0xNYW5hZ2VyKTtcblxuICBmdW5jdGlvbiBPYmplY3RSZW5kZXJlcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgT2JqZWN0UmVuZGVyZXIpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9XZWJHTE1hbmFnZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnRzIHRoZSByZW5kZXJlciBhbmQgc2V0cyB0aGUgc2hhZGVyXG4gICAqXG4gICAqL1xuICBPYmplY3RSZW5kZXJlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiBzdGFydCgpIHt9XG4gIC8vIHNldCB0aGUgc2hhZGVyLi5cblxuXG4gIC8qKlxuICAgKiBTdG9wcyB0aGUgcmVuZGVyZXJcbiAgICpcbiAgICovXG4gIDtcblxuICBPYmplY3RSZW5kZXJlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgdGhpcy5mbHVzaCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdHViIG1ldGhvZCBmb3IgcmVuZGVyaW5nIGNvbnRlbnQgYW5kIGVtcHR5aW5nIHRoZSBjdXJyZW50IGJhdGNoLlxuICAgKlxuICAgKi9cblxuXG4gIE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uIGZsdXNoKCkge31cbiAgLy8gZmx1c2ghXG5cblxuICAvKipcbiAgICogUmVuZGVycyBhbiBvYmplY3RcbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IG9iamVjdCAtIFRoZSBvYmplY3QgdG8gcmVuZGVyLlxuICAgKi9cbiAgO1xuXG4gIE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIob2JqZWN0KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gIHtcbiAgICAvLyByZW5kZXIgdGhlIG9iamVjdFxuICB9O1xuXG4gIHJldHVybiBPYmplY3RSZW5kZXJlcjtcbn0oX1dlYkdMTWFuYWdlcjMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IE9iamVjdFJlbmRlcmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JqZWN0UmVuZGVyZXIuanMubWFwIiwiaW1wb3J0ICogYXMgUElYSSBmcm9tICdwaXhpLmpzJztcclxuXHJcbmV4cG9ydCBjb25zdCB0ZXh0U3R5bGUgPSB7XHJcbiAgICBmb250V2VpZ2h0OiAnYm9sZCcsXHJcbiAgICBmb250U2l6ZTogNjAsXHJcbiAgICBmb250RmFtaWx5OiAnUHJlc3MgU3RhcnQgMlAnLFxyXG4gICAgZmlsbDogJyNmOWNlYjknLFxyXG4gICAgYWxpZ246ICdjZW50ZXInLFxyXG4gICAgc3Ryb2tlOiAnIzQ2MWMwNicsXHJcbiAgICBzdHJva2VUaGlja25lc3M6IDNcclxufVxyXG5leHBvcnQgY29uc3QgbG9hZEZvbnRzID0gKCkgPT4ge1xyXG4gICAgKHdpbmRvdyBhcyBhbnkpLldlYkZvbnRDb25maWcgPSB7XHJcbiAgICAgICAgZ29vZ2xlOiB7XHJcbiAgICAgICAgICAgIGZhbWlsaWVzOiBbJ1ByZXNzIFN0YXJ0IDJQJ11cclxuICAgICAgICB9LFxyXG4gICAgfTtcclxuXHJcbiAgICAoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHdmID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XHJcbiAgICAgICAgd2Yuc3JjID0gKCdodHRwczonID09PSBkb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbCA/ICdodHRwcycgOiAnaHR0cCcpICtcclxuICAgICAgICAgICAgJzovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL3dlYmZvbnQvMS93ZWJmb250LmpzJztcclxuICAgICAgICB3Zi50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7XHJcbiAgICAgICAgd2YuYXN5bmMgPSB0cnVlO1xyXG4gICAgICAgIHZhciBzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpWzBdO1xyXG4gICAgICAgIHMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUod2YsIHMpO1xyXG4gICAgfSkoKTsgIFxyXG59IiwiaW1wb3J0ICogYXMgUElYSSBmcm9tICdwaXhpLmpzJztcclxuaW1wb3J0IHsgU3ByaXRlRXh0IH0gZnJvbSAnLi9TcHJpdGVFeHQnO1xyXG5pbXBvcnQgeyB0ZXh0U3R5bGUgfSBmcm9tICcuLi9jb21tb24vdGV4dEV4dCc7XHJcblxyXG5leHBvcnQgY29uc3Qgc3ByaXRlcyA9IHtcclxuICAgICd3YXRlcic6IHJlcXVpcmUoJy4uLy4uL3Nwcml0ZXMvYmFja2dyb3VuZC93YXRlci5wbmcnKSxcclxuICAgICd3YXRlcksnOiByZXF1aXJlKCcuLi8uLi9zcHJpdGVzL2JhY2tncm91bmQvd2F0ZXJLLnBuZycpLFxyXG4gICAgJ2dyZWVuSyc6IHJlcXVpcmUoJy4uLy4uL3Nwcml0ZXMvYmFja2dyb3VuZC9ncmVlbi5wbmcnKSxcclxuICAgICdkcnlLJzogcmVxdWlyZSgnLi4vLi4vc3ByaXRlcy9iYWNrZ3JvdW5kL2RyeS5wbmcnKSxcclxuICAgICdsYXZhSyc6IHJlcXVpcmUoJy4uLy4uL3Nwcml0ZXMvYmFja2dyb3VuZC9sYXZhLnBuZycpLFxyXG4gICAgJ25vdHNvbWVkcnlLJzogcmVxdWlyZSgnLi4vLi4vc3ByaXRlcy9iYWNrZ3JvdW5kL25vdHNvbWVkcnkucG5nJyksXHJcbiAgICAncm9ja0snOiByZXF1aXJlKCcuLi8uLi9zcHJpdGVzL2JhY2tncm91bmQvcm9ja0sucG5nJyksXHJcbiAgICAnb28yJzogcmVxdWlyZSgnLi4vLi4vc3ByaXRlcy9yZXNvdXJjZXMvb28yLnBuZycpLFxyXG4gICAgJ28yJzogcmVxdWlyZSgnLi4vLi4vc3ByaXRlcy9yZXNvdXJjZXMvbzIucG5nJyksXHJcbiAgICAnY3J5JzogcmVxdWlyZSgnLi4vLi4vc3ByaXRlcy9yZXNvdXJjZXMvY3J5LnBuZycpLFxyXG4gICAgJzEnOiByZXF1aXJlKCcuLi8uLi9zcHJpdGVzL3Jlc291cmNlcy8xLnBuZycpLFxyXG4gICAgJ21vbCc6IHJlcXVpcmUoJy4uLy4uL3Nwcml0ZXMvcmVzb3VyY2VzL21vbC5wbmcnKSxcclxuICAgICdlbmVyZ3knOiByZXF1aXJlKCcuLi8uLi9zcHJpdGVzL2ZhY3Rvcmllcy9lbmVyZ3kucG5nJyksXHJcbiAgICAnbWluZXJhbCc6IHJlcXVpcmUoJy4uLy4uL3Nwcml0ZXMvZmFjdG9yaWVzL21pbmVyYWwucG5nJyksXHJcbiAgICAnY2hhcmFjdGVyJzogcmVxdWlyZSgnLi4vLi4vc3ByaXRlcy9jaGFyYWN0ZXJzL2NoYXJhY3Rlci5wbmcnKSxcclxuICAgICdjaGFyYWN0ZXIyJzogcmVxdWlyZSgnLi4vLi4vc3ByaXRlcy9jaGFyYWN0ZXJzL2NoYXJhY3RlcjIucG5nJyksXHJcbn07XHJcblxyXG5jb25zdCBnZXRUZXh0dXJlID0gKGltYWdlUGF0aDogc3RyaW5nKSA9PiBQSVhJLmxvYWRlci5yZXNvdXJjZXNbaW1hZ2VQYXRoXS50ZXh0dXJlO1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldFNwcml0ZSA9IChzcHJpdGVOYW1lKSA9PiB7XHJcbiAgICBjb25zdCBwYXRoID0gc3ByaXRlc1tzcHJpdGVOYW1lXTtcclxuICAgIGNvbnN0IHNwcml0ZSA9IG5ldyBTcHJpdGVFeHQoZ2V0VGV4dHVyZShwYXRoKSk7XHJcbiAgICByZXR1cm4gc3ByaXRlO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0VGV4dCA9ICh0ZXh0OiBzdHJpbmcsIHN0eWxlcz86IFBJWEkuVGV4dFN0eWxlT3B0aW9ucykgPT4ge1xyXG4gICAgY29uc3QgcGl4aVRleHQgPSBuZXcgUElYSS5UZXh0KHRleHQsIHsgXHJcbiAgICAgICAgLi4udGV4dFN0eWxlLCBcclxuICAgICAgICAuLi5zdHlsZXMgXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBwaXhpVGV4dDtcclxufSIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xudmFyIG5vcm1hbGl6ZUhlYWRlck5hbWUgPSByZXF1aXJlKCcuL2hlbHBlcnMvbm9ybWFsaXplSGVhZGVyTmFtZScpO1xuXG52YXIgREVGQVVMVF9DT05URU5UX1RZUEUgPSB7XG4gICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ1xufTtcblxuZnVuY3Rpb24gc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsIHZhbHVlKSB7XG4gIGlmICghdXRpbHMuaXNVbmRlZmluZWQoaGVhZGVycykgJiYgdXRpbHMuaXNVbmRlZmluZWQoaGVhZGVyc1snQ29udGVudC1UeXBlJ10pKSB7XG4gICAgaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSB2YWx1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXREZWZhdWx0QWRhcHRlcigpIHtcbiAgdmFyIGFkYXB0ZXI7XG4gIGlmICh0eXBlb2YgWE1MSHR0cFJlcXVlc3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gRm9yIGJyb3dzZXJzIHVzZSBYSFIgYWRhcHRlclxuICAgIGFkYXB0ZXIgPSByZXF1aXJlKCcuL2FkYXB0ZXJzL3hocicpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJykge1xuICAgIC8vIEZvciBub2RlIHVzZSBIVFRQIGFkYXB0ZXJcbiAgICBhZGFwdGVyID0gcmVxdWlyZSgnLi9hZGFwdGVycy9odHRwJyk7XG4gIH1cbiAgcmV0dXJuIGFkYXB0ZXI7XG59XG5cbnZhciBkZWZhdWx0cyA9IHtcbiAgYWRhcHRlcjogZ2V0RGVmYXVsdEFkYXB0ZXIoKSxcblxuICB0cmFuc2Zvcm1SZXF1ZXN0OiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVxdWVzdChkYXRhLCBoZWFkZXJzKSB7XG4gICAgbm9ybWFsaXplSGVhZGVyTmFtZShoZWFkZXJzLCAnQ29udGVudC1UeXBlJyk7XG4gICAgaWYgKHV0aWxzLmlzRm9ybURhdGEoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQXJyYXlCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQnVmZmVyKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc1N0cmVhbShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNGaWxlKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0Jsb2IoZGF0YSlcbiAgICApIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNBcnJheUJ1ZmZlclZpZXcoZGF0YSkpIHtcbiAgICAgIHJldHVybiBkYXRhLmJ1ZmZlcjtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKGRhdGEpKSB7XG4gICAgICBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04Jyk7XG4gICAgICByZXR1cm4gZGF0YS50b1N0cmluZygpO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNPYmplY3QoZGF0YSkpIHtcbiAgICAgIHNldENvbnRlbnRUeXBlSWZVbnNldChoZWFkZXJzLCAnYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04Jyk7XG4gICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xuICB9XSxcblxuICB0cmFuc2Zvcm1SZXNwb25zZTogW2Z1bmN0aW9uIHRyYW5zZm9ybVJlc3BvbnNlKGRhdGEpIHtcbiAgICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0cnkge1xuICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHsgLyogSWdub3JlICovIH1cbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIC8qKlxuICAgKiBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIHRvIGFib3J0IGEgcmVxdWVzdC4gSWYgc2V0IHRvIDAgKGRlZmF1bHQpIGFcbiAgICogdGltZW91dCBpcyBub3QgY3JlYXRlZC5cbiAgICovXG4gIHRpbWVvdXQ6IDAsXG5cbiAgeHNyZkNvb2tpZU5hbWU6ICdYU1JGLVRPS0VOJyxcbiAgeHNyZkhlYWRlck5hbWU6ICdYLVhTUkYtVE9LRU4nLFxuXG4gIG1heENvbnRlbnRMZW5ndGg6IC0xLFxuXG4gIHZhbGlkYXRlU3RhdHVzOiBmdW5jdGlvbiB2YWxpZGF0ZVN0YXR1cyhzdGF0dXMpIHtcbiAgICByZXR1cm4gc3RhdHVzID49IDIwMCAmJiBzdGF0dXMgPCAzMDA7XG4gIH1cbn07XG5cbmRlZmF1bHRzLmhlYWRlcnMgPSB7XG4gIGNvbW1vbjoge1xuICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJ1xuICB9XG59O1xuXG51dGlscy5mb3JFYWNoKFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2ROb0RhdGEobWV0aG9kKSB7XG4gIGRlZmF1bHRzLmhlYWRlcnNbbWV0aG9kXSA9IHt9O1xufSk7XG5cbnV0aWxzLmZvckVhY2goWydwb3N0JywgJ3B1dCcsICdwYXRjaCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kV2l0aERhdGEobWV0aG9kKSB7XG4gIGRlZmF1bHRzLmhlYWRlcnNbbWV0aG9kXSA9IHV0aWxzLm1lcmdlKERFRkFVTFRfQ09OVEVOVF9UWVBFKTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRlZmF1bHRzO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX0NvdW50TGltaXRlciA9IHJlcXVpcmUoJy4vbGltaXRlcnMvQ291bnRMaW1pdGVyJyk7XG5cbnZhciBfQ291bnRMaW1pdGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvdW50TGltaXRlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBTaGFyZWRUaWNrZXIgPSBjb3JlLnRpY2tlci5zaGFyZWQ7XG5cbi8qKlxuICogRGVmYXVsdCBudW1iZXIgb2YgdXBsb2FkcyBwZXIgZnJhbWUgdXNpbmcgcHJlcGFyZSBwbHVnaW4uXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEBuYW1lIFVQTE9BRFNfUEVSX0ZSQU1FXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHQgNFxuICovXG5jb3JlLnNldHRpbmdzLlVQTE9BRFNfUEVSX0ZSQU1FID0gNDtcblxuLyoqXG4gKiBUaGUgcHJlcGFyZSBtYW5hZ2VyIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gdXBsb2FkIGNvbnRlbnQgdG8gdGhlIEdQVS4gQmFzZVByZXBhcmUgaGFuZGxlc1xuICogYmFzaWMgcXVldWluZyBmdW5jdGlvbmFsaXR5IGFuZCBpcyBleHRlbmRlZCBieSB7QGxpbmsgUElYSS5wcmVwYXJlLldlYkdMUHJlcGFyZX0gYW5kIHtAbGluayBQSVhJLnByZXBhcmUuQ2FudmFzUHJlcGFyZX1cbiAqIHRvIHByb3ZpZGUgcHJlcGFyYXRpb24gY2FwYWJpbGl0aWVzIHNwZWNpZmljIHRvIHRoZWlyIHJlc3BlY3RpdmUgcmVuZGVyZXJzLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgYSBzcHJpdGVcbiAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZS5mcm9tSW1hZ2UoJ3NvbWV0aGluZy5wbmcnKTtcbiAqXG4gKiAvLyBMb2FkIG9iamVjdCBpbnRvIEdQVVxuICogYXBwLnJlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS51cGxvYWQoc3ByaXRlLCAoKSA9PiB7XG4gKlxuICogICAgIC8vVGV4dHVyZShzKSBoYXMgYmVlbiB1cGxvYWRlZCB0byBHUFVcbiAqICAgICBhcHAuc3RhZ2UuYWRkQ2hpbGQoc3ByaXRlKTtcbiAqXG4gKiB9KVxuICpcbiAqIEBhYnN0cmFjdFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5wcmVwYXJlXG4gKi9cblxudmFyIEJhc2VQcmVwYXJlID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5TeXN0ZW1SZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJhc2VQcmVwYXJlKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJhc2VQcmVwYXJlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxpbWl0ZXIgdG8gYmUgdXNlZCB0byBjb250cm9sIGhvdyBxdWlja2x5IGl0ZW1zIGFyZSBwcmVwYXJlZC5cbiAgICAgICAgICogQHR5cGUge1BJWEkucHJlcGFyZS5Db3VudExpbWl0ZXJ8UElYSS5wcmVwYXJlLlRpbWVMaW1pdGVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5saW1pdGVyID0gbmV3IF9Db3VudExpbWl0ZXIyLmRlZmF1bHQoY29yZS5zZXR0aW5ncy5VUExPQURTX1BFUl9GUkFNRSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgcmVuZGVyZXIuXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlN5c3RlbVJlbmRlcmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvbmx5IHJlYWwgZGlmZmVyZW5jZSBiZXR3ZWVuIENhbnZhc1ByZXBhcmUgYW5kIFdlYkdMUHJlcGFyZSBpcyB3aGF0IHRoZXkgcGFzc1xuICAgICAgICAgKiB0byB1cGxvYWQgaG9va3MuIFRoYXQgZGlmZmVyZW50IHBhcmFtZXRlciBpcyBzdG9yZWQgaGVyZS5cbiAgICAgICAgICogQHR5cGUge1BJWEkucHJlcGFyZS5DYW52YXNQcmVwYXJlfFBJWEkuV2ViR0xSZW5kZXJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51cGxvYWRIb29rSGVscGVyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRzIGF0IG9uY2UuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTwqPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucXVldWUgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBhZGRpdGlvbmFsIGhvb2tzIGZvciBmaW5kaW5nIGFzc2V0cy5cbiAgICAgICAgICogQHR5cGUge0FycmF5PEZ1bmN0aW9uPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWRkSG9va3MgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBhZGRpdGlvbmFsIGhvb2tzIGZvciBwcm9jZXNzaW5nIGFzc2V0cy5cbiAgICAgICAgICogQHR5cGUge0FycmF5PEZ1bmN0aW9uPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXBsb2FkSG9va3MgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbGJhY2sgdG8gY2FsbCBhZnRlciBjb21wbGV0ZWQuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxGdW5jdGlvbj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbXBsZXRlcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBwcmVwYXJlIGlzIHRpY2tpbmcgKHJ1bm5pbmcpLlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGlja2luZyA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiAnYm91bmQnIGNhbGwgZm9yIHByZXBhcmVJdGVtcygpLlxuICAgICAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlbGF5ZWRUaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gdW5saWtlbHksIGJ1dCBpbiBjYXNlIHdlIHdlcmUgZGVzdHJveWVkIGJldHdlZW4gdGljaygpIGFuZCBkZWxheWVkVGljaygpXG4gICAgICAgICAgICBpZiAoIV90aGlzLnF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMucHJlcGFyZUl0ZW1zKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gaG9va3MgdG8gZmluZCB0aGUgY29ycmVjdCB0ZXh0dXJlXG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kVGV4dCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kVGV4dFN0eWxlKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRNdWx0aXBsZUJhc2VUZXh0dXJlcyk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kQmFzZVRleHR1cmUpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZFRleHR1cmUpO1xuXG4gICAgICAgIC8vIHVwbG9hZCBob29rc1xuICAgICAgICB0aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayhkcmF3VGV4dCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJVcGxvYWRIb29rKGNhbGN1bGF0ZVRleHRTdHlsZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBsb2FkIGFsbCB0aGUgdGV4dHVyZXMgYW5kIGdyYXBoaWNzIHRvIHRoZSBHUFUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufFBJWEkuRGlzcGxheU9iamVjdHxQSVhJLkNvbnRhaW5lcnxQSVhJLkJhc2VUZXh0dXJlfFBJWEkuVGV4dHVyZXxQSVhJLkdyYXBoaWNzfFBJWEkuVGV4dH0gaXRlbSAtXG4gICAgICogICAgICAgIEVpdGhlciB0aGUgY29udGFpbmVyIG9yIGRpc3BsYXkgb2JqZWN0IHRvIHNlYXJjaCBmb3IgaXRlbXMgdG8gdXBsb2FkLCB0aGUgaXRlbXMgdG8gdXBsb2FkIHRoZW1zZWx2ZXMsXG4gICAgICogICAgICAgIG9yIHRoZSBjYWxsYmFjayBmdW5jdGlvbiwgaWYgaXRlbXMgaGF2ZSBiZWVuIGFkZGVkIHVzaW5nIGBwcmVwYXJlLmFkZGAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2RvbmVdIC0gT3B0aW9uYWwgY2FsbGJhY2sgd2hlbiBhbGwgcXVldWVkIHVwbG9hZHMgaGF2ZSBjb21wbGV0ZWRcbiAgICAgKi9cblxuXG4gICAgQmFzZVByZXBhcmUucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIHVwbG9hZChpdGVtLCBkb25lKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgZG9uZSA9IGl0ZW07XG4gICAgICAgICAgICBpdGVtID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIGEgZGlzcGxheSBvYmplY3QsIHNlYXJjaCBmb3IgaXRlbXNcbiAgICAgICAgLy8gdGhhdCB3ZSBjb3VsZCB1cGxvYWRcbiAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgIHRoaXMuYWRkKGl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2V0IHRoZSBpdGVtcyBmb3IgdXBsb2FkIGZyb20gdGhlIGRpc3BsYXlcbiAgICAgICAgaWYgKHRoaXMucXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcGxldGVzLnB1c2goZG9uZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghdGhpcy50aWNraW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aWNraW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBTaGFyZWRUaWNrZXIuYWRkT25jZSh0aGlzLnRpY2ssIHRoaXMsIGNvcmUuVVBEQVRFX1BSSU9SSVRZLlVUSUxJVFkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgdGljayB1cGRhdGVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIEJhc2VQcmVwYXJlLnByb3RvdHlwZS50aWNrID0gZnVuY3Rpb24gdGljaygpIHtcbiAgICAgICAgc2V0VGltZW91dCh0aGlzLmRlbGF5ZWRUaWNrLCAwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWN0dWFsbHkgcHJlcGFyZSBpdGVtcy4gVGhpcyBpcyBoYW5kbGVkIG91dHNpZGUgb2YgdGhlIHRpY2sgYmVjYXVzZSBpdCB3aWxsIHRha2UgYSB3aGlsZVxuICAgICAqIGFuZCB3ZSBkbyBOT1Qgd2FudCB0byBibG9jayB0aGUgY3VycmVudCBhbmltYXRpb24gZnJhbWUgZnJvbSByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUucHJlcGFyZUl0ZW1zID0gZnVuY3Rpb24gcHJlcGFyZUl0ZW1zKCkge1xuICAgICAgICB0aGlzLmxpbWl0ZXIuYmVnaW5GcmFtZSgpO1xuICAgICAgICAvLyBVcGxvYWQgdGhlIGdyYXBoaWNzXG4gICAgICAgIHdoaWxlICh0aGlzLnF1ZXVlLmxlbmd0aCAmJiB0aGlzLmxpbWl0ZXIuYWxsb3dlZFRvVXBsb2FkKCkpIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcy5xdWV1ZVswXTtcbiAgICAgICAgICAgIHZhciB1cGxvYWRlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAoaXRlbSAmJiAhaXRlbS5fZGVzdHJveWVkKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMudXBsb2FkSG9va3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudXBsb2FkSG9va3NbaV0odGhpcy51cGxvYWRIb29rSGVscGVyLCBpdGVtKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5xdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBsb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghdXBsb2FkZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXZSdyZSBmaW5pc2hlZFxuICAgICAgICBpZiAoIXRoaXMucXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnRpY2tpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgdmFyIGNvbXBsZXRlcyA9IHRoaXMuY29tcGxldGVzLnNsaWNlKDApO1xuXG4gICAgICAgICAgICB0aGlzLmNvbXBsZXRlcy5sZW5ndGggPSAwO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9sZW4gPSBjb21wbGV0ZXMubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZXNbX2ldKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBpZiB3ZSBhcmUgbm90IGZpbmlzaGVkLCBvbiB0aGUgbmV4dCByQUYgZG8gdGhpcyBhZ2FpblxuICAgICAgICAgICAgU2hhcmVkVGlja2VyLmFkZE9uY2UodGhpcy50aWNrLCB0aGlzLCBjb3JlLlVQREFURV9QUklPUklUWS5VVElMSVRZKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGhvb2tzIGZvciBmaW5kaW5nIGl0ZW1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYWRkSG9vayAtIEZ1bmN0aW9uIGNhbGwgdGhhdCB0YWtlcyB0d28gcGFyYW1ldGVyczogYGl0ZW06KiwgcXVldWU6QXJyYXlgXG4gICAgICogICAgICAgICAgZnVuY3Rpb24gbXVzdCByZXR1cm4gYHRydWVgIGlmIGl0IHdhcyBhYmxlIHRvIGFkZCBpdGVtIHRvIHRoZSBxdWV1ZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJhc2VQcmVwYXJlfSBJbnN0YW5jZSBvZiBwbHVnaW4gZm9yIGNoYWluaW5nLlxuICAgICAqL1xuXG5cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUucmVnaXN0ZXJGaW5kSG9vayA9IGZ1bmN0aW9uIHJlZ2lzdGVyRmluZEhvb2soYWRkSG9vaykge1xuICAgICAgICBpZiAoYWRkSG9vaykge1xuICAgICAgICAgICAgdGhpcy5hZGRIb29rcy5wdXNoKGFkZEhvb2spO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgaG9va3MgZm9yIHVwbG9hZGluZyBpdGVtcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwbG9hZEhvb2sgLSBGdW5jdGlvbiBjYWxsIHRoYXQgdGFrZXMgdHdvIHBhcmFtZXRlcnM6IGBwcmVwYXJlOkNhbnZhc1ByZXBhcmUsIGl0ZW06KmAgYW5kXG4gICAgICogICAgICAgICAgZnVuY3Rpb24gbXVzdCByZXR1cm4gYHRydWVgIGlmIGl0IHdhcyBhYmxlIHRvIGhhbmRsZSB1cGxvYWQgb2YgaXRlbS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJhc2VQcmVwYXJlfSBJbnN0YW5jZSBvZiBwbHVnaW4gZm9yIGNoYWluaW5nLlxuICAgICAqL1xuXG5cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUucmVnaXN0ZXJVcGxvYWRIb29rID0gZnVuY3Rpb24gcmVnaXN0ZXJVcGxvYWRIb29rKHVwbG9hZEhvb2spIHtcbiAgICAgICAgaWYgKHVwbG9hZEhvb2spIHtcbiAgICAgICAgICAgIHRoaXMudXBsb2FkSG9va3MucHVzaCh1cGxvYWRIb29rKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNYW51YWxseSBhZGQgYW4gaXRlbSB0byB0aGUgdXBsb2FkaW5nIHF1ZXVlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5Db250YWluZXJ8UElYSS5CYXNlVGV4dHVyZXxQSVhJLlRleHR1cmV8UElYSS5HcmFwaGljc3xQSVhJLlRleHR8Kn0gaXRlbSAtIE9iamVjdCB0b1xuICAgICAqICAgICAgICBhZGQgdG8gdGhlIHF1ZXVlXG4gICAgICogQHJldHVybiB7UElYSS5DYW52YXNQcmVwYXJlfSBJbnN0YW5jZSBvZiBwbHVnaW4gZm9yIGNoYWluaW5nLlxuICAgICAqL1xuXG5cbiAgICBCYXNlUHJlcGFyZS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gYWRkKGl0ZW0pIHtcbiAgICAgICAgLy8gQWRkIGFkZGl0aW9uYWwgaG9va3MgZm9yIGZpbmRpbmcgZWxlbWVudHMgb24gc3BlY2lhbFxuICAgICAgICAvLyB0eXBlcyBvZiBvYmplY3RzIHRoYXRcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuYWRkSG9va3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFkZEhvb2tzW2ldKGl0ZW0sIHRoaXMucXVldWUpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgY2hpbGRlbiByZWN1cnNpdmVseVxuICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIGNvcmUuQ29udGFpbmVyKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaTIgPSBpdGVtLmNoaWxkcmVuLmxlbmd0aCAtIDE7IF9pMiA+PSAwOyBfaTItLSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkKGl0ZW0uY2hpbGRyZW5bX2kyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIHBsdWdpbiwgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQmFzZVByZXBhcmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy50aWNraW5nKSB7XG4gICAgICAgICAgICBTaGFyZWRUaWNrZXIucmVtb3ZlKHRoaXMudGljaywgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50aWNraW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYWRkSG9va3MgPSBudWxsO1xuICAgICAgICB0aGlzLnVwbG9hZEhvb2tzID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHRoaXMuY29tcGxldGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5xdWV1ZSA9IG51bGw7XG4gICAgICAgIHRoaXMubGltaXRlciA9IG51bGw7XG4gICAgICAgIHRoaXMudXBsb2FkSG9va0hlbHBlciA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBCYXNlUHJlcGFyZTtcbn0oKTtcblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgbXVsdGlwbGUgdGV4dHVyZXMgZnJvbSBvYmplY3RzIGxpa2UgQW5pbWF0ZWRTcHJpdGVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dHVyZSBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5cblxuZXhwb3J0cy5kZWZhdWx0ID0gQmFzZVByZXBhcmU7XG5mdW5jdGlvbiBmaW5kTXVsdGlwbGVCYXNlVGV4dHVyZXMoaXRlbSwgcXVldWUpIHtcbiAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XG5cbiAgICAvLyBPYmplY3RzIHdpdGggbXV0bGlwbGUgdGV4dHVyZXNcbiAgICBpZiAoaXRlbSAmJiBpdGVtLl90ZXh0dXJlcyAmJiBpdGVtLl90ZXh0dXJlcy5sZW5ndGgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtLl90ZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGl0ZW0uX3RleHR1cmVzW2ldIGluc3RhbmNlb2YgY29yZS5UZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gaXRlbS5fdGV4dHVyZXNbaV0uYmFzZVRleHR1cmU7XG5cbiAgICAgICAgICAgICAgICBpZiAocXVldWUuaW5kZXhPZihiYXNlVGV4dHVyZSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goYmFzZVRleHR1cmUpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIEJhc2VUZXh0dXJlcyBmcm9tIFNwcml0ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0dXJlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRCYXNlVGV4dHVyZShpdGVtLCBxdWV1ZSkge1xuICAgIC8vIE9iamVjdHMgd2l0aCB0ZXh0dXJlcywgbGlrZSBTcHJpdGVzL1RleHRcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIGNvcmUuQmFzZVRleHR1cmUpIHtcbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YoaXRlbSkgPT09IC0xKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCB0ZXh0dXJlcyBmcm9tIG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0dXJlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRUZXh0dXJlKGl0ZW0sIHF1ZXVlKSB7XG4gICAgaWYgKGl0ZW0uX3RleHR1cmUgJiYgaXRlbS5fdGV4dHVyZSBpbnN0YW5jZW9mIGNvcmUuVGV4dHVyZSkge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IGl0ZW0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YodGV4dHVyZSkgPT09IC0xKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKHRleHR1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZHJhdyBQSVhJLlRleHQgdG8gaXRzIHRleHR1cmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfFBJWEkuQ2FudmFzUHJlcGFyZX0gaGVscGVyIC0gTm90IHVzZWQgYnkgdGhpcyB1cGxvYWQgaGFuZGxlclxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuZnVuY3Rpb24gZHJhd1RleHQoaGVscGVyLCBpdGVtKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBjb3JlLlRleHQpIHtcbiAgICAgICAgLy8gdXBkYXRpbmcgdGV4dCB3aWxsIHJldHVybiBlYXJseSBpZiBpdCBpcyBub3QgZGlydHlcbiAgICAgICAgaXRlbS51cGRhdGVUZXh0KHRydWUpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGNhbGN1bGF0ZSBhIHRleHQgc3R5bGUgZm9yIGEgUElYSS5UZXh0IG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ8UElYSS5DYW52YXNQcmVwYXJlfSBoZWxwZXIgLSBOb3QgdXNlZCBieSB0aGlzIHVwbG9hZCBoYW5kbGVyXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIEl0ZW0gdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIGl0ZW0gd2FzIHVwbG9hZGVkLlxuICovXG5mdW5jdGlvbiBjYWxjdWxhdGVUZXh0U3R5bGUoaGVscGVyLCBpdGVtKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBjb3JlLlRleHRTdHlsZSkge1xuICAgICAgICB2YXIgZm9udCA9IGl0ZW0udG9Gb250U3RyaW5nKCk7XG5cbiAgICAgICAgY29yZS5UZXh0TWV0cmljcy5tZWFzdXJlRm9udChmb250KTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIFRleHQgb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheTwqPn0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgYSBQSVhJLlRleHQgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZFRleHQoaXRlbSwgcXVldWUpIHtcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIGNvcmUuVGV4dCkge1xuICAgICAgICAvLyBwdXNoIHRoZSB0ZXh0IHN0eWxlIHRvIHByZXBhcmUgaXQgLSB0aGlzIGNhbiBiZSByZWFsbHkgZXhwZW5zaXZlXG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGl0ZW0uc3R5bGUpID09PSAtMSkge1xuICAgICAgICAgICAgcXVldWUucHVzaChpdGVtLnN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhbHNvIHB1c2ggdGhlIHRleHQgb2JqZWN0IHNvIHRoYXQgd2UgY2FuIHJlbmRlciBpdCAodG8gY2FudmFzL3RleHR1cmUpIGlmIG5lZWRlZFxuICAgICAgICBpZiAocXVldWUuaW5kZXhPZihpdGVtKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWxzbyBwdXNoIHRoZSBUZXh0J3MgdGV4dHVyZSBmb3IgdXBsb2FkIHRvIEdQVVxuICAgICAgICB2YXIgdGV4dHVyZSA9IGl0ZW0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YodGV4dHVyZSkgPT09IC0xKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKHRleHR1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBUZXh0U3R5bGUgb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLlRleHRTdHlsZX0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dFN0eWxlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRUZXh0U3R5bGUoaXRlbSwgcXVldWUpIHtcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIGNvcmUuVGV4dFN0eWxlKSB7XG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGl0ZW0pID09PSAtMSkge1xuICAgICAgICAgICAgcXVldWUucHVzaChpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhc2VQcmVwYXJlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9wYXJzZVVyaSA9IHJlcXVpcmUoJ3BhcnNlLXVyaScpO1xuXG52YXIgX3BhcnNlVXJpMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BhcnNlVXJpKTtcblxudmFyIF9taW5pU2lnbmFscyA9IHJlcXVpcmUoJ21pbmktc2lnbmFscycpO1xuXG52YXIgX21pbmlTaWduYWxzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21pbmlTaWduYWxzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLy8gdGVzdHMgaXMgQ09SUyBpcyBzdXBwb3J0ZWQgaW4gWEhSLCBpZiBub3Qgd2UgbmVlZCB0byB1c2UgWERSXG52YXIgdXNlWGRyID0gISEod2luZG93LlhEb21haW5SZXF1ZXN0ICYmICEoJ3dpdGhDcmVkZW50aWFscycgaW4gbmV3IFhNTEh0dHBSZXF1ZXN0KCkpKTtcbnZhciB0ZW1wQW5jaG9yID0gbnVsbDtcblxuLy8gc29tZSBzdGF0dXMgY29uc3RhbnRzXG52YXIgU1RBVFVTX05PTkUgPSAwO1xudmFyIFNUQVRVU19PSyA9IDIwMDtcbnZhciBTVEFUVVNfRU1QVFkgPSAyMDQ7XG52YXIgU1RBVFVTX0lFX0JVR19FTVBUWSA9IDEyMjM7XG52YXIgU1RBVFVTX1RZUEVfT0sgPSAyO1xuXG4vLyBub29wXG5mdW5jdGlvbiBfbm9vcCgpIHt9IC8qIGVtcHR5ICovXG5cbi8qKlxuICogTWFuYWdlcyB0aGUgc3RhdGUgYW5kIGxvYWRpbmcgb2YgYSByZXNvdXJjZSBhbmQgYWxsIGNoaWxkIHJlc291cmNlcy5cbiAqXG4gKiBAY2xhc3NcbiAqL1xuXG52YXIgUmVzb3VyY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbG9hZCB0eXBlIHRvIGJlIHVzZWQgZm9yIGEgc3BlY2lmaWMgZXh0ZW5zaW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHRuYW1lIC0gVGhlIGV4dGVuc2lvbiB0byBzZXQgdGhlIHR5cGUgZm9yLCBlLmcuIFwicG5nXCIgb3IgXCJmbnRcIlxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuTE9BRF9UWVBFfSBsb2FkVHlwZSAtIFRoZSBsb2FkIHR5cGUgdG8gc2V0IGl0IHRvLlxuICAgICAqL1xuICAgIFJlc291cmNlLnNldEV4dGVuc2lvbkxvYWRUeXBlID0gZnVuY3Rpb24gc2V0RXh0ZW5zaW9uTG9hZFR5cGUoZXh0bmFtZSwgbG9hZFR5cGUpIHtcbiAgICAgICAgc2V0RXh0TWFwKFJlc291cmNlLl9sb2FkVHlwZU1hcCwgZXh0bmFtZSwgbG9hZFR5cGUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBsb2FkIHR5cGUgdG8gYmUgdXNlZCBmb3IgYSBzcGVjaWZpYyBleHRlbnNpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4dG5hbWUgLSBUaGUgZXh0ZW5zaW9uIHRvIHNldCB0aGUgdHlwZSBmb3IsIGUuZy4gXCJwbmdcIiBvciBcImZudFwiXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0geGhyVHlwZSAtIFRoZSB4aHIgdHlwZSB0byBzZXQgaXQgdG8uXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnNldEV4dGVuc2lvblhoclR5cGUgPSBmdW5jdGlvbiBzZXRFeHRlbnNpb25YaHJUeXBlKGV4dG5hbWUsIHhoclR5cGUpIHtcbiAgICAgICAgc2V0RXh0TWFwKFJlc291cmNlLl94aHJUeXBlTWFwLCBleHRuYW1lLCB4aHJUeXBlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gdXJsIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgZm9yIGF1ZGlvL3ZpZGVvIGxvYWRzIHlvdSBjYW4gcGFzc1xuICAgICAqICAgICAgYW4gYXJyYXkgb2Ygc291cmNlcy5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfGJvb2xlYW59IFtvcHRpb25zLmNyb3NzT3JpZ2luXSAtIElzIHRoaXMgcmVxdWVzdCBjcm9zcy1vcmlnaW4/IERlZmF1bHQgaXMgdG9cbiAgICAgKiAgICAgIGRldGVybWluZSBhdXRvbWF0aWNhbGx5LlxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuTE9BRF9UWVBFfSBbb3B0aW9ucy5sb2FkVHlwZT1SZXNvdXJjZS5MT0FEX1RZUEUuWEhSXSAtIEhvdyBzaG91bGQgdGhpcyByZXNvdXJjZVxuICAgICAqICAgICAgYmUgbG9hZGVkP1xuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IFtvcHRpb25zLnhoclR5cGU9UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuREVGQVVMVF0gLSBIb3dcbiAgICAgKiAgICAgIHNob3VsZCB0aGUgZGF0YSBiZWluZyBsb2FkZWQgYmUgaW50ZXJwcmV0ZWQgd2hlbiB1c2luZyBYSFI/XG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLm1ldGFkYXRhXSAtIEV4dHJhIGNvbmZpZ3VyYXRpb24gZm9yIG1pZGRsZXdhcmUgYW5kIHRoZSBSZXNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxBdWRpb0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gW29wdGlvbnMubWV0YWRhdGEubG9hZEVsZW1lbnQ9bnVsbF0gLSBUaGVcbiAgICAgKiAgICAgIGVsZW1lbnQgdG8gdXNlIGZvciBsb2FkaW5nLCBpbnN0ZWFkIG9mIGNyZWF0aW5nIG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLm1ldGFkYXRhLnNraXBTb3VyY2U9ZmFsc2VdIC0gU2tpcHMgYWRkaW5nIHNvdXJjZShzKSB0byB0aGUgbG9hZCBlbGVtZW50LiBUaGlzXG4gICAgICogICAgICBpcyB1c2VmdWwgaWYgeW91IHdhbnQgdG8gcGFzcyBpbiBhIGBsb2FkRWxlbWVudGAgdGhhdCB5b3UgYWxyZWFkeSBhZGRlZCBsb2FkIHNvdXJjZXMgdG8uXG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IFtvcHRpb25zLm1ldGFkYXRhLm1pbWVUeXBlXSAtIFRoZSBtaW1lIHR5cGUgdG8gdXNlIGZvciB0aGUgc291cmNlIGVsZW1lbnQgb2YgYSB2aWRlby9hdWRpb1xuICAgICAqICAgICAgZWxtZW50LiBJZiB0aGUgdXJscyBhcmUgYW4gYXJyYXksIHlvdSBjYW4gcGFzcyB0aGlzIGFzIGFuIGFycmF5IGFzIHdlbGwgd2hlcmUgZWFjaCBpbmRleCBpcyB0aGUgbWltZSB0eXBlIHRvXG4gICAgICogICAgICB1c2UgZm9yIHRoZSBjb3JyZXNwb25kaW5nIHVybCBpbmRleC5cbiAgICAgKi9cblxuXG4gICAgZnVuY3Rpb24gUmVzb3VyY2UobmFtZSwgdXJsLCBvcHRpb25zKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSZXNvdXJjZSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJyB8fCB0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCb3RoIG5hbWUgYW5kIHVybCBhcmUgcmVxdWlyZWQgZm9yIGNvbnN0cnVjdGluZyBhIHJlc291cmNlLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdGF0ZSBmbGFncyBvZiB0aGlzIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9mbGFncyA9IDA7XG5cbiAgICAgICAgLy8gc2V0IGRhdGEgdXJsIGZsYWcsIG5lZWRzIHRvIGJlIHNldCBlYXJseSBmb3Igc29tZSBfZGV0ZXJtaW5lWCBjaGVja3MgdG8gd29yay5cbiAgICAgICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuREFUQV9VUkwsIHVybC5pbmRleE9mKCdkYXRhOicpID09PSAwKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG5hbWUgb2YgdGhpcyByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB1cmwgdXNlZCB0byBsb2FkIHRoaXMgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVybCA9IHVybDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGV4dGVuc2lvbiB1c2VkIHRvIGxvYWQgdGhpcyByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXh0ZW5zaW9uID0gdGhpcy5fZ2V0RXh0ZW5zaW9uKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkYXRhIHRoYXQgd2FzIGxvYWRlZCBieSB0aGUgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2FueX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElzIHRoaXMgcmVxdWVzdCBjcm9zcy1vcmlnaW4/IElmIHVuc2V0LCBkZXRlcm1pbmVkIGF1dG9tYXRpY2FsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3Jvc3NPcmlnaW4gPSBvcHRpb25zLmNyb3NzT3JpZ2luID09PSB0cnVlID8gJ2Fub255bW91cycgOiBvcHRpb25zLmNyb3NzT3JpZ2luO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWV0aG9kIG9mIGxvYWRpbmcgdG8gdXNlIGZvciB0aGlzIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZS5MT0FEX1RZUEV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxvYWRUeXBlID0gb3B0aW9ucy5sb2FkVHlwZSB8fCB0aGlzLl9kZXRlcm1pbmVMb2FkVHlwZSgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSB1c2VkIHRvIGxvYWQgdGhlIHJlc291cmNlIHZpYSBYSFIuIElmIHVuc2V0LCBkZXRlcm1pbmVkIGF1dG9tYXRpY2FsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueGhyVHlwZSA9IG9wdGlvbnMueGhyVHlwZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRXh0cmEgaW5mbyBmb3IgbWlkZGxld2FyZSwgYW5kIGNvbnRyb2xsaW5nIHNwZWNpZmljcyBhYm91dCBob3cgdGhlIHJlc291cmNlIGxvYWRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBOb3RlIHRoYXQgaWYgeW91IHBhc3MgaW4gYSBgbG9hZEVsZW1lbnRgLCB0aGUgUmVzb3VyY2UgY2xhc3MgdGFrZXMgb3duZXJzaGlwIG9mIGl0LlxuICAgICAgICAgKiBNZWFuaW5nIGl0IHdpbGwgbW9kaWZ5IGl0IGFzIGl0IHNlZXMgZml0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQXVkaW9FbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IFtsb2FkRWxlbWVudD1udWxsXSAtIFRoZVxuICAgICAgICAgKiAgZWxlbWVudCB0byB1c2UgZm9yIGxvYWRpbmcsIGluc3RlYWQgb2YgY3JlYXRpbmcgb25lLlxuICAgICAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFtza2lwU291cmNlPWZhbHNlXSAtIFNraXBzIGFkZGluZyBzb3VyY2UocykgdG8gdGhlIGxvYWQgZWxlbWVudC4gVGhpc1xuICAgICAgICAgKiAgaXMgdXNlZnVsIGlmIHlvdSB3YW50IHRvIHBhc3MgaW4gYSBgbG9hZEVsZW1lbnRgIHRoYXQgeW91IGFscmVhZHkgYWRkZWQgbG9hZCBzb3VyY2VzXG4gICAgICAgICAqICB0by5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBvcHRpb25zLm1ldGFkYXRhIHx8IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZXJyb3IgdGhhdCBvY2N1cnJlZCB3aGlsZSBsb2FkaW5nIChpZiBhbnkpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtFcnJvcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVycm9yID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFhIUiBvYmplY3QgdGhhdCB3YXMgdXNlZCB0byBsb2FkIHRoaXMgcmVzb3VyY2UuIFRoaXMgaXMgb25seSBzZXRcbiAgICAgICAgICogd2hlbiBgbG9hZFR5cGVgIGlzIGBSZXNvdXJjZS5MT0FEX1RZUEUuWEhSYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7WE1MSHR0cFJlcXVlc3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54aHIgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2hpbGQgcmVzb3VyY2VzIHRoaXMgcmVzb3VyY2Ugb3ducy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UmVzb3VyY2VbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvdXJjZSB0eXBlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZS5UWVBFfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuVU5LTk9XTjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHByb2dyZXNzIGNodW5rIG93bmVkIGJ5IHRoaXMgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByb2dyZXNzQ2h1bmsgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYGRlcXVldWVgIG1ldGhvZCB0aGF0IHdpbGwgYmUgdXNlZCBhIHN0b3JhZ2UgcGxhY2UgZm9yIHRoZSBhc3luYyBxdWV1ZSBkZXF1ZXVlIG1ldGhvZFxuICAgICAgICAgKiB1c2VkIHByaXZhdGVseSBieSB0aGUgbG9hZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2RlcXVldWUgPSBfbm9vcDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCBhIHN0b3JhZ2UgcGxhY2UgZm9yIHRoZSBvbiBsb2FkIGJpbmRpbmcgdXNlZCBwcml2YXRlbHkgYnkgdGhlIGxvYWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9vbkxvYWRCaW5kaW5nID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGBjb21wbGV0ZWAgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm91bmRDb21wbGV0ZSA9IHRoaXMuY29tcGxldGUuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGBfb25FcnJvcmAgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm91bmRPbkVycm9yID0gdGhpcy5fb25FcnJvci5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYF9vblByb2dyZXNzYCBmdW5jdGlvbiBib3VuZCB0byB0aGlzIHJlc291cmNlJ3MgY29udGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MgPSB0aGlzLl9vblByb2dyZXNzLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLy8geGhyIGNhbGxiYWNrc1xuICAgICAgICB0aGlzLl9ib3VuZFhock9uRXJyb3IgPSB0aGlzLl94aHJPbkVycm9yLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2JvdW5kWGhyT25BYm9ydCA9IHRoaXMuX3hock9uQWJvcnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fYm91bmRYaHJPbkxvYWQgPSB0aGlzLl94aHJPbkxvYWQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fYm91bmRYZHJPblRpbWVvdXQgPSB0aGlzLl94ZHJPblRpbWVvdXQuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGF0Y2hlZCB3aGVuIHRoZSByZXNvdXJjZSBiZWluZ3MgdG8gbG9hZC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uU3RhcnRTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWx9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uU3RhcnQgPSBuZXcgX21pbmlTaWduYWxzMi5kZWZhdWx0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgZWFjaCB0aW1lIHByb2dyZXNzIG9mIHRoaXMgcmVzb3VyY2UgbG9hZCB1cGRhdGVzLlxuICAgICAgICAgKiBOb3QgYWxsIHJlc291cmNlcyB0eXBlcyBhbmQgbG9hZGVyIHN5c3RlbXMgY2FuIHN1cHBvcnQgdGhpcyBldmVudFxuICAgICAgICAgKiBzbyBzb21ldGltZXMgaXQgbWF5IG5vdCBiZSBhdmFpbGFibGUuIElmIHRoZSByZXNvdXJjZVxuICAgICAgICAgKiBpcyBiZWluZyBsb2FkZWQgb24gYSBtb2Rlcm4gYnJvd3NlciwgdXNpbmcgWEhSLCBhbmQgdGhlIHJlbW90ZSBzZXJ2ZXJcbiAgICAgICAgICogcHJvcGVybHkgc2V0cyBDb250ZW50LUxlbmd0aCBoZWFkZXJzLCB0aGVuIHRoaXMgd2lsbCBiZSBhdmFpbGFibGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBSZXNvdXJjZS5PblByb2dyZXNzU2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblByb2dyZXNzID0gbmV3IF9taW5pU2lnbmFsczIuZGVmYXVsdCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNwYXRjaGVkIG9uY2UgdGhpcyByZXNvdXJjZSBoYXMgbG9hZGVkLCBpZiB0aGVyZSB3YXMgYW4gZXJyb3IgaXQgd2lsbFxuICAgICAgICAgKiBiZSBpbiB0aGUgYGVycm9yYCBwcm9wZXJ0eS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uQ29tcGxldGVTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWx9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uQ29tcGxldGUgPSBuZXcgX21pbmlTaWduYWxzMi5kZWZhdWx0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgYWZ0ZXIgdGhpcyByZXNvdXJjZSBoYXMgaGFkIGFsbCB0aGUgKmFmdGVyKiBtaWRkbGV3YXJlIHJ1biBvbiBpdC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uQ29tcGxldGVTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWx9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uQWZ0ZXJNaWRkbGV3YXJlID0gbmV3IF9taW5pU2lnbmFsczIuZGVmYXVsdCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHRoZSByZXNvdXJjZSBzdGFydHMgdG8gbG9hZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAgICAgICAqIEBjYWxsYmFjayBPblN0YXJ0U2lnbmFsXG4gICAgICAgICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgdGhlIGV2ZW50IGhhcHBlbmVkIG9uLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiB0aGUgcmVzb3VyY2UgcmVwb3J0cyBsb2FkaW5nIHByb2dyZXNzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyb2YgUmVzb3VyY2VcbiAgICAgICAgICogQGNhbGxiYWNrIE9uUHJvZ3Jlc3NTaWduYWxcbiAgICAgICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCB0aGUgZXZlbnQgaGFwcGVuZWQgb24uXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwZXJjZW50YWdlIC0gVGhlIHByb2dyZXNzIG9mIHRoZSBsb2FkIGluIHRoZSByYW5nZSBbMCwgMV0uXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHRoZSByZXNvdXJjZSBmaW5pc2hlcyBsb2FkaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyb2YgUmVzb3VyY2VcbiAgICAgICAgICogQGNhbGxiYWNrIE9uQ29tcGxldGVTaWduYWxcbiAgICAgICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCB0aGUgZXZlbnQgaGFwcGVuZWQgb24uXG4gICAgICAgICAqL1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0b3JlcyB3aGV0aGVyIG9yIG5vdCB0aGlzIHVybCBpcyBhIGRhdGEgdXJsLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogTWFya3MgdGhlIHJlc291cmNlIGFzIGNvbXBsZXRlLlxuICAgICAqXG4gICAgICovXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICAgIC8vIFRPRE86IENsZWFuIHRoaXMgdXAgaW4gYSB3cmFwcGVyIG9yIHNvbWV0aGluZy4uLmdyb3NzLi4uLlxuICAgICAgICBpZiAodGhpcy5kYXRhICYmIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZE9uRXJyb3IsIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy54aHIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZFhock9uRXJyb3IsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIHRoaXMuX2JvdW5kWGhyT25BYm9ydCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kWGhyT25Mb2FkLCBmYWxzZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLm9udGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIub25wcm9ncmVzcyA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmlzQ29tcGxldGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ29tcGxldGUgY2FsbGVkIGFnYWluIGZvciBhbiBhbHJlYWR5IGNvbXBsZXRlZCByZXNvdXJjZS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NldEZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkNPTVBMRVRFLCB0cnVlKTtcbiAgICAgICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuTE9BRElORywgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMub25Db21wbGV0ZS5kaXNwYXRjaCh0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWJvcnRzIHRoZSBsb2FkaW5nIG9mIHRoaXMgcmVzb3VyY2UsIHdpdGggYW4gb3B0aW9uYWwgbWVzc2FnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIC0gVGhlIG1lc3NhZ2UgdG8gdXNlIGZvciB0aGUgZXJyb3JcbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLmFib3J0ID0gZnVuY3Rpb24gYWJvcnQobWVzc2FnZSkge1xuICAgICAgICAvLyBhYm9ydCBjYW4gYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzLCBpZ25vcmUgc3Vic2VxdWVudCBjYWxscy5cbiAgICAgICAgaWYgKHRoaXMuZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHN0b3JlIGVycm9yXG4gICAgICAgIHRoaXMuZXJyb3IgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG5cbiAgICAgICAgLy8gYWJvcnQgdGhlIGFjdHVhbCBsb2FkaW5nXG4gICAgICAgIGlmICh0aGlzLnhocikge1xuICAgICAgICAgICAgdGhpcy54aHIuYWJvcnQoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnhkcikge1xuICAgICAgICAgICAgdGhpcy54ZHIuYWJvcnQoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmRhdGEpIHtcbiAgICAgICAgICAgIC8vIHNpbmdsZSBzb3VyY2VcbiAgICAgICAgICAgIGlmICh0aGlzLmRhdGEuc3JjKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLnNyYyA9IFJlc291cmNlLkVNUFRZX0dJRjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG11bHRpLXNvdXJjZVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICh0aGlzLmRhdGEuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhLnJlbW92ZUNoaWxkKHRoaXMuZGF0YS5maXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRvbmUgbm93LlxuICAgICAgICB0aGlzLmNvbXBsZXRlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEtpY2tzIG9mZiBsb2FkaW5nIG9mIHRoaXMgcmVzb3VyY2UuIFRoaXMgbWV0aG9kIGlzIGFzeW5jaHJvbm91cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYl0gLSBPcHRpb25hbCBjYWxsYmFjayB0byBjYWxsIG9uY2UgdGhlIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiBsb2FkKGNiKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNMb2FkaW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5pc0NvbXBsZXRlKSB7XG4gICAgICAgICAgICBpZiAoY2IpIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNiKF90aGlzKTtcbiAgICAgICAgICAgICAgICB9LCAxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2UgaWYgKGNiKSB7XG4gICAgICAgICAgICB0aGlzLm9uQ29tcGxldGUub25jZShjYik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zZXRGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5MT0FESU5HLCB0cnVlKTtcblxuICAgICAgICB0aGlzLm9uU3RhcnQuZGlzcGF0Y2godGhpcyk7XG5cbiAgICAgICAgLy8gaWYgdW5zZXQsIGRldGVybWluZSB0aGUgdmFsdWVcbiAgICAgICAgaWYgKHRoaXMuY3Jvc3NPcmlnaW4gPT09IGZhbHNlIHx8IHR5cGVvZiB0aGlzLmNyb3NzT3JpZ2luICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy5jcm9zc09yaWdpbiA9IHRoaXMuX2RldGVybWluZUNyb3NzT3JpZ2luKHRoaXMudXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAodGhpcy5sb2FkVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0U6XG4gICAgICAgICAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5JTUFHRTtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkRWxlbWVudCgnaW1hZ2UnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU86XG4gICAgICAgICAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5BVURJTztcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkU291cmNlRWxlbWVudCgnYXVkaW8nKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5MT0FEX1RZUEUuVklERU86XG4gICAgICAgICAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5WSURFTztcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkU291cmNlRWxlbWVudCgndmlkZW8nKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5MT0FEX1RZUEUuWEhSOlxuICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpZiAodXNlWGRyICYmIHRoaXMuY3Jvc3NPcmlnaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9hZFhkcigpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRYaHIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBmbGFnIGlzIHNldC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZsYWcgLSBUaGUgZmxhZyB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBmbGFnIGlzIHNldC5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9oYXNGbGFnID0gZnVuY3Rpb24gX2hhc0ZsYWcoZmxhZykge1xuICAgICAgICByZXR1cm4gISEodGhpcy5fZmxhZ3MgJiBmbGFnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogKFVuKVNldHMgdGhlIGZsYWcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnIC0gVGhlIGZsYWcgdG8gKHVuKXNldC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gV2hldGhlciB0byBzZXQgb3IgKHVuKXNldCB0aGUgZmxhZy5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9zZXRGbGFnID0gZnVuY3Rpb24gX3NldEZsYWcoZmxhZywgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5fZmxhZ3MgPSB2YWx1ZSA/IHRoaXMuX2ZsYWdzIHwgZmxhZyA6IHRoaXMuX2ZsYWdzICYgfmZsYWc7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExvYWRzIHRoaXMgcmVzb3VyY2VzIHVzaW5nIGFuIGVsZW1lbnQgdGhhdCBoYXMgYSBzaW5nbGUgc291cmNlLFxuICAgICAqIGxpa2UgYW4gSFRNTEltYWdlRWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgdHlwZSBvZiBlbGVtZW50IHRvIHVzZS5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9sb2FkRWxlbWVudCA9IGZ1bmN0aW9uIF9sb2FkRWxlbWVudCh0eXBlKSB7XG4gICAgICAgIGlmICh0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdpbWFnZScgJiYgdHlwZW9mIHdpbmRvdy5JbWFnZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNyb3NzT3JpZ2luKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEuY3Jvc3NPcmlnaW4gPSB0aGlzLmNyb3NzT3JpZ2luO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLm1ldGFkYXRhLnNraXBTb3VyY2UpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5zcmMgPSB0aGlzLnVybDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kT25FcnJvciwgZmFsc2UpO1xuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExvYWRzIHRoaXMgcmVzb3VyY2VzIHVzaW5nIGFuIGVsZW1lbnQgdGhhdCBoYXMgbXVsdGlwbGUgc291cmNlcyxcbiAgICAgKiBsaWtlIGFuIEhUTUxBdWRpb0VsZW1lbnQgb3IgSFRNTFZpZGVvRWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgdHlwZSBvZiBlbGVtZW50IHRvIHVzZS5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9sb2FkU291cmNlRWxlbWVudCA9IGZ1bmN0aW9uIF9sb2FkU291cmNlRWxlbWVudCh0eXBlKSB7XG4gICAgICAgIGlmICh0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdhdWRpbycgJiYgdHlwZW9mIHdpbmRvdy5BdWRpbyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IG5ldyBBdWRpbygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuYWJvcnQoJ1Vuc3VwcG9ydGVkIGVsZW1lbnQ6ICcgKyB0eXBlKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLm1ldGFkYXRhLnNraXBTb3VyY2UpIHtcbiAgICAgICAgICAgIC8vIHN1cHBvcnQgZm9yIENvY29vbkpTIENhbnZhcysgcnVudGltZSwgbGFja3MgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJylcbiAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IuaXNDb2Nvb25KUykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5zcmMgPSBBcnJheS5pc0FycmF5KHRoaXMudXJsKSA/IHRoaXMudXJsWzBdIDogdGhpcy51cmw7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodGhpcy51cmwpKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1pbWVUeXBlcyA9IHRoaXMubWV0YWRhdGEubWltZVR5cGU7XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudXJsLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5hcHBlbmRDaGlsZCh0aGlzLl9jcmVhdGVTb3VyY2UodHlwZSwgdGhpcy51cmxbaV0sIEFycmF5LmlzQXJyYXkobWltZVR5cGVzKSA/IG1pbWVUeXBlc1tpXSA6IG1pbWVUeXBlcykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIF9taW1lVHlwZXMgPSB0aGlzLm1ldGFkYXRhLm1pbWVUeXBlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLmFwcGVuZENoaWxkKHRoaXMuX2NyZWF0ZVNvdXJjZSh0eXBlLCB0aGlzLnVybCwgQXJyYXkuaXNBcnJheShfbWltZVR5cGVzKSA/IF9taW1lVHlwZXNbMF0gOiBfbWltZVR5cGVzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZE9uRXJyb3IsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5kYXRhLmxvYWQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gWE1MSHR0cFJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX2xvYWRYaHIgPSBmdW5jdGlvbiBfbG9hZFhocigpIHtcbiAgICAgICAgLy8gaWYgdW5zZXQsIGRldGVybWluZSB0aGUgdmFsdWVcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnhoclR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aGlzLnhoclR5cGUgPSB0aGlzLl9kZXRlcm1pbmVYaHJUeXBlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgeGhyID0gdGhpcy54aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgICAgICAvLyBzZXQgdGhlIHJlcXVlc3QgdHlwZSBhbmQgdXJsXG4gICAgICAgIHhoci5vcGVuKCdHRVQnLCB0aGlzLnVybCwgdHJ1ZSk7XG5cbiAgICAgICAgLy8gbG9hZCBqc29uIGFzIHRleHQgYW5kIHBhcnNlIGl0IG91cnNlbHZlcy4gV2UgZG8gdGhpcyBiZWNhdXNlIHNvbWUgYnJvd3NlcnNcbiAgICAgICAgLy8gKmNvdWdoKiBzYWZhcmkgKmNvdWdoKiBjYW4ndCBkZWFsIHdpdGggaXQuXG4gICAgICAgIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkpTT04gfHwgdGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCkge1xuICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gdGhpcy54aHJUeXBlO1xuICAgICAgICB9XG5cbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRYaHJPbkVycm9yLCBmYWxzZSk7XG4gICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIHRoaXMuX2JvdW5kWGhyT25BYm9ydCwgZmFsc2UpO1xuICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZFhock9uTG9hZCwgZmFsc2UpO1xuXG4gICAgICAgIHhoci5zZW5kKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExvYWRzIHRoaXMgcmVzb3VyY2VzIHVzaW5nIGFuIFhEb21haW5SZXF1ZXN0LiBUaGlzIGlzIGhlcmUgYmVjYXVzZSB3ZSBuZWVkIHRvIHN1cHBvcnQgSUU5IChncm9zcykuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX2xvYWRYZHIgPSBmdW5jdGlvbiBfbG9hZFhkcigpIHtcbiAgICAgICAgLy8gaWYgdW5zZXQsIGRldGVybWluZSB0aGUgdmFsdWVcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnhoclR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aGlzLnhoclR5cGUgPSB0aGlzLl9kZXRlcm1pbmVYaHJUeXBlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgeGRyID0gdGhpcy54aHIgPSBuZXcgWERvbWFpblJlcXVlc3QoKTtcblxuICAgICAgICAvLyBYRG9tYWluUmVxdWVzdCBoYXMgYSBmZXcgcXVpcmtzLiBPY2Nhc2lvbmFsbHkgaXQgd2lsbCBhYm9ydCByZXF1ZXN0c1xuICAgICAgICAvLyBBIHdheSB0byBhdm9pZCB0aGlzIGlzIHRvIG1ha2Ugc3VyZSBBTEwgY2FsbGJhY2tzIGFyZSBzZXQgZXZlbiBpZiBub3QgdXNlZFxuICAgICAgICAvLyBNb3JlIGluZm8gaGVyZTogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xNTc4Njk2Ni94ZG9tYWlucmVxdWVzdC1hYm9ydHMtcG9zdC1vbi1pZS05XG4gICAgICAgIHhkci50aW1lb3V0ID0gNTAwMDtcblxuICAgICAgICB4ZHIub25lcnJvciA9IHRoaXMuX2JvdW5kWGhyT25FcnJvcjtcbiAgICAgICAgeGRyLm9udGltZW91dCA9IHRoaXMuX2JvdW5kWGRyT25UaW1lb3V0O1xuICAgICAgICB4ZHIub25wcm9ncmVzcyA9IHRoaXMuX2JvdW5kT25Qcm9ncmVzcztcbiAgICAgICAgeGRyLm9ubG9hZCA9IHRoaXMuX2JvdW5kWGhyT25Mb2FkO1xuXG4gICAgICAgIHhkci5vcGVuKCdHRVQnLCB0aGlzLnVybCwgdHJ1ZSk7XG5cbiAgICAgICAgLy8gTm90ZTogVGhlIHhkci5zZW5kKCkgY2FsbCBpcyB3cmFwcGVkIGluIGEgdGltZW91dCB0byBwcmV2ZW50IGFuXG4gICAgICAgIC8vIGlzc3VlIHdpdGggdGhlIGludGVyZmFjZSB3aGVyZSBzb21lIHJlcXVlc3RzIGFyZSBsb3N0IGlmIG11bHRpcGxlXG4gICAgICAgIC8vIFhEb21haW5SZXF1ZXN0cyBhcmUgYmVpbmcgc2VudCBhdCB0aGUgc2FtZSB0aW1lLlxuICAgICAgICAvLyBTb21lIGluZm8gaGVyZTogaHR0cHM6Ly9naXRodWIuY29tL3Bob3RvbnN0b3JtL3BoYXNlci9pc3N1ZXMvMTI0OFxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB4ZHIuc2VuZCgpO1xuICAgICAgICB9LCAxKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNvdXJjZSB1c2VkIGluIGxvYWRpbmcgdmlhIGFuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIGVsZW1lbnQgdHlwZSAodmlkZW8gb3IgYXVkaW8pLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgc291cmNlIFVSTCB0byBsb2FkIGZyb20uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFttaW1lXSAtIFRoZSBtaW1lIHR5cGUgb2YgdGhlIHZpZGVvXG4gICAgICogQHJldHVybiB7SFRNTFNvdXJjZUVsZW1lbnR9IFRoZSBzb3VyY2UgZWxlbWVudC5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9jcmVhdGVTb3VyY2UgPSBmdW5jdGlvbiBfY3JlYXRlU291cmNlKHR5cGUsIHVybCwgbWltZSkge1xuICAgICAgICBpZiAoIW1pbWUpIHtcbiAgICAgICAgICAgIG1pbWUgPSB0eXBlICsgJy8nICsgdGhpcy5fZ2V0RXh0ZW5zaW9uKHVybCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc291cmNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJyk7XG5cbiAgICAgICAgc291cmNlLnNyYyA9IHVybDtcbiAgICAgICAgc291cmNlLnR5cGUgPSBtaW1lO1xuXG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBpZiBhIGxvYWQgZXJyb3JzIG91dC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gVGhlIGVycm9yIGV2ZW50IGZyb20gdGhlIGVsZW1lbnQgdGhhdCBlbWl0cyBpdC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX29uRXJyb3IgPSBmdW5jdGlvbiBfb25FcnJvcihldmVudCkge1xuICAgICAgICB0aGlzLmFib3J0KCdGYWlsZWQgdG8gbG9hZCBlbGVtZW50IHVzaW5nOiAnICsgZXZlbnQudGFyZ2V0Lm5vZGVOYW1lKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGlmIGEgbG9hZCBwcm9ncmVzcyBldmVudCBmaXJlcyBmb3IgeGhyL3hkci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdFByb2dyZXNzRXZlbnR8RXZlbnR9IGV2ZW50IC0gUHJvZ3Jlc3MgZXZlbnQuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5fb25Qcm9ncmVzcyA9IGZ1bmN0aW9uIF9vblByb2dyZXNzKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudCAmJiBldmVudC5sZW5ndGhDb21wdXRhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLm9uUHJvZ3Jlc3MuZGlzcGF0Y2godGhpcywgZXZlbnQubG9hZGVkIC8gZXZlbnQudG90YWwpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBpZiBhbiBlcnJvciBldmVudCBmaXJlcyBmb3IgeGhyL3hkci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdEVycm9yRXZlbnR8RXZlbnR9IGV2ZW50IC0gRXJyb3IgZXZlbnQuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5feGhyT25FcnJvciA9IGZ1bmN0aW9uIF94aHJPbkVycm9yKCkge1xuICAgICAgICB2YXIgeGhyID0gdGhpcy54aHI7XG5cbiAgICAgICAgdGhpcy5hYm9ydChyZXFUeXBlKHhocikgKyAnIFJlcXVlc3QgZmFpbGVkLiBTdGF0dXM6ICcgKyB4aHIuc3RhdHVzICsgJywgdGV4dDogXCInICsgeGhyLnN0YXR1c1RleHQgKyAnXCInKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGlmIGFuIGFib3J0IGV2ZW50IGZpcmVzIGZvciB4aHIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3RBYm9ydEV2ZW50fSBldmVudCAtIEFib3J0IEV2ZW50XG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5feGhyT25BYm9ydCA9IGZ1bmN0aW9uIF94aHJPbkFib3J0KCkge1xuICAgICAgICB0aGlzLmFib3J0KHJlcVR5cGUodGhpcy54aHIpICsgJyBSZXF1ZXN0IHdhcyBhYm9ydGVkIGJ5IHRoZSB1c2VyLicpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgaWYgYSB0aW1lb3V0IGV2ZW50IGZpcmVzIGZvciB4ZHIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gVGltZW91dCBldmVudC5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl94ZHJPblRpbWVvdXQgPSBmdW5jdGlvbiBfeGRyT25UaW1lb3V0KCkge1xuICAgICAgICB0aGlzLmFib3J0KHJlcVR5cGUodGhpcy54aHIpICsgJyBSZXF1ZXN0IHRpbWVkIG91dC4nKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gZGF0YSBzdWNjZXNzZnVsbHkgbG9hZHMgZnJvbSBhbiB4aHIveGRyIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3RMb2FkRXZlbnR8RXZlbnR9IGV2ZW50IC0gTG9hZCBldmVudFxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX3hock9uTG9hZCA9IGZ1bmN0aW9uIF94aHJPbkxvYWQoKSB7XG4gICAgICAgIHZhciB4aHIgPSB0aGlzLnhocjtcbiAgICAgICAgdmFyIHRleHQgPSAnJztcbiAgICAgICAgdmFyIHN0YXR1cyA9IHR5cGVvZiB4aHIuc3RhdHVzID09PSAndW5kZWZpbmVkJyA/IFNUQVRVU19PSyA6IHhoci5zdGF0dXM7IC8vIFhEUiBoYXMgbm8gYC5zdGF0dXNgLCBhc3N1bWUgMjAwLlxuXG4gICAgICAgIC8vIHJlc3BvbnNlVGV4dCBpcyBhY2Nlc3NpYmxlIG9ubHkgaWYgcmVzcG9uc2VUeXBlIGlzICcnIG9yICd0ZXh0JyBhbmQgb24gb2xkZXIgYnJvd3NlcnNcbiAgICAgICAgaWYgKHhoci5yZXNwb25zZVR5cGUgPT09ICcnIHx8IHhoci5yZXNwb25zZVR5cGUgPT09ICd0ZXh0JyB8fCB0eXBlb2YgeGhyLnJlc3BvbnNlVHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRleHQgPSB4aHIucmVzcG9uc2VUZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc3RhdHVzIGNhbiBiZSAwIHdoZW4gdXNpbmcgdGhlIGBmaWxlOi8vYCBwcm90b2NvbCBzbyB3ZSBhbHNvIGNoZWNrIGlmIGEgcmVzcG9uc2UgaXMgc2V0LlxuICAgICAgICAvLyBJZiBpdCBoYXMgYSByZXNwb25zZSwgd2UgYXNzdW1lIDIwMDsgb3RoZXJ3aXNlIGEgMCBzdGF0dXMgY29kZSB3aXRoIG5vIGNvbnRlbnRzIGlzIGFuIGFib3J0ZWQgcmVxdWVzdC5cbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gU1RBVFVTX05PTkUgJiYgKHRleHQubGVuZ3RoID4gMCB8fCB4aHIucmVzcG9uc2VUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVIpKSB7XG4gICAgICAgICAgICBzdGF0dXMgPSBTVEFUVVNfT0s7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaGFuZGxlIElFOSBidWc6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTAwNDY5NzIvbXNpZS1yZXR1cm5zLXN0YXR1cy1jb2RlLW9mLTEyMjMtZm9yLWFqYXgtcmVxdWVzdFxuICAgICAgICBlbHNlIGlmIChzdGF0dXMgPT09IFNUQVRVU19JRV9CVUdfRU1QVFkpIHtcbiAgICAgICAgICAgICAgICBzdGF0dXMgPSBTVEFUVVNfRU1QVFk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN0YXR1c1R5cGUgPSBzdGF0dXMgLyAxMDAgfCAwO1xuXG4gICAgICAgIGlmIChzdGF0dXNUeXBlID09PSBTVEFUVVNfVFlQRV9PSykge1xuICAgICAgICAgICAgLy8gaWYgdGV4dCwganVzdCByZXR1cm4gaXRcbiAgICAgICAgICAgIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSB0ZXh0O1xuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuVEVYVDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIGpzb24sIHBhcnNlIGludG8ganNvbiBvYmplY3RcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMueGhyVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuSlNPTikge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuSlNPTjtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hYm9ydCgnRXJyb3IgdHJ5aW5nIHRvIHBhcnNlIGxvYWRlZCBqc29uOiAnICsgZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBpZiB4bWwsIHBhcnNlIGludG8gYW4geG1sIGRvY3VtZW50IG9yIGRpdiBlbGVtZW50XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LkRPTVBhcnNlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZG9tcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRvbXBhcnNlci5wYXJzZUZyb21TdHJpbmcodGV4dCwgJ3RleHQveG1sJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSB0ZXh0O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRpdjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLlhNTDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFib3J0KCdFcnJvciB0cnlpbmcgdG8gcGFyc2UgbG9hZGVkIHhtbDogJyArIGUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIG90aGVyIHR5cGVzIGp1c3QgcmV0dXJuIHRoZSByZXNwb25zZVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSB4aHIucmVzcG9uc2UgfHwgdGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWJvcnQoJ1snICsgeGhyLnN0YXR1cyArICddICcgKyB4aHIuc3RhdHVzVGV4dCArICc6ICcgKyB4aHIucmVzcG9uc2VVUkwpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvbXBsZXRlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGBjcm9zc09yaWdpbmAgcHJvcGVydHkgZm9yIHRoaXMgcmVzb3VyY2UgYmFzZWQgb24gaWYgdGhlIHVybFxuICAgICAqIGZvciB0aGlzIHJlc291cmNlIGlzIGNyb3NzLW9yaWdpbi4gSWYgY3Jvc3NPcmlnaW4gd2FzIG1hbnVhbGx5IHNldCwgdGhpc1xuICAgICAqIGZ1bmN0aW9uIGRvZXMgbm90aGluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgdG8gdGVzdC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW2xvYz13aW5kb3cubG9jYXRpb25dIC0gVGhlIGxvY2F0aW9uIG9iamVjdCB0byB0ZXN0IGFnYWluc3QuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgY3Jvc3NPcmlnaW4gdmFsdWUgdG8gdXNlIChvciBlbXB0eSBzdHJpbmcgZm9yIG5vbmUpLlxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX2RldGVybWluZUNyb3NzT3JpZ2luID0gZnVuY3Rpb24gX2RldGVybWluZUNyb3NzT3JpZ2luKHVybCwgbG9jKSB7XG4gICAgICAgIC8vIGRhdGE6IGFuZCBqYXZhc2NyaXB0OiB1cmxzIGFyZSBjb25zaWRlcmVkIHNhbWUtb3JpZ2luXG4gICAgICAgIGlmICh1cmwuaW5kZXhPZignZGF0YTonKSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZGVmYXVsdCBpcyB3aW5kb3cubG9jYXRpb25cbiAgICAgICAgbG9jID0gbG9jIHx8IHdpbmRvdy5sb2NhdGlvbjtcblxuICAgICAgICBpZiAoIXRlbXBBbmNob3IpIHtcbiAgICAgICAgICAgIHRlbXBBbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsZXQgdGhlIGJyb3dzZXIgZGV0ZXJtaW5lIHRoZSBmdWxsIGhyZWYgZm9yIHRoZSB1cmwgb2YgdGhpcyByZXNvdXJjZSBhbmQgdGhlblxuICAgICAgICAvLyBwYXJzZSB3aXRoIHRoZSBub2RlIHVybCBsaWIsIHdlIGNhbid0IHVzZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgYW5jaG9yIGVsZW1lbnRcbiAgICAgICAgLy8gYmVjYXVzZSB0aGV5IGRvbid0IHdvcmsgaW4gSUU5IDooXG4gICAgICAgIHRlbXBBbmNob3IuaHJlZiA9IHVybDtcbiAgICAgICAgdXJsID0gKDAsIF9wYXJzZVVyaTIuZGVmYXVsdCkodGVtcEFuY2hvci5ocmVmLCB7IHN0cmljdE1vZGU6IHRydWUgfSk7XG5cbiAgICAgICAgdmFyIHNhbWVQb3J0ID0gIXVybC5wb3J0ICYmIGxvYy5wb3J0ID09PSAnJyB8fCB1cmwucG9ydCA9PT0gbG9jLnBvcnQ7XG4gICAgICAgIHZhciBwcm90b2NvbCA9IHVybC5wcm90b2NvbCA/IHVybC5wcm90b2NvbCArICc6JyA6ICcnO1xuXG4gICAgICAgIC8vIGlmIGNyb3NzIG9yaWdpblxuICAgICAgICBpZiAodXJsLmhvc3QgIT09IGxvYy5ob3N0bmFtZSB8fCAhc2FtZVBvcnQgfHwgcHJvdG9jb2wgIT09IGxvYy5wcm90b2NvbCkge1xuICAgICAgICAgICAgcmV0dXJuICdhbm9ueW1vdXMnO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHRoZSByZXNwb25zZVR5cGUgb2YgYW4gWEhSIHJlcXVlc3QgYmFzZWQgb24gdGhlIGV4dGVuc2lvbiBvZiB0aGVcbiAgICAgKiByZXNvdXJjZSBiZWluZyBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge1Jlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSBUaGUgcmVzcG9uc2VUeXBlIHRvIHVzZS5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9kZXRlcm1pbmVYaHJUeXBlID0gZnVuY3Rpb24gX2RldGVybWluZVhoclR5cGUoKSB7XG4gICAgICAgIHJldHVybiBSZXNvdXJjZS5feGhyVHlwZU1hcFt0aGlzLmV4dGVuc2lvbl0gfHwgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB0aGUgbG9hZFR5cGUgb2YgYSByZXNvdXJjZSBiYXNlZCBvbiB0aGUgZXh0ZW5zaW9uIG9mIHRoZVxuICAgICAqIHJlc291cmNlIGJlaW5nIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7UmVzb3VyY2UuTE9BRF9UWVBFfSBUaGUgbG9hZFR5cGUgdG8gdXNlLlxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX2RldGVybWluZUxvYWRUeXBlID0gZnVuY3Rpb24gX2RldGVybWluZUxvYWRUeXBlKCkge1xuICAgICAgICByZXR1cm4gUmVzb3VyY2UuX2xvYWRUeXBlTWFwW3RoaXMuZXh0ZW5zaW9uXSB8fCBSZXNvdXJjZS5MT0FEX1RZUEUuWEhSO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyB0aGUgZXh0ZW5zaW9uIChzYW5zICcuJykgb2YgdGhlIGZpbGUgYmVpbmcgbG9hZGVkIGJ5IHRoZSByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgZXh0ZW5zaW9uLlxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX2dldEV4dGVuc2lvbiA9IGZ1bmN0aW9uIF9nZXRFeHRlbnNpb24oKSB7XG4gICAgICAgIHZhciB1cmwgPSB0aGlzLnVybDtcbiAgICAgICAgdmFyIGV4dCA9ICcnO1xuXG4gICAgICAgIGlmICh0aGlzLmlzRGF0YVVybCkge1xuICAgICAgICAgICAgdmFyIHNsYXNoSW5kZXggPSB1cmwuaW5kZXhPZignLycpO1xuXG4gICAgICAgICAgICBleHQgPSB1cmwuc3Vic3RyaW5nKHNsYXNoSW5kZXggKyAxLCB1cmwuaW5kZXhPZignOycsIHNsYXNoSW5kZXgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBxdWVyeVN0YXJ0ID0gdXJsLmluZGV4T2YoJz8nKTtcbiAgICAgICAgICAgIHZhciBoYXNoU3RhcnQgPSB1cmwuaW5kZXhPZignIycpO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gTWF0aC5taW4ocXVlcnlTdGFydCA+IC0xID8gcXVlcnlTdGFydCA6IHVybC5sZW5ndGgsIGhhc2hTdGFydCA+IC0xID8gaGFzaFN0YXJ0IDogdXJsLmxlbmd0aCk7XG5cbiAgICAgICAgICAgIHVybCA9IHVybC5zdWJzdHJpbmcoMCwgaW5kZXgpO1xuICAgICAgICAgICAgZXh0ID0gdXJsLnN1YnN0cmluZyh1cmwubGFzdEluZGV4T2YoJy4nKSArIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGV4dC50b0xvd2VyQ2FzZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHRoZSBtaW1lIHR5cGUgb2YgYW4gWEhSIHJlcXVlc3QgYmFzZWQgb24gdGhlIHJlc3BvbnNlVHlwZSBvZlxuICAgICAqIHJlc291cmNlIGJlaW5nIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gdHlwZSAtIFRoZSB0eXBlIHRvIGdldCBhIG1pbWUgdHlwZSBmb3IuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgbWltZSB0eXBlIHRvIHVzZS5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9nZXRNaW1lRnJvbVhoclR5cGUgPSBmdW5jdGlvbiBfZ2V0TWltZUZyb21YaHJUeXBlKHR5cGUpIHtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUjpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL29jdGV0LWJpbmFyeSc7XG5cbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQjpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL2Jsb2InO1xuXG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5UOlxuICAgICAgICAgICAgICAgIHJldHVybiAnYXBwbGljYXRpb24veG1sJztcblxuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OOlxuICAgICAgICAgICAgICAgIHJldHVybiAnYXBwbGljYXRpb24vanNvbic7XG5cbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuREVGQVVMVDpcbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVDpcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICd0ZXh0L3BsYWluJztcblxuICAgICAgICB9XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhSZXNvdXJjZSwgW3tcbiAgICAgICAga2V5OiAnaXNEYXRhVXJsJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGFzRmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuREFUQV9VUkwpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc2NyaWJlcyBpZiB0aGlzIHJlc291cmNlIGhhcyBmaW5pc2hlZCBsb2FkaW5nLiBJcyB0cnVlIHdoZW4gdGhlIHJlc291cmNlIGhhcyBjb21wbGV0ZWx5XG4gICAgICAgICAqIGxvYWRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdpc0NvbXBsZXRlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGFzRmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuQ09NUExFVEUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc2NyaWJlcyBpZiB0aGlzIHJlc291cmNlIGlzIGN1cnJlbnRseSBsb2FkaW5nLiBJcyB0cnVlIHdoZW4gdGhlIHJlc291cmNlIHN0YXJ0cyBsb2FkaW5nLFxuICAgICAgICAgKiBhbmQgaXMgZmFsc2UgYWdhaW4gd2hlbiBjb21wbGV0ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdpc0xvYWRpbmcnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oYXNGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5MT0FESU5HKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBSZXNvdXJjZTtcbn0oKTtcblxuLyoqXG4gKiBUaGUgdHlwZXMgb2YgcmVzb3VyY2VzIGEgcmVzb3VyY2UgY291bGQgcmVwcmVzZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICogQGVudW0ge251bWJlcn1cbiAqL1xuXG5cbmV4cG9ydHMuZGVmYXVsdCA9IFJlc291cmNlO1xuUmVzb3VyY2UuU1RBVFVTX0ZMQUdTID0ge1xuICAgIE5PTkU6IDAsXG4gICAgREFUQV9VUkw6IDEgPDwgMCxcbiAgICBDT01QTEVURTogMSA8PCAxLFxuICAgIExPQURJTkc6IDEgPDwgMlxufTtcblxuLyoqXG4gKiBUaGUgdHlwZXMgb2YgcmVzb3VyY2VzIGEgcmVzb3VyY2UgY291bGQgcmVwcmVzZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICogQGVudW0ge251bWJlcn1cbiAqL1xuUmVzb3VyY2UuVFlQRSA9IHtcbiAgICBVTktOT1dOOiAwLFxuICAgIEpTT046IDEsXG4gICAgWE1MOiAyLFxuICAgIElNQUdFOiAzLFxuICAgIEFVRElPOiA0LFxuICAgIFZJREVPOiA1LFxuICAgIFRFWFQ6IDZcbn07XG5cbi8qKlxuICogVGhlIHR5cGVzIG9mIGxvYWRpbmcgYSByZXNvdXJjZSBjYW4gdXNlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICogQGVudW0ge251bWJlcn1cbiAqL1xuUmVzb3VyY2UuTE9BRF9UWVBFID0ge1xuICAgIC8qKiBVc2VzIFhNTEh0dHBSZXF1ZXN0IHRvIGxvYWQgdGhlIHJlc291cmNlLiAqL1xuICAgIFhIUjogMSxcbiAgICAvKiogVXNlcyBhbiBgSW1hZ2VgIG9iamVjdCB0byBsb2FkIHRoZSByZXNvdXJjZS4gKi9cbiAgICBJTUFHRTogMixcbiAgICAvKiogVXNlcyBhbiBgQXVkaW9gIG9iamVjdCB0byBsb2FkIHRoZSByZXNvdXJjZS4gKi9cbiAgICBBVURJTzogMyxcbiAgICAvKiogVXNlcyBhIGBWaWRlb2Agb2JqZWN0IHRvIGxvYWQgdGhlIHJlc291cmNlLiAqL1xuICAgIFZJREVPOiA0XG59O1xuXG4vKipcbiAqIFRoZSBYSFIgcmVhZHkgc3RhdGVzLCB1c2VkIGludGVybmFsbHkuXG4gKlxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5SZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRSA9IHtcbiAgICAvKiogc3RyaW5nICovXG4gICAgREVGQVVMVDogJ3RleHQnLFxuICAgIC8qKiBBcnJheUJ1ZmZlciAqL1xuICAgIEJVRkZFUjogJ2FycmF5YnVmZmVyJyxcbiAgICAvKiogQmxvYiAqL1xuICAgIEJMT0I6ICdibG9iJyxcbiAgICAvKiogRG9jdW1lbnQgKi9cbiAgICBET0NVTUVOVDogJ2RvY3VtZW50JyxcbiAgICAvKiogT2JqZWN0ICovXG4gICAgSlNPTjogJ2pzb24nLFxuICAgIC8qKiBTdHJpbmcgKi9cbiAgICBURVhUOiAndGV4dCdcbn07XG5cblJlc291cmNlLl9sb2FkVHlwZU1hcCA9IHtcbiAgICAvLyBpbWFnZXNcbiAgICBnaWY6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICBwbmc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICBibXA6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICBqcGc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICBqcGVnOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgdGlmOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgdGlmZjogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgIHdlYnA6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICB0Z2E6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICBzdmc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICAnc3ZnK3htbCc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSwgLy8gZm9yIFNWRyBkYXRhIHVybHNcblxuICAgIC8vIGF1ZGlvXG4gICAgbXAzOiBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU8sXG4gICAgb2dnOiBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU8sXG4gICAgd2F2OiBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU8sXG5cbiAgICAvLyB2aWRlb3NcbiAgICBtcDQ6IFJlc291cmNlLkxPQURfVFlQRS5WSURFTyxcbiAgICB3ZWJtOiBSZXNvdXJjZS5MT0FEX1RZUEUuVklERU9cbn07XG5cblJlc291cmNlLl94aHJUeXBlTWFwID0ge1xuICAgIC8vIHhtbFxuICAgIHhodG1sOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgICBodG1sOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgICBodG06IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuICAgIHhtbDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgdG14OiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgICBzdmc6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuXG4gICAgLy8gVGhpcyB3YXMgYWRkZWQgdG8gaGFuZGxlIFRpbGVkIFRpbGVzZXQgWE1MLCBidXQgLnRzeCBpcyBhbHNvIGEgVHlwZVNjcmlwdCBSZWFjdCBDb21wb25lbnQuXG4gICAgLy8gU2luY2UgaXQgaXMgd2F5IGxlc3MgbGlrZWx5IGZvciBwZW9wbGUgdG8gYmUgbG9hZGluZyBUeXBlU2NyaXB0IGZpbGVzIGluc3RlYWQgb2YgVGlsZWQgZmlsZXMsXG4gICAgLy8gdGhpcyBzaG91bGQgcHJvYmFibHkgYmUgZmluZS5cbiAgICB0c3g6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuXG4gICAgLy8gaW1hZ2VzXG4gICAgZ2lmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIHBuZzogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICBibXA6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAganBnOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIGpwZWc6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAgdGlmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIHRpZmY6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAgd2VicDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICB0Z2E6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG5cbiAgICAvLyBqc29uXG4gICAganNvbjogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuSlNPTixcblxuICAgIC8vIHRleHRcbiAgICB0ZXh0OiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhULFxuICAgIHR4dDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVCxcblxuICAgIC8vIGZvbnRzXG4gICAgdHRmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVIsXG4gICAgb3RmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVJcbn07XG5cbi8vIFdlIGNhbid0IHNldCB0aGUgYHNyY2AgYXR0cmlidXRlIHRvIGVtcHR5IHN0cmluZywgc28gb24gYWJvcnQgd2Ugc2V0IGl0IHRvIHRoaXMgMXB4IHRyYW5zcGFyZW50IGdpZlxuUmVzb3VyY2UuRU1QVFlfR0lGID0gJ2RhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQVAvLy93QUFBQ0g1QkFFQUFBQUFMQUFBQUFBQkFBRUFBQUlDUkFFQU93PT0nO1xuXG4vKipcbiAqIFF1aWNrIGhlbHBlciB0byBzZXQgYSB2YWx1ZSBvbiBvbmUgb2YgdGhlIGV4dGVuc2lvbiBtYXBzLiBFbnN1cmVzIHRoZXJlIGlzIG5vXG4gKiBkb3QgYXQgdGhlIHN0YXJ0IG9mIHRoZSBleHRlbnNpb24uXG4gKlxuICogQGlnbm9yZVxuICogQHBhcmFtIHtvYmplY3R9IG1hcCAtIFRoZSBtYXAgdG8gc2V0IG9uLlxuICogQHBhcmFtIHtzdHJpbmd9IGV4dG5hbWUgLSBUaGUgZXh0ZW5zaW9uIChvciBrZXkpIHRvIHNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWwgLSBUaGUgdmFsdWUgdG8gc2V0LlxuICovXG5mdW5jdGlvbiBzZXRFeHRNYXAobWFwLCBleHRuYW1lLCB2YWwpIHtcbiAgICBpZiAoZXh0bmFtZSAmJiBleHRuYW1lLmluZGV4T2YoJy4nKSA9PT0gMCkge1xuICAgICAgICBleHRuYW1lID0gZXh0bmFtZS5zdWJzdHJpbmcoMSk7XG4gICAgfVxuXG4gICAgaWYgKCFleHRuYW1lKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBtYXBbZXh0bmFtZV0gPSB2YWw7XG59XG5cbi8qKlxuICogUXVpY2sgaGVscGVyIHRvIGdldCBzdHJpbmcgeGhyIHR5cGUuXG4gKlxuICogQGlnbm9yZVxuICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdHxYRG9tYWluUmVxdWVzdH0geGhyIC0gVGhlIHJlcXVlc3QgdG8gY2hlY2suXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSB0eXBlLlxuICovXG5mdW5jdGlvbiByZXFUeXBlKHhocikge1xuICAgIHJldHVybiB4aHIudG9TdHJpbmcoKS5yZXBsYWNlKCdvYmplY3QgJywgJycpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVzb3VyY2UuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVJbmRpY2VzRm9yUXVhZHM7XG4vKipcbiAqIEdlbmVyaWMgTWFzayBTdGFjayBkYXRhIHN0cnVjdHVyZVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZnVuY3Rpb24gY3JlYXRlSW5kaWNlc0ZvclF1YWRzXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBOdW1iZXIgb2YgcXVhZHNcbiAqIEByZXR1cm4ge1VpbnQxNkFycmF5fSBpbmRpY2VzXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluZGljZXNGb3JRdWFkcyhzaXplKSB7XG4gICAgLy8gdGhlIHRvdGFsIG51bWJlciBvZiBpbmRpY2VzIGluIG91ciBhcnJheSwgdGhlcmUgYXJlIDYgcG9pbnRzIHBlciBxdWFkLlxuXG4gICAgdmFyIHRvdGFsSW5kaWNlcyA9IHNpemUgKiA2O1xuXG4gICAgdmFyIGluZGljZXMgPSBuZXcgVWludDE2QXJyYXkodG90YWxJbmRpY2VzKTtcblxuICAgIC8vIGZpbGwgdGhlIGluZGljZXMgd2l0aCB0aGUgcXVhZHMgdG8gZHJhd1xuICAgIGZvciAodmFyIGkgPSAwLCBqID0gMDsgaSA8IHRvdGFsSW5kaWNlczsgaSArPSA2LCBqICs9IDQpIHtcbiAgICAgICAgaW5kaWNlc1tpICsgMF0gPSBqICsgMDtcbiAgICAgICAgaW5kaWNlc1tpICsgMV0gPSBqICsgMTtcbiAgICAgICAgaW5kaWNlc1tpICsgMl0gPSBqICsgMjtcbiAgICAgICAgaW5kaWNlc1tpICsgM10gPSBqICsgMDtcbiAgICAgICAgaW5kaWNlc1tpICsgNF0gPSBqICsgMjtcbiAgICAgICAgaW5kaWNlc1tpICsgNV0gPSBqICsgMztcbiAgICB9XG5cbiAgICByZXR1cm4gaW5kaWNlcztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZUluZGljZXNGb3JRdWFkcy5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi8uLi91dGlscycpO1xuXG52YXIgX2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMgPSByZXF1aXJlKCcuLi8uLi9yZW5kZXJlcnMvY2FudmFzL3V0aWxzL2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMnKTtcblxudmFyIF9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqIFV0aWxpdHkgbWV0aG9kcyBmb3IgU3ByaXRlL1RleHR1cmUgdGludGluZy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBDYW52YXNUaW50ZXIgPSB7XG4gICAgLyoqXG4gICAgICogQmFzaWNhbGx5IHRoaXMgbWV0aG9kIGp1c3QgbmVlZHMgYSBzcHJpdGUgYW5kIGEgY29sb3IgYW5kIHRpbnRzIHRoZSBzcHJpdGUgd2l0aCB0aGUgZ2l2ZW4gY29sb3IuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5DYW52YXNUaW50ZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSB0aGUgc3ByaXRlIHRvIHRpbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sb3IgLSB0aGUgY29sb3IgdG8gdXNlIHRvIHRpbnQgdGhlIHNwcml0ZSB3aXRoXG4gICAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR9IFRoZSB0aW50ZWQgY2FudmFzXG4gICAgICovXG4gICAgZ2V0VGludGVkVGV4dHVyZTogZnVuY3Rpb24gZ2V0VGludGVkVGV4dHVyZShzcHJpdGUsIGNvbG9yKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gc3ByaXRlLl90ZXh0dXJlO1xuXG4gICAgICAgIGNvbG9yID0gQ2FudmFzVGludGVyLnJvdW5kQ29sb3IoY29sb3IpO1xuXG4gICAgICAgIHZhciBzdHJpbmdDb2xvciA9ICcjJyArICgnMDAwMDAnICsgKGNvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuXG4gICAgICAgIHRleHR1cmUudGludENhY2hlID0gdGV4dHVyZS50aW50Q2FjaGUgfHwge307XG5cbiAgICAgICAgdmFyIGNhY2hlZFRleHR1cmUgPSB0ZXh0dXJlLnRpbnRDYWNoZVtzdHJpbmdDb2xvcl07XG5cbiAgICAgICAgdmFyIGNhbnZhcyA9IHZvaWQgMDtcblxuICAgICAgICBpZiAoY2FjaGVkVGV4dHVyZSkge1xuICAgICAgICAgICAgaWYgKGNhY2hlZFRleHR1cmUudGludElkID09PSB0ZXh0dXJlLl91cGRhdGVJRCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0dXJlLnRpbnRDYWNoZVtzdHJpbmdDb2xvcl07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhbnZhcyA9IHRleHR1cmUudGludENhY2hlW3N0cmluZ0NvbG9yXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhbnZhcyA9IENhbnZhc1RpbnRlci5jYW52YXMgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIH1cblxuICAgICAgICBDYW52YXNUaW50ZXIudGludE1ldGhvZCh0ZXh0dXJlLCBjb2xvciwgY2FudmFzKTtcblxuICAgICAgICBjYW52YXMudGludElkID0gdGV4dHVyZS5fdXBkYXRlSUQ7XG5cbiAgICAgICAgaWYgKENhbnZhc1RpbnRlci5jb252ZXJ0VGludFRvSW1hZ2UpIHtcbiAgICAgICAgICAgIC8vIGlzIHRoaXMgYmV0dGVyP1xuICAgICAgICAgICAgdmFyIHRpbnRJbWFnZSA9IG5ldyBJbWFnZSgpO1xuXG4gICAgICAgICAgICB0aW50SW1hZ2Uuc3JjID0gY2FudmFzLnRvRGF0YVVSTCgpO1xuXG4gICAgICAgICAgICB0ZXh0dXJlLnRpbnRDYWNoZVtzdHJpbmdDb2xvcl0gPSB0aW50SW1hZ2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ZXh0dXJlLnRpbnRDYWNoZVtzdHJpbmdDb2xvcl0gPSBjYW52YXM7XG4gICAgICAgICAgICAvLyBpZiB3ZSBhcmUgbm90IGNvbnZlcnRpbmcgdGhlIHRleHR1cmUgdG8gYW4gaW1hZ2UgdGhlbiB3ZSBuZWVkIHRvIGxvc2UgdGhlIHJlZmVyZW5jZSB0byB0aGUgY2FudmFzXG4gICAgICAgICAgICBDYW52YXNUaW50ZXIuY2FudmFzID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjYW52YXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRpbnQgYSB0ZXh0dXJlIHVzaW5nIHRoZSAnbXVsdGlwbHknIG9wZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkNhbnZhc1RpbnRlclxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gdGhlIHRleHR1cmUgdG8gdGludFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb2xvciAtIHRoZSBjb2xvciB0byB1c2UgdG8gdGludCB0aGUgc3ByaXRlIHdpdGhcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXMgLSB0aGUgY3VycmVudCBjYW52YXNcbiAgICAgKi9cbiAgICB0aW50V2l0aE11bHRpcGx5OiBmdW5jdGlvbiB0aW50V2l0aE11bHRpcGx5KHRleHR1cmUsIGNvbG9yLCBjYW52YXMpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgdmFyIGNyb3AgPSB0ZXh0dXJlLl9mcmFtZS5jbG9uZSgpO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRleHR1cmUuYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcblxuICAgICAgICBjcm9wLnggKj0gcmVzb2x1dGlvbjtcbiAgICAgICAgY3JvcC55ICo9IHJlc29sdXRpb247XG4gICAgICAgIGNyb3Aud2lkdGggKj0gcmVzb2x1dGlvbjtcbiAgICAgICAgY3JvcC5oZWlnaHQgKj0gcmVzb2x1dGlvbjtcblxuICAgICAgICBjYW52YXMud2lkdGggPSBNYXRoLmNlaWwoY3JvcC53aWR0aCk7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBNYXRoLmNlaWwoY3JvcC5oZWlnaHQpO1xuXG4gICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjJyArICgnMDAwMDAnICsgKGNvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuXG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgY3JvcC53aWR0aCwgY3JvcC5oZWlnaHQpO1xuXG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ211bHRpcGx5JztcblxuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZSh0ZXh0dXJlLmJhc2VUZXh0dXJlLnNvdXJjZSwgY3JvcC54LCBjcm9wLnksIGNyb3Aud2lkdGgsIGNyb3AuaGVpZ2h0LCAwLCAwLCBjcm9wLndpZHRoLCBjcm9wLmhlaWdodCk7XG5cbiAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnZGVzdGluYXRpb24tYXRvcCc7XG5cbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGV4dHVyZS5iYXNlVGV4dHVyZS5zb3VyY2UsIGNyb3AueCwgY3JvcC55LCBjcm9wLndpZHRoLCBjcm9wLmhlaWdodCwgMCwgMCwgY3JvcC53aWR0aCwgY3JvcC5oZWlnaHQpO1xuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGludCBhIHRleHR1cmUgdXNpbmcgdGhlICdvdmVybGF5JyBvcGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5DYW52YXNUaW50ZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIHRoZSB0ZXh0dXJlIHRvIHRpbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sb3IgLSB0aGUgY29sb3IgdG8gdXNlIHRvIHRpbnQgdGhlIHNwcml0ZSB3aXRoXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzIC0gdGhlIGN1cnJlbnQgY2FudmFzXG4gICAgICovXG4gICAgdGludFdpdGhPdmVybGF5OiBmdW5jdGlvbiB0aW50V2l0aE92ZXJsYXkodGV4dHVyZSwgY29sb3IsIGNhbnZhcykge1xuICAgICAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICB2YXIgY3JvcCA9IHRleHR1cmUuX2ZyYW1lLmNsb25lKCk7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uO1xuXG4gICAgICAgIGNyb3AueCAqPSByZXNvbHV0aW9uO1xuICAgICAgICBjcm9wLnkgKj0gcmVzb2x1dGlvbjtcbiAgICAgICAgY3JvcC53aWR0aCAqPSByZXNvbHV0aW9uO1xuICAgICAgICBjcm9wLmhlaWdodCAqPSByZXNvbHV0aW9uO1xuXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IE1hdGguY2VpbChjcm9wLndpZHRoKTtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IE1hdGguY2VpbChjcm9wLmhlaWdodCk7XG5cbiAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2NvcHknO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjJyArICgnMDAwMDAnICsgKGNvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIGNyb3Aud2lkdGgsIGNyb3AuaGVpZ2h0KTtcblxuICAgICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdkZXN0aW5hdGlvbi1hdG9wJztcbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGV4dHVyZS5iYXNlVGV4dHVyZS5zb3VyY2UsIGNyb3AueCwgY3JvcC55LCBjcm9wLndpZHRoLCBjcm9wLmhlaWdodCwgMCwgMCwgY3JvcC53aWR0aCwgY3JvcC5oZWlnaHQpO1xuXG4gICAgICAgIC8vIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2NvcHknO1xuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9LFxuXG5cbiAgICAvKipcbiAgICAgKiBUaW50IGEgdGV4dHVyZSBwaXhlbCBwZXIgcGl4ZWwuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5DYW52YXNUaW50ZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIHRoZSB0ZXh0dXJlIHRvIHRpbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sb3IgLSB0aGUgY29sb3IgdG8gdXNlIHRvIHRpbnQgdGhlIHNwcml0ZSB3aXRoXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzIC0gdGhlIGN1cnJlbnQgY2FudmFzXG4gICAgICovXG4gICAgdGludFdpdGhQZXJQaXhlbDogZnVuY3Rpb24gdGludFdpdGhQZXJQaXhlbCh0ZXh0dXJlLCBjb2xvciwgY2FudmFzKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIHZhciBjcm9wID0gdGV4dHVyZS5fZnJhbWUuY2xvbmUoKTtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSB0ZXh0dXJlLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG5cbiAgICAgICAgY3JvcC54ICo9IHJlc29sdXRpb247XG4gICAgICAgIGNyb3AueSAqPSByZXNvbHV0aW9uO1xuICAgICAgICBjcm9wLndpZHRoICo9IHJlc29sdXRpb247XG4gICAgICAgIGNyb3AuaGVpZ2h0ICo9IHJlc29sdXRpb247XG5cbiAgICAgICAgY2FudmFzLndpZHRoID0gTWF0aC5jZWlsKGNyb3Aud2lkdGgpO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gTWF0aC5jZWlsKGNyb3AuaGVpZ2h0KTtcblxuICAgICAgICBjb250ZXh0LnNhdmUoKTtcbiAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnY29weSc7XG4gICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHRleHR1cmUuYmFzZVRleHR1cmUuc291cmNlLCBjcm9wLngsIGNyb3AueSwgY3JvcC53aWR0aCwgY3JvcC5oZWlnaHQsIDAsIDAsIGNyb3Aud2lkdGgsIGNyb3AuaGVpZ2h0KTtcbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG5cbiAgICAgICAgdmFyIHJnYlZhbHVlcyA9ICgwLCBfdXRpbHMuaGV4MnJnYikoY29sb3IpO1xuICAgICAgICB2YXIgciA9IHJnYlZhbHVlc1swXTtcbiAgICAgICAgdmFyIGcgPSByZ2JWYWx1ZXNbMV07XG4gICAgICAgIHZhciBiID0gcmdiVmFsdWVzWzJdO1xuXG4gICAgICAgIHZhciBwaXhlbERhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCBjcm9wLndpZHRoLCBjcm9wLmhlaWdodCk7XG5cbiAgICAgICAgdmFyIHBpeGVscyA9IHBpeGVsRGF0YS5kYXRhO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGl4ZWxzLmxlbmd0aDsgaSArPSA0KSB7XG4gICAgICAgICAgICBwaXhlbHNbaSArIDBdICo9IHI7XG4gICAgICAgICAgICBwaXhlbHNbaSArIDFdICo9IGc7XG4gICAgICAgICAgICBwaXhlbHNbaSArIDJdICo9IGI7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LnB1dEltYWdlRGF0YShwaXhlbERhdGEsIDAsIDApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSb3VuZHMgdGhlIHNwZWNpZmllZCBjb2xvciBhY2NvcmRpbmcgdG8gdGhlIENhbnZhc1RpbnRlci5jYWNoZVN0ZXBzUGVyQ29sb3JDaGFubmVsLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQ2FudmFzVGludGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbG9yIC0gdGhlIGNvbG9yIHRvIHJvdW5kLCBzaG91bGQgYmUgYSBoZXggY29sb3JcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSByb3VuZGVkIGNvbG9yLlxuICAgICAqL1xuICAgIHJvdW5kQ29sb3I6IGZ1bmN0aW9uIHJvdW5kQ29sb3IoY29sb3IpIHtcbiAgICAgICAgdmFyIHN0ZXAgPSBDYW52YXNUaW50ZXIuY2FjaGVTdGVwc1BlckNvbG9yQ2hhbm5lbDtcblxuICAgICAgICB2YXIgcmdiVmFsdWVzID0gKDAsIF91dGlscy5oZXgycmdiKShjb2xvcik7XG5cbiAgICAgICAgcmdiVmFsdWVzWzBdID0gTWF0aC5taW4oMjU1LCByZ2JWYWx1ZXNbMF0gLyBzdGVwICogc3RlcCk7XG4gICAgICAgIHJnYlZhbHVlc1sxXSA9IE1hdGgubWluKDI1NSwgcmdiVmFsdWVzWzFdIC8gc3RlcCAqIHN0ZXApO1xuICAgICAgICByZ2JWYWx1ZXNbMl0gPSBNYXRoLm1pbigyNTUsIHJnYlZhbHVlc1syXSAvIHN0ZXAgKiBzdGVwKTtcblxuICAgICAgICByZXR1cm4gKDAsIF91dGlscy5yZ2IyaGV4KShyZ2JWYWx1ZXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBOdW1iZXIgb2Ygc3RlcHMgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGEgY2FwIHdoZW4gcm91bmRpbmcgY29sb3JzLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQ2FudmFzVGludGVyXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICBjYWNoZVN0ZXBzUGVyQ29sb3JDaGFubmVsOiA4LFxuXG4gICAgLyoqXG4gICAgICogVGludCBjYWNoZSBib29sZWFuIGZsYWcuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5DYW52YXNUaW50ZXJcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBjb252ZXJ0VGludFRvSW1hZ2U6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3QgdGhlIENhbnZhcyBCbGVuZE1vZGVzIGFyZSBzdXBwb3J0ZWQsIGNvbnNlcXVlbnRseSB0aGUgYWJpbGl0eSB0byB0aW50IHVzaW5nIHRoZSBtdWx0aXBseSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5DYW52YXNUaW50ZXJcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBjYW5Vc2VNdWx0aXBseTogKDAsIF9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzMi5kZWZhdWx0KSgpLFxuXG4gICAgLyoqXG4gICAgICogVGhlIHRpbnRpbmcgbWV0aG9kIHRoYXQgd2lsbCBiZSB1c2VkLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQ2FudmFzVGludGVyXG4gICAgICogQHR5cGUge3RpbnRNZXRob2RGdW5jdGlvblR5cGV9XG4gICAgICovXG4gICAgdGludE1ldGhvZDogMFxufTtcblxuQ2FudmFzVGludGVyLnRpbnRNZXRob2QgPSBDYW52YXNUaW50ZXIuY2FuVXNlTXVsdGlwbHkgPyBDYW52YXNUaW50ZXIudGludFdpdGhNdWx0aXBseSA6IENhbnZhc1RpbnRlci50aW50V2l0aFBlclBpeGVsO1xuXG4vKipcbiAqIFRoZSB0aW50TWV0aG9kIHR5cGUuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuQ2FudmFzVGludGVyXG4gKiBAY2FsbGJhY2sgdGludE1ldGhvZEZ1bmN0aW9uVHlwZVxuICogQHBhcmFtIHRleHR1cmUge1BJWEkuVGV4dHVyZX0gdGhlIHRleHR1cmUgdG8gdGludFxuICogQHBhcmFtIGNvbG9yIHtudW1iZXJ9IHRoZSBjb2xvciB0byB1c2UgdG8gdGludCB0aGUgc3ByaXRlIHdpdGhcbiAqIEBwYXJhbSBjYW52YXMge0hUTUxDYW52YXNFbGVtZW50fSB0aGUgY3VycmVudCBjYW52YXNcbiAqL1xuXG5leHBvcnRzLmRlZmF1bHQgPSBDYW52YXNUaW50ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYW52YXNUaW50ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX0Jhc2VSZW5kZXJUZXh0dXJlID0gcmVxdWlyZSgnLi9CYXNlUmVuZGVyVGV4dHVyZScpO1xuXG52YXIgX0Jhc2VSZW5kZXJUZXh0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Jhc2VSZW5kZXJUZXh0dXJlKTtcblxudmFyIF9UZXh0dXJlMiA9IHJlcXVpcmUoJy4vVGV4dHVyZScpO1xuXG52YXIgX1RleHR1cmUzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dHVyZTIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogQSBSZW5kZXJUZXh0dXJlIGlzIGEgc3BlY2lhbCB0ZXh0dXJlIHRoYXQgYWxsb3dzIGFueSBQaXhpSlMgZGlzcGxheSBvYmplY3QgdG8gYmUgcmVuZGVyZWQgdG8gaXQuXG4gKlxuICogX19IaW50X186IEFsbCBEaXNwbGF5T2JqZWN0cyAoaS5lLiBTcHJpdGVzKSB0aGF0IHJlbmRlciB0byBhIFJlbmRlclRleHR1cmUgc2hvdWxkIGJlIHByZWxvYWRlZFxuICogb3RoZXJ3aXNlIGJsYWNrIHJlY3RhbmdsZXMgd2lsbCBiZSBkcmF3biBpbnN0ZWFkLlxuICpcbiAqIEEgUmVuZGVyVGV4dHVyZSB0YWtlcyBhIHNuYXBzaG90IG9mIGFueSBEaXNwbGF5IE9iamVjdCBnaXZlbiB0byBpdHMgcmVuZGVyIG1ldGhvZC4gRm9yIGV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIGxldCByZW5kZXJlciA9IFBJWEkuYXV0b0RldGVjdFJlbmRlcmVyKDEwMjQsIDEwMjQsIHsgdmlldzogY2FudmFzLCByYXRpbzogMSB9KTtcbiAqIGxldCByZW5kZXJUZXh0dXJlID0gUElYSS5SZW5kZXJUZXh0dXJlLmNyZWF0ZSg4MDAsIDYwMCk7XG4gKiBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbUltYWdlKFwic3Bpbk9ial8wMS5wbmdcIik7XG4gKlxuICogc3ByaXRlLnBvc2l0aW9uLnggPSA4MDAvMjtcbiAqIHNwcml0ZS5wb3NpdGlvbi55ID0gNjAwLzI7XG4gKiBzcHJpdGUuYW5jaG9yLnggPSAwLjU7XG4gKiBzcHJpdGUuYW5jaG9yLnkgPSAwLjU7XG4gKlxuICogcmVuZGVyZXIucmVuZGVyKHNwcml0ZSwgcmVuZGVyVGV4dHVyZSk7XG4gKiBgYGBcbiAqXG4gKiBUaGUgU3ByaXRlIGluIHRoaXMgY2FzZSB3aWxsIGJlIHJlbmRlcmVkIHVzaW5nIGl0cyBsb2NhbCB0cmFuc2Zvcm0uIFRvIHJlbmRlciB0aGlzIHNwcml0ZSBhdCAwLDBcbiAqIHlvdSBjYW4gY2xlYXIgdGhlIHRyYW5zZm9ybVxuICpcbiAqIGBgYGpzXG4gKlxuICogc3ByaXRlLnNldFRyYW5zZm9ybSgpXG4gKlxuICogbGV0IHJlbmRlclRleHR1cmUgPSBuZXcgUElYSS5SZW5kZXJUZXh0dXJlLmNyZWF0ZSgxMDAsIDEwMCk7XG4gKlxuICogcmVuZGVyZXIucmVuZGVyKHNwcml0ZSwgcmVuZGVyVGV4dHVyZSk7ICAvLyBSZW5kZXJzIHRvIGNlbnRlciBvZiBSZW5kZXJUZXh0dXJlXG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuVGV4dHVyZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJlbmRlclRleHR1cmUgPSBmdW5jdGlvbiAoX1RleHR1cmUpIHtcbiAgICBfaW5oZXJpdHMoUmVuZGVyVGV4dHVyZSwgX1RleHR1cmUpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VSZW5kZXJUZXh0dXJlfSBiYXNlUmVuZGVyVGV4dHVyZSAtIFRoZSByZW5kZXJlciB1c2VkIGZvciB0aGlzIFJlbmRlclRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbZnJhbWVdIC0gVGhlIHJlY3RhbmdsZSBmcmFtZSBvZiB0aGUgdGV4dHVyZSB0byBzaG93XG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVuZGVyVGV4dHVyZShiYXNlUmVuZGVyVGV4dHVyZSwgZnJhbWUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlbmRlclRleHR1cmUpO1xuXG4gICAgICAgIC8vIHN1cHBvcnQgZm9yIGxlZ2FjeS4uXG4gICAgICAgIHZhciBfbGVnYWN5UmVuZGVyZXIgPSBudWxsO1xuXG4gICAgICAgIGlmICghKGJhc2VSZW5kZXJUZXh0dXJlIGluc3RhbmNlb2YgX0Jhc2VSZW5kZXJUZXh0dXJlMi5kZWZhdWx0KSkge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLXJlc3QtcGFyYW1zLCBuby1jb25zb2xlICovXG4gICAgICAgICAgICB2YXIgd2lkdGggPSBhcmd1bWVudHNbMV07XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gYXJndW1lbnRzWzJdO1xuICAgICAgICAgICAgdmFyIHNjYWxlTW9kZSA9IGFyZ3VtZW50c1szXTtcbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gYXJndW1lbnRzWzRdO1xuXG4gICAgICAgICAgICAvLyB3ZSBoYXZlIGFuIG9sZCByZW5kZXIgdGV4dHVyZS4uXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1BsZWFzZSB1c2UgUmVuZGVyVGV4dHVyZS5jcmVhdGUoJyArIHdpZHRoICsgJywgJyArIGhlaWdodCArICcpIGluc3RlYWQgb2YgdGhlIGN0b3IgZGlyZWN0bHkuJyk7XG4gICAgICAgICAgICBfbGVnYWN5UmVuZGVyZXIgPSBhcmd1bWVudHNbMF07XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIHByZWZlci1yZXN0LXBhcmFtcywgbm8tY29uc29sZSAqL1xuXG4gICAgICAgICAgICBmcmFtZSA9IG51bGw7XG4gICAgICAgICAgICBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBfQmFzZVJlbmRlclRleHR1cmUyLmRlZmF1bHQod2lkdGgsIGhlaWdodCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFzZSB0ZXh0dXJlIG9iamVjdCB0aGF0IHRoaXMgdGV4dHVyZSB1c2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Jhc2VUZXh0dXJlfVxuICAgICAgICAgKi9cblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfVGV4dHVyZS5jYWxsKHRoaXMsIGJhc2VSZW5kZXJUZXh0dXJlLCBmcmFtZSkpO1xuXG4gICAgICAgIF90aGlzLmxlZ2FjeVJlbmRlcmVyID0gX2xlZ2FjeVJlbmRlcmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHdpbGwgbGV0IHRoZSByZW5kZXJlciBrbm93IGlmIHRoZSB0ZXh0dXJlIGlzIHZhbGlkLiBJZiBpdCdzIG5vdCB0aGVuIGl0IGNhbm5vdCBiZSByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZhbGlkID0gdHJ1ZTtcblxuICAgICAgICBfdGhpcy5fdXBkYXRlVXZzKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBSZW5kZXJUZXh0dXJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIHRvIHJlc2l6ZSB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCB0byByZXNpemUgdG8uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBkb05vdFJlc2l6ZUJhc2VUZXh0dXJlIC0gU2hvdWxkIHRoZSBiYXNlVGV4dHVyZS53aWR0aCBhbmQgaGVpZ2h0IHZhbHVlcyBiZSByZXNpemVkIGFzIHdlbGw/XG4gICAgICovXG5cblxuICAgIFJlbmRlclRleHR1cmUucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIHJlc2l6ZSh3aWR0aCwgaGVpZ2h0LCBkb05vdFJlc2l6ZUJhc2VUZXh0dXJlKSB7XG4gICAgICAgIHdpZHRoID0gTWF0aC5jZWlsKHdpZHRoKTtcbiAgICAgICAgaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCk7XG5cbiAgICAgICAgLy8gVE9ETyAtIGNvdWxkIGJlIG5vdCByZXF1aXJlZC4uXG4gICAgICAgIHRoaXMudmFsaWQgPSB3aWR0aCA+IDAgJiYgaGVpZ2h0ID4gMDtcblxuICAgICAgICB0aGlzLl9mcmFtZS53aWR0aCA9IHRoaXMub3JpZy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLl9mcmFtZS5oZWlnaHQgPSB0aGlzLm9yaWcuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIGlmICghZG9Ob3RSZXNpemVCYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl91cGRhdGVVdnMoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQSBzaG9ydCBoYW5kIHdheSBvZiBjcmVhdGluZyBhIHJlbmRlciB0ZXh0dXJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0xMDBdIC0gVGhlIHdpZHRoIG9mIHRoZSByZW5kZXIgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTEwMF0gLSBUaGUgaGVpZ2h0IG9mIHRoZSByZW5kZXIgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgdGV4dHVyZSBiZWluZyBnZW5lcmF0ZWRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlclRleHR1cmV9IFRoZSBuZXcgcmVuZGVyIHRleHR1cmVcbiAgICAgKi9cblxuXG4gICAgUmVuZGVyVGV4dHVyZS5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUod2lkdGgsIGhlaWdodCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVuZGVyVGV4dHVyZShuZXcgX0Jhc2VSZW5kZXJUZXh0dXJlMi5kZWZhdWx0KHdpZHRoLCBoZWlnaHQsIHNjYWxlTW9kZSwgcmVzb2x1dGlvbikpO1xuICAgIH07XG5cbiAgICByZXR1cm4gUmVuZGVyVGV4dHVyZTtcbn0oX1RleHR1cmUzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBSZW5kZXJUZXh0dXJlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVuZGVyVGV4dHVyZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLlRpY2tlciA9IGV4cG9ydHMuc2hhcmVkID0gdW5kZWZpbmVkO1xuXG52YXIgX1RpY2tlciA9IHJlcXVpcmUoJy4vVGlja2VyJyk7XG5cbnZhciBfVGlja2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RpY2tlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogVGhlIHNoYXJlZCB0aWNrZXIgaW5zdGFuY2UgdXNlZCBieSB7QGxpbmsgUElYSS5leHRyYXMuQW5pbWF0ZWRTcHJpdGV9LlxuICogYW5kIGJ5IHtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlcn0uXG4gKiBUaGUgcHJvcGVydHkge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNhdXRvU3RhcnR9IGlzIHNldCB0byBgdHJ1ZWBcbiAqIGZvciB0aGlzIGluc3RhbmNlLiBQbGVhc2UgZm9sbG93IHRoZSBleGFtcGxlcyBmb3IgdXNhZ2UsIGluY2x1ZGluZ1xuICogaG93IHRvIG9wdC1vdXQgb2YgYXV0by1zdGFydGluZyB0aGUgc2hhcmVkIHRpY2tlci5cbiAqXG4gKiBAZXhhbXBsZVxuICogbGV0IHRpY2tlciA9IFBJWEkudGlja2VyLnNoYXJlZDtcbiAqIC8vIFNldCB0aGlzIHRvIHByZXZlbnQgc3RhcnRpbmcgdGhpcyB0aWNrZXIgd2hlbiBsaXN0ZW5lcnMgYXJlIGFkZGVkLlxuICogLy8gQnkgZGVmYXVsdCB0aGlzIGlzIHRydWUgb25seSBmb3IgdGhlIFBJWEkudGlja2VyLnNoYXJlZCBpbnN0YW5jZS5cbiAqIHRpY2tlci5hdXRvU3RhcnQgPSBmYWxzZTtcbiAqIC8vIEZZSSwgY2FsbCB0aGlzIHRvIGVuc3VyZSB0aGUgdGlja2VyIGlzIHN0b3BwZWQuIEl0IHNob3VsZCBiZSBzdG9wcGVkXG4gKiAvLyBpZiB5b3UgaGF2ZSBub3QgYXR0ZW1wdGVkIHRvIHJlbmRlciBhbnl0aGluZyB5ZXQuXG4gKiB0aWNrZXIuc3RvcCgpO1xuICogLy8gQ2FsbCB0aGlzIHdoZW4geW91IGFyZSByZWFkeSBmb3IgYSBydW5uaW5nIHNoYXJlZCB0aWNrZXIuXG4gKiB0aWNrZXIuc3RhcnQoKTtcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gWW91IG1heSB1c2UgdGhlIHNoYXJlZCB0aWNrZXIgdG8gcmVuZGVyLi4uXG4gKiBsZXQgcmVuZGVyZXIgPSBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcig4MDAsIDYwMCk7XG4gKiBsZXQgc3RhZ2UgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAqIGxldCBpbnRlcmFjdGlvbk1hbmFnZXIgPSBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlcihyZW5kZXJlcik7XG4gKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHJlbmRlcmVyLnZpZXcpO1xuICogdGlja2VyLmFkZChmdW5jdGlvbiAodGltZSkge1xuICogICAgIHJlbmRlcmVyLnJlbmRlcihzdGFnZSk7XG4gKiB9KTtcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gT3IgeW91IGNhbiBqdXN0IHVwZGF0ZSBpdCBtYW51YWxseS5cbiAqIHRpY2tlci5hdXRvU3RhcnQgPSBmYWxzZTtcbiAqIHRpY2tlci5zdG9wKCk7XG4gKiBmdW5jdGlvbiBhbmltYXRlKHRpbWUpIHtcbiAqICAgICB0aWNrZXIudXBkYXRlKHRpbWUpO1xuICogICAgIHJlbmRlcmVyLnJlbmRlcihzdGFnZSk7XG4gKiAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xuICogfVxuICogYW5pbWF0ZShwZXJmb3JtYW5jZS5ub3coKSk7XG4gKlxuICogQHR5cGUge1BJWEkudGlja2VyLlRpY2tlcn1cbiAqIEBtZW1iZXJvZiBQSVhJLnRpY2tlclxuICovXG52YXIgc2hhcmVkID0gbmV3IF9UaWNrZXIyLmRlZmF1bHQoKTtcblxuc2hhcmVkLmF1dG9TdGFydCA9IHRydWU7XG5zaGFyZWQuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gcHJvdGVjdCBkZXN0cm95aW5nIHNoYXJlZCB0aWNrZXJcbiAgLy8gdGhpcyBpcyB1c2VkIGJ5IG90aGVyIGludGVybmFsIHN5c3RlbXNcbiAgLy8gbGlrZSBBbmltYXRlZFNwcml0ZSBhbmQgSW50ZXJhY3Rpb25NYW5hZ2VyXG59O1xuXG4vKipcbiAqIFRoaXMgbmFtZXNwYWNlIGNvbnRhaW5zIGFuIEFQSSBmb3IgaW50ZXJhY3Rpbmcgd2l0aCBQSVhJJ3MgaW50ZXJuYWwgZ2xvYmFsIHVwZGF0ZSBsb29wLlxuICpcbiAqIFRoaXMgdGlja2VyIGlzIHVzZWQgZm9yIHJlbmRlcmluZywge0BsaW5rIFBJWEkuZXh0cmFzLkFuaW1hdGVkU3ByaXRlIEFuaW1hdGVkU3ByaXRlfSxcbiAqIHtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciBJbnRlcmFjdGlvbk1hbmFnZXJ9IGFuZCBtYW55IG90aGVyIHRpbWUtYmFzZWQgUElYSSBzeXN0ZW1zLlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHRpY2tlciA9IG5ldyBQSVhJLnRpY2tlci5UaWNrZXIoKTtcbiAqIHRpY2tlci5zdG9wKCk7XG4gKiB0aWNrZXIuYWRkKChkZWx0YVRpbWUpID0+IHtcbiAqICAgLy8gZG8gc29tZXRoaW5nIGV2ZXJ5IGZyYW1lXG4gKiB9KTtcbiAqIHRpY2tlci5zdGFydCgpO1xuICogQG5hbWVzcGFjZSBQSVhJLnRpY2tlclxuICovXG5leHBvcnRzLnNoYXJlZCA9IHNoYXJlZDtcbmV4cG9ydHMuVGlja2VyID0gX1RpY2tlcjIuZGVmYXVsdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIi8qKlxuICogQml0IHR3aWRkbGluZyBoYWNrcyBmb3IgSmF2YVNjcmlwdC5cbiAqXG4gKiBBdXRob3I6IE1pa29sYSBMeXNlbmtvXG4gKlxuICogUG9ydGVkIGZyb20gU3RhbmZvcmQgYml0IHR3aWRkbGluZyBoYWNrIGxpYnJhcnk6XG4gKiAgICBodHRwOi8vZ3JhcGhpY3Muc3RhbmZvcmQuZWR1L35zZWFuZGVyL2JpdGhhY2tzLmh0bWxcbiAqL1xuXG5cInVzZSBzdHJpY3RcIjsgXCJ1c2UgcmVzdHJpY3RcIjtcblxuLy9OdW1iZXIgb2YgYml0cyBpbiBhbiBpbnRlZ2VyXG52YXIgSU5UX0JJVFMgPSAzMjtcblxuLy9Db25zdGFudHNcbmV4cG9ydHMuSU5UX0JJVFMgID0gSU5UX0JJVFM7XG5leHBvcnRzLklOVF9NQVggICA9ICAweDdmZmZmZmZmO1xuZXhwb3J0cy5JTlRfTUlOICAgPSAtMTw8KElOVF9CSVRTLTEpO1xuXG4vL1JldHVybnMgLTEsIDAsICsxIGRlcGVuZGluZyBvbiBzaWduIG9mIHhcbmV4cG9ydHMuc2lnbiA9IGZ1bmN0aW9uKHYpIHtcbiAgcmV0dXJuICh2ID4gMCkgLSAodiA8IDApO1xufVxuXG4vL0NvbXB1dGVzIGFic29sdXRlIHZhbHVlIG9mIGludGVnZXJcbmV4cG9ydHMuYWJzID0gZnVuY3Rpb24odikge1xuICB2YXIgbWFzayA9IHYgPj4gKElOVF9CSVRTLTEpO1xuICByZXR1cm4gKHYgXiBtYXNrKSAtIG1hc2s7XG59XG5cbi8vQ29tcHV0ZXMgbWluaW11bSBvZiBpbnRlZ2VycyB4IGFuZCB5XG5leHBvcnRzLm1pbiA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgcmV0dXJuIHkgXiAoKHggXiB5KSAmIC0oeCA8IHkpKTtcbn1cblxuLy9Db21wdXRlcyBtYXhpbXVtIG9mIGludGVnZXJzIHggYW5kIHlcbmV4cG9ydHMubWF4ID0gZnVuY3Rpb24oeCwgeSkge1xuICByZXR1cm4geCBeICgoeCBeIHkpICYgLSh4IDwgeSkpO1xufVxuXG4vL0NoZWNrcyBpZiBhIG51bWJlciBpcyBhIHBvd2VyIG9mIHR3b1xuZXhwb3J0cy5pc1BvdzIgPSBmdW5jdGlvbih2KSB7XG4gIHJldHVybiAhKHYgJiAodi0xKSkgJiYgKCEhdik7XG59XG5cbi8vQ29tcHV0ZXMgbG9nIGJhc2UgMiBvZiB2XG5leHBvcnRzLmxvZzIgPSBmdW5jdGlvbih2KSB7XG4gIHZhciByLCBzaGlmdDtcbiAgciA9ICAgICAodiA+IDB4RkZGRikgPDwgNDsgdiA+Pj49IHI7XG4gIHNoaWZ0ID0gKHYgPiAweEZGICApIDw8IDM7IHYgPj4+PSBzaGlmdDsgciB8PSBzaGlmdDtcbiAgc2hpZnQgPSAodiA+IDB4RiAgICkgPDwgMjsgdiA+Pj49IHNoaWZ0OyByIHw9IHNoaWZ0O1xuICBzaGlmdCA9ICh2ID4gMHgzICAgKSA8PCAxOyB2ID4+Pj0gc2hpZnQ7IHIgfD0gc2hpZnQ7XG4gIHJldHVybiByIHwgKHYgPj4gMSk7XG59XG5cbi8vQ29tcHV0ZXMgbG9nIGJhc2UgMTAgb2YgdlxuZXhwb3J0cy5sb2cxMCA9IGZ1bmN0aW9uKHYpIHtcbiAgcmV0dXJuICAodiA+PSAxMDAwMDAwMDAwKSA/IDkgOiAodiA+PSAxMDAwMDAwMDApID8gOCA6ICh2ID49IDEwMDAwMDAwKSA/IDcgOlxuICAgICAgICAgICh2ID49IDEwMDAwMDApID8gNiA6ICh2ID49IDEwMDAwMCkgPyA1IDogKHYgPj0gMTAwMDApID8gNCA6XG4gICAgICAgICAgKHYgPj0gMTAwMCkgPyAzIDogKHYgPj0gMTAwKSA/IDIgOiAodiA+PSAxMCkgPyAxIDogMDtcbn1cblxuLy9Db3VudHMgbnVtYmVyIG9mIGJpdHNcbmV4cG9ydHMucG9wQ291bnQgPSBmdW5jdGlvbih2KSB7XG4gIHYgPSB2IC0gKCh2ID4+PiAxKSAmIDB4NTU1NTU1NTUpO1xuICB2ID0gKHYgJiAweDMzMzMzMzMzKSArICgodiA+Pj4gMikgJiAweDMzMzMzMzMzKTtcbiAgcmV0dXJuICgodiArICh2ID4+PiA0KSAmIDB4RjBGMEYwRikgKiAweDEwMTAxMDEpID4+PiAyNDtcbn1cblxuLy9Db3VudHMgbnVtYmVyIG9mIHRyYWlsaW5nIHplcm9zXG5mdW5jdGlvbiBjb3VudFRyYWlsaW5nWmVyb3Modikge1xuICB2YXIgYyA9IDMyO1xuICB2ICY9IC12O1xuICBpZiAodikgYy0tO1xuICBpZiAodiAmIDB4MDAwMEZGRkYpIGMgLT0gMTY7XG4gIGlmICh2ICYgMHgwMEZGMDBGRikgYyAtPSA4O1xuICBpZiAodiAmIDB4MEYwRjBGMEYpIGMgLT0gNDtcbiAgaWYgKHYgJiAweDMzMzMzMzMzKSBjIC09IDI7XG4gIGlmICh2ICYgMHg1NTU1NTU1NSkgYyAtPSAxO1xuICByZXR1cm4gYztcbn1cbmV4cG9ydHMuY291bnRUcmFpbGluZ1plcm9zID0gY291bnRUcmFpbGluZ1plcm9zO1xuXG4vL1JvdW5kcyB0byBuZXh0IHBvd2VyIG9mIDJcbmV4cG9ydHMubmV4dFBvdzIgPSBmdW5jdGlvbih2KSB7XG4gIHYgKz0gdiA9PT0gMDtcbiAgLS12O1xuICB2IHw9IHYgPj4+IDE7XG4gIHYgfD0gdiA+Pj4gMjtcbiAgdiB8PSB2ID4+PiA0O1xuICB2IHw9IHYgPj4+IDg7XG4gIHYgfD0gdiA+Pj4gMTY7XG4gIHJldHVybiB2ICsgMTtcbn1cblxuLy9Sb3VuZHMgZG93biB0byBwcmV2aW91cyBwb3dlciBvZiAyXG5leHBvcnRzLnByZXZQb3cyID0gZnVuY3Rpb24odikge1xuICB2IHw9IHYgPj4+IDE7XG4gIHYgfD0gdiA+Pj4gMjtcbiAgdiB8PSB2ID4+PiA0O1xuICB2IHw9IHYgPj4+IDg7XG4gIHYgfD0gdiA+Pj4gMTY7XG4gIHJldHVybiB2IC0gKHY+Pj4xKTtcbn1cblxuLy9Db21wdXRlcyBwYXJpdHkgb2Ygd29yZFxuZXhwb3J0cy5wYXJpdHkgPSBmdW5jdGlvbih2KSB7XG4gIHYgXj0gdiA+Pj4gMTY7XG4gIHYgXj0gdiA+Pj4gODtcbiAgdiBePSB2ID4+PiA0O1xuICB2ICY9IDB4ZjtcbiAgcmV0dXJuICgweDY5OTYgPj4+IHYpICYgMTtcbn1cblxudmFyIFJFVkVSU0VfVEFCTEUgPSBuZXcgQXJyYXkoMjU2KTtcblxuKGZ1bmN0aW9uKHRhYikge1xuICBmb3IodmFyIGk9MDsgaTwyNTY7ICsraSkge1xuICAgIHZhciB2ID0gaSwgciA9IGksIHMgPSA3O1xuICAgIGZvciAodiA+Pj49IDE7IHY7IHYgPj4+PSAxKSB7XG4gICAgICByIDw8PSAxO1xuICAgICAgciB8PSB2ICYgMTtcbiAgICAgIC0tcztcbiAgICB9XG4gICAgdGFiW2ldID0gKHIgPDwgcykgJiAweGZmO1xuICB9XG59KShSRVZFUlNFX1RBQkxFKTtcblxuLy9SZXZlcnNlIGJpdHMgaW4gYSAzMiBiaXQgd29yZFxuZXhwb3J0cy5yZXZlcnNlID0gZnVuY3Rpb24odikge1xuICByZXR1cm4gIChSRVZFUlNFX1RBQkxFWyB2ICAgICAgICAgJiAweGZmXSA8PCAyNCkgfFxuICAgICAgICAgIChSRVZFUlNFX1RBQkxFWyh2ID4+PiA4KSAgJiAweGZmXSA8PCAxNikgfFxuICAgICAgICAgIChSRVZFUlNFX1RBQkxFWyh2ID4+PiAxNikgJiAweGZmXSA8PCA4KSAgfFxuICAgICAgICAgICBSRVZFUlNFX1RBQkxFWyh2ID4+PiAyNCkgJiAweGZmXTtcbn1cblxuLy9JbnRlcmxlYXZlIGJpdHMgb2YgMiBjb29yZGluYXRlcyB3aXRoIDE2IGJpdHMuICBVc2VmdWwgZm9yIGZhc3QgcXVhZHRyZWUgY29kZXNcbmV4cG9ydHMuaW50ZXJsZWF2ZTIgPSBmdW5jdGlvbih4LCB5KSB7XG4gIHggJj0gMHhGRkZGO1xuICB4ID0gKHggfCAoeCA8PCA4KSkgJiAweDAwRkYwMEZGO1xuICB4ID0gKHggfCAoeCA8PCA0KSkgJiAweDBGMEYwRjBGO1xuICB4ID0gKHggfCAoeCA8PCAyKSkgJiAweDMzMzMzMzMzO1xuICB4ID0gKHggfCAoeCA8PCAxKSkgJiAweDU1NTU1NTU1O1xuXG4gIHkgJj0gMHhGRkZGO1xuICB5ID0gKHkgfCAoeSA8PCA4KSkgJiAweDAwRkYwMEZGO1xuICB5ID0gKHkgfCAoeSA8PCA0KSkgJiAweDBGMEYwRjBGO1xuICB5ID0gKHkgfCAoeSA8PCAyKSkgJiAweDMzMzMzMzMzO1xuICB5ID0gKHkgfCAoeSA8PCAxKSkgJiAweDU1NTU1NTU1O1xuXG4gIHJldHVybiB4IHwgKHkgPDwgMSk7XG59XG5cbi8vRXh0cmFjdHMgdGhlIG50aCBpbnRlcmxlYXZlZCBjb21wb25lbnRcbmV4cG9ydHMuZGVpbnRlcmxlYXZlMiA9IGZ1bmN0aW9uKHYsIG4pIHtcbiAgdiA9ICh2ID4+PiBuKSAmIDB4NTU1NTU1NTU7XG4gIHYgPSAodiB8ICh2ID4+PiAxKSkgICYgMHgzMzMzMzMzMztcbiAgdiA9ICh2IHwgKHYgPj4+IDIpKSAgJiAweDBGMEYwRjBGO1xuICB2ID0gKHYgfCAodiA+Pj4gNCkpICAmIDB4MDBGRjAwRkY7XG4gIHYgPSAodiB8ICh2ID4+PiAxNikpICYgMHgwMDBGRkZGO1xuICByZXR1cm4gKHYgPDwgMTYpID4+IDE2O1xufVxuXG5cbi8vSW50ZXJsZWF2ZSBiaXRzIG9mIDMgY29vcmRpbmF0ZXMsIGVhY2ggd2l0aCAxMCBiaXRzLiAgVXNlZnVsIGZvciBmYXN0IG9jdHJlZSBjb2Rlc1xuZXhwb3J0cy5pbnRlcmxlYXZlMyA9IGZ1bmN0aW9uKHgsIHksIHopIHtcbiAgeCAmPSAweDNGRjtcbiAgeCAgPSAoeCB8ICh4PDwxNikpICYgNDI3ODE5MDMzNTtcbiAgeCAgPSAoeCB8ICh4PDw4KSkgICYgMjUxNzE5Njk1O1xuICB4ICA9ICh4IHwgKHg8PDQpKSAgJiAzMjcyMzU2MDM1O1xuICB4ICA9ICh4IHwgKHg8PDIpKSAgJiAxMjI3MTMzNTEzO1xuXG4gIHkgJj0gMHgzRkY7XG4gIHkgID0gKHkgfCAoeTw8MTYpKSAmIDQyNzgxOTAzMzU7XG4gIHkgID0gKHkgfCAoeTw8OCkpICAmIDI1MTcxOTY5NTtcbiAgeSAgPSAoeSB8ICh5PDw0KSkgICYgMzI3MjM1NjAzNTtcbiAgeSAgPSAoeSB8ICh5PDwyKSkgICYgMTIyNzEzMzUxMztcbiAgeCB8PSAoeSA8PCAxKTtcbiAgXG4gIHogJj0gMHgzRkY7XG4gIHogID0gKHogfCAoejw8MTYpKSAmIDQyNzgxOTAzMzU7XG4gIHogID0gKHogfCAoejw8OCkpICAmIDI1MTcxOTY5NTtcbiAgeiAgPSAoeiB8ICh6PDw0KSkgICYgMzI3MjM1NjAzNTtcbiAgeiAgPSAoeiB8ICh6PDwyKSkgICYgMTIyNzEzMzUxMztcbiAgXG4gIHJldHVybiB4IHwgKHogPDwgMik7XG59XG5cbi8vRXh0cmFjdHMgbnRoIGludGVybGVhdmVkIGNvbXBvbmVudCBvZiBhIDMtdHVwbGVcbmV4cG9ydHMuZGVpbnRlcmxlYXZlMyA9IGZ1bmN0aW9uKHYsIG4pIHtcbiAgdiA9ICh2ID4+PiBuKSAgICAgICAmIDEyMjcxMzM1MTM7XG4gIHYgPSAodiB8ICh2Pj4+MikpICAgJiAzMjcyMzU2MDM1O1xuICB2ID0gKHYgfCAodj4+PjQpKSAgICYgMjUxNzE5Njk1O1xuICB2ID0gKHYgfCAodj4+PjgpKSAgICYgNDI3ODE5MDMzNTtcbiAgdiA9ICh2IHwgKHY+Pj4xNikpICAmIDB4M0ZGO1xuICByZXR1cm4gKHY8PDIyKT4+MjI7XG59XG5cbi8vQ29tcHV0ZXMgbmV4dCBjb21iaW5hdGlvbiBpbiBjb2xleGljb2dyYXBoaWMgb3JkZXIgKHRoaXMgaXMgbWlzdGFrZW5seSBjYWxsZWQgbmV4dFBlcm11dGF0aW9uIG9uIHRoZSBiaXQgdHdpZGRsaW5nIGhhY2tzIHBhZ2UpXG5leHBvcnRzLm5leHRDb21iaW5hdGlvbiA9IGZ1bmN0aW9uKHYpIHtcbiAgdmFyIHQgPSB2IHwgKHYgLSAxKTtcbiAgcmV0dXJuICh0ICsgMSkgfCAoKCh+dCAmIC1+dCkgLSAxKSA+Pj4gKGNvdW50VHJhaWxpbmdaZXJvcyh2KSArIDEpKTtcbn1cblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuLi9tYXRoJyk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vY29uc3QnKTtcblxudmFyIF9UZXh0dXJlID0gcmVxdWlyZSgnLi4vdGV4dHVyZXMvVGV4dHVyZScpO1xuXG52YXIgX1RleHR1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dHVyZSk7XG5cbnZhciBfQ29udGFpbmVyMiA9IHJlcXVpcmUoJy4uL2Rpc3BsYXkvQ29udGFpbmVyJyk7XG5cbnZhciBfQ29udGFpbmVyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnRhaW5lcjIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciB0ZW1wUG9pbnQgPSBuZXcgX21hdGguUG9pbnQoKTtcblxuLyoqXG4gKiBUaGUgU3ByaXRlIG9iamVjdCBpcyB0aGUgYmFzZSBmb3IgYWxsIHRleHR1cmVkIG9iamVjdHMgdGhhdCBhcmUgcmVuZGVyZWQgdG8gdGhlIHNjcmVlblxuICpcbiAqIEEgc3ByaXRlIGNhbiBiZSBjcmVhdGVkIGRpcmVjdGx5IGZyb20gYW4gaW1hZ2UgbGlrZSB0aGlzOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlLmZyb21JbWFnZSgnYXNzZXRzL2ltYWdlLnBuZycpO1xuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuXG52YXIgU3ByaXRlID0gZnVuY3Rpb24gKF9Db250YWluZXIpIHtcbiAgICBfaW5oZXJpdHMoU3ByaXRlLCBfQ29udGFpbmVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgZm9yIHRoaXMgc3ByaXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3ByaXRlKHRleHR1cmUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNwcml0ZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbmNob3Igc2V0cyB0aGUgb3JpZ2luIHBvaW50IG9mIHRoZSB0ZXh0dXJlLlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBpcyAwLDAgdGhpcyBtZWFucyB0aGUgdGV4dHVyZSdzIG9yaWdpbiBpcyB0aGUgdG9wIGxlZnRcbiAgICAgICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIDAuNSwwLjUgbWVhbnMgdGhlIHRleHR1cmUncyBvcmlnaW4gaXMgY2VudGVyZWRcbiAgICAgICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIDEsMSB3b3VsZCBtZWFuIHRoZSB0ZXh0dXJlJ3Mgb3JpZ2luIHBvaW50IHdpbGwgYmUgdGhlIGJvdHRvbSByaWdodCBjb3JuZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQ29udGFpbmVyLmNhbGwodGhpcykpO1xuXG4gICAgICAgIF90aGlzLl9hbmNob3IgPSBuZXcgX21hdGguT2JzZXJ2YWJsZVBvaW50KF90aGlzLl9vbkFuY2hvclVwZGF0ZSwgX3RoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dHVyZSB0aGF0IHRoZSBzcHJpdGUgaXMgdXNpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RleHR1cmUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHNwcml0ZSAodGhpcyBpcyBpbml0aWFsbHkgc2V0IGJ5IHRoZSB0ZXh0dXJlKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fd2lkdGggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBzcHJpdGUgKHRoaXMgaXMgaW5pdGlhbGx5IHNldCBieSB0aGUgdGV4dHVyZSlcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2hlaWdodCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gVGhpcyBpcyBhIGhleCB2YWx1ZS4gQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90aW50ID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX3RpbnRSR0IgPSBudWxsO1xuICAgICAgICBfdGhpcy50aW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gQXBwbHkgYSB2YWx1ZSBvZiBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICAgICAqIEBzZWUgUElYSS5CTEVORF9NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmxlbmRNb2RlID0gX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNoYWRlciB0aGF0IHdpbGwgYmUgdXNlZCB0byByZW5kZXIgdGhlIHNwcml0ZS4gU2V0IHRvIG51bGwgdG8gcmVtb3ZlIGEgY3VycmVudCBzaGFkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRmlsdGVyfFBJWEkuU2hhZGVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2hhZGVyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gaW50ZXJuYWwgY2FjaGVkIHZhbHVlIG9mIHRoZSB0aW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgLy8gY2FsbCB0ZXh0dXJlIHNldHRlclxuICAgICAgICBfdGhpcy50ZXh0dXJlID0gdGV4dHVyZSB8fCBfVGV4dHVyZTIuZGVmYXVsdC5FTVBUWTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogdGhpcyBpcyB1c2VkIHRvIHN0b3JlIHRoZSB2ZXJ0ZXggZGF0YSBvZiB0aGUgc3ByaXRlIChiYXNpY2FsbHkgYSBxdWFkKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52ZXJ0ZXhEYXRhID0gbmV3IEZsb2F0MzJBcnJheSg4KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgYm91bmRzIG9mIHRoZSBvYmplY3QgSUYgaXQgaXMgYSB0cmltbWVkIHNwcml0ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgIF90aGlzLl90ZXh0dXJlSUQgPSAtMTtcblxuICAgICAgICBfdGhpcy5fdHJhbnNmb3JtVHJpbW1lZElEID0gLTE7XG4gICAgICAgIF90aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBsdWdpbiB0aGF0IGlzIHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgdGhpcyBlbGVtZW50LlxuICAgICAgICAgKiBBbGxvd3MgdG8gY3VzdG9taXplIHRoZSByZW5kZXJpbmcgcHJvY2VzcyB3aXRob3V0IG92ZXJyaWRpbmcgJ19yZW5kZXJXZWJHTCcgJiAnX3JlbmRlckNhbnZhcycgbWV0aG9kcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnc3ByaXRlJ1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGx1Z2luTmFtZSA9ICdzcHJpdGUnO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgdGV4dHVyZSBpcyB1cGRhdGVkLCB0aGlzIGV2ZW50IHdpbGwgZmlyZSB0byB1cGRhdGUgdGhlIHNjYWxlIGFuZCBmcmFtZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlLnByb3RvdHlwZS5fb25UZXh0dXJlVXBkYXRlID0gZnVuY3Rpb24gX29uVGV4dHVyZVVwZGF0ZSgpIHtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgICAgIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPSAtMTtcbiAgICAgICAgdGhpcy5jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgLy8gc28gaWYgX3dpZHRoIGlzIDAgdGhlbiB3aWR0aCB3YXMgbm90IHNldC4uXG4gICAgICAgIGlmICh0aGlzLl93aWR0aCkge1xuICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gKDAsIF91dGlscy5zaWduKSh0aGlzLnNjYWxlLngpICogdGhpcy5fd2lkdGggLyB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5faGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSAoMCwgX3V0aWxzLnNpZ24pKHRoaXMuc2NhbGUueSkgKiB0aGlzLl9oZWlnaHQgLyB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBhbmNob3IgcG9zaXRpb24gdXBkYXRlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFNwcml0ZS5wcm90b3R5cGUuX29uQW5jaG9yVXBkYXRlID0gZnVuY3Rpb24gX29uQW5jaG9yVXBkYXRlKCkge1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPSAtMTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlcyB3b3JsZFRyYW5zZm9ybSAqIHZlcnRpY2VzLCBzdG9yZSBpdCBpbiB2ZXJ0ZXhEYXRhXG4gICAgICovXG5cblxuICAgIFNwcml0ZS5wcm90b3R5cGUuY2FsY3VsYXRlVmVydGljZXMgPSBmdW5jdGlvbiBjYWxjdWxhdGVWZXJ0aWNlcygpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RyYW5zZm9ybUlEID09PSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRCAmJiB0aGlzLl90ZXh0dXJlSUQgPT09IHRoaXMuX3RleHR1cmUuX3VwZGF0ZUlEKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSB0aGlzLl90ZXh0dXJlLl91cGRhdGVJRDtcblxuICAgICAgICAvLyBzZXQgdGhlIHZlcnRleCBkYXRhXG5cbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB2YXIgd3QgPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIGEgPSB3dC5hO1xuICAgICAgICB2YXIgYiA9IHd0LmI7XG4gICAgICAgIHZhciBjID0gd3QuYztcbiAgICAgICAgdmFyIGQgPSB3dC5kO1xuICAgICAgICB2YXIgdHggPSB3dC50eDtcbiAgICAgICAgdmFyIHR5ID0gd3QudHk7XG4gICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gdGhpcy52ZXJ0ZXhEYXRhO1xuICAgICAgICB2YXIgdHJpbSA9IHRleHR1cmUudHJpbTtcbiAgICAgICAgdmFyIG9yaWcgPSB0ZXh0dXJlLm9yaWc7XG4gICAgICAgIHZhciBhbmNob3IgPSB0aGlzLl9hbmNob3I7XG5cbiAgICAgICAgdmFyIHcwID0gMDtcbiAgICAgICAgdmFyIHcxID0gMDtcbiAgICAgICAgdmFyIGgwID0gMDtcbiAgICAgICAgdmFyIGgxID0gMDtcblxuICAgICAgICBpZiAodHJpbSkge1xuICAgICAgICAgICAgLy8gaWYgdGhlIHNwcml0ZSBpcyB0cmltbWVkIGFuZCBpcyBub3QgYSB0aWxpbmdzcHJpdGUgdGhlbiB3ZSBuZWVkIHRvIGFkZCB0aGUgZXh0cmFcbiAgICAgICAgICAgIC8vIHNwYWNlIGJlZm9yZSB0cmFuc2Zvcm1pbmcgdGhlIHNwcml0ZSBjb29yZHMuXG4gICAgICAgICAgICB3MSA9IHRyaW0ueCAtIGFuY2hvci5feCAqIG9yaWcud2lkdGg7XG4gICAgICAgICAgICB3MCA9IHcxICsgdHJpbS53aWR0aDtcblxuICAgICAgICAgICAgaDEgPSB0cmltLnkgLSBhbmNob3IuX3kgKiBvcmlnLmhlaWdodDtcbiAgICAgICAgICAgIGgwID0gaDEgKyB0cmltLmhlaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHcxID0gLWFuY2hvci5feCAqIG9yaWcud2lkdGg7XG4gICAgICAgICAgICB3MCA9IHcxICsgb3JpZy53aWR0aDtcblxuICAgICAgICAgICAgaDEgPSAtYW5jaG9yLl95ICogb3JpZy5oZWlnaHQ7XG4gICAgICAgICAgICBoMCA9IGgxICsgb3JpZy5oZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzBdID0gYSAqIHcxICsgYyAqIGgxICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbMV0gPSBkICogaDEgKyBiICogdzEgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzJdID0gYSAqIHcwICsgYyAqIGgxICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbM10gPSBkICogaDEgKyBiICogdzAgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzRdID0gYSAqIHcwICsgYyAqIGgwICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbNV0gPSBkICogaDAgKyBiICogdzAgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzZdID0gYSAqIHcxICsgYyAqIGgwICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbN10gPSBkICogaDAgKyBiICogdzEgKyB0eTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlcyB3b3JsZFRyYW5zZm9ybSAqIHZlcnRpY2VzIGZvciBhIG5vbiB0ZXh0dXJlIHdpdGggYSB0cmltLiBzdG9yZSBpdCBpbiB2ZXJ0ZXhUcmltbWVkRGF0YVxuICAgICAqIFRoaXMgaXMgdXNlZCB0byBlbnN1cmUgdGhhdCB0aGUgdHJ1ZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIGEgdHJpbW1lZCB0ZXh0dXJlIGlzIHJlc3BlY3RlZFxuICAgICAqL1xuXG5cbiAgICBTcHJpdGUucHJvdG90eXBlLmNhbGN1bGF0ZVRyaW1tZWRWZXJ0aWNlcyA9IGZ1bmN0aW9uIGNhbGN1bGF0ZVRyaW1tZWRWZXJ0aWNlcygpIHtcbiAgICAgICAgaWYgKCF0aGlzLnZlcnRleFRyaW1tZWREYXRhKSB7XG4gICAgICAgICAgICB0aGlzLnZlcnRleFRyaW1tZWREYXRhID0gbmV3IEZsb2F0MzJBcnJheSg4KTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPT09IHRoaXMudHJhbnNmb3JtLl93b3JsZElEICYmIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPT09IHRoaXMuX3RleHR1cmUuX3VwZGF0ZUlEKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcbiAgICAgICAgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IHRoaXMuX3RleHR1cmUuX3VwZGF0ZUlEO1xuXG4gICAgICAgIC8vIGxldHMgZG8gc29tZSBzcGVjaWFsIHRyaW0gY29kZSFcbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB2YXIgdmVydGV4RGF0YSA9IHRoaXMudmVydGV4VHJpbW1lZERhdGE7XG4gICAgICAgIHZhciBvcmlnID0gdGV4dHVyZS5vcmlnO1xuICAgICAgICB2YXIgYW5jaG9yID0gdGhpcy5fYW5jaG9yO1xuXG4gICAgICAgIC8vIGxldHMgY2FsY3VsYXRlIHRoZSBuZXcgdW50cmltbWVkIGJvdW5kcy4uXG4gICAgICAgIHZhciB3dCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgYSA9IHd0LmE7XG4gICAgICAgIHZhciBiID0gd3QuYjtcbiAgICAgICAgdmFyIGMgPSB3dC5jO1xuICAgICAgICB2YXIgZCA9IHd0LmQ7XG4gICAgICAgIHZhciB0eCA9IHd0LnR4O1xuICAgICAgICB2YXIgdHkgPSB3dC50eTtcblxuICAgICAgICB2YXIgdzEgPSAtYW5jaG9yLl94ICogb3JpZy53aWR0aDtcbiAgICAgICAgdmFyIHcwID0gdzEgKyBvcmlnLndpZHRoO1xuXG4gICAgICAgIHZhciBoMSA9IC1hbmNob3IuX3kgKiBvcmlnLmhlaWdodDtcbiAgICAgICAgdmFyIGgwID0gaDEgKyBvcmlnLmhlaWdodDtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzBdID0gYSAqIHcxICsgYyAqIGgxICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbMV0gPSBkICogaDEgKyBiICogdzEgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzJdID0gYSAqIHcwICsgYyAqIGgxICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbM10gPSBkICogaDEgKyBiICogdzAgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzRdID0gYSAqIHcwICsgYyAqIGgwICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbNV0gPSBkICogaDAgKyBiICogdzAgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzZdID0gYSAqIHcxICsgYyAqIGgwICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbN10gPSBkICogaDAgKyBiICogdzEgKyB0eTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgKlxuICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICpcbiAgICAqIEBwcml2YXRlXG4gICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgd2ViZ2wgcmVuZGVyZXIgdG8gdXNlLlxuICAgICovXG5cblxuICAgIFNwcml0ZS5wcm90b3R5cGUuX3JlbmRlcldlYkdMID0gZnVuY3Rpb24gX3JlbmRlcldlYkdMKHJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcblxuICAgICAgICByZW5kZXJlci5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0pO1xuICAgICAgICByZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0ucmVuZGVyKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgQ2FudmFzIHJlbmRlcmVyXG4gICAgKlxuICAgICogQHByaXZhdGVcbiAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAqL1xuXG5cbiAgICBTcHJpdGUucHJvdG90eXBlLl9yZW5kZXJDYW52YXMgPSBmdW5jdGlvbiBfcmVuZGVyQ2FudmFzKHJlbmRlcmVyKSB7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXS5yZW5kZXIodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgc3ByaXRlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gX2NhbGN1bGF0ZUJvdW5kcygpIHtcbiAgICAgICAgdmFyIHRyaW0gPSB0aGlzLl90ZXh0dXJlLnRyaW07XG4gICAgICAgIHZhciBvcmlnID0gdGhpcy5fdGV4dHVyZS5vcmlnO1xuXG4gICAgICAgIC8vIEZpcnN0IGxldHMgY2hlY2sgdG8gc2VlIGlmIHRoZSBjdXJyZW50IHRleHR1cmUgaGFzIGEgdHJpbS4uXG4gICAgICAgIGlmICghdHJpbSB8fCB0cmltLndpZHRoID09PSBvcmlnLndpZHRoICYmIHRyaW0uaGVpZ2h0ID09PSBvcmlnLmhlaWdodCkge1xuICAgICAgICAgICAgLy8gbm8gdHJpbSEgbGV0cyB1c2UgdGhlIHVzdWFsIGNhbGN1bGF0aW9ucy4uXG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkUXVhZCh0aGlzLnZlcnRleERhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gbGV0cyBjYWxjdWxhdGUgYSBzcGVjaWFsIHRyaW1tZWQgYm91bmRzLi4uXG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVRyaW1tZWRWZXJ0aWNlcygpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZFF1YWQodGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSBzcHJpdGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdCAtIFRoZSBvdXRwdXQgcmVjdGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgYm91bmRzLlxuICAgICAqL1xuXG5cbiAgICBTcHJpdGUucHJvdG90eXBlLmdldExvY2FsQm91bmRzID0gZnVuY3Rpb24gZ2V0TG9jYWxCb3VuZHMocmVjdCkge1xuICAgICAgICAvLyB3ZSBjYW4gZG8gYSBmYXN0IGxvY2FsIGJvdW5kcyBpZiB0aGUgc3ByaXRlIGhhcyBubyBjaGlsZHJlbiFcbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWluWCA9IHRoaXMuX3RleHR1cmUub3JpZy53aWR0aCAqIC10aGlzLl9hbmNob3IuX3g7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWluWSA9IHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQgKiAtdGhpcy5fYW5jaG9yLl95O1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1heFggPSB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGggKiAoMSAtIHRoaXMuX2FuY2hvci5feCk7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWF4WSA9IHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQgKiAoMSAtIHRoaXMuX2FuY2hvci5feSk7XG5cbiAgICAgICAgICAgIGlmICghcmVjdCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHNSZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsQm91bmRzUmVjdCA9IG5ldyBfbWF0aC5SZWN0YW5nbGUoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZWN0ID0gdGhpcy5fbG9jYWxCb3VuZHNSZWN0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYm91bmRzLmdldFJlY3RhbmdsZShyZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfQ29udGFpbmVyLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMsIHJlY3QpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUZXN0cyBpZiBhIHBvaW50IGlzIGluc2lkZSB0aGlzIHNwcml0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb2ludCAtIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdGhlIHJlc3VsdCBvZiB0aGUgdGVzdFxuICAgICAqL1xuXG5cbiAgICBTcHJpdGUucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQgPSBmdW5jdGlvbiBjb250YWluc1BvaW50KHBvaW50KSB7XG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0ZW1wUG9pbnQpO1xuXG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgIHZhciB4MSA9IC13aWR0aCAqIHRoaXMuYW5jaG9yLng7XG4gICAgICAgIHZhciB5MSA9IDA7XG5cbiAgICAgICAgaWYgKHRlbXBQb2ludC54ID49IHgxICYmIHRlbXBQb2ludC54IDwgeDEgKyB3aWR0aCkge1xuICAgICAgICAgICAgeTEgPSAtaGVpZ2h0ICogdGhpcy5hbmNob3IueTtcblxuICAgICAgICAgICAgaWYgKHRlbXBQb2ludC55ID49IHkxICYmIHRlbXBQb2ludC55IDwgeTEgKyBoZWlnaHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBzcHJpdGUgYW5kIG9wdGlvbmFsbHkgaXRzIHRleHR1cmUgYW5kIGNoaWxkcmVuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgICAgIG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgY3VycmVudCB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveShvcHRpb25zKSB7XG4gICAgICAgIF9Db250YWluZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLl9hbmNob3IgPSBudWxsO1xuXG4gICAgICAgIHZhciBkZXN0cm95VGV4dHVyZSA9IHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicgPyBvcHRpb25zIDogb3B0aW9ucyAmJiBvcHRpb25zLnRleHR1cmU7XG5cbiAgICAgICAgaWYgKGRlc3Ryb3lUZXh0dXJlKSB7XG4gICAgICAgICAgICB2YXIgZGVzdHJveUJhc2VUZXh0dXJlID0gdHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJyA/IG9wdGlvbnMgOiBvcHRpb25zICYmIG9wdGlvbnMuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUuZGVzdHJveSghIWRlc3Ryb3lCYXNlVGV4dHVyZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90ZXh0dXJlID0gbnVsbDtcbiAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBzb21lIGhlbHBlciBmdW5jdGlvbnMuLlxuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIG5ldyBzcHJpdGUgYmFzZWQgb24gdGhlIHNvdXJjZSB5b3UgcHJvdmlkZS5cbiAgICAgKiBUaGUgc291cmNlIGNhbiBiZSAtIGZyYW1lIGlkLCBpbWFnZSB1cmwsIHZpZGVvIHVybCwgY2FudmFzIGVsZW1lbnQsIHZpZGVvIGVsZW1lbnQsIGJhc2UgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ3xQSVhJLkJhc2VUZXh0dXJlfEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IHNvdXJjZSBTb3VyY2UgdG8gY3JlYXRlIHRleHR1cmUgZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfSBUaGUgbmV3bHkgY3JlYXRlZCBzcHJpdGVcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlLmZyb20gPSBmdW5jdGlvbiBmcm9tKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gbmV3IFNwcml0ZShfVGV4dHVyZTIuZGVmYXVsdC5mcm9tKHNvdXJjZSkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgc3ByaXRlIHRoYXQgd2lsbCBjb250YWluIGEgdGV4dHVyZSBmcm9tIHRoZSBUZXh0dXJlQ2FjaGUgYmFzZWQgb24gdGhlIGZyYW1lSWRcbiAgICAgKiBUaGUgZnJhbWUgaWRzIGFyZSBjcmVhdGVkIHdoZW4gYSBUZXh0dXJlIHBhY2tlciBmaWxlIGhhcyBiZWVuIGxvYWRlZFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmcmFtZUlkIC0gVGhlIGZyYW1lIElkIG9mIHRoZSB0ZXh0dXJlIGluIHRoZSBjYWNoZVxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfSBBIG5ldyBTcHJpdGUgdXNpbmcgYSB0ZXh0dXJlIGZyb20gdGhlIHRleHR1cmUgY2FjaGUgbWF0Y2hpbmcgdGhlIGZyYW1lSWRcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlLmZyb21GcmFtZSA9IGZ1bmN0aW9uIGZyb21GcmFtZShmcmFtZUlkKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gX3V0aWxzLlRleHR1cmVDYWNoZVtmcmFtZUlkXTtcblxuICAgICAgICBpZiAoIXRleHR1cmUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGZyYW1lSWQgXCInICsgZnJhbWVJZCArICdcIiBkb2VzIG5vdCBleGlzdCBpbiB0aGUgdGV4dHVyZSBjYWNoZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBTcHJpdGUodGV4dHVyZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBzcHJpdGUgdGhhdCB3aWxsIGNvbnRhaW4gYSB0ZXh0dXJlIGJhc2VkIG9uIGFuIGltYWdlIHVybFxuICAgICAqIElmIHRoZSBpbWFnZSBpcyBub3QgaW4gdGhlIHRleHR1cmUgY2FjaGUgaXQgd2lsbCBiZSBsb2FkZWRcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW1hZ2VJZCAtIFRoZSBpbWFnZSB1cmwgb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjcm9zc29yaWdpbj0oYXV0byldIC0gaWYgeW91IHdhbnQgdG8gc3BlY2lmeSB0aGUgY3Jvc3Mtb3JpZ2luIHBhcmFtZXRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBpZiB5b3Ugd2FudCB0byBzcGVjaWZ5IHRoZSBzY2FsZSBtb2RlLFxuICAgICAqICBzZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX0gQSBuZXcgU3ByaXRlIHVzaW5nIGEgdGV4dHVyZSBmcm9tIHRoZSB0ZXh0dXJlIGNhY2hlIG1hdGNoaW5nIHRoZSBpbWFnZSBpZFxuICAgICAqL1xuXG5cbiAgICBTcHJpdGUuZnJvbUltYWdlID0gZnVuY3Rpb24gZnJvbUltYWdlKGltYWdlSWQsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTcHJpdGUoX1RleHR1cmUyLmRlZmF1bHQuZnJvbUltYWdlKGltYWdlSWQsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBzcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhTcHJpdGUsIFt7XG4gICAgICAgIGtleTogJ3dpZHRoJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hYnModGhpcy5zY2FsZS54KSAqIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgcyA9ICgwLCBfdXRpbHMuc2lnbikodGhpcy5zY2FsZS54KSB8fCAxO1xuXG4gICAgICAgICAgICB0aGlzLnNjYWxlLnggPSBzICogdmFsdWUgLyB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHNwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaGVpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hYnModGhpcy5zY2FsZS55KSAqIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHMgPSAoMCwgX3V0aWxzLnNpZ24pKHRoaXMuc2NhbGUueSkgfHwgMTtcblxuICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gcyAqIHZhbHVlIC8gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbmNob3Igc2V0cyB0aGUgb3JpZ2luIHBvaW50IG9mIHRoZSB0ZXh0dXJlLlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBpcyAwLDAgdGhpcyBtZWFucyB0aGUgdGV4dHVyZSdzIG9yaWdpbiBpcyB0aGUgdG9wIGxlZnRcbiAgICAgICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIDAuNSwwLjUgbWVhbnMgdGhlIHRleHR1cmUncyBvcmlnaW4gaXMgY2VudGVyZWRcbiAgICAgICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIDEsMSB3b3VsZCBtZWFuIHRoZSB0ZXh0dXJlJ3Mgb3JpZ2luIHBvaW50IHdpbGwgYmUgdGhlIGJvdHRvbSByaWdodCBjb3JuZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdhbmNob3InLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbmNob3I7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYW5jaG9yLmNvcHkodmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gVGhpcyBpcyBhIGhleCB2YWx1ZS5cbiAgICAgICAgICogQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RpbnQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3RpbnRSR0IgPSAodmFsdWUgPj4gMTYpICsgKHZhbHVlICYgMHhmZjAwKSArICgodmFsdWUgJiAweGZmKSA8PCAxNik7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHR1cmUgdGhhdCB0aGUgc3ByaXRlIGlzIHVzaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RleHR1cmUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl90ZXh0dXJlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IC0xO1xuXG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAvLyB3YWl0IGZvciB0aGUgdGV4dHVyZSB0byBsb2FkXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmJhc2VUZXh0dXJlLmhhc0xvYWRlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vblRleHR1cmVVcGRhdGUoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5vbmNlKCd1cGRhdGUnLCB0aGlzLl9vblRleHR1cmVVcGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBTcHJpdGU7XG59KF9Db250YWluZXIzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBTcHJpdGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TcHJpdGUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVhcmN1dDtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBlYXJjdXQ7XG5cbmZ1bmN0aW9uIGVhcmN1dChkYXRhLCBob2xlSW5kaWNlcywgZGltKSB7XG5cbiAgICBkaW0gPSBkaW0gfHwgMjtcblxuICAgIHZhciBoYXNIb2xlcyA9IGhvbGVJbmRpY2VzICYmIGhvbGVJbmRpY2VzLmxlbmd0aCxcbiAgICAgICAgb3V0ZXJMZW4gPSBoYXNIb2xlcyA/IGhvbGVJbmRpY2VzWzBdICogZGltIDogZGF0YS5sZW5ndGgsXG4gICAgICAgIG91dGVyTm9kZSA9IGxpbmtlZExpc3QoZGF0YSwgMCwgb3V0ZXJMZW4sIGRpbSwgdHJ1ZSksXG4gICAgICAgIHRyaWFuZ2xlcyA9IFtdO1xuXG4gICAgaWYgKCFvdXRlck5vZGUpIHJldHVybiB0cmlhbmdsZXM7XG5cbiAgICB2YXIgbWluWCwgbWluWSwgbWF4WCwgbWF4WSwgeCwgeSwgaW52U2l6ZTtcblxuICAgIGlmIChoYXNIb2xlcykgb3V0ZXJOb2RlID0gZWxpbWluYXRlSG9sZXMoZGF0YSwgaG9sZUluZGljZXMsIG91dGVyTm9kZSwgZGltKTtcblxuICAgIC8vIGlmIHRoZSBzaGFwZSBpcyBub3QgdG9vIHNpbXBsZSwgd2UnbGwgdXNlIHotb3JkZXIgY3VydmUgaGFzaCBsYXRlcjsgY2FsY3VsYXRlIHBvbHlnb24gYmJveFxuICAgIGlmIChkYXRhLmxlbmd0aCA+IDgwICogZGltKSB7XG4gICAgICAgIG1pblggPSBtYXhYID0gZGF0YVswXTtcbiAgICAgICAgbWluWSA9IG1heFkgPSBkYXRhWzFdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSBkaW07IGkgPCBvdXRlckxlbjsgaSArPSBkaW0pIHtcbiAgICAgICAgICAgIHggPSBkYXRhW2ldO1xuICAgICAgICAgICAgeSA9IGRhdGFbaSArIDFdO1xuICAgICAgICAgICAgaWYgKHggPCBtaW5YKSBtaW5YID0geDtcbiAgICAgICAgICAgIGlmICh5IDwgbWluWSkgbWluWSA9IHk7XG4gICAgICAgICAgICBpZiAoeCA+IG1heFgpIG1heFggPSB4O1xuICAgICAgICAgICAgaWYgKHkgPiBtYXhZKSBtYXhZID0geTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1pblgsIG1pblkgYW5kIGludlNpemUgYXJlIGxhdGVyIHVzZWQgdG8gdHJhbnNmb3JtIGNvb3JkcyBpbnRvIGludGVnZXJzIGZvciB6LW9yZGVyIGNhbGN1bGF0aW9uXG4gICAgICAgIGludlNpemUgPSBNYXRoLm1heChtYXhYIC0gbWluWCwgbWF4WSAtIG1pblkpO1xuICAgICAgICBpbnZTaXplID0gaW52U2l6ZSAhPT0gMCA/IDEgLyBpbnZTaXplIDogMDtcbiAgICB9XG5cbiAgICBlYXJjdXRMaW5rZWQob3V0ZXJOb2RlLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG5cbiAgICByZXR1cm4gdHJpYW5nbGVzO1xufVxuXG4vLyBjcmVhdGUgYSBjaXJjdWxhciBkb3VibHkgbGlua2VkIGxpc3QgZnJvbSBwb2x5Z29uIHBvaW50cyBpbiB0aGUgc3BlY2lmaWVkIHdpbmRpbmcgb3JkZXJcbmZ1bmN0aW9uIGxpbmtlZExpc3QoZGF0YSwgc3RhcnQsIGVuZCwgZGltLCBjbG9ja3dpc2UpIHtcbiAgICB2YXIgaSwgbGFzdDtcblxuICAgIGlmIChjbG9ja3dpc2UgPT09IChzaWduZWRBcmVhKGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSkgPiAwKSkge1xuICAgICAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSBkaW0pIGxhc3QgPSBpbnNlcnROb2RlKGksIGRhdGFbaV0sIGRhdGFbaSArIDFdLCBsYXN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGkgPSBlbmQgLSBkaW07IGkgPj0gc3RhcnQ7IGkgLT0gZGltKSBsYXN0ID0gaW5zZXJ0Tm9kZShpLCBkYXRhW2ldLCBkYXRhW2kgKyAxXSwgbGFzdCk7XG4gICAgfVxuXG4gICAgaWYgKGxhc3QgJiYgZXF1YWxzKGxhc3QsIGxhc3QubmV4dCkpIHtcbiAgICAgICAgcmVtb3ZlTm9kZShsYXN0KTtcbiAgICAgICAgbGFzdCA9IGxhc3QubmV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gbGFzdDtcbn1cblxuLy8gZWxpbWluYXRlIGNvbGluZWFyIG9yIGR1cGxpY2F0ZSBwb2ludHNcbmZ1bmN0aW9uIGZpbHRlclBvaW50cyhzdGFydCwgZW5kKSB7XG4gICAgaWYgKCFzdGFydCkgcmV0dXJuIHN0YXJ0O1xuICAgIGlmICghZW5kKSBlbmQgPSBzdGFydDtcblxuICAgIHZhciBwID0gc3RhcnQsXG4gICAgICAgIGFnYWluO1xuICAgIGRvIHtcbiAgICAgICAgYWdhaW4gPSBmYWxzZTtcblxuICAgICAgICBpZiAoIXAuc3RlaW5lciAmJiAoZXF1YWxzKHAsIHAubmV4dCkgfHwgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPT09IDApKSB7XG4gICAgICAgICAgICByZW1vdmVOb2RlKHApO1xuICAgICAgICAgICAgcCA9IGVuZCA9IHAucHJldjtcbiAgICAgICAgICAgIGlmIChwID09PSBwLm5leHQpIGJyZWFrO1xuICAgICAgICAgICAgYWdhaW4gPSB0cnVlO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwID0gcC5uZXh0O1xuICAgICAgICB9XG4gICAgfSB3aGlsZSAoYWdhaW4gfHwgcCAhPT0gZW5kKTtcblxuICAgIHJldHVybiBlbmQ7XG59XG5cbi8vIG1haW4gZWFyIHNsaWNpbmcgbG9vcCB3aGljaCB0cmlhbmd1bGF0ZXMgYSBwb2x5Z29uIChnaXZlbiBhcyBhIGxpbmtlZCBsaXN0KVxuZnVuY3Rpb24gZWFyY3V0TGlua2VkKGVhciwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIHBhc3MpIHtcbiAgICBpZiAoIWVhcikgcmV0dXJuO1xuXG4gICAgLy8gaW50ZXJsaW5rIHBvbHlnb24gbm9kZXMgaW4gei1vcmRlclxuICAgIGlmICghcGFzcyAmJiBpbnZTaXplKSBpbmRleEN1cnZlKGVhciwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG5cbiAgICB2YXIgc3RvcCA9IGVhcixcbiAgICAgICAgcHJldiwgbmV4dDtcblxuICAgIC8vIGl0ZXJhdGUgdGhyb3VnaCBlYXJzLCBzbGljaW5nIHRoZW0gb25lIGJ5IG9uZVxuICAgIHdoaWxlIChlYXIucHJldiAhPT0gZWFyLm5leHQpIHtcbiAgICAgICAgcHJldiA9IGVhci5wcmV2O1xuICAgICAgICBuZXh0ID0gZWFyLm5leHQ7XG5cbiAgICAgICAgaWYgKGludlNpemUgPyBpc0Vhckhhc2hlZChlYXIsIG1pblgsIG1pblksIGludlNpemUpIDogaXNFYXIoZWFyKSkge1xuICAgICAgICAgICAgLy8gY3V0IG9mZiB0aGUgdHJpYW5nbGVcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKHByZXYuaSAvIGRpbSk7XG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChlYXIuaSAvIGRpbSk7XG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChuZXh0LmkgLyBkaW0pO1xuXG4gICAgICAgICAgICByZW1vdmVOb2RlKGVhcik7XG5cbiAgICAgICAgICAgIC8vIHNraXBwaW5nIHRoZSBuZXh0IHZlcnRpY2UgbGVhZHMgdG8gbGVzcyBzbGl2ZXIgdHJpYW5nbGVzXG4gICAgICAgICAgICBlYXIgPSBuZXh0Lm5leHQ7XG4gICAgICAgICAgICBzdG9wID0gbmV4dC5uZXh0O1xuXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVhciA9IG5leHQ7XG5cbiAgICAgICAgLy8gaWYgd2UgbG9vcGVkIHRocm91Z2ggdGhlIHdob2xlIHJlbWFpbmluZyBwb2x5Z29uIGFuZCBjYW4ndCBmaW5kIGFueSBtb3JlIGVhcnNcbiAgICAgICAgaWYgKGVhciA9PT0gc3RvcCkge1xuICAgICAgICAgICAgLy8gdHJ5IGZpbHRlcmluZyBwb2ludHMgYW5kIHNsaWNpbmcgYWdhaW5cbiAgICAgICAgICAgIGlmICghcGFzcykge1xuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChmaWx0ZXJQb2ludHMoZWFyKSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIDEpO1xuXG4gICAgICAgICAgICAvLyBpZiB0aGlzIGRpZG4ndCB3b3JrLCB0cnkgY3VyaW5nIGFsbCBzbWFsbCBzZWxmLWludGVyc2VjdGlvbnMgbG9jYWxseVxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXNzID09PSAxKSB7XG4gICAgICAgICAgICAgICAgZWFyID0gY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyhlYXIsIHRyaWFuZ2xlcywgZGltKTtcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoZWFyLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgMik7XG5cbiAgICAgICAgICAgIC8vIGFzIGEgbGFzdCByZXNvcnQsIHRyeSBzcGxpdHRpbmcgdGhlIHJlbWFpbmluZyBwb2x5Z29uIGludG8gdHdvXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhc3MgPT09IDIpIHtcbiAgICAgICAgICAgICAgICBzcGxpdEVhcmN1dChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIGNoZWNrIHdoZXRoZXIgYSBwb2x5Z29uIG5vZGUgZm9ybXMgYSB2YWxpZCBlYXIgd2l0aCBhZGphY2VudCBub2Rlc1xuZnVuY3Rpb24gaXNFYXIoZWFyKSB7XG4gICAgdmFyIGEgPSBlYXIucHJldixcbiAgICAgICAgYiA9IGVhcixcbiAgICAgICAgYyA9IGVhci5uZXh0O1xuXG4gICAgaWYgKGFyZWEoYSwgYiwgYykgPj0gMCkgcmV0dXJuIGZhbHNlOyAvLyByZWZsZXgsIGNhbid0IGJlIGFuIGVhclxuXG4gICAgLy8gbm93IG1ha2Ugc3VyZSB3ZSBkb24ndCBoYXZlIG90aGVyIHBvaW50cyBpbnNpZGUgdGhlIHBvdGVudGlhbCBlYXJcbiAgICB2YXIgcCA9IGVhci5uZXh0Lm5leHQ7XG5cbiAgICB3aGlsZSAocCAhPT0gZWFyLnByZXYpIHtcbiAgICAgICAgaWYgKHBvaW50SW5UcmlhbmdsZShhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBwLngsIHAueSkgJiZcbiAgICAgICAgICAgIGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaXNFYXJIYXNoZWQoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgdmFyIGEgPSBlYXIucHJldixcbiAgICAgICAgYiA9IGVhcixcbiAgICAgICAgYyA9IGVhci5uZXh0O1xuXG4gICAgaWYgKGFyZWEoYSwgYiwgYykgPj0gMCkgcmV0dXJuIGZhbHNlOyAvLyByZWZsZXgsIGNhbid0IGJlIGFuIGVhclxuXG4gICAgLy8gdHJpYW5nbGUgYmJveDsgbWluICYgbWF4IGFyZSBjYWxjdWxhdGVkIGxpa2UgdGhpcyBmb3Igc3BlZWRcbiAgICB2YXIgbWluVFggPSBhLnggPCBiLnggPyAoYS54IDwgYy54ID8gYS54IDogYy54KSA6IChiLnggPCBjLnggPyBiLnggOiBjLngpLFxuICAgICAgICBtaW5UWSA9IGEueSA8IGIueSA/IChhLnkgPCBjLnkgPyBhLnkgOiBjLnkpIDogKGIueSA8IGMueSA/IGIueSA6IGMueSksXG4gICAgICAgIG1heFRYID0gYS54ID4gYi54ID8gKGEueCA+IGMueCA/IGEueCA6IGMueCkgOiAoYi54ID4gYy54ID8gYi54IDogYy54KSxcbiAgICAgICAgbWF4VFkgPSBhLnkgPiBiLnkgPyAoYS55ID4gYy55ID8gYS55IDogYy55KSA6IChiLnkgPiBjLnkgPyBiLnkgOiBjLnkpO1xuXG4gICAgLy8gei1vcmRlciByYW5nZSBmb3IgdGhlIGN1cnJlbnQgdHJpYW5nbGUgYmJveDtcbiAgICB2YXIgbWluWiA9IHpPcmRlcihtaW5UWCwgbWluVFksIG1pblgsIG1pblksIGludlNpemUpLFxuICAgICAgICBtYXhaID0gek9yZGVyKG1heFRYLCBtYXhUWSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG5cbiAgICB2YXIgcCA9IGVhci5wcmV2WixcbiAgICAgICAgbiA9IGVhci5uZXh0WjtcblxuICAgIC8vIGxvb2sgZm9yIHBvaW50cyBpbnNpZGUgdGhlIHRyaWFuZ2xlIGluIGJvdGggZGlyZWN0aW9uc1xuICAgIHdoaWxlIChwICYmIHAueiA+PSBtaW5aICYmIG4gJiYgbi56IDw9IG1heFopIHtcbiAgICAgICAgaWYgKHAgIT09IGVhci5wcmV2ICYmIHAgIT09IGVhci5uZXh0ICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgcC54LCBwLnkpICYmXG4gICAgICAgICAgICBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHAgPSBwLnByZXZaO1xuXG4gICAgICAgIGlmIChuICE9PSBlYXIucHJldiAmJiBuICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIG4ueCwgbi55KSAmJlxuICAgICAgICAgICAgYXJlYShuLnByZXYsIG4sIG4ubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBuID0gbi5uZXh0WjtcbiAgICB9XG5cbiAgICAvLyBsb29rIGZvciByZW1haW5pbmcgcG9pbnRzIGluIGRlY3JlYXNpbmcgei1vcmRlclxuICAgIHdoaWxlIChwICYmIHAueiA+PSBtaW5aKSB7XG4gICAgICAgIGlmIChwICE9PSBlYXIucHJldiAmJiBwICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIHAueCwgcC55KSAmJlxuICAgICAgICAgICAgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBwID0gcC5wcmV2WjtcbiAgICB9XG5cbiAgICAvLyBsb29rIGZvciByZW1haW5pbmcgcG9pbnRzIGluIGluY3JlYXNpbmcgei1vcmRlclxuICAgIHdoaWxlIChuICYmIG4ueiA8PSBtYXhaKSB7XG4gICAgICAgIGlmIChuICE9PSBlYXIucHJldiAmJiBuICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIG4ueCwgbi55KSAmJlxuICAgICAgICAgICAgYXJlYShuLnByZXYsIG4sIG4ubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBuID0gbi5uZXh0WjtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gZ28gdGhyb3VnaCBhbGwgcG9seWdvbiBub2RlcyBhbmQgY3VyZSBzbWFsbCBsb2NhbCBzZWxmLWludGVyc2VjdGlvbnNcbmZ1bmN0aW9uIGN1cmVMb2NhbEludGVyc2VjdGlvbnMoc3RhcnQsIHRyaWFuZ2xlcywgZGltKSB7XG4gICAgdmFyIHAgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIHZhciBhID0gcC5wcmV2LFxuICAgICAgICAgICAgYiA9IHAubmV4dC5uZXh0O1xuXG4gICAgICAgIGlmICghZXF1YWxzKGEsIGIpICYmIGludGVyc2VjdHMoYSwgcCwgcC5uZXh0LCBiKSAmJiBsb2NhbGx5SW5zaWRlKGEsIGIpICYmIGxvY2FsbHlJbnNpZGUoYiwgYSkpIHtcblxuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goYS5pIC8gZGltKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKHAuaSAvIGRpbSk7XG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChiLmkgLyBkaW0pO1xuXG4gICAgICAgICAgICAvLyByZW1vdmUgdHdvIG5vZGVzIGludm9sdmVkXG4gICAgICAgICAgICByZW1vdmVOb2RlKHApO1xuICAgICAgICAgICAgcmVtb3ZlTm9kZShwLm5leHQpO1xuXG4gICAgICAgICAgICBwID0gc3RhcnQgPSBiO1xuICAgICAgICB9XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gc3RhcnQpO1xuXG4gICAgcmV0dXJuIHA7XG59XG5cbi8vIHRyeSBzcGxpdHRpbmcgcG9seWdvbiBpbnRvIHR3byBhbmQgdHJpYW5ndWxhdGUgdGhlbSBpbmRlcGVuZGVudGx5XG5mdW5jdGlvbiBzcGxpdEVhcmN1dChzdGFydCwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICAvLyBsb29rIGZvciBhIHZhbGlkIGRpYWdvbmFsIHRoYXQgZGl2aWRlcyB0aGUgcG9seWdvbiBpbnRvIHR3b1xuICAgIHZhciBhID0gc3RhcnQ7XG4gICAgZG8ge1xuICAgICAgICB2YXIgYiA9IGEubmV4dC5uZXh0O1xuICAgICAgICB3aGlsZSAoYiAhPT0gYS5wcmV2KSB7XG4gICAgICAgICAgICBpZiAoYS5pICE9PSBiLmkgJiYgaXNWYWxpZERpYWdvbmFsKGEsIGIpKSB7XG4gICAgICAgICAgICAgICAgLy8gc3BsaXQgdGhlIHBvbHlnb24gaW4gdHdvIGJ5IHRoZSBkaWFnb25hbFxuICAgICAgICAgICAgICAgIHZhciBjID0gc3BsaXRQb2x5Z29uKGEsIGIpO1xuXG4gICAgICAgICAgICAgICAgLy8gZmlsdGVyIGNvbGluZWFyIHBvaW50cyBhcm91bmQgdGhlIGN1dHNcbiAgICAgICAgICAgICAgICBhID0gZmlsdGVyUG9pbnRzKGEsIGEubmV4dCk7XG4gICAgICAgICAgICAgICAgYyA9IGZpbHRlclBvaW50cyhjLCBjLm5leHQpO1xuXG4gICAgICAgICAgICAgICAgLy8gcnVuIGVhcmN1dCBvbiBlYWNoIGhhbGZcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoYSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChjLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYiA9IGIubmV4dDtcbiAgICAgICAgfVxuICAgICAgICBhID0gYS5uZXh0O1xuICAgIH0gd2hpbGUgKGEgIT09IHN0YXJ0KTtcbn1cblxuLy8gbGluayBldmVyeSBob2xlIGludG8gdGhlIG91dGVyIGxvb3AsIHByb2R1Y2luZyBhIHNpbmdsZS1yaW5nIHBvbHlnb24gd2l0aG91dCBob2xlc1xuZnVuY3Rpb24gZWxpbWluYXRlSG9sZXMoZGF0YSwgaG9sZUluZGljZXMsIG91dGVyTm9kZSwgZGltKSB7XG4gICAgdmFyIHF1ZXVlID0gW10sXG4gICAgICAgIGksIGxlbiwgc3RhcnQsIGVuZCwgbGlzdDtcblxuICAgIGZvciAoaSA9IDAsIGxlbiA9IGhvbGVJbmRpY2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHN0YXJ0ID0gaG9sZUluZGljZXNbaV0gKiBkaW07XG4gICAgICAgIGVuZCA9IGkgPCBsZW4gLSAxID8gaG9sZUluZGljZXNbaSArIDFdICogZGltIDogZGF0YS5sZW5ndGg7XG4gICAgICAgIGxpc3QgPSBsaW5rZWRMaXN0KGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSwgZmFsc2UpO1xuICAgICAgICBpZiAobGlzdCA9PT0gbGlzdC5uZXh0KSBsaXN0LnN0ZWluZXIgPSB0cnVlO1xuICAgICAgICBxdWV1ZS5wdXNoKGdldExlZnRtb3N0KGxpc3QpKTtcbiAgICB9XG5cbiAgICBxdWV1ZS5zb3J0KGNvbXBhcmVYKTtcblxuICAgIC8vIHByb2Nlc3MgaG9sZXMgZnJvbSBsZWZ0IHRvIHJpZ2h0XG4gICAgZm9yIChpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGVsaW1pbmF0ZUhvbGUocXVldWVbaV0sIG91dGVyTm9kZSk7XG4gICAgICAgIG91dGVyTm9kZSA9IGZpbHRlclBvaW50cyhvdXRlck5vZGUsIG91dGVyTm9kZS5uZXh0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0ZXJOb2RlO1xufVxuXG5mdW5jdGlvbiBjb21wYXJlWChhLCBiKSB7XG4gICAgcmV0dXJuIGEueCAtIGIueDtcbn1cblxuLy8gZmluZCBhIGJyaWRnZSBiZXR3ZWVuIHZlcnRpY2VzIHRoYXQgY29ubmVjdHMgaG9sZSB3aXRoIGFuIG91dGVyIHJpbmcgYW5kIGFuZCBsaW5rIGl0XG5mdW5jdGlvbiBlbGltaW5hdGVIb2xlKGhvbGUsIG91dGVyTm9kZSkge1xuICAgIG91dGVyTm9kZSA9IGZpbmRIb2xlQnJpZGdlKGhvbGUsIG91dGVyTm9kZSk7XG4gICAgaWYgKG91dGVyTm9kZSkge1xuICAgICAgICB2YXIgYiA9IHNwbGl0UG9seWdvbihvdXRlck5vZGUsIGhvbGUpO1xuICAgICAgICBmaWx0ZXJQb2ludHMoYiwgYi5uZXh0KTtcbiAgICB9XG59XG5cbi8vIERhdmlkIEViZXJseSdzIGFsZ29yaXRobSBmb3IgZmluZGluZyBhIGJyaWRnZSBiZXR3ZWVuIGhvbGUgYW5kIG91dGVyIHBvbHlnb25cbmZ1bmN0aW9uIGZpbmRIb2xlQnJpZGdlKGhvbGUsIG91dGVyTm9kZSkge1xuICAgIHZhciBwID0gb3V0ZXJOb2RlLFxuICAgICAgICBoeCA9IGhvbGUueCxcbiAgICAgICAgaHkgPSBob2xlLnksXG4gICAgICAgIHF4ID0gLUluZmluaXR5LFxuICAgICAgICBtO1xuXG4gICAgLy8gZmluZCBhIHNlZ21lbnQgaW50ZXJzZWN0ZWQgYnkgYSByYXkgZnJvbSB0aGUgaG9sZSdzIGxlZnRtb3N0IHBvaW50IHRvIHRoZSBsZWZ0O1xuICAgIC8vIHNlZ21lbnQncyBlbmRwb2ludCB3aXRoIGxlc3NlciB4IHdpbGwgYmUgcG90ZW50aWFsIGNvbm5lY3Rpb24gcG9pbnRcbiAgICBkbyB7XG4gICAgICAgIGlmIChoeSA8PSBwLnkgJiYgaHkgPj0gcC5uZXh0LnkgJiYgcC5uZXh0LnkgIT09IHAueSkge1xuICAgICAgICAgICAgdmFyIHggPSBwLnggKyAoaHkgLSBwLnkpICogKHAubmV4dC54IC0gcC54KSAvIChwLm5leHQueSAtIHAueSk7XG4gICAgICAgICAgICBpZiAoeCA8PSBoeCAmJiB4ID4gcXgpIHtcbiAgICAgICAgICAgICAgICBxeCA9IHg7XG4gICAgICAgICAgICAgICAgaWYgKHggPT09IGh4KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoeSA9PT0gcC55KSByZXR1cm4gcDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGh5ID09PSBwLm5leHQueSkgcmV0dXJuIHAubmV4dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbSA9IHAueCA8IHAubmV4dC54ID8gcCA6IHAubmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IG91dGVyTm9kZSk7XG5cbiAgICBpZiAoIW0pIHJldHVybiBudWxsO1xuXG4gICAgaWYgKGh4ID09PSBxeCkgcmV0dXJuIG0ucHJldjsgLy8gaG9sZSB0b3VjaGVzIG91dGVyIHNlZ21lbnQ7IHBpY2sgbG93ZXIgZW5kcG9pbnRcblxuICAgIC8vIGxvb2sgZm9yIHBvaW50cyBpbnNpZGUgdGhlIHRyaWFuZ2xlIG9mIGhvbGUgcG9pbnQsIHNlZ21lbnQgaW50ZXJzZWN0aW9uIGFuZCBlbmRwb2ludDtcbiAgICAvLyBpZiB0aGVyZSBhcmUgbm8gcG9pbnRzIGZvdW5kLCB3ZSBoYXZlIGEgdmFsaWQgY29ubmVjdGlvbjtcbiAgICAvLyBvdGhlcndpc2UgY2hvb3NlIHRoZSBwb2ludCBvZiB0aGUgbWluaW11bSBhbmdsZSB3aXRoIHRoZSByYXkgYXMgY29ubmVjdGlvbiBwb2ludFxuXG4gICAgdmFyIHN0b3AgPSBtLFxuICAgICAgICBteCA9IG0ueCxcbiAgICAgICAgbXkgPSBtLnksXG4gICAgICAgIHRhbk1pbiA9IEluZmluaXR5LFxuICAgICAgICB0YW47XG5cbiAgICBwID0gbS5uZXh0O1xuXG4gICAgd2hpbGUgKHAgIT09IHN0b3ApIHtcbiAgICAgICAgaWYgKGh4ID49IHAueCAmJiBwLnggPj0gbXggJiYgaHggIT09IHAueCAmJlxuICAgICAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShoeSA8IG15ID8gaHggOiBxeCwgaHksIG14LCBteSwgaHkgPCBteSA/IHF4IDogaHgsIGh5LCBwLngsIHAueSkpIHtcblxuICAgICAgICAgICAgdGFuID0gTWF0aC5hYnMoaHkgLSBwLnkpIC8gKGh4IC0gcC54KTsgLy8gdGFuZ2VudGlhbFxuXG4gICAgICAgICAgICBpZiAoKHRhbiA8IHRhbk1pbiB8fCAodGFuID09PSB0YW5NaW4gJiYgcC54ID4gbS54KSkgJiYgbG9jYWxseUluc2lkZShwLCBob2xlKSkge1xuICAgICAgICAgICAgICAgIG0gPSBwO1xuICAgICAgICAgICAgICAgIHRhbk1pbiA9IHRhbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG07XG59XG5cbi8vIGludGVybGluayBwb2x5Z29uIG5vZGVzIGluIHotb3JkZXJcbmZ1bmN0aW9uIGluZGV4Q3VydmUoc3RhcnQsIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICB2YXIgcCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgaWYgKHAueiA9PT0gbnVsbCkgcC56ID0gek9yZGVyKHAueCwgcC55LCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgcC5wcmV2WiA9IHAucHJldjtcbiAgICAgICAgcC5uZXh0WiA9IHAubmV4dDtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICBwLnByZXZaLm5leHRaID0gbnVsbDtcbiAgICBwLnByZXZaID0gbnVsbDtcblxuICAgIHNvcnRMaW5rZWQocCk7XG59XG5cbi8vIFNpbW9uIFRhdGhhbSdzIGxpbmtlZCBsaXN0IG1lcmdlIHNvcnQgYWxnb3JpdGhtXG4vLyBodHRwOi8vd3d3LmNoaWFyay5ncmVlbmVuZC5vcmcudWsvfnNndGF0aGFtL2FsZ29yaXRobXMvbGlzdHNvcnQuaHRtbFxuZnVuY3Rpb24gc29ydExpbmtlZChsaXN0KSB7XG4gICAgdmFyIGksIHAsIHEsIGUsIHRhaWwsIG51bU1lcmdlcywgcFNpemUsIHFTaXplLFxuICAgICAgICBpblNpemUgPSAxO1xuXG4gICAgZG8ge1xuICAgICAgICBwID0gbGlzdDtcbiAgICAgICAgbGlzdCA9IG51bGw7XG4gICAgICAgIHRhaWwgPSBudWxsO1xuICAgICAgICBudW1NZXJnZXMgPSAwO1xuXG4gICAgICAgIHdoaWxlIChwKSB7XG4gICAgICAgICAgICBudW1NZXJnZXMrKztcbiAgICAgICAgICAgIHEgPSBwO1xuICAgICAgICAgICAgcFNpemUgPSAwO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGluU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcFNpemUrKztcbiAgICAgICAgICAgICAgICBxID0gcS5uZXh0WjtcbiAgICAgICAgICAgICAgICBpZiAoIXEpIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcVNpemUgPSBpblNpemU7XG5cbiAgICAgICAgICAgIHdoaWxlIChwU2l6ZSA+IDAgfHwgKHFTaXplID4gMCAmJiBxKSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKHBTaXplICE9PSAwICYmIChxU2l6ZSA9PT0gMCB8fCAhcSB8fCBwLnogPD0gcS56KSkge1xuICAgICAgICAgICAgICAgICAgICBlID0gcDtcbiAgICAgICAgICAgICAgICAgICAgcCA9IHAubmV4dFo7XG4gICAgICAgICAgICAgICAgICAgIHBTaXplLS07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZSA9IHE7XG4gICAgICAgICAgICAgICAgICAgIHEgPSBxLm5leHRaO1xuICAgICAgICAgICAgICAgICAgICBxU2l6ZS0tO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0YWlsKSB0YWlsLm5leHRaID0gZTtcbiAgICAgICAgICAgICAgICBlbHNlIGxpc3QgPSBlO1xuXG4gICAgICAgICAgICAgICAgZS5wcmV2WiA9IHRhaWw7XG4gICAgICAgICAgICAgICAgdGFpbCA9IGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHAgPSBxO1xuICAgICAgICB9XG5cbiAgICAgICAgdGFpbC5uZXh0WiA9IG51bGw7XG4gICAgICAgIGluU2l6ZSAqPSAyO1xuXG4gICAgfSB3aGlsZSAobnVtTWVyZ2VzID4gMSk7XG5cbiAgICByZXR1cm4gbGlzdDtcbn1cblxuLy8gei1vcmRlciBvZiBhIHBvaW50IGdpdmVuIGNvb3JkcyBhbmQgaW52ZXJzZSBvZiB0aGUgbG9uZ2VyIHNpZGUgb2YgZGF0YSBiYm94XG5mdW5jdGlvbiB6T3JkZXIoeCwgeSwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xuICAgIC8vIGNvb3JkcyBhcmUgdHJhbnNmb3JtZWQgaW50byBub24tbmVnYXRpdmUgMTUtYml0IGludGVnZXIgcmFuZ2VcbiAgICB4ID0gMzI3NjcgKiAoeCAtIG1pblgpICogaW52U2l6ZTtcbiAgICB5ID0gMzI3NjcgKiAoeSAtIG1pblkpICogaW52U2l6ZTtcblxuICAgIHggPSAoeCB8ICh4IDw8IDgpKSAmIDB4MDBGRjAwRkY7XG4gICAgeCA9ICh4IHwgKHggPDwgNCkpICYgMHgwRjBGMEYwRjtcbiAgICB4ID0gKHggfCAoeCA8PCAyKSkgJiAweDMzMzMzMzMzO1xuICAgIHggPSAoeCB8ICh4IDw8IDEpKSAmIDB4NTU1NTU1NTU7XG5cbiAgICB5ID0gKHkgfCAoeSA8PCA4KSkgJiAweDAwRkYwMEZGO1xuICAgIHkgPSAoeSB8ICh5IDw8IDQpKSAmIDB4MEYwRjBGMEY7XG4gICAgeSA9ICh5IHwgKHkgPDwgMikpICYgMHgzMzMzMzMzMztcbiAgICB5ID0gKHkgfCAoeSA8PCAxKSkgJiAweDU1NTU1NTU1O1xuXG4gICAgcmV0dXJuIHggfCAoeSA8PCAxKTtcbn1cblxuLy8gZmluZCB0aGUgbGVmdG1vc3Qgbm9kZSBvZiBhIHBvbHlnb24gcmluZ1xuZnVuY3Rpb24gZ2V0TGVmdG1vc3Qoc3RhcnQpIHtcbiAgICB2YXIgcCA9IHN0YXJ0LFxuICAgICAgICBsZWZ0bW9zdCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgaWYgKHAueCA8IGxlZnRtb3N0LngpIGxlZnRtb3N0ID0gcDtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICByZXR1cm4gbGVmdG1vc3Q7XG59XG5cbi8vIGNoZWNrIGlmIGEgcG9pbnQgbGllcyB3aXRoaW4gYSBjb252ZXggdHJpYW5nbGVcbmZ1bmN0aW9uIHBvaW50SW5UcmlhbmdsZShheCwgYXksIGJ4LCBieSwgY3gsIGN5LCBweCwgcHkpIHtcbiAgICByZXR1cm4gKGN4IC0gcHgpICogKGF5IC0gcHkpIC0gKGF4IC0gcHgpICogKGN5IC0gcHkpID49IDAgJiZcbiAgICAgICAgICAgKGF4IC0gcHgpICogKGJ5IC0gcHkpIC0gKGJ4IC0gcHgpICogKGF5IC0gcHkpID49IDAgJiZcbiAgICAgICAgICAgKGJ4IC0gcHgpICogKGN5IC0gcHkpIC0gKGN4IC0gcHgpICogKGJ5IC0gcHkpID49IDA7XG59XG5cbi8vIGNoZWNrIGlmIGEgZGlhZ29uYWwgYmV0d2VlbiB0d28gcG9seWdvbiBub2RlcyBpcyB2YWxpZCAobGllcyBpbiBwb2x5Z29uIGludGVyaW9yKVxuZnVuY3Rpb24gaXNWYWxpZERpYWdvbmFsKGEsIGIpIHtcbiAgICByZXR1cm4gYS5uZXh0LmkgIT09IGIuaSAmJiBhLnByZXYuaSAhPT0gYi5pICYmICFpbnRlcnNlY3RzUG9seWdvbihhLCBiKSAmJlxuICAgICAgICAgICBsb2NhbGx5SW5zaWRlKGEsIGIpICYmIGxvY2FsbHlJbnNpZGUoYiwgYSkgJiYgbWlkZGxlSW5zaWRlKGEsIGIpO1xufVxuXG4vLyBzaWduZWQgYXJlYSBvZiBhIHRyaWFuZ2xlXG5mdW5jdGlvbiBhcmVhKHAsIHEsIHIpIHtcbiAgICByZXR1cm4gKHEueSAtIHAueSkgKiAoci54IC0gcS54KSAtIChxLnggLSBwLngpICogKHIueSAtIHEueSk7XG59XG5cbi8vIGNoZWNrIGlmIHR3byBwb2ludHMgYXJlIGVxdWFsXG5mdW5jdGlvbiBlcXVhbHMocDEsIHAyKSB7XG4gICAgcmV0dXJuIHAxLnggPT09IHAyLnggJiYgcDEueSA9PT0gcDIueTtcbn1cblxuLy8gY2hlY2sgaWYgdHdvIHNlZ21lbnRzIGludGVyc2VjdFxuZnVuY3Rpb24gaW50ZXJzZWN0cyhwMSwgcTEsIHAyLCBxMikge1xuICAgIGlmICgoZXF1YWxzKHAxLCBxMSkgJiYgZXF1YWxzKHAyLCBxMikpIHx8XG4gICAgICAgIChlcXVhbHMocDEsIHEyKSAmJiBlcXVhbHMocDIsIHExKSkpIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBhcmVhKHAxLCBxMSwgcDIpID4gMCAhPT0gYXJlYShwMSwgcTEsIHEyKSA+IDAgJiZcbiAgICAgICAgICAgYXJlYShwMiwgcTIsIHAxKSA+IDAgIT09IGFyZWEocDIsIHEyLCBxMSkgPiAwO1xufVxuXG4vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaW50ZXJzZWN0cyBhbnkgcG9seWdvbiBzZWdtZW50c1xuZnVuY3Rpb24gaW50ZXJzZWN0c1BvbHlnb24oYSwgYikge1xuICAgIHZhciBwID0gYTtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLmkgIT09IGEuaSAmJiBwLm5leHQuaSAhPT0gYS5pICYmIHAuaSAhPT0gYi5pICYmIHAubmV4dC5pICE9PSBiLmkgJiZcbiAgICAgICAgICAgICAgICBpbnRlcnNlY3RzKHAsIHAubmV4dCwgYSwgYikpIHJldHVybiB0cnVlO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IGEpO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgbG9jYWxseSBpbnNpZGUgdGhlIHBvbHlnb25cbmZ1bmN0aW9uIGxvY2FsbHlJbnNpZGUoYSwgYikge1xuICAgIHJldHVybiBhcmVhKGEucHJldiwgYSwgYS5uZXh0KSA8IDAgP1xuICAgICAgICBhcmVhKGEsIGIsIGEubmV4dCkgPj0gMCAmJiBhcmVhKGEsIGEucHJldiwgYikgPj0gMCA6XG4gICAgICAgIGFyZWEoYSwgYiwgYS5wcmV2KSA8IDAgfHwgYXJlYShhLCBhLm5leHQsIGIpIDwgMDtcbn1cblxuLy8gY2hlY2sgaWYgdGhlIG1pZGRsZSBwb2ludCBvZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgaW5zaWRlIHRoZSBwb2x5Z29uXG5mdW5jdGlvbiBtaWRkbGVJbnNpZGUoYSwgYikge1xuICAgIHZhciBwID0gYSxcbiAgICAgICAgaW5zaWRlID0gZmFsc2UsXG4gICAgICAgIHB4ID0gKGEueCArIGIueCkgLyAyLFxuICAgICAgICBweSA9IChhLnkgKyBiLnkpIC8gMjtcbiAgICBkbyB7XG4gICAgICAgIGlmICgoKHAueSA+IHB5KSAhPT0gKHAubmV4dC55ID4gcHkpKSAmJiBwLm5leHQueSAhPT0gcC55ICYmXG4gICAgICAgICAgICAgICAgKHB4IDwgKHAubmV4dC54IC0gcC54KSAqIChweSAtIHAueSkgLyAocC5uZXh0LnkgLSBwLnkpICsgcC54KSlcbiAgICAgICAgICAgIGluc2lkZSA9ICFpbnNpZGU7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gYSk7XG5cbiAgICByZXR1cm4gaW5zaWRlO1xufVxuXG4vLyBsaW5rIHR3byBwb2x5Z29uIHZlcnRpY2VzIHdpdGggYSBicmlkZ2U7IGlmIHRoZSB2ZXJ0aWNlcyBiZWxvbmcgdG8gdGhlIHNhbWUgcmluZywgaXQgc3BsaXRzIHBvbHlnb24gaW50byB0d287XG4vLyBpZiBvbmUgYmVsb25ncyB0byB0aGUgb3V0ZXIgcmluZyBhbmQgYW5vdGhlciB0byBhIGhvbGUsIGl0IG1lcmdlcyBpdCBpbnRvIGEgc2luZ2xlIHJpbmdcbmZ1bmN0aW9uIHNwbGl0UG9seWdvbihhLCBiKSB7XG4gICAgdmFyIGEyID0gbmV3IE5vZGUoYS5pLCBhLngsIGEueSksXG4gICAgICAgIGIyID0gbmV3IE5vZGUoYi5pLCBiLngsIGIueSksXG4gICAgICAgIGFuID0gYS5uZXh0LFxuICAgICAgICBicCA9IGIucHJldjtcblxuICAgIGEubmV4dCA9IGI7XG4gICAgYi5wcmV2ID0gYTtcblxuICAgIGEyLm5leHQgPSBhbjtcbiAgICBhbi5wcmV2ID0gYTI7XG5cbiAgICBiMi5uZXh0ID0gYTI7XG4gICAgYTIucHJldiA9IGIyO1xuXG4gICAgYnAubmV4dCA9IGIyO1xuICAgIGIyLnByZXYgPSBicDtcblxuICAgIHJldHVybiBiMjtcbn1cblxuLy8gY3JlYXRlIGEgbm9kZSBhbmQgb3B0aW9uYWxseSBsaW5rIGl0IHdpdGggcHJldmlvdXMgb25lIChpbiBhIGNpcmN1bGFyIGRvdWJseSBsaW5rZWQgbGlzdClcbmZ1bmN0aW9uIGluc2VydE5vZGUoaSwgeCwgeSwgbGFzdCkge1xuICAgIHZhciBwID0gbmV3IE5vZGUoaSwgeCwgeSk7XG5cbiAgICBpZiAoIWxhc3QpIHtcbiAgICAgICAgcC5wcmV2ID0gcDtcbiAgICAgICAgcC5uZXh0ID0gcDtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHAubmV4dCA9IGxhc3QubmV4dDtcbiAgICAgICAgcC5wcmV2ID0gbGFzdDtcbiAgICAgICAgbGFzdC5uZXh0LnByZXYgPSBwO1xuICAgICAgICBsYXN0Lm5leHQgPSBwO1xuICAgIH1cbiAgICByZXR1cm4gcDtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlTm9kZShwKSB7XG4gICAgcC5uZXh0LnByZXYgPSBwLnByZXY7XG4gICAgcC5wcmV2Lm5leHQgPSBwLm5leHQ7XG5cbiAgICBpZiAocC5wcmV2WikgcC5wcmV2Wi5uZXh0WiA9IHAubmV4dFo7XG4gICAgaWYgKHAubmV4dFopIHAubmV4dFoucHJldlogPSBwLnByZXZaO1xufVxuXG5mdW5jdGlvbiBOb2RlKGksIHgsIHkpIHtcbiAgICAvLyB2ZXJ0aWNlIGluZGV4IGluIGNvb3JkaW5hdGVzIGFycmF5XG4gICAgdGhpcy5pID0gaTtcblxuICAgIC8vIHZlcnRleCBjb29yZGluYXRlc1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcblxuICAgIC8vIHByZXZpb3VzIGFuZCBuZXh0IHZlcnRpY2Ugbm9kZXMgaW4gYSBwb2x5Z29uIHJpbmdcbiAgICB0aGlzLnByZXYgPSBudWxsO1xuICAgIHRoaXMubmV4dCA9IG51bGw7XG5cbiAgICAvLyB6LW9yZGVyIGN1cnZlIHZhbHVlXG4gICAgdGhpcy56ID0gbnVsbDtcblxuICAgIC8vIHByZXZpb3VzIGFuZCBuZXh0IG5vZGVzIGluIHotb3JkZXJcbiAgICB0aGlzLnByZXZaID0gbnVsbDtcbiAgICB0aGlzLm5leHRaID0gbnVsbDtcblxuICAgIC8vIGluZGljYXRlcyB3aGV0aGVyIHRoaXMgaXMgYSBzdGVpbmVyIHBvaW50XG4gICAgdGhpcy5zdGVpbmVyID0gZmFsc2U7XG59XG5cbi8vIHJldHVybiBhIHBlcmNlbnRhZ2UgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBwb2x5Z29uIGFyZWEgYW5kIGl0cyB0cmlhbmd1bGF0aW9uIGFyZWE7XG4vLyB1c2VkIHRvIHZlcmlmeSBjb3JyZWN0bmVzcyBvZiB0cmlhbmd1bGF0aW9uXG5lYXJjdXQuZGV2aWF0aW9uID0gZnVuY3Rpb24gKGRhdGEsIGhvbGVJbmRpY2VzLCBkaW0sIHRyaWFuZ2xlcykge1xuICAgIHZhciBoYXNIb2xlcyA9IGhvbGVJbmRpY2VzICYmIGhvbGVJbmRpY2VzLmxlbmd0aDtcbiAgICB2YXIgb3V0ZXJMZW4gPSBoYXNIb2xlcyA/IGhvbGVJbmRpY2VzWzBdICogZGltIDogZGF0YS5sZW5ndGg7XG5cbiAgICB2YXIgcG9seWdvbkFyZWEgPSBNYXRoLmFicyhzaWduZWRBcmVhKGRhdGEsIDAsIG91dGVyTGVuLCBkaW0pKTtcbiAgICBpZiAoaGFzSG9sZXMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGhvbGVJbmRpY2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBob2xlSW5kaWNlc1tpXSAqIGRpbTtcbiAgICAgICAgICAgIHZhciBlbmQgPSBpIDwgbGVuIC0gMSA/IGhvbGVJbmRpY2VzW2kgKyAxXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgcG9seWdvbkFyZWEgLT0gTWF0aC5hYnMoc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciB0cmlhbmdsZXNBcmVhID0gMDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgdHJpYW5nbGVzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICAgIHZhciBhID0gdHJpYW5nbGVzW2ldICogZGltO1xuICAgICAgICB2YXIgYiA9IHRyaWFuZ2xlc1tpICsgMV0gKiBkaW07XG4gICAgICAgIHZhciBjID0gdHJpYW5nbGVzW2kgKyAyXSAqIGRpbTtcbiAgICAgICAgdHJpYW5nbGVzQXJlYSArPSBNYXRoLmFicyhcbiAgICAgICAgICAgIChkYXRhW2FdIC0gZGF0YVtjXSkgKiAoZGF0YVtiICsgMV0gLSBkYXRhW2EgKyAxXSkgLVxuICAgICAgICAgICAgKGRhdGFbYV0gLSBkYXRhW2JdKSAqIChkYXRhW2MgKyAxXSAtIGRhdGFbYSArIDFdKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvbHlnb25BcmVhID09PSAwICYmIHRyaWFuZ2xlc0FyZWEgPT09IDAgPyAwIDpcbiAgICAgICAgTWF0aC5hYnMoKHRyaWFuZ2xlc0FyZWEgLSBwb2x5Z29uQXJlYSkgLyBwb2x5Z29uQXJlYSk7XG59O1xuXG5mdW5jdGlvbiBzaWduZWRBcmVhKGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSkge1xuICAgIHZhciBzdW0gPSAwO1xuICAgIGZvciAodmFyIGkgPSBzdGFydCwgaiA9IGVuZCAtIGRpbTsgaSA8IGVuZDsgaSArPSBkaW0pIHtcbiAgICAgICAgc3VtICs9IChkYXRhW2pdIC0gZGF0YVtpXSkgKiAoZGF0YVtpICsgMV0gKyBkYXRhW2ogKyAxXSk7XG4gICAgICAgIGogPSBpO1xuICAgIH1cbiAgICByZXR1cm4gc3VtO1xufVxuXG4vLyB0dXJuIGEgcG9seWdvbiBpbiBhIG11bHRpLWRpbWVuc2lvbmFsIGFycmF5IGZvcm0gKGUuZy4gYXMgaW4gR2VvSlNPTikgaW50byBhIGZvcm0gRWFyY3V0IGFjY2VwdHNcbmVhcmN1dC5mbGF0dGVuID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICB2YXIgZGltID0gZGF0YVswXVswXS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdCA9IHt2ZXJ0aWNlczogW10sIGhvbGVzOiBbXSwgZGltZW5zaW9uczogZGltfSxcbiAgICAgICAgaG9sZUluZGV4ID0gMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRhdGFbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGZvciAodmFyIGQgPSAwOyBkIDwgZGltOyBkKyspIHJlc3VsdC52ZXJ0aWNlcy5wdXNoKGRhdGFbaV1bal1bZF0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgaG9sZUluZGV4ICs9IGRhdGFbaSAtIDFdLmxlbmd0aDtcbiAgICAgICAgICAgIHJlc3VsdC5ob2xlcy5wdXNoKGhvbGVJbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uL21hdGgnKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBHZW5lcmljIGNsYXNzIHRvIGRlYWwgd2l0aCB0cmFkaXRpb25hbCAyRCBtYXRyaXggdHJhbnNmb3Jtc1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRyYW5zZm9ybUJhc2UgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKlxuICAgKi9cbiAgZnVuY3Rpb24gVHJhbnNmb3JtQmFzZSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVHJhbnNmb3JtQmFzZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZ2xvYmFsIG1hdHJpeCB0cmFuc2Zvcm0uIEl0IGNhbiBiZSBzd2FwcGVkIHRlbXBvcmFyaWx5IGJ5IHNvbWUgZnVuY3Rpb25zIGxpa2UgZ2V0TG9jYWxCb3VuZHMoKVxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICovXG4gICAgdGhpcy53b3JsZFRyYW5zZm9ybSA9IG5ldyBfbWF0aC5NYXRyaXgoKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBsb2NhbCBtYXRyaXggdHJhbnNmb3JtXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgKi9cbiAgICB0aGlzLmxvY2FsVHJhbnNmb3JtID0gbmV3IF9tYXRoLk1hdHJpeCgpO1xuXG4gICAgdGhpcy5fd29ybGRJRCA9IDA7XG4gICAgdGhpcy5fcGFyZW50SUQgPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyYW5zZm9ybUJhc2UgZG9lcyBub3QgaGF2ZSBkZWNvbXBvc2l0aW9uLCBzbyB0aGlzIGZ1bmN0aW9uIHdvbnQgZG8gYW55dGhpbmdcbiAgICovXG5cblxuICBUcmFuc2Zvcm1CYXNlLnByb3RvdHlwZS51cGRhdGVMb2NhbFRyYW5zZm9ybSA9IGZ1bmN0aW9uIHVwZGF0ZUxvY2FsVHJhbnNmb3JtKCkge31cbiAgLy8gZW1wdHlcblxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSB2YWx1ZXMgb2YgdGhlIG9iamVjdCBhbmQgYXBwbGllcyB0aGUgcGFyZW50J3MgdHJhbnNmb3JtLlxuICAgKlxuICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtQmFzZX0gcGFyZW50VHJhbnNmb3JtIC0gVGhlIHRyYW5zZm9ybSBvZiB0aGUgcGFyZW50IG9mIHRoaXMgb2JqZWN0XG4gICAqL1xuICA7XG5cbiAgVHJhbnNmb3JtQmFzZS5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtKHBhcmVudFRyYW5zZm9ybSkge1xuICAgIHZhciBwdCA9IHBhcmVudFRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICB2YXIgd3QgPSB0aGlzLndvcmxkVHJhbnNmb3JtO1xuICAgIHZhciBsdCA9IHRoaXMubG9jYWxUcmFuc2Zvcm07XG5cbiAgICAvLyBjb25jYXQgdGhlIHBhcmVudCBtYXRyaXggd2l0aCB0aGUgb2JqZWN0cyB0cmFuc2Zvcm0uXG4gICAgd3QuYSA9IGx0LmEgKiBwdC5hICsgbHQuYiAqIHB0LmM7XG4gICAgd3QuYiA9IGx0LmEgKiBwdC5iICsgbHQuYiAqIHB0LmQ7XG4gICAgd3QuYyA9IGx0LmMgKiBwdC5hICsgbHQuZCAqIHB0LmM7XG4gICAgd3QuZCA9IGx0LmMgKiBwdC5iICsgbHQuZCAqIHB0LmQ7XG4gICAgd3QudHggPSBsdC50eCAqIHB0LmEgKyBsdC50eSAqIHB0LmMgKyBwdC50eDtcbiAgICB3dC50eSA9IGx0LnR4ICogcHQuYiArIGx0LnR5ICogcHQuZCArIHB0LnR5O1xuXG4gICAgdGhpcy5fd29ybGRJRCsrO1xuICB9O1xuXG4gIHJldHVybiBUcmFuc2Zvcm1CYXNlO1xufSgpO1xuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIHZhbHVlcyBvZiB0aGUgb2JqZWN0IGFuZCBhcHBsaWVzIHRoZSBwYXJlbnQncyB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0gIHBhcmVudFRyYW5zZm9ybSB7UElYSS5UcmFuc2Zvcm19IFRoZSB0cmFuc2Zvcm0gb2YgdGhlIHBhcmVudCBvZiB0aGlzIG9iamVjdFxuICpcbiAqL1xuXG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRyYW5zZm9ybUJhc2U7XG5UcmFuc2Zvcm1CYXNlLnByb3RvdHlwZS51cGRhdGVXb3JsZFRyYW5zZm9ybSA9IFRyYW5zZm9ybUJhc2UucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybTtcblxuVHJhbnNmb3JtQmFzZS5JREVOVElUWSA9IG5ldyBUcmFuc2Zvcm1CYXNlKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UcmFuc2Zvcm1CYXNlLmpzLm1hcCIsIi8qKlxuICogaXNNb2JpbGUuanMgdjAuNC4xXG4gKlxuICogQSBzaW1wbGUgbGlicmFyeSB0byBkZXRlY3QgQXBwbGUgcGhvbmVzIGFuZCB0YWJsZXRzLFxuICogQW5kcm9pZCBwaG9uZXMgYW5kIHRhYmxldHMsIG90aGVyIG1vYmlsZSBkZXZpY2VzIChsaWtlIGJsYWNrYmVycnksIG1pbmktb3BlcmEgYW5kIHdpbmRvd3MgcGhvbmUpLFxuICogYW5kIGFueSBraW5kIG9mIHNldmVuIGluY2ggZGV2aWNlLCB2aWEgdXNlciBhZ2VudCBzbmlmZmluZy5cbiAqXG4gKiBAYXV0aG9yOiBLYWkgTWFsbGVhIChrbWFsbGVhQGdtYWlsLmNvbSlcbiAqXG4gKiBAbGljZW5zZTogaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvcHVibGljZG9tYWluL3plcm8vMS4wL1xuICovXG4oZnVuY3Rpb24gKGdsb2JhbCkge1xuXG4gICAgdmFyIGFwcGxlX3Bob25lICAgICAgICAgPSAvaVBob25lL2ksXG4gICAgICAgIGFwcGxlX2lwb2QgICAgICAgICAgPSAvaVBvZC9pLFxuICAgICAgICBhcHBsZV90YWJsZXQgICAgICAgID0gL2lQYWQvaSxcbiAgICAgICAgYW5kcm9pZF9waG9uZSAgICAgICA9IC8oPz0uKlxcYkFuZHJvaWRcXGIpKD89LipcXGJNb2JpbGVcXGIpL2ksIC8vIE1hdGNoICdBbmRyb2lkJyBBTkQgJ01vYmlsZSdcbiAgICAgICAgYW5kcm9pZF90YWJsZXQgICAgICA9IC9BbmRyb2lkL2ksXG4gICAgICAgIGFtYXpvbl9waG9uZSAgICAgICAgPSAvKD89LipcXGJBbmRyb2lkXFxiKSg/PS4qXFxiU0Q0OTMwVVJcXGIpL2ksXG4gICAgICAgIGFtYXpvbl90YWJsZXQgICAgICAgPSAvKD89LipcXGJBbmRyb2lkXFxiKSg/PS4qXFxiKD86S0ZPVHxLRlRUfEtGSldJfEtGSldBfEtGU09XSXxLRlRIV0l8S0ZUSFdBfEtGQVBXSXxLRkFQV0F8S0ZBUldJfEtGQVNXSXxLRlNBV0l8S0ZTQVdBKVxcYikvaSxcbiAgICAgICAgd2luZG93c19waG9uZSAgICAgICA9IC9XaW5kb3dzIFBob25lL2ksXG4gICAgICAgIHdpbmRvd3NfdGFibGV0ICAgICAgPSAvKD89LipcXGJXaW5kb3dzXFxiKSg/PS4qXFxiQVJNXFxiKS9pLCAvLyBNYXRjaCAnV2luZG93cycgQU5EICdBUk0nXG4gICAgICAgIG90aGVyX2JsYWNrYmVycnkgICAgPSAvQmxhY2tCZXJyeS9pLFxuICAgICAgICBvdGhlcl9ibGFja2JlcnJ5XzEwID0gL0JCMTAvaSxcbiAgICAgICAgb3RoZXJfb3BlcmEgICAgICAgICA9IC9PcGVyYSBNaW5pL2ksXG4gICAgICAgIG90aGVyX2Nocm9tZSAgICAgICAgPSAvKENyaU9TfENocm9tZSkoPz0uKlxcYk1vYmlsZVxcYikvaSxcbiAgICAgICAgb3RoZXJfZmlyZWZveCAgICAgICA9IC8oPz0uKlxcYkZpcmVmb3hcXGIpKD89LipcXGJNb2JpbGVcXGIpL2ksIC8vIE1hdGNoICdGaXJlZm94JyBBTkQgJ01vYmlsZSdcbiAgICAgICAgc2V2ZW5faW5jaCA9IG5ldyBSZWdFeHAoXG4gICAgICAgICAgICAnKD86JyArICAgICAgICAgLy8gTm9uLWNhcHR1cmluZyBncm91cFxuXG4gICAgICAgICAgICAnTmV4dXMgNycgKyAgICAgLy8gTmV4dXMgN1xuXG4gICAgICAgICAgICAnfCcgKyAgICAgICAgICAgLy8gT1JcblxuICAgICAgICAgICAgJ0JOVFYyNTAnICsgICAgIC8vIEImTiBOb29rIFRhYmxldCA3IGluY2hcblxuICAgICAgICAgICAgJ3wnICsgICAgICAgICAgIC8vIE9SXG5cbiAgICAgICAgICAgICdLaW5kbGUgRmlyZScgKyAvLyBLaW5kbGUgRmlyZVxuXG4gICAgICAgICAgICAnfCcgKyAgICAgICAgICAgLy8gT1JcblxuICAgICAgICAgICAgJ1NpbGsnICsgICAgICAgIC8vIEtpbmRsZSBGaXJlLCBTaWxrIEFjY2VsZXJhdGVkXG5cbiAgICAgICAgICAgICd8JyArICAgICAgICAgICAvLyBPUlxuXG4gICAgICAgICAgICAnR1QtUDEwMDAnICsgICAgLy8gR2FsYXh5IFRhYiA3IGluY2hcblxuICAgICAgICAgICAgJyknLCAgICAgICAgICAgIC8vIEVuZCBub24tY2FwdHVyaW5nIGdyb3VwXG5cbiAgICAgICAgICAgICdpJyk7ICAgICAgICAgICAvLyBDYXNlLWluc2Vuc2l0aXZlIG1hdGNoaW5nXG5cbiAgICB2YXIgbWF0Y2ggPSBmdW5jdGlvbihyZWdleCwgdXNlckFnZW50KSB7XG4gICAgICAgIHJldHVybiByZWdleC50ZXN0KHVzZXJBZ2VudCk7XG4gICAgfTtcblxuICAgIHZhciBJc01vYmlsZUNsYXNzID0gZnVuY3Rpb24odXNlckFnZW50KSB7XG4gICAgICAgIHZhciB1YSA9IHVzZXJBZ2VudCB8fCBuYXZpZ2F0b3IudXNlckFnZW50O1xuXG4gICAgICAgIC8vIEZhY2Vib29rIG1vYmlsZSBhcHAncyBpbnRlZ3JhdGVkIGJyb3dzZXIgYWRkcyBhIGJ1bmNoIG9mIHN0cmluZ3MgdGhhdFxuICAgICAgICAvLyBtYXRjaCBldmVyeXRoaW5nLiBTdHJpcCBpdCBvdXQgaWYgaXQgZXhpc3RzLlxuICAgICAgICB2YXIgdG1wID0gdWEuc3BsaXQoJ1tGQkFOJyk7XG4gICAgICAgIGlmICh0eXBlb2YgdG1wWzFdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdWEgPSB0bXBbMF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUd2l0dGVyIG1vYmlsZSBhcHAncyBpbnRlZ3JhdGVkIGJyb3dzZXIgb24gaVBhZCBhZGRzIGEgXCJUd2l0dGVyIGZvclxuICAgICAgICAvLyBpUGhvbmVcIiBzdHJpbmcuIFNhbWUgcHJvYmFibGUgaGFwcGVucyBvbiBvdGhlciB0YWJsZXQgcGxhdGZvcm1zLlxuICAgICAgICAvLyBUaGlzIHdpbGwgY29uZnVzZSBkZXRlY3Rpb24gc28gc3RyaXAgaXQgb3V0IGlmIGl0IGV4aXN0cy5cbiAgICAgICAgdG1wID0gdWEuc3BsaXQoJ1R3aXR0ZXInKTtcbiAgICAgICAgaWYgKHR5cGVvZiB0bXBbMV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB1YSA9IHRtcFswXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYXBwbGUgPSB7XG4gICAgICAgICAgICBwaG9uZTogIG1hdGNoKGFwcGxlX3Bob25lLCB1YSksXG4gICAgICAgICAgICBpcG9kOiAgIG1hdGNoKGFwcGxlX2lwb2QsIHVhKSxcbiAgICAgICAgICAgIHRhYmxldDogIW1hdGNoKGFwcGxlX3Bob25lLCB1YSkgJiYgbWF0Y2goYXBwbGVfdGFibGV0LCB1YSksXG4gICAgICAgICAgICBkZXZpY2U6IG1hdGNoKGFwcGxlX3Bob25lLCB1YSkgfHwgbWF0Y2goYXBwbGVfaXBvZCwgdWEpIHx8IG1hdGNoKGFwcGxlX3RhYmxldCwgdWEpXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYW1hem9uID0ge1xuICAgICAgICAgICAgcGhvbmU6ICBtYXRjaChhbWF6b25fcGhvbmUsIHVhKSxcbiAgICAgICAgICAgIHRhYmxldDogIW1hdGNoKGFtYXpvbl9waG9uZSwgdWEpICYmIG1hdGNoKGFtYXpvbl90YWJsZXQsIHVhKSxcbiAgICAgICAgICAgIGRldmljZTogbWF0Y2goYW1hem9uX3Bob25lLCB1YSkgfHwgbWF0Y2goYW1hem9uX3RhYmxldCwgdWEpXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYW5kcm9pZCA9IHtcbiAgICAgICAgICAgIHBob25lOiAgbWF0Y2goYW1hem9uX3Bob25lLCB1YSkgfHwgbWF0Y2goYW5kcm9pZF9waG9uZSwgdWEpLFxuICAgICAgICAgICAgdGFibGV0OiAhbWF0Y2goYW1hem9uX3Bob25lLCB1YSkgJiYgIW1hdGNoKGFuZHJvaWRfcGhvbmUsIHVhKSAmJiAobWF0Y2goYW1hem9uX3RhYmxldCwgdWEpIHx8IG1hdGNoKGFuZHJvaWRfdGFibGV0LCB1YSkpLFxuICAgICAgICAgICAgZGV2aWNlOiBtYXRjaChhbWF6b25fcGhvbmUsIHVhKSB8fCBtYXRjaChhbWF6b25fdGFibGV0LCB1YSkgfHwgbWF0Y2goYW5kcm9pZF9waG9uZSwgdWEpIHx8IG1hdGNoKGFuZHJvaWRfdGFibGV0LCB1YSlcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy53aW5kb3dzID0ge1xuICAgICAgICAgICAgcGhvbmU6ICBtYXRjaCh3aW5kb3dzX3Bob25lLCB1YSksXG4gICAgICAgICAgICB0YWJsZXQ6IG1hdGNoKHdpbmRvd3NfdGFibGV0LCB1YSksXG4gICAgICAgICAgICBkZXZpY2U6IG1hdGNoKHdpbmRvd3NfcGhvbmUsIHVhKSB8fCBtYXRjaCh3aW5kb3dzX3RhYmxldCwgdWEpXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub3RoZXIgPSB7XG4gICAgICAgICAgICBibGFja2JlcnJ5OiAgIG1hdGNoKG90aGVyX2JsYWNrYmVycnksIHVhKSxcbiAgICAgICAgICAgIGJsYWNrYmVycnkxMDogbWF0Y2gob3RoZXJfYmxhY2tiZXJyeV8xMCwgdWEpLFxuICAgICAgICAgICAgb3BlcmE6ICAgICAgICBtYXRjaChvdGhlcl9vcGVyYSwgdWEpLFxuICAgICAgICAgICAgZmlyZWZveDogICAgICBtYXRjaChvdGhlcl9maXJlZm94LCB1YSksXG4gICAgICAgICAgICBjaHJvbWU6ICAgICAgIG1hdGNoKG90aGVyX2Nocm9tZSwgdWEpLFxuICAgICAgICAgICAgZGV2aWNlOiAgICAgICBtYXRjaChvdGhlcl9ibGFja2JlcnJ5LCB1YSkgfHwgbWF0Y2gob3RoZXJfYmxhY2tiZXJyeV8xMCwgdWEpIHx8IG1hdGNoKG90aGVyX29wZXJhLCB1YSkgfHwgbWF0Y2gob3RoZXJfZmlyZWZveCwgdWEpIHx8IG1hdGNoKG90aGVyX2Nocm9tZSwgdWEpXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V2ZW5faW5jaCA9IG1hdGNoKHNldmVuX2luY2gsIHVhKTtcbiAgICAgICAgdGhpcy5hbnkgPSB0aGlzLmFwcGxlLmRldmljZSB8fCB0aGlzLmFuZHJvaWQuZGV2aWNlIHx8IHRoaXMud2luZG93cy5kZXZpY2UgfHwgdGhpcy5vdGhlci5kZXZpY2UgfHwgdGhpcy5zZXZlbl9pbmNoO1xuXG4gICAgICAgIC8vIGV4Y2x1ZGVzICdvdGhlcicgZGV2aWNlcyBhbmQgaXBvZHMsIHRhcmdldGluZyB0b3VjaHNjcmVlbiBwaG9uZXNcbiAgICAgICAgdGhpcy5waG9uZSA9IHRoaXMuYXBwbGUucGhvbmUgfHwgdGhpcy5hbmRyb2lkLnBob25lIHx8IHRoaXMud2luZG93cy5waG9uZTtcblxuICAgICAgICAvLyBleGNsdWRlcyA3IGluY2ggZGV2aWNlcywgY2xhc3NpZnlpbmcgYXMgcGhvbmUgb3IgdGFibGV0IGlzIGxlZnQgdG8gdGhlIHVzZXJcbiAgICAgICAgdGhpcy50YWJsZXQgPSB0aGlzLmFwcGxlLnRhYmxldCB8fCB0aGlzLmFuZHJvaWQudGFibGV0IHx8IHRoaXMud2luZG93cy50YWJsZXQ7XG5cbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgaW5zdGFudGlhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIElNID0gbmV3IElzTW9iaWxlQ2xhc3MoKTtcbiAgICAgICAgSU0uQ2xhc3MgPSBJc01vYmlsZUNsYXNzO1xuICAgICAgICByZXR1cm4gSU07XG4gICAgfTtcblxuICAgIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cyAmJiB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvL25vZGVcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBJc01vYmlsZUNsYXNzO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy9icm93c2VyaWZ5XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gaW5zdGFudGlhdGUoKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvL0FNRFxuICAgICAgICBkZWZpbmUoJ2lzTW9iaWxlJywgW10sIGdsb2JhbC5pc01vYmlsZSA9IGluc3RhbnRpYXRlKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGdsb2JhbC5pc01vYmlsZSA9IGluc3RhbnRpYXRlKCk7XG4gICAgfVxuXG59KSh0aGlzKTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vbWF0aCcpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqICdCdWlsZGVyJyBwYXR0ZXJuIGZvciBib3VuZHMgcmVjdGFuZ2xlc1xuICogQXhpcy1BbGlnbmVkIEJvdW5kaW5nIEJveFxuICogSXQgaXMgbm90IGEgc2hhcGUhIEl0cyBtdXRhYmxlIHRoaW5nLCBubyAnRU1QVFknIG9yIHRoYXQga2luZCBvZiBwcm9ibGVtc1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJvdW5kcygpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJvdW5kcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taW5YID0gSW5maW5pdHk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taW5ZID0gSW5maW5pdHk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhYID0gLUluZmluaXR5O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4WSA9IC1JbmZpbml0eTtcblxuICAgICAgICB0aGlzLnJlY3QgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBib3VuZHMgYXJlIGVtcHR5LlxuICAgICAqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBlbXB0eS5cbiAgICAgKi9cblxuXG4gICAgQm91bmRzLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluWCA+IHRoaXMubWF4WCB8fCB0aGlzLm1pblkgPiB0aGlzLm1heFk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgYm91bmRzIGFuZCByZXNldHMuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQm91bmRzLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgICAgICB0aGlzLnVwZGF0ZUlEKys7XG5cbiAgICAgICAgdGhpcy5taW5YID0gSW5maW5pdHk7XG4gICAgICAgIHRoaXMubWluWSA9IEluZmluaXR5O1xuICAgICAgICB0aGlzLm1heFggPSAtSW5maW5pdHk7XG4gICAgICAgIHRoaXMubWF4WSA9IC1JbmZpbml0eTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FuIHJldHVybiBSZWN0YW5nbGUuRU1QVFkgY29uc3RhbnQsIGVpdGhlciBjb25zdHJ1Y3QgbmV3IHJlY3RhbmdsZSwgZWl0aGVyIHVzZSB5b3VyIHJlY3RhbmdsZVxuICAgICAqIEl0IGlzIG5vdCBndWFyYW50ZWVkIHRoYXQgaXQgd2lsbCByZXR1cm4gdGVtcFJlY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3QgLSB0ZW1wb3Jhcnkgb2JqZWN0IHdpbGwgYmUgdXNlZCBpZiBBQUJCIGlzIG5vdCBlbXB0eVxuICAgICAqIEByZXR1cm5zIHtQSVhJLlJlY3RhbmdsZX0gQSByZWN0YW5nbGUgb2YgdGhlIGJvdW5kc1xuICAgICAqL1xuXG5cbiAgICBCb3VuZHMucHJvdG90eXBlLmdldFJlY3RhbmdsZSA9IGZ1bmN0aW9uIGdldFJlY3RhbmdsZShyZWN0KSB7XG4gICAgICAgIGlmICh0aGlzLm1pblggPiB0aGlzLm1heFggfHwgdGhpcy5taW5ZID4gdGhpcy5tYXhZKSB7XG4gICAgICAgICAgICByZXR1cm4gX21hdGguUmVjdGFuZ2xlLkVNUFRZO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVjdCA9IHJlY3QgfHwgbmV3IF9tYXRoLlJlY3RhbmdsZSgwLCAwLCAxLCAxKTtcblxuICAgICAgICByZWN0LnggPSB0aGlzLm1pblg7XG4gICAgICAgIHJlY3QueSA9IHRoaXMubWluWTtcbiAgICAgICAgcmVjdC53aWR0aCA9IHRoaXMubWF4WCAtIHRoaXMubWluWDtcbiAgICAgICAgcmVjdC5oZWlnaHQgPSB0aGlzLm1heFkgLSB0aGlzLm1pblk7XG5cbiAgICAgICAgcmV0dXJuIHJlY3Q7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIGlubGluZWQgd2hlbiBpdHMgcG9zc2libGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvaW50IC0gVGhlIHBvaW50IHRvIGFkZC5cbiAgICAgKi9cblxuXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRQb2ludCA9IGZ1bmN0aW9uIGFkZFBvaW50KHBvaW50KSB7XG4gICAgICAgIHRoaXMubWluWCA9IE1hdGgubWluKHRoaXMubWluWCwgcG9pbnQueCk7XG4gICAgICAgIHRoaXMubWF4WCA9IE1hdGgubWF4KHRoaXMubWF4WCwgcG9pbnQueCk7XG4gICAgICAgIHRoaXMubWluWSA9IE1hdGgubWluKHRoaXMubWluWSwgcG9pbnQueSk7XG4gICAgICAgIHRoaXMubWF4WSA9IE1hdGgubWF4KHRoaXMubWF4WSwgcG9pbnQueSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBxdWFkLCBub3QgdHJhbnNmb3JtZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB2ZXJ0aWNlcyAtIFRoZSB2ZXJ0cyB0byBhZGQuXG4gICAgICovXG5cblxuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkUXVhZCA9IGZ1bmN0aW9uIGFkZFF1YWQodmVydGljZXMpIHtcbiAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICAgICAgdmFyIHggPSB2ZXJ0aWNlc1swXTtcbiAgICAgICAgdmFyIHkgPSB2ZXJ0aWNlc1sxXTtcblxuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgICAgICB4ID0gdmVydGljZXNbMl07XG4gICAgICAgIHkgPSB2ZXJ0aWNlc1szXTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICAgICAgeCA9IHZlcnRpY2VzWzRdO1xuICAgICAgICB5ID0gdmVydGljZXNbNV07XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgICAgIHggPSB2ZXJ0aWNlc1s2XTtcbiAgICAgICAgeSA9IHZlcnRpY2VzWzddO1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgICAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBtYXhZO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHNwcml0ZSBmcmFtZSwgdHJhbnNmb3JtZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtQmFzZX0gdHJhbnNmb3JtIC0gVE9ET1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MCAtIFRPRE9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTAgLSBUT0RPXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgxIC0gVE9ET1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MSAtIFRPRE9cbiAgICAgKi9cblxuXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRGcmFtZSA9IGZ1bmN0aW9uIGFkZEZyYW1lKHRyYW5zZm9ybSwgeDAsIHkwLCB4MSwgeTEpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IHRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIGEgPSBtYXRyaXguYTtcbiAgICAgICAgdmFyIGIgPSBtYXRyaXguYjtcbiAgICAgICAgdmFyIGMgPSBtYXRyaXguYztcbiAgICAgICAgdmFyIGQgPSBtYXRyaXguZDtcbiAgICAgICAgdmFyIHR4ID0gbWF0cml4LnR4O1xuICAgICAgICB2YXIgdHkgPSBtYXRyaXgudHk7XG5cbiAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICAgICAgdmFyIHggPSBhICogeDAgKyBjICogeTAgKyB0eDtcbiAgICAgICAgdmFyIHkgPSBiICogeDAgKyBkICogeTAgKyB0eTtcblxuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgICAgICB4ID0gYSAqIHgxICsgYyAqIHkwICsgdHg7XG4gICAgICAgIHkgPSBiICogeDEgKyBkICogeTAgKyB0eTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICAgICAgeCA9IGEgKiB4MCArIGMgKiB5MSArIHR4O1xuICAgICAgICB5ID0gYiAqIHgwICsgZCAqIHkxICsgdHk7XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgICAgIHggPSBhICogeDEgKyBjICogeTEgKyB0eDtcbiAgICAgICAgeSA9IGIgKiB4MSArIGQgKiB5MSArIHR5O1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgICAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBtYXhZO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYW4gYXJyYXkgb2YgdmVydGljZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm1CYXNlfSB0cmFuc2Zvcm0gLSBUT0RPXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHZlcnRpY2VzIC0gVE9ET1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiZWdpbk9mZnNldCAtIFRPRE9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kT2Zmc2V0IC0gVE9ET1xuICAgICAqL1xuXG5cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZFZlcnRpY2VzID0gZnVuY3Rpb24gYWRkVmVydGljZXModHJhbnNmb3JtLCB2ZXJ0aWNlcywgYmVnaW5PZmZzZXQsIGVuZE9mZnNldCkge1xuICAgICAgICB2YXIgbWF0cml4ID0gdHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgYSA9IG1hdHJpeC5hO1xuICAgICAgICB2YXIgYiA9IG1hdHJpeC5iO1xuICAgICAgICB2YXIgYyA9IG1hdHJpeC5jO1xuICAgICAgICB2YXIgZCA9IG1hdHJpeC5kO1xuICAgICAgICB2YXIgdHggPSBtYXRyaXgudHg7XG4gICAgICAgIHZhciB0eSA9IG1hdHJpeC50eTtcblxuICAgICAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcblxuICAgICAgICBmb3IgKHZhciBpID0gYmVnaW5PZmZzZXQ7IGkgPCBlbmRPZmZzZXQ7IGkgKz0gMikge1xuICAgICAgICAgICAgdmFyIHJhd1ggPSB2ZXJ0aWNlc1tpXTtcbiAgICAgICAgICAgIHZhciByYXdZID0gdmVydGljZXNbaSArIDFdO1xuICAgICAgICAgICAgdmFyIHggPSBhICogcmF3WCArIGMgKiByYXdZICsgdHg7XG4gICAgICAgICAgICB2YXIgeSA9IGQgKiByYXdZICsgYiAqIHJhd1ggKyB0eTtcblxuICAgICAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBtYXhZO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIG90aGVyIEJvdW5kc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJvdW5kc30gYm91bmRzIC0gVE9ET1xuICAgICAqL1xuXG5cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZEJvdW5kcyA9IGZ1bmN0aW9uIGFkZEJvdW5kcyhib3VuZHMpIHtcbiAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICAgICAgdGhpcy5taW5YID0gYm91bmRzLm1pblggPCBtaW5YID8gYm91bmRzLm1pblggOiBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBib3VuZHMubWluWSA8IG1pblkgPyBib3VuZHMubWluWSA6IG1pblk7XG4gICAgICAgIHRoaXMubWF4WCA9IGJvdW5kcy5tYXhYID4gbWF4WCA/IGJvdW5kcy5tYXhYIDogbWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gYm91bmRzLm1heFkgPiBtYXhZID8gYm91bmRzLm1heFkgOiBtYXhZO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIG90aGVyIEJvdW5kcywgbWFza2VkIHdpdGggQm91bmRzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQm91bmRzfSBib3VuZHMgLSBUT0RPXG4gICAgICogQHBhcmFtIHtQSVhJLkJvdW5kc30gbWFzayAtIFRPRE9cbiAgICAgKi9cblxuXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRCb3VuZHNNYXNrID0gZnVuY3Rpb24gYWRkQm91bmRzTWFzayhib3VuZHMsIG1hc2spIHtcbiAgICAgICAgdmFyIF9taW5YID0gYm91bmRzLm1pblggPiBtYXNrLm1pblggPyBib3VuZHMubWluWCA6IG1hc2subWluWDtcbiAgICAgICAgdmFyIF9taW5ZID0gYm91bmRzLm1pblkgPiBtYXNrLm1pblkgPyBib3VuZHMubWluWSA6IG1hc2subWluWTtcbiAgICAgICAgdmFyIF9tYXhYID0gYm91bmRzLm1heFggPCBtYXNrLm1heFggPyBib3VuZHMubWF4WCA6IG1hc2subWF4WDtcbiAgICAgICAgdmFyIF9tYXhZID0gYm91bmRzLm1heFkgPCBtYXNrLm1heFkgPyBib3VuZHMubWF4WSA6IG1hc2subWF4WTtcblxuICAgICAgICBpZiAoX21pblggPD0gX21heFggJiYgX21pblkgPD0gX21heFkpIHtcbiAgICAgICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICAgICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuXG4gICAgICAgICAgICB0aGlzLm1pblggPSBfbWluWCA8IG1pblggPyBfbWluWCA6IG1pblg7XG4gICAgICAgICAgICB0aGlzLm1pblkgPSBfbWluWSA8IG1pblkgPyBfbWluWSA6IG1pblk7XG4gICAgICAgICAgICB0aGlzLm1heFggPSBfbWF4WCA+IG1heFggPyBfbWF4WCA6IG1heFg7XG4gICAgICAgICAgICB0aGlzLm1heFkgPSBfbWF4WSA+IG1heFkgPyBfbWF4WSA6IG1heFk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBvdGhlciBCb3VuZHMsIG1hc2tlZCB3aXRoIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJvdW5kc30gYm91bmRzIC0gVE9ET1xuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGFyZWEgLSBUT0RPXG4gICAgICovXG5cblxuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkQm91bmRzQXJlYSA9IGZ1bmN0aW9uIGFkZEJvdW5kc0FyZWEoYm91bmRzLCBhcmVhKSB7XG4gICAgICAgIHZhciBfbWluWCA9IGJvdW5kcy5taW5YID4gYXJlYS54ID8gYm91bmRzLm1pblggOiBhcmVhLng7XG4gICAgICAgIHZhciBfbWluWSA9IGJvdW5kcy5taW5ZID4gYXJlYS55ID8gYm91bmRzLm1pblkgOiBhcmVhLnk7XG4gICAgICAgIHZhciBfbWF4WCA9IGJvdW5kcy5tYXhYIDwgYXJlYS54ICsgYXJlYS53aWR0aCA/IGJvdW5kcy5tYXhYIDogYXJlYS54ICsgYXJlYS53aWR0aDtcbiAgICAgICAgdmFyIF9tYXhZID0gYm91bmRzLm1heFkgPCBhcmVhLnkgKyBhcmVhLmhlaWdodCA/IGJvdW5kcy5tYXhZIDogYXJlYS55ICsgYXJlYS5oZWlnaHQ7XG5cbiAgICAgICAgaWYgKF9taW5YIDw9IF9tYXhYICYmIF9taW5ZIDw9IF9tYXhZKSB7XG4gICAgICAgICAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgICAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcblxuICAgICAgICAgICAgdGhpcy5taW5YID0gX21pblggPCBtaW5YID8gX21pblggOiBtaW5YO1xuICAgICAgICAgICAgdGhpcy5taW5ZID0gX21pblkgPCBtaW5ZID8gX21pblkgOiBtaW5ZO1xuICAgICAgICAgICAgdGhpcy5tYXhYID0gX21heFggPiBtYXhYID8gX21heFggOiBtYXhYO1xuICAgICAgICAgICAgdGhpcy5tYXhZID0gX21heFkgPiBtYXhZID8gX21heFkgOiBtYXhZO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBCb3VuZHM7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEJvdW5kcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJvdW5kcy5qcy5tYXAiLCJcblxudmFyIG1hcFR5cGUgPSBmdW5jdGlvbihnbCwgdHlwZSkgXG57XG4gICAgaWYoIUdMX1RBQkxFKSBcbiAgICB7XG4gICAgICAgIHZhciB0eXBlTmFtZXMgPSBPYmplY3Qua2V5cyhHTF9UT19HTFNMX1RZUEVTKTtcblxuICAgICAgICBHTF9UQUJMRSA9IHt9O1xuXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0eXBlTmFtZXMubGVuZ3RoOyArK2kpIFxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgdG4gPSB0eXBlTmFtZXNbaV07XG4gICAgICAgICAgICBHTF9UQUJMRVsgZ2xbdG5dIF0gPSBHTF9UT19HTFNMX1RZUEVTW3RuXTtcbiAgICAgICAgfVxuICAgIH1cblxuICByZXR1cm4gR0xfVEFCTEVbdHlwZV07XG59O1xuXG52YXIgR0xfVEFCTEUgPSBudWxsO1xuXG52YXIgR0xfVE9fR0xTTF9UWVBFUyA9IHtcbiAgJ0ZMT0FUJzogICAgICAgJ2Zsb2F0JyxcbiAgJ0ZMT0FUX1ZFQzInOiAgJ3ZlYzInLFxuICAnRkxPQVRfVkVDMyc6ICAndmVjMycsXG4gICdGTE9BVF9WRUM0JzogICd2ZWM0JyxcblxuICAnSU5UJzogICAgICAgICAnaW50JyxcbiAgJ0lOVF9WRUMyJzogICAgJ2l2ZWMyJyxcbiAgJ0lOVF9WRUMzJzogICAgJ2l2ZWMzJyxcbiAgJ0lOVF9WRUM0JzogICAgJ2l2ZWM0JyxcbiAgXG4gICdCT09MJzogICAgICAgICdib29sJyxcbiAgJ0JPT0xfVkVDMic6ICAgJ2J2ZWMyJyxcbiAgJ0JPT0xfVkVDMyc6ICAgJ2J2ZWMzJyxcbiAgJ0JPT0xfVkVDNCc6ICAgJ2J2ZWM0JyxcbiAgXG4gICdGTE9BVF9NQVQyJzogICdtYXQyJyxcbiAgJ0ZMT0FUX01BVDMnOiAgJ21hdDMnLFxuICAnRkxPQVRfTUFUNCc6ICAnbWF0NCcsXG4gIFxuICAnU0FNUExFUl8yRCc6ICAnc2FtcGxlcjJEJyAgXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IG1hcFR5cGU7XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi9jb25zdCcpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFJlY3RhbmdsZSBvYmplY3QgaXMgYW4gYXJlYSBkZWZpbmVkIGJ5IGl0cyBwb3NpdGlvbiwgYXMgaW5kaWNhdGVkIGJ5IGl0cyB0b3AtbGVmdCBjb3JuZXJcbiAqIHBvaW50ICh4LCB5KSBhbmQgYnkgaXRzIHdpZHRoIGFuZCBpdHMgaGVpZ2h0LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJlY3RhbmdsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSB1cHBlci1sZWZ0IGNvcm5lciBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgdXBwZXItbGVmdCBjb3JuZXIgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MF0gLSBUaGUgb3ZlcmFsbCB3aWR0aCBvZiB0aGlzIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTBdIC0gVGhlIG92ZXJhbGwgaGVpZ2h0IG9mIHRoaXMgcmVjdGFuZ2xlXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVjdGFuZ2xlKCkge1xuICAgICAgICB2YXIgeCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICAgICAgdmFyIHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gICAgICAgIHZhciB3aWR0aCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMDtcbiAgICAgICAgdmFyIGhlaWdodCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogMDtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVjdGFuZ2xlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnggPSBOdW1iZXIoeCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55ID0gTnVtYmVyKHkpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSBOdW1iZXIod2lkdGgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gTnVtYmVyKGhlaWdodCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuUkVDVFxuICAgICAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBfY29uc3QuU0hBUEVTLlJFQ1Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgbGVmdCBlZGdlIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgUmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gYSBjb3B5IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKi9cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvcGllcyBhbm90aGVyIHJlY3RhbmdsZSB0byB0aGlzIG9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3RhbmdsZSAtIFRoZSByZWN0YW5nbGUgdG8gY29weS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkocmVjdGFuZ2xlKSB7XG4gICAgICAgIHRoaXMueCA9IHJlY3RhbmdsZS54O1xuICAgICAgICB0aGlzLnkgPSByZWN0YW5nbGUueTtcbiAgICAgICAgdGhpcy53aWR0aCA9IHJlY3RhbmdsZS53aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSByZWN0YW5nbGUuaGVpZ2h0O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBSZWN0YW5nbGVcbiAgICAgKi9cblxuXG4gICAgUmVjdGFuZ2xlLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIGNvbnRhaW5zKHgsIHkpIHtcbiAgICAgICAgaWYgKHRoaXMud2lkdGggPD0gMCB8fCB0aGlzLmhlaWdodCA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoeCA+PSB0aGlzLnggJiYgeCA8IHRoaXMueCArIHRoaXMud2lkdGgpIHtcbiAgICAgICAgICAgIGlmICh5ID49IHRoaXMueSAmJiB5IDwgdGhpcy55ICsgdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGFkcyB0aGUgcmVjdGFuZ2xlIG1ha2luZyBpdCBncm93IGluIGFsbCBkaXJlY3Rpb25zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBhZGRpbmdYIC0gVGhlIGhvcml6b250YWwgcGFkZGluZyBhbW91bnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYWRkaW5nWV0gLSBUaGUgdmVydGljYWwgcGFkZGluZyBhbW91bnQuXG4gICAgICovXG5cblxuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUucGFkID0gZnVuY3Rpb24gcGFkKHBhZGRpbmdYLCBwYWRkaW5nWSkge1xuICAgICAgICBwYWRkaW5nWCA9IHBhZGRpbmdYIHx8IDA7XG4gICAgICAgIHBhZGRpbmdZID0gcGFkZGluZ1kgfHwgKHBhZGRpbmdZICE9PSAwID8gcGFkZGluZ1ggOiAwKTtcblxuICAgICAgICB0aGlzLnggLT0gcGFkZGluZ1g7XG4gICAgICAgIHRoaXMueSAtPSBwYWRkaW5nWTtcblxuICAgICAgICB0aGlzLndpZHRoICs9IHBhZGRpbmdYICogMjtcbiAgICAgICAgdGhpcy5oZWlnaHQgKz0gcGFkZGluZ1kgKiAyO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaXRzIHRoaXMgcmVjdGFuZ2xlIGFyb3VuZCB0aGUgcGFzc2VkIG9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3RhbmdsZSAtIFRoZSByZWN0YW5nbGUgdG8gZml0LlxuICAgICAqL1xuXG5cbiAgICBSZWN0YW5nbGUucHJvdG90eXBlLmZpdCA9IGZ1bmN0aW9uIGZpdChyZWN0YW5nbGUpIHtcbiAgICAgICAgaWYgKHRoaXMueCA8IHJlY3RhbmdsZS54KSB7XG4gICAgICAgICAgICB0aGlzLndpZHRoICs9IHRoaXMueDtcbiAgICAgICAgICAgIGlmICh0aGlzLndpZHRoIDwgMCkge1xuICAgICAgICAgICAgICAgIHRoaXMud2lkdGggPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnggPSByZWN0YW5nbGUueDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnkgPCByZWN0YW5nbGUueSkge1xuICAgICAgICAgICAgdGhpcy5oZWlnaHQgKz0gdGhpcy55O1xuICAgICAgICAgICAgaWYgKHRoaXMuaGVpZ2h0IDwgMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMueSA9IHJlY3RhbmdsZS55O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMueCArIHRoaXMud2lkdGggPiByZWN0YW5nbGUueCArIHJlY3RhbmdsZS53aWR0aCkge1xuICAgICAgICAgICAgdGhpcy53aWR0aCA9IHJlY3RhbmdsZS53aWR0aCAtIHRoaXMueDtcbiAgICAgICAgICAgIGlmICh0aGlzLndpZHRoIDwgMCkge1xuICAgICAgICAgICAgICAgIHRoaXMud2lkdGggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMueSArIHRoaXMuaGVpZ2h0ID4gcmVjdGFuZ2xlLnkgKyByZWN0YW5nbGUuaGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IHJlY3RhbmdsZS5oZWlnaHQgLSB0aGlzLnk7XG4gICAgICAgICAgICBpZiAodGhpcy5oZWlnaHQgPCAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVubGFyZ2VzIHRoaXMgcmVjdGFuZ2xlIHRvIGluY2x1ZGUgdGhlIHBhc3NlZCByZWN0YW5nbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0YW5nbGUgLSBUaGUgcmVjdGFuZ2xlIHRvIGluY2x1ZGUuXG4gICAgICovXG5cblxuICAgIFJlY3RhbmdsZS5wcm90b3R5cGUuZW5sYXJnZSA9IGZ1bmN0aW9uIGVubGFyZ2UocmVjdGFuZ2xlKSB7XG4gICAgICAgIHZhciB4MSA9IE1hdGgubWluKHRoaXMueCwgcmVjdGFuZ2xlLngpO1xuICAgICAgICB2YXIgeDIgPSBNYXRoLm1heCh0aGlzLnggKyB0aGlzLndpZHRoLCByZWN0YW5nbGUueCArIHJlY3RhbmdsZS53aWR0aCk7XG4gICAgICAgIHZhciB5MSA9IE1hdGgubWluKHRoaXMueSwgcmVjdGFuZ2xlLnkpO1xuICAgICAgICB2YXIgeTIgPSBNYXRoLm1heCh0aGlzLnkgKyB0aGlzLmhlaWdodCwgcmVjdGFuZ2xlLnkgKyByZWN0YW5nbGUuaGVpZ2h0KTtcblxuICAgICAgICB0aGlzLnggPSB4MTtcbiAgICAgICAgdGhpcy53aWR0aCA9IHgyIC0geDE7XG4gICAgICAgIHRoaXMueSA9IHkxO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHkyIC0geTE7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhSZWN0YW5nbGUsIFt7XG4gICAgICAgIGtleTogJ2xlZnQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLng7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogcmV0dXJucyB0aGUgcmlnaHQgZWRnZSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy54ICsgdGhpcy53aWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm5zIHRoZSB0b3AgZWRnZSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RvcCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm5zIHRoZSBib3R0b20gZWRnZSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2JvdHRvbScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueSArIHRoaXMuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgY29uc3RhbnQgZW1wdHkgcmVjdGFuZ2xlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKi9cblxuICAgIH1dLCBbe1xuICAgICAgICBrZXk6ICdFTVBUWScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUoMCwgMCwgMCwgMCk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gUmVjdGFuZ2xlO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBSZWN0YW5nbGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZWN0YW5nbGUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX1BvaW50ID0gcmVxdWlyZSgnLi9Qb2ludCcpO1xuXG52YXIgX1BvaW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BvaW50KTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uL2NvbnN0Jyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogVGhlIFBpeGlKUyBNYXRyaXggY2xhc3MgYXMgYW4gb2JqZWN0LCB3aGljaCBtYWtlcyBpdCBhIGxvdCBmYXN0ZXIsXG4gKiBoZXJlIGlzIGEgcmVwcmVzZW50YXRpb24gb2YgaXQgOlxuICogfCBhIHwgYyB8IHR4fFxuICogfCBiIHwgZCB8IHR5fFxuICogfCAwIHwgMCB8IDEgfFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE1hdHJpeCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2E9MV0gLSB4IHNjYWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtiPTBdIC0geCBza2V3XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjPTBdIC0geSBza2V3XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkPTFdIC0geSBzY2FsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdHg9MF0gLSB4IHRyYW5zbGF0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt0eT0wXSAtIHkgdHJhbnNsYXRpb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXRyaXgoKSB7XG4gICAgICAgIHZhciBhID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAxO1xuICAgICAgICB2YXIgYiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgICAgICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDA7XG4gICAgICAgIHZhciBkID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAxO1xuICAgICAgICB2YXIgdHggPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IDA7XG4gICAgICAgIHZhciB0eSA9IGFyZ3VtZW50cy5sZW5ndGggPiA1ICYmIGFyZ3VtZW50c1s1XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzVdIDogMDtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWF0cml4KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmEgPSBhO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYiA9IGI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jID0gYztcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmQgPSBkO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHggPSB0eDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5ID0gdHk7XG5cbiAgICAgICAgdGhpcy5hcnJheSA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIE1hdHJpeCBvYmplY3QgYmFzZWQgb24gdGhlIGdpdmVuIGFycmF5LiBUaGUgRWxlbWVudCB0byBNYXRyaXggbWFwcGluZyBvcmRlciBpcyBhcyBmb2xsb3dzOlxuICAgICAqXG4gICAgICogYSA9IGFycmF5WzBdXG4gICAgICogYiA9IGFycmF5WzFdXG4gICAgICogYyA9IGFycmF5WzNdXG4gICAgICogZCA9IGFycmF5WzRdXG4gICAgICogdHggPSBhcnJheVsyXVxuICAgICAqIHR5ID0gYXJyYXlbNV1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIGFycmF5IHRoYXQgdGhlIG1hdHJpeCB3aWxsIGJlIHBvcHVsYXRlZCBmcm9tLlxuICAgICAqL1xuXG5cbiAgICBNYXRyaXgucHJvdG90eXBlLmZyb21BcnJheSA9IGZ1bmN0aW9uIGZyb21BcnJheShhcnJheSkge1xuICAgICAgICB0aGlzLmEgPSBhcnJheVswXTtcbiAgICAgICAgdGhpcy5iID0gYXJyYXlbMV07XG4gICAgICAgIHRoaXMuYyA9IGFycmF5WzNdO1xuICAgICAgICB0aGlzLmQgPSBhcnJheVs0XTtcbiAgICAgICAgdGhpcy50eCA9IGFycmF5WzJdO1xuICAgICAgICB0aGlzLnR5ID0gYXJyYXlbNV07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIHNldHMgdGhlIG1hdHJpeCBwcm9wZXJ0aWVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYSAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYiAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYyAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZCAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHggLSBNYXRyaXggY29tcG9uZW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHR5IC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gc2V0KGEsIGIsIGMsIGQsIHR4LCB0eSkge1xuICAgICAgICB0aGlzLmEgPSBhO1xuICAgICAgICB0aGlzLmIgPSBiO1xuICAgICAgICB0aGlzLmMgPSBjO1xuICAgICAgICB0aGlzLmQgPSBkO1xuICAgICAgICB0aGlzLnR4ID0gdHg7XG4gICAgICAgIHRoaXMudHkgPSB0eTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBmcm9tIHRoZSBjdXJyZW50IE1hdHJpeCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHRyYW5zcG9zZSAtIFdoZXRoZXIgd2UgbmVlZCB0byB0cmFuc3Bvc2UgdGhlIG1hdHJpeCBvciBub3RcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW291dD1uZXcgRmxvYXQzMkFycmF5KDkpXSAtIElmIHByb3ZpZGVkIHRoZSBhcnJheSB3aWxsIGJlIGFzc2lnbmVkIHRvIG91dFxuICAgICAqIEByZXR1cm4ge251bWJlcltdfSB0aGUgbmV3bHkgY3JlYXRlZCBhcnJheSB3aGljaCBjb250YWlucyB0aGUgbWF0cml4XG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uIHRvQXJyYXkodHJhbnNwb3NlLCBvdXQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmFycmF5KSB7XG4gICAgICAgICAgICB0aGlzLmFycmF5ID0gbmV3IEZsb2F0MzJBcnJheSg5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhcnJheSA9IG91dCB8fCB0aGlzLmFycmF5O1xuXG4gICAgICAgIGlmICh0cmFuc3Bvc2UpIHtcbiAgICAgICAgICAgIGFycmF5WzBdID0gdGhpcy5hO1xuICAgICAgICAgICAgYXJyYXlbMV0gPSB0aGlzLmI7XG4gICAgICAgICAgICBhcnJheVsyXSA9IDA7XG4gICAgICAgICAgICBhcnJheVszXSA9IHRoaXMuYztcbiAgICAgICAgICAgIGFycmF5WzRdID0gdGhpcy5kO1xuICAgICAgICAgICAgYXJyYXlbNV0gPSAwO1xuICAgICAgICAgICAgYXJyYXlbNl0gPSB0aGlzLnR4O1xuICAgICAgICAgICAgYXJyYXlbN10gPSB0aGlzLnR5O1xuICAgICAgICAgICAgYXJyYXlbOF0gPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXJyYXlbMF0gPSB0aGlzLmE7XG4gICAgICAgICAgICBhcnJheVsxXSA9IHRoaXMuYztcbiAgICAgICAgICAgIGFycmF5WzJdID0gdGhpcy50eDtcbiAgICAgICAgICAgIGFycmF5WzNdID0gdGhpcy5iO1xuICAgICAgICAgICAgYXJyYXlbNF0gPSB0aGlzLmQ7XG4gICAgICAgICAgICBhcnJheVs1XSA9IHRoaXMudHk7XG4gICAgICAgICAgICBhcnJheVs2XSA9IDA7XG4gICAgICAgICAgICBhcnJheVs3XSA9IDA7XG4gICAgICAgICAgICBhcnJheVs4XSA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldCBhIG5ldyBwb3NpdGlvbiB3aXRoIHRoZSBjdXJyZW50IHRyYW5zZm9ybWF0aW9uIGFwcGxpZWQuXG4gICAgICogQ2FuIGJlIHVzZWQgdG8gZ28gZnJvbSBhIGNoaWxkJ3MgY29vcmRpbmF0ZSBzcGFjZSB0byB0aGUgd29ybGQgY29vcmRpbmF0ZSBzcGFjZS4gKGUuZy4gcmVuZGVyaW5nKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb3MgLSBUaGUgb3JpZ2luXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBbbmV3UG9zXSAtIFRoZSBwb2ludCB0aGF0IHRoZSBuZXcgcG9zaXRpb24gaXMgYXNzaWduZWQgdG8gKGFsbG93ZWQgdG8gYmUgc2FtZSBhcyBpbnB1dClcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBUaGUgbmV3IHBvaW50LCB0cmFuc2Zvcm1lZCB0aHJvdWdoIHRoaXMgbWF0cml4XG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiBhcHBseShwb3MsIG5ld1Bvcykge1xuICAgICAgICBuZXdQb3MgPSBuZXdQb3MgfHwgbmV3IF9Qb2ludDIuZGVmYXVsdCgpO1xuXG4gICAgICAgIHZhciB4ID0gcG9zLng7XG4gICAgICAgIHZhciB5ID0gcG9zLnk7XG5cbiAgICAgICAgbmV3UG9zLnggPSB0aGlzLmEgKiB4ICsgdGhpcy5jICogeSArIHRoaXMudHg7XG4gICAgICAgIG5ld1Bvcy55ID0gdGhpcy5iICogeCArIHRoaXMuZCAqIHkgKyB0aGlzLnR5O1xuXG4gICAgICAgIHJldHVybiBuZXdQb3M7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldCBhIG5ldyBwb3NpdGlvbiB3aXRoIHRoZSBpbnZlcnNlIG9mIHRoZSBjdXJyZW50IHRyYW5zZm9ybWF0aW9uIGFwcGxpZWQuXG4gICAgICogQ2FuIGJlIHVzZWQgdG8gZ28gZnJvbSB0aGUgd29ybGQgY29vcmRpbmF0ZSBzcGFjZSB0byBhIGNoaWxkJ3MgY29vcmRpbmF0ZSBzcGFjZS4gKGUuZy4gaW5wdXQpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvcyAtIFRoZSBvcmlnaW5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtuZXdQb3NdIC0gVGhlIHBvaW50IHRoYXQgdGhlIG5ldyBwb3NpdGlvbiBpcyBhc3NpZ25lZCB0byAoYWxsb3dlZCB0byBiZSBzYW1lIGFzIGlucHV0KVxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IFRoZSBuZXcgcG9pbnQsIGludmVyc2UtdHJhbnNmb3JtZWQgdGhyb3VnaCB0aGlzIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBNYXRyaXgucHJvdG90eXBlLmFwcGx5SW52ZXJzZSA9IGZ1bmN0aW9uIGFwcGx5SW52ZXJzZShwb3MsIG5ld1Bvcykge1xuICAgICAgICBuZXdQb3MgPSBuZXdQb3MgfHwgbmV3IF9Qb2ludDIuZGVmYXVsdCgpO1xuXG4gICAgICAgIHZhciBpZCA9IDEgLyAodGhpcy5hICogdGhpcy5kICsgdGhpcy5jICogLXRoaXMuYik7XG5cbiAgICAgICAgdmFyIHggPSBwb3MueDtcbiAgICAgICAgdmFyIHkgPSBwb3MueTtcblxuICAgICAgICBuZXdQb3MueCA9IHRoaXMuZCAqIGlkICogeCArIC10aGlzLmMgKiBpZCAqIHkgKyAodGhpcy50eSAqIHRoaXMuYyAtIHRoaXMudHggKiB0aGlzLmQpICogaWQ7XG4gICAgICAgIG5ld1Bvcy55ID0gdGhpcy5hICogaWQgKiB5ICsgLXRoaXMuYiAqIGlkICogeCArICgtdGhpcy50eSAqIHRoaXMuYSArIHRoaXMudHggKiB0aGlzLmIpICogaWQ7XG5cbiAgICAgICAgcmV0dXJuIG5ld1BvcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVHJhbnNsYXRlcyB0aGUgbWF0cml4IG9uIHRoZSB4IGFuZCB5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggSG93IG11Y2ggdG8gdHJhbnNsYXRlIHggYnlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBIb3cgbXVjaCB0byB0cmFuc2xhdGUgeSBieVxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuXG5cbiAgICBNYXRyaXgucHJvdG90eXBlLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uIHRyYW5zbGF0ZSh4LCB5KSB7XG4gICAgICAgIHRoaXMudHggKz0geDtcbiAgICAgICAgdGhpcy50eSArPSB5O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGEgc2NhbGUgdHJhbnNmb3JtYXRpb24gdG8gdGhlIG1hdHJpeC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IFRoZSBhbW91bnQgdG8gc2NhbGUgaG9yaXpvbnRhbGx5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgVGhlIGFtb3VudCB0byBzY2FsZSB2ZXJ0aWNhbGx5XG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuc2NhbGUgPSBmdW5jdGlvbiBzY2FsZSh4LCB5KSB7XG4gICAgICAgIHRoaXMuYSAqPSB4O1xuICAgICAgICB0aGlzLmQgKj0geTtcbiAgICAgICAgdGhpcy5jICo9IHg7XG4gICAgICAgIHRoaXMuYiAqPSB5O1xuICAgICAgICB0aGlzLnR4ICo9IHg7XG4gICAgICAgIHRoaXMudHkgKj0geTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBhIHJvdGF0aW9uIHRyYW5zZm9ybWF0aW9uIHRvIHRoZSBtYXRyaXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW5nbGUgLSBUaGUgYW5nbGUgaW4gcmFkaWFucy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cblxuXG4gICAgTWF0cml4LnByb3RvdHlwZS5yb3RhdGUgPSBmdW5jdGlvbiByb3RhdGUoYW5nbGUpIHtcbiAgICAgICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICAgICAgdmFyIHNpbiA9IE1hdGguc2luKGFuZ2xlKTtcblxuICAgICAgICB2YXIgYTEgPSB0aGlzLmE7XG4gICAgICAgIHZhciBjMSA9IHRoaXMuYztcbiAgICAgICAgdmFyIHR4MSA9IHRoaXMudHg7XG5cbiAgICAgICAgdGhpcy5hID0gYTEgKiBjb3MgLSB0aGlzLmIgKiBzaW47XG4gICAgICAgIHRoaXMuYiA9IGExICogc2luICsgdGhpcy5iICogY29zO1xuICAgICAgICB0aGlzLmMgPSBjMSAqIGNvcyAtIHRoaXMuZCAqIHNpbjtcbiAgICAgICAgdGhpcy5kID0gYzEgKiBzaW4gKyB0aGlzLmQgKiBjb3M7XG4gICAgICAgIHRoaXMudHggPSB0eDEgKiBjb3MgLSB0aGlzLnR5ICogc2luO1xuICAgICAgICB0aGlzLnR5ID0gdHgxICogc2luICsgdGhpcy50eSAqIGNvcztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwZW5kcyB0aGUgZ2l2ZW4gTWF0cml4IHRvIHRoaXMgTWF0cml4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBhcHBlbmQuXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gYXBwZW5kKG1hdHJpeCkge1xuICAgICAgICB2YXIgYTEgPSB0aGlzLmE7XG4gICAgICAgIHZhciBiMSA9IHRoaXMuYjtcbiAgICAgICAgdmFyIGMxID0gdGhpcy5jO1xuICAgICAgICB2YXIgZDEgPSB0aGlzLmQ7XG5cbiAgICAgICAgdGhpcy5hID0gbWF0cml4LmEgKiBhMSArIG1hdHJpeC5iICogYzE7XG4gICAgICAgIHRoaXMuYiA9IG1hdHJpeC5hICogYjEgKyBtYXRyaXguYiAqIGQxO1xuICAgICAgICB0aGlzLmMgPSBtYXRyaXguYyAqIGExICsgbWF0cml4LmQgKiBjMTtcbiAgICAgICAgdGhpcy5kID0gbWF0cml4LmMgKiBiMSArIG1hdHJpeC5kICogZDE7XG5cbiAgICAgICAgdGhpcy50eCA9IG1hdHJpeC50eCAqIGExICsgbWF0cml4LnR5ICogYzEgKyB0aGlzLnR4O1xuICAgICAgICB0aGlzLnR5ID0gbWF0cml4LnR4ICogYjEgKyBtYXRyaXgudHkgKiBkMSArIHRoaXMudHk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1hdHJpeCBiYXNlZCBvbiBhbGwgdGhlIGF2YWlsYWJsZSBwcm9wZXJ0aWVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFBvc2l0aW9uIG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFBvc2l0aW9uIG9uIHRoZSB5IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGl2b3RYIC0gUGl2b3Qgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXZvdFkgLSBQaXZvdCBvbiB0aGUgeSBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlWCAtIFNjYWxlIG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVZIC0gU2NhbGUgb24gdGhlIHkgYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiAtIFJvdGF0aW9uIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2tld1ggLSBTa2V3IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2tld1kgLSBTa2V3IG9uIHRoZSB5IGF4aXNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cblxuXG4gICAgTWF0cml4LnByb3RvdHlwZS5zZXRUcmFuc2Zvcm0gPSBmdW5jdGlvbiBzZXRUcmFuc2Zvcm0oeCwgeSwgcGl2b3RYLCBwaXZvdFksIHNjYWxlWCwgc2NhbGVZLCByb3RhdGlvbiwgc2tld1gsIHNrZXdZKSB7XG4gICAgICAgIHRoaXMuYSA9IE1hdGguY29zKHJvdGF0aW9uICsgc2tld1kpICogc2NhbGVYO1xuICAgICAgICB0aGlzLmIgPSBNYXRoLnNpbihyb3RhdGlvbiArIHNrZXdZKSAqIHNjYWxlWDtcbiAgICAgICAgdGhpcy5jID0gLU1hdGguc2luKHJvdGF0aW9uIC0gc2tld1gpICogc2NhbGVZO1xuICAgICAgICB0aGlzLmQgPSBNYXRoLmNvcyhyb3RhdGlvbiAtIHNrZXdYKSAqIHNjYWxlWTtcblxuICAgICAgICB0aGlzLnR4ID0geCAtIChwaXZvdFggKiB0aGlzLmEgKyBwaXZvdFkgKiB0aGlzLmMpO1xuICAgICAgICB0aGlzLnR5ID0geSAtIChwaXZvdFggKiB0aGlzLmIgKyBwaXZvdFkgKiB0aGlzLmQpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcmVwZW5kcyB0aGUgZ2l2ZW4gTWF0cml4IHRvIHRoaXMgTWF0cml4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBwcmVwZW5kXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUucHJlcGVuZCA9IGZ1bmN0aW9uIHByZXBlbmQobWF0cml4KSB7XG4gICAgICAgIHZhciB0eDEgPSB0aGlzLnR4O1xuXG4gICAgICAgIGlmIChtYXRyaXguYSAhPT0gMSB8fCBtYXRyaXguYiAhPT0gMCB8fCBtYXRyaXguYyAhPT0gMCB8fCBtYXRyaXguZCAhPT0gMSkge1xuICAgICAgICAgICAgdmFyIGExID0gdGhpcy5hO1xuICAgICAgICAgICAgdmFyIGMxID0gdGhpcy5jO1xuXG4gICAgICAgICAgICB0aGlzLmEgPSBhMSAqIG1hdHJpeC5hICsgdGhpcy5iICogbWF0cml4LmM7XG4gICAgICAgICAgICB0aGlzLmIgPSBhMSAqIG1hdHJpeC5iICsgdGhpcy5iICogbWF0cml4LmQ7XG4gICAgICAgICAgICB0aGlzLmMgPSBjMSAqIG1hdHJpeC5hICsgdGhpcy5kICogbWF0cml4LmM7XG4gICAgICAgICAgICB0aGlzLmQgPSBjMSAqIG1hdHJpeC5iICsgdGhpcy5kICogbWF0cml4LmQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnR4ID0gdHgxICogbWF0cml4LmEgKyB0aGlzLnR5ICogbWF0cml4LmMgKyBtYXRyaXgudHg7XG4gICAgICAgIHRoaXMudHkgPSB0eDEgKiBtYXRyaXguYiArIHRoaXMudHkgKiBtYXRyaXguZCArIG1hdHJpeC50eTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVjb21wb3NlcyB0aGUgbWF0cml4ICh4LCB5LCBzY2FsZVgsIHNjYWxlWSwgYW5kIHJvdGF0aW9uKSBhbmQgc2V0cyB0aGUgcHJvcGVydGllcyBvbiB0byBhIHRyYW5zZm9ybS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm18UElYSS5UcmFuc2Zvcm1TdGF0aWN9IHRyYW5zZm9ybSAtIFRoZSB0cmFuc2Zvcm0gdG8gYXBwbHkgdGhlIHByb3BlcnRpZXMgdG8uXG4gICAgICogQHJldHVybiB7UElYSS5UcmFuc2Zvcm18UElYSS5UcmFuc2Zvcm1TdGF0aWN9IFRoZSB0cmFuc2Zvcm0gd2l0aCB0aGUgbmV3bHkgYXBwbGllZCBwcm9wZXJ0aWVzXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuZGVjb21wb3NlID0gZnVuY3Rpb24gZGVjb21wb3NlKHRyYW5zZm9ybSkge1xuICAgICAgICAvLyBzb3J0IG91dCByb3RhdGlvbiAvIHNrZXcuLlxuICAgICAgICB2YXIgYSA9IHRoaXMuYTtcbiAgICAgICAgdmFyIGIgPSB0aGlzLmI7XG4gICAgICAgIHZhciBjID0gdGhpcy5jO1xuICAgICAgICB2YXIgZCA9IHRoaXMuZDtcblxuICAgICAgICB2YXIgc2tld1ggPSAtTWF0aC5hdGFuMigtYywgZCk7XG4gICAgICAgIHZhciBza2V3WSA9IE1hdGguYXRhbjIoYiwgYSk7XG5cbiAgICAgICAgdmFyIGRlbHRhID0gTWF0aC5hYnMoc2tld1ggKyBza2V3WSk7XG5cbiAgICAgICAgaWYgKGRlbHRhIDwgMC4wMDAwMSB8fCBNYXRoLmFicyhfY29uc3QuUElfMiAtIGRlbHRhKSA8IDAuMDAwMDEpIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybS5yb3RhdGlvbiA9IHNrZXdZO1xuXG4gICAgICAgICAgICBpZiAoYSA8IDAgJiYgZCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtLnJvdGF0aW9uICs9IHRyYW5zZm9ybS5yb3RhdGlvbiA8PSAwID8gTWF0aC5QSSA6IC1NYXRoLlBJO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0cmFuc2Zvcm0uc2tldy54ID0gdHJhbnNmb3JtLnNrZXcueSA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cmFuc2Zvcm0ucm90YXRpb24gPSAwO1xuICAgICAgICAgICAgdHJhbnNmb3JtLnNrZXcueCA9IHNrZXdYO1xuICAgICAgICAgICAgdHJhbnNmb3JtLnNrZXcueSA9IHNrZXdZO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbmV4dCBzZXQgc2NhbGVcbiAgICAgICAgdHJhbnNmb3JtLnNjYWxlLnggPSBNYXRoLnNxcnQoYSAqIGEgKyBiICogYik7XG4gICAgICAgIHRyYW5zZm9ybS5zY2FsZS55ID0gTWF0aC5zcXJ0KGMgKiBjICsgZCAqIGQpO1xuXG4gICAgICAgIC8vIG5leHQgc2V0IHBvc2l0aW9uXG4gICAgICAgIHRyYW5zZm9ybS5wb3NpdGlvbi54ID0gdGhpcy50eDtcbiAgICAgICAgdHJhbnNmb3JtLnBvc2l0aW9uLnkgPSB0aGlzLnR5O1xuXG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEludmVydHMgdGhpcyBtYXRyaXhcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuXG5cbiAgICBNYXRyaXgucHJvdG90eXBlLmludmVydCA9IGZ1bmN0aW9uIGludmVydCgpIHtcbiAgICAgICAgdmFyIGExID0gdGhpcy5hO1xuICAgICAgICB2YXIgYjEgPSB0aGlzLmI7XG4gICAgICAgIHZhciBjMSA9IHRoaXMuYztcbiAgICAgICAgdmFyIGQxID0gdGhpcy5kO1xuICAgICAgICB2YXIgdHgxID0gdGhpcy50eDtcbiAgICAgICAgdmFyIG4gPSBhMSAqIGQxIC0gYjEgKiBjMTtcblxuICAgICAgICB0aGlzLmEgPSBkMSAvIG47XG4gICAgICAgIHRoaXMuYiA9IC1iMSAvIG47XG4gICAgICAgIHRoaXMuYyA9IC1jMSAvIG47XG4gICAgICAgIHRoaXMuZCA9IGExIC8gbjtcbiAgICAgICAgdGhpcy50eCA9IChjMSAqIHRoaXMudHkgLSBkMSAqIHR4MSkgLyBuO1xuICAgICAgICB0aGlzLnR5ID0gLShhMSAqIHRoaXMudHkgLSBiMSAqIHR4MSkgLyBuO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhpcyBNYXRpeCB0byBhbiBpZGVudGl0eSAoZGVmYXVsdCkgbWF0cml4LlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuaWRlbnRpdHkgPSBmdW5jdGlvbiBpZGVudGl0eSgpIHtcbiAgICAgICAgdGhpcy5hID0gMTtcbiAgICAgICAgdGhpcy5iID0gMDtcbiAgICAgICAgdGhpcy5jID0gMDtcbiAgICAgICAgdGhpcy5kID0gMTtcbiAgICAgICAgdGhpcy50eCA9IDA7XG4gICAgICAgIHRoaXMudHkgPSAwO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IE1hdHJpeCBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gQSBjb3B5IG9mIHRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG5cblxuICAgIE1hdHJpeC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSgpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcblxuICAgICAgICBtYXRyaXguYSA9IHRoaXMuYTtcbiAgICAgICAgbWF0cml4LmIgPSB0aGlzLmI7XG4gICAgICAgIG1hdHJpeC5jID0gdGhpcy5jO1xuICAgICAgICBtYXRyaXguZCA9IHRoaXMuZDtcbiAgICAgICAgbWF0cml4LnR4ID0gdGhpcy50eDtcbiAgICAgICAgbWF0cml4LnR5ID0gdGhpcy50eTtcblxuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSB2YWx1ZXMgb2YgdGhlIGdpdmVuIG1hdHJpeCB0byBiZSB0aGUgc2FtZSBhcyB0aGUgb25lcyBpbiB0aGlzIG1hdHJpeFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBjb3B5IGZyb20uXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXRyaXggZ2l2ZW4gaW4gcGFyYW1ldGVyIHdpdGggaXRzIHZhbHVlcyB1cGRhdGVkLlxuICAgICAqL1xuXG5cbiAgICBNYXRyaXgucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KG1hdHJpeCkge1xuICAgICAgICBtYXRyaXguYSA9IHRoaXMuYTtcbiAgICAgICAgbWF0cml4LmIgPSB0aGlzLmI7XG4gICAgICAgIG1hdHJpeC5jID0gdGhpcy5jO1xuICAgICAgICBtYXRyaXguZCA9IHRoaXMuZDtcbiAgICAgICAgbWF0cml4LnR4ID0gdGhpcy50eDtcbiAgICAgICAgbWF0cml4LnR5ID0gdGhpcy50eTtcblxuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBIGRlZmF1bHQgKGlkZW50aXR5KSBtYXRyaXhcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAY29uc3RcbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKE1hdHJpeCwgbnVsbCwgW3tcbiAgICAgICAga2V5OiAnSURFTlRJVFknLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTWF0cml4KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQSB0ZW1wIG1hdHJpeFxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdFxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnVEVNUF9NQVRSSVgnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTWF0cml4KCk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gTWF0cml4O1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBNYXRyaXg7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYXRyaXguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogVGhlIFBvaW50IG9iamVjdCByZXByZXNlbnRzIGEgbG9jYXRpb24gaW4gYSB0d28tZGltZW5zaW9uYWwgY29vcmRpbmF0ZSBzeXN0ZW0sIHdoZXJlIHggcmVwcmVzZW50c1xuICogdGhlIGhvcml6b250YWwgYXhpcyBhbmQgeSByZXByZXNlbnRzIHRoZSB2ZXJ0aWNhbCBheGlzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBvaW50ID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB4IGF4aXNcbiAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB5IGF4aXNcbiAgICovXG4gIGZ1bmN0aW9uIFBvaW50KCkge1xuICAgIHZhciB4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgIHZhciB5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBvaW50KTtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy54ID0geDtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy55ID0geTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBwb2ludFxuICAgKlxuICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBhIGNvcHkgb2YgdGhlIHBvaW50XG4gICAqL1xuXG5cbiAgUG9pbnQucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLngsIHRoaXMueSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENvcGllcyB4IGFuZCB5IGZyb20gdGhlIGdpdmVuIHBvaW50XG4gICAqXG4gICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcCAtIFRoZSBwb2ludCB0byBjb3B5LlxuICAgKi9cblxuXG4gIFBvaW50LnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weShwKSB7XG4gICAgdGhpcy5zZXQocC54LCBwLnkpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHBvaW50IGlzIGVxdWFsIHRvIHRoaXMgcG9pbnRcbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwIC0gVGhlIHBvaW50IHRvIGNoZWNrXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSBnaXZlbiBwb2ludCBlcXVhbCB0byB0aGlzIHBvaW50XG4gICAqL1xuXG5cbiAgUG9pbnQucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyhwKSB7XG4gICAgcmV0dXJuIHAueCA9PT0gdGhpcy54ICYmIHAueSA9PT0gdGhpcy55O1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBwb2ludCB0byBhIG5ldyB4IGFuZCB5IHBvc2l0aW9uLlxuICAgKiBJZiB5IGlzIG9taXR0ZWQsIGJvdGggeCBhbmQgeSB3aWxsIGJlIHNldCB0byB4LlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHggYXhpc1xuICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHkgYXhpc1xuICAgKi9cblxuXG4gIFBvaW50LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiBzZXQoeCwgeSkge1xuICAgIHRoaXMueCA9IHggfHwgMDtcbiAgICB0aGlzLnkgPSB5IHx8ICh5ICE9PSAwID8gdGhpcy54IDogMCk7XG4gIH07XG5cbiAgcmV0dXJuIFBvaW50O1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBQb2ludDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBvaW50LmpzLm1hcCIsInZhciBnO1xyXG5cclxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcclxuZyA9IChmdW5jdGlvbigpIHtcclxuXHRyZXR1cm4gdGhpcztcclxufSkoKTtcclxuXHJcbnRyeSB7XHJcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXHJcblx0ZyA9IGcgfHwgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpIHx8ICgxLCBldmFsKShcInRoaXNcIik7XHJcbn0gY2F0Y2ggKGUpIHtcclxuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxyXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xyXG59XHJcblxyXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXHJcbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXHJcbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZztcclxuIiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiNTdiNjVlY2Y4NzUzMmQzOTRhMThlMTg4YjBhMTFhODcucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiNDFiY2FjNjYzMjE5M2EyNzVkZWJlYWZmYTcxOTkzYjIucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiNmRkYmU4N2E2Zjg0OGVhMWZiNmY5ODZiMDgzZDA5NDkucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiMWIyMzRlMDNjMWM1MTRiYTAxNzRmNDNkNWUwOGY2NTAucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiZmQ1MmM5MGZmODU4OWQxMTU2MzU5YzdkMWU0MWM0YzcucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiYTBkZWQ5ZDM0ZjMxNWYxOTE4NzVmY2RjYjliNDViZmMucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiMzZlYzJjNjczMTVhZWVjZDFmMzZmMmFkYjJiYjNhMGUucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiZjQ1MjI5ZmUyMDFmZmQ2YjM2YWI4ZDJmODhjMjk4MzMucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiNDIzMjEyZDRkNzkxZWQ5OGY2ODJiZGY0OTk5MjkwN2EucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiNmFkZTBiZTFlOTE5NTU0NDc3OTdhMDAzNmU1OTYzY2EucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiMTczZWQ4NmIyZTExODkxZDJlMzI4NWQ1ZDFkMDA1NTkucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiYzcxYzlhYzg5MTQ1NTc4YjI1MWVkMGI5MDczYWUzYTQucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiMDVmZDZkOWNmOTNiNTAwYjhmM2M2YzhhYWZhNWZlMTQucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiNzdkNGI3NDExOWEzMGY1MGU5NjllNjE5Zjg3OTI1MzcucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiZjg2ZGUwNzNhMGFhYjFiY2Y5NTBjYTc1MDZhZTQ3ZGIucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiY2E0NTA5NjhhY2FiM2MxNWE5YTdkOTM2MTEzMDQyNGYucG5nXCI7IiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEEgYENhbmNlbGAgaXMgYW4gb2JqZWN0IHRoYXQgaXMgdGhyb3duIHdoZW4gYW4gb3BlcmF0aW9uIGlzIGNhbmNlbGVkLlxuICpcbiAqIEBjbGFzc1xuICogQHBhcmFtIHtzdHJpbmc9fSBtZXNzYWdlIFRoZSBtZXNzYWdlLlxuICovXG5mdW5jdGlvbiBDYW5jZWwobWVzc2FnZSkge1xuICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xufVxuXG5DYW5jZWwucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gIHJldHVybiAnQ2FuY2VsJyArICh0aGlzLm1lc3NhZ2UgPyAnOiAnICsgdGhpcy5tZXNzYWdlIDogJycpO1xufTtcblxuQ2FuY2VsLnByb3RvdHlwZS5fX0NBTkNFTF9fID0gdHJ1ZTtcblxubW9kdWxlLmV4cG9ydHMgPSBDYW5jZWw7XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNDYW5jZWwodmFsdWUpIHtcbiAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlLl9fQ0FOQ0VMX18pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGVuaGFuY2VFcnJvciA9IHJlcXVpcmUoJy4vZW5oYW5jZUVycm9yJyk7XG5cbi8qKlxuICogQ3JlYXRlIGFuIEVycm9yIHdpdGggdGhlIHNwZWNpZmllZCBtZXNzYWdlLCBjb25maWcsIGVycm9yIGNvZGUsIHJlcXVlc3QgYW5kIHJlc3BvbnNlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnLlxuICogQHBhcmFtIHtzdHJpbmd9IFtjb2RlXSBUaGUgZXJyb3IgY29kZSAoZm9yIGV4YW1wbGUsICdFQ09OTkFCT1JURUQnKS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdF0gVGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0ge09iamVjdH0gW3Jlc3BvbnNlXSBUaGUgcmVzcG9uc2UuXG4gKiBAcmV0dXJucyB7RXJyb3J9IFRoZSBjcmVhdGVkIGVycm9yLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNyZWF0ZUVycm9yKG1lc3NhZ2UsIGNvbmZpZywgY29kZSwgcmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgdmFyIGVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICByZXR1cm4gZW5oYW5jZUVycm9yKGVycm9yLCBjb25maWcsIGNvZGUsIHJlcXVlc3QsIHJlc3BvbnNlKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcbnZhciBzZXR0bGUgPSByZXF1aXJlKCcuLy4uL2NvcmUvc2V0dGxlJyk7XG52YXIgYnVpbGRVUkwgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvYnVpbGRVUkwnKTtcbnZhciBwYXJzZUhlYWRlcnMgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvcGFyc2VIZWFkZXJzJyk7XG52YXIgaXNVUkxTYW1lT3JpZ2luID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbicpO1xudmFyIGNyZWF0ZUVycm9yID0gcmVxdWlyZSgnLi4vY29yZS9jcmVhdGVFcnJvcicpO1xudmFyIGJ0b2EgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmJ0b2EgJiYgd2luZG93LmJ0b2EuYmluZCh3aW5kb3cpKSB8fCByZXF1aXJlKCcuLy4uL2hlbHBlcnMvYnRvYScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHhockFkYXB0ZXIoY29uZmlnKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiBkaXNwYXRjaFhoclJlcXVlc3QocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdmFyIHJlcXVlc3REYXRhID0gY29uZmlnLmRhdGE7XG4gICAgdmFyIHJlcXVlc3RIZWFkZXJzID0gY29uZmlnLmhlYWRlcnM7XG5cbiAgICBpZiAodXRpbHMuaXNGb3JtRGF0YShyZXF1ZXN0RGF0YSkpIHtcbiAgICAgIGRlbGV0ZSByZXF1ZXN0SGVhZGVyc1snQ29udGVudC1UeXBlJ107IC8vIExldCB0aGUgYnJvd3NlciBzZXQgaXRcbiAgICB9XG5cbiAgICB2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIHZhciBsb2FkRXZlbnQgPSAnb25yZWFkeXN0YXRlY2hhbmdlJztcbiAgICB2YXIgeERvbWFpbiA9IGZhbHNlO1xuXG4gICAgLy8gRm9yIElFIDgvOSBDT1JTIHN1cHBvcnRcbiAgICAvLyBPbmx5IHN1cHBvcnRzIFBPU1QgYW5kIEdFVCBjYWxscyBhbmQgZG9lc24ndCByZXR1cm5zIHRoZSByZXNwb25zZSBoZWFkZXJzLlxuICAgIC8vIERPTidUIGRvIHRoaXMgZm9yIHRlc3RpbmcgYi9jIFhNTEh0dHBSZXF1ZXN0IGlzIG1vY2tlZCwgbm90IFhEb21haW5SZXF1ZXN0LlxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Rlc3QnICYmXG4gICAgICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIHdpbmRvdy5YRG9tYWluUmVxdWVzdCAmJiAhKCd3aXRoQ3JlZGVudGlhbHMnIGluIHJlcXVlc3QpICYmXG4gICAgICAgICFpc1VSTFNhbWVPcmlnaW4oY29uZmlnLnVybCkpIHtcbiAgICAgIHJlcXVlc3QgPSBuZXcgd2luZG93LlhEb21haW5SZXF1ZXN0KCk7XG4gICAgICBsb2FkRXZlbnQgPSAnb25sb2FkJztcbiAgICAgIHhEb21haW4gPSB0cnVlO1xuICAgICAgcmVxdWVzdC5vbnByb2dyZXNzID0gZnVuY3Rpb24gaGFuZGxlUHJvZ3Jlc3MoKSB7fTtcbiAgICAgIHJlcXVlc3Qub250aW1lb3V0ID0gZnVuY3Rpb24gaGFuZGxlVGltZW91dCgpIHt9O1xuICAgIH1cblxuICAgIC8vIEhUVFAgYmFzaWMgYXV0aGVudGljYXRpb25cbiAgICBpZiAoY29uZmlnLmF1dGgpIHtcbiAgICAgIHZhciB1c2VybmFtZSA9IGNvbmZpZy5hdXRoLnVzZXJuYW1lIHx8ICcnO1xuICAgICAgdmFyIHBhc3N3b3JkID0gY29uZmlnLmF1dGgucGFzc3dvcmQgfHwgJyc7XG4gICAgICByZXF1ZXN0SGVhZGVycy5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyBidG9hKHVzZXJuYW1lICsgJzonICsgcGFzc3dvcmQpO1xuICAgIH1cblxuICAgIHJlcXVlc3Qub3Blbihjb25maWcubWV0aG9kLnRvVXBwZXJDYXNlKCksIGJ1aWxkVVJMKGNvbmZpZy51cmwsIGNvbmZpZy5wYXJhbXMsIGNvbmZpZy5wYXJhbXNTZXJpYWxpemVyKSwgdHJ1ZSk7XG5cbiAgICAvLyBTZXQgdGhlIHJlcXVlc3QgdGltZW91dCBpbiBNU1xuICAgIHJlcXVlc3QudGltZW91dCA9IGNvbmZpZy50aW1lb3V0O1xuXG4gICAgLy8gTGlzdGVuIGZvciByZWFkeSBzdGF0ZVxuICAgIHJlcXVlc3RbbG9hZEV2ZW50XSA9IGZ1bmN0aW9uIGhhbmRsZUxvYWQoKSB7XG4gICAgICBpZiAoIXJlcXVlc3QgfHwgKHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCAmJiAheERvbWFpbikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBUaGUgcmVxdWVzdCBlcnJvcmVkIG91dCBhbmQgd2UgZGlkbid0IGdldCBhIHJlc3BvbnNlLCB0aGlzIHdpbGwgYmVcbiAgICAgIC8vIGhhbmRsZWQgYnkgb25lcnJvciBpbnN0ZWFkXG4gICAgICAvLyBXaXRoIG9uZSBleGNlcHRpb246IHJlcXVlc3QgdGhhdCB1c2luZyBmaWxlOiBwcm90b2NvbCwgbW9zdCBicm93c2Vyc1xuICAgICAgLy8gd2lsbCByZXR1cm4gc3RhdHVzIGFzIDAgZXZlbiB0aG91Z2ggaXQncyBhIHN1Y2Nlc3NmdWwgcmVxdWVzdFxuICAgICAgaWYgKHJlcXVlc3Quc3RhdHVzID09PSAwICYmICEocmVxdWVzdC5yZXNwb25zZVVSTCAmJiByZXF1ZXN0LnJlc3BvbnNlVVJMLmluZGV4T2YoJ2ZpbGU6JykgPT09IDApKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gUHJlcGFyZSB0aGUgcmVzcG9uc2VcbiAgICAgIHZhciByZXNwb25zZUhlYWRlcnMgPSAnZ2V0QWxsUmVzcG9uc2VIZWFkZXJzJyBpbiByZXF1ZXN0ID8gcGFyc2VIZWFkZXJzKHJlcXVlc3QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpIDogbnVsbDtcbiAgICAgIHZhciByZXNwb25zZURhdGEgPSAhY29uZmlnLnJlc3BvbnNlVHlwZSB8fCBjb25maWcucmVzcG9uc2VUeXBlID09PSAndGV4dCcgPyByZXF1ZXN0LnJlc3BvbnNlVGV4dCA6IHJlcXVlc3QucmVzcG9uc2U7XG4gICAgICB2YXIgcmVzcG9uc2UgPSB7XG4gICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgLy8gSUUgc2VuZHMgMTIyMyBpbnN0ZWFkIG9mIDIwNCAoaHR0cHM6Ly9naXRodWIuY29tL2F4aW9zL2F4aW9zL2lzc3Vlcy8yMDEpXG4gICAgICAgIHN0YXR1czogcmVxdWVzdC5zdGF0dXMgPT09IDEyMjMgPyAyMDQgOiByZXF1ZXN0LnN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogcmVxdWVzdC5zdGF0dXMgPT09IDEyMjMgPyAnTm8gQ29udGVudCcgOiByZXF1ZXN0LnN0YXR1c1RleHQsXG4gICAgICAgIGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgY29uZmlnOiBjb25maWcsXG4gICAgICAgIHJlcXVlc3Q6IHJlcXVlc3RcbiAgICAgIH07XG5cbiAgICAgIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHJlc3BvbnNlKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSBsb3cgbGV2ZWwgbmV0d29yayBlcnJvcnNcbiAgICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbiBoYW5kbGVFcnJvcigpIHtcbiAgICAgIC8vIFJlYWwgZXJyb3JzIGFyZSBoaWRkZW4gZnJvbSB1cyBieSB0aGUgYnJvd3NlclxuICAgICAgLy8gb25lcnJvciBzaG91bGQgb25seSBmaXJlIGlmIGl0J3MgYSBuZXR3b3JrIGVycm9yXG4gICAgICByZWplY3QoY3JlYXRlRXJyb3IoJ05ldHdvcmsgRXJyb3InLCBjb25maWcsIG51bGwsIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSB0aW1lb3V0XG4gICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBmdW5jdGlvbiBoYW5kbGVUaW1lb3V0KCkge1xuICAgICAgcmVqZWN0KGNyZWF0ZUVycm9yKCd0aW1lb3V0IG9mICcgKyBjb25maWcudGltZW91dCArICdtcyBleGNlZWRlZCcsIGNvbmZpZywgJ0VDT05OQUJPUlRFRCcsXG4gICAgICAgIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEFkZCB4c3JmIGhlYWRlclxuICAgIC8vIFRoaXMgaXMgb25seSBkb25lIGlmIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50LlxuICAgIC8vIFNwZWNpZmljYWxseSBub3QgaWYgd2UncmUgaW4gYSB3ZWIgd29ya2VyLCBvciByZWFjdC1uYXRpdmUuXG4gICAgaWYgKHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkpIHtcbiAgICAgIHZhciBjb29raWVzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2Nvb2tpZXMnKTtcblxuICAgICAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gICAgICB2YXIgeHNyZlZhbHVlID0gKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMgfHwgaXNVUkxTYW1lT3JpZ2luKGNvbmZpZy51cmwpKSAmJiBjb25maWcueHNyZkNvb2tpZU5hbWUgP1xuICAgICAgICAgIGNvb2tpZXMucmVhZChjb25maWcueHNyZkNvb2tpZU5hbWUpIDpcbiAgICAgICAgICB1bmRlZmluZWQ7XG5cbiAgICAgIGlmICh4c3JmVmFsdWUpIHtcbiAgICAgICAgcmVxdWVzdEhlYWRlcnNbY29uZmlnLnhzcmZIZWFkZXJOYW1lXSA9IHhzcmZWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBZGQgaGVhZGVycyB0byB0aGUgcmVxdWVzdFxuICAgIGlmICgnc2V0UmVxdWVzdEhlYWRlcicgaW4gcmVxdWVzdCkge1xuICAgICAgdXRpbHMuZm9yRWFjaChyZXF1ZXN0SGVhZGVycywgZnVuY3Rpb24gc2V0UmVxdWVzdEhlYWRlcih2YWwsIGtleSkge1xuICAgICAgICBpZiAodHlwZW9mIHJlcXVlc3REYXRhID09PSAndW5kZWZpbmVkJyAmJiBrZXkudG9Mb3dlckNhc2UoKSA9PT0gJ2NvbnRlbnQtdHlwZScpIHtcbiAgICAgICAgICAvLyBSZW1vdmUgQ29udGVudC1UeXBlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG4gICAgICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzW2tleV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gT3RoZXJ3aXNlIGFkZCBoZWFkZXIgdG8gdGhlIHJlcXVlc3RcbiAgICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBZGQgd2l0aENyZWRlbnRpYWxzIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMpIHtcbiAgICAgIHJlcXVlc3Qud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBBZGQgcmVzcG9uc2VUeXBlIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKGNvbmZpZy5yZXNwb25zZVR5cGUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJlcXVlc3QucmVzcG9uc2VUeXBlID0gY29uZmlnLnJlc3BvbnNlVHlwZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gRXhwZWN0ZWQgRE9NRXhjZXB0aW9uIHRocm93biBieSBicm93c2VycyBub3QgY29tcGF0aWJsZSBYTUxIdHRwUmVxdWVzdCBMZXZlbCAyLlxuICAgICAgICAvLyBCdXQsIHRoaXMgY2FuIGJlIHN1cHByZXNzZWQgZm9yICdqc29uJyB0eXBlIGFzIGl0IGNhbiBiZSBwYXJzZWQgYnkgZGVmYXVsdCAndHJhbnNmb3JtUmVzcG9uc2UnIGZ1bmN0aW9uLlxuICAgICAgICBpZiAoY29uZmlnLnJlc3BvbnNlVHlwZSAhPT0gJ2pzb24nKSB7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEhhbmRsZSBwcm9ncmVzcyBpZiBuZWVkZWRcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5vbkRvd25sb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBjb25maWcub25Eb3dubG9hZFByb2dyZXNzKTtcbiAgICB9XG5cbiAgICAvLyBOb3QgYWxsIGJyb3dzZXJzIHN1cHBvcnQgdXBsb2FkIGV2ZW50c1xuICAgIGlmICh0eXBlb2YgY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicgJiYgcmVxdWVzdC51cGxvYWQpIHtcbiAgICAgIHJlcXVlc3QudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MpO1xuICAgIH1cblxuICAgIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcbiAgICAgIC8vIEhhbmRsZSBjYW5jZWxsYXRpb25cbiAgICAgIGNvbmZpZy5jYW5jZWxUb2tlbi5wcm9taXNlLnRoZW4oZnVuY3Rpb24gb25DYW5jZWxlZChjYW5jZWwpIHtcbiAgICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICByZWplY3QoY2FuY2VsKTtcbiAgICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChyZXF1ZXN0RGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXF1ZXN0RGF0YSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gU2VuZCB0aGUgcmVxdWVzdFxuICAgIHJlcXVlc3Quc2VuZChyZXF1ZXN0RGF0YSk7XG4gIH0pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBiaW5kKGZuLCB0aGlzQXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbiB3cmFwKCkge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICB9O1xufTtcbiIsImltcG9ydCBheGlvcywgeyBBeGlvc1JlcXVlc3RDb25maWcgfSBmcm9tICdheGlvcyc7XHJcbmltcG9ydCB7XHJcbiAgICBBdmFsaWFibGVGYWN0b3J5LFxyXG4gICAgQXZhbGlhYmxlRmFjdG9yeXMsXHJcbiAgICBHYW1lTWFwLFxyXG4gICAgUmVzb3VyY2VzLFxyXG4gICAgVHVyblJlc3VsdFxyXG4gICAgfSBmcm9tICcuLi90eXBpbmdzJztcclxuXHJcblxyXG5jb25zdCBtb2NrVXJsID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC8nO1xyXG5jb25zdCB1cmwgPSAnaHR0cHM6Ly9hNjYyZmJmZC5uZ3Jvay5pbyc7XHJcblxyXG5jb25zdCBpbnN0YW5jZSA9IGF4aW9zLmNyZWF0ZSh7XHJcbiAgICBiYXNlVVJMOiB1cmwsXHJcbiAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgfVxyXG59KTtcclxuXHJcbih3aW5kb3cgYXMgYW55KS5zd2l0Y2hBcGkgPSAoKSA9PiB7XHJcbiAgICBpbnN0YW5jZS5kZWZhdWx0cy5iYXNlVVJMID0gaW5zdGFuY2UuZGVmYXVsdHMuYmFzZVVSTCA9PT0gbW9ja1VybCA/IHVybCA6IG1vY2tVcmw7XHJcbn1cclxuXHJcbmNvbnN0IGdldCA9ICh1cmw6IHN0cmluZywgY29uZmlnPzogQXhpb3NSZXF1ZXN0Q29uZmlnKSA9PiBpbnN0YW5jZS5nZXQodXJsLCBjb25maWcpLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuZGF0YSk7XHJcblxyXG5jb25zdCBjbGllbnQgPSB7XHJcbiAgICBnZXRNYXAoKTogUHJvbWlzZTxHYW1lTWFwPiB7XHJcbiAgICAgICAgcmV0dXJuIGdldCgnZ2FtZScpO1xyXG4gICAgfSxcclxuICAgIGdldFR1cm4oKTogUHJvbWlzZTxudW1iZXI+IHtcclxuICAgICAgICByZXR1cm4gZ2V0KCdnYW1lL3R1cm4nKTtcclxuICAgIH0sXHJcbiAgICBnZXRSZXNvdXJjZXMoKTogUHJvbWlzZTxSZXNvdXJjZXM+IHtcclxuICAgICAgICByZXR1cm4gZ2V0KCdnYW1lL3Jlc291cmNlcycpO1xyXG4gICAgfSxcclxuICAgIG1ha2VUdXJuKCk6IFByb21pc2U8VHVyblJlc3VsdD4ge1xyXG4gICAgICAgIHJldHVybiBnZXQoJ2dhbWUvbWFrZVR1cm4nKVxyXG4gICAgfSxcclxuICAgIGdldEZhY3RvcmllcygpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIHJldHVybiBnZXQoJ2dhbWUvZmFjdG9yaWVzJylcclxuICAgIH0sXHJcbiAgICBnZXRGYWN0b3J5SW5mb3MoKTogUHJvbWlzZTxBdmFsaWFibGVGYWN0b3J5c1tdPiB7XHJcbiAgICAgICAgcmV0dXJuIGdldCgnZ2FtZS9nZXRGYWN0b3J5SW5mb3MnKTtcclxuICAgIH0sXHJcbiAgICBidWlsZEZhY3RvcnkodHlwZTogc3RyaW5nLCB4OiBudW1iZXIsIHk6IG51bWJlcik6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlLnBvc3QoJ2dhbWUvYnVpbGRGYWN0b3J5Jywge1xyXG4gICAgICAgICAgICB0eXBlLCB4LCB5XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgZ2V0RnJhY3Rpb24oKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICAgICAgICByZXR1cm4gZ2V0KCdnYW1lL2ZyYWN0aW9uJylcclxuICAgIH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsaWVudDsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBDb3VudExpbWl0ZXIgbGltaXRzIHRoZSBudW1iZXIgb2YgaXRlbXMgaGFuZGxlZCBieSBhIHtAbGluayBQSVhJLnByZXBhcmUuQmFzZVByZXBhcmV9IHRvIGEgc3BlY2lmaWVkXG4gKiBudW1iZXIgb2YgaXRlbXMgcGVyIGZyYW1lLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENvdW50TGltaXRlciA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhJdGVtc1BlckZyYW1lIC0gVGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHRoYXQgY2FuIGJlIHByZXBhcmVkIGVhY2ggZnJhbWUuXG4gICAqL1xuICBmdW5jdGlvbiBDb3VudExpbWl0ZXIobWF4SXRlbXNQZXJGcmFtZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb3VudExpbWl0ZXIpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHRoYXQgY2FuIGJlIHByZXBhcmVkIGVhY2ggZnJhbWUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLm1heEl0ZW1zUGVyRnJhbWUgPSBtYXhJdGVtc1BlckZyYW1lO1xuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgaXRlbXMgdGhhdCBjYW4gYmUgcHJlcGFyZWQgaW4gdGhlIGN1cnJlbnQgZnJhbWUuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuaXRlbXNMZWZ0ID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldHMgYW55IGNvdW50aW5nIHByb3BlcnRpZXMgdG8gc3RhcnQgZnJlc2ggb24gYSBuZXcgZnJhbWUuXG4gICAqL1xuXG5cbiAgQ291bnRMaW1pdGVyLnByb3RvdHlwZS5iZWdpbkZyYW1lID0gZnVuY3Rpb24gYmVnaW5GcmFtZSgpIHtcbiAgICB0aGlzLml0ZW1zTGVmdCA9IHRoaXMubWF4SXRlbXNQZXJGcmFtZTtcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIHRvIHNlZSBpZiBhbm90aGVyIGl0ZW0gY2FuIGJlIHVwbG9hZGVkLiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbmNlIHBlciBpdGVtLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgaXRlbSBpcyBhbGxvd2VkIHRvIGJlIHVwbG9hZGVkLlxuICAgKi9cblxuXG4gIENvdW50TGltaXRlci5wcm90b3R5cGUuYWxsb3dlZFRvVXBsb2FkID0gZnVuY3Rpb24gYWxsb3dlZFRvVXBsb2FkKCkge1xuICAgIHJldHVybiB0aGlzLml0ZW1zTGVmdC0tID4gMDtcbiAgfTtcblxuICByZXR1cm4gQ291bnRMaW1pdGVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBDb3VudExpbWl0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db3VudExpbWl0ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX01lc2gyID0gcmVxdWlyZSgnLi9NZXNoJyk7XG5cbnZhciBfTWVzaDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NZXNoMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBUaGUgUGxhbmUgYWxsb3dzIHlvdSB0byBkcmF3IGEgdGV4dHVyZSBhY3Jvc3Mgc2V2ZXJhbCBwb2ludHMgYW5kIHRoZW0gbWFuaXB1bGF0ZSB0aGVzZSBwb2ludHNcbiAqXG4gKmBgYGpzXG4gKiBmb3IgKGxldCBpID0gMDsgaSA8IDIwOyBpKyspIHtcbiAqICAgICBwb2ludHMucHVzaChuZXcgUElYSS5Qb2ludChpICogNTAsIDApKTtcbiAqIH07XG4gKiBsZXQgUGxhbmUgPSBuZXcgUElYSS5QbGFuZShQSVhJLlRleHR1cmUuZnJvbUltYWdlKFwic25ha2UucG5nXCIpLCBwb2ludHMpO1xuICogIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5tZXNoLk1lc2hcbiAqIEBtZW1iZXJvZiBQSVhJLm1lc2hcbiAqXG4gKi9cbnZhciBQbGFuZSA9IGZ1bmN0aW9uIChfTWVzaCkge1xuICAgIF9pbmhlcml0cyhQbGFuZSwgX01lc2gpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgdGV4dHVyZSB0byB1c2Ugb24gdGhlIFBsYW5lLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2ZXJ0aWNlc1ggLSBUaGUgbnVtYmVyIG9mIHZlcnRpY2VzIGluIHRoZSB4LWF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmVydGljZXNZIC0gVGhlIG51bWJlciBvZiB2ZXJ0aWNlcyBpbiB0aGUgeS1heGlzXG4gICAgICovXG4gICAgZnVuY3Rpb24gUGxhbmUodGV4dHVyZSwgdmVydGljZXNYLCB2ZXJ0aWNlc1kpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBsYW5lKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVHJhY2tlciBmb3IgaWYgdGhlIFBsYW5lIGlzIHJlYWR5IHRvIGJlIGRyYXduLiBOZWVkZWQgYmVjYXVzZSBNZXNoIGN0b3IgY2FuXG4gICAgICAgICAqIGNhbGwgX29uVGV4dHVyZVVwZGF0ZWQgd2hpY2ggY291bGQgY2FsbCByZWZyZXNoIHRvbyBlYXJseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9NZXNoLmNhbGwodGhpcywgdGV4dHVyZSkpO1xuXG4gICAgICAgIF90aGlzLl9yZWFkeSA9IHRydWU7XG5cbiAgICAgICAgX3RoaXMudmVydGljZXNYID0gdmVydGljZXNYIHx8IDEwO1xuICAgICAgICBfdGhpcy52ZXJ0aWNlc1kgPSB2ZXJ0aWNlc1kgfHwgMTA7XG5cbiAgICAgICAgX3RoaXMuZHJhd01vZGUgPSBfTWVzaDMuZGVmYXVsdC5EUkFXX01PREVTLlRSSUFOR0xFUztcbiAgICAgICAgX3RoaXMucmVmcmVzaCgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVmcmVzaGVzIHBsYW5lIGNvb3JkaW5hdGVzXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgUGxhbmUucHJvdG90eXBlLl9yZWZyZXNoID0gZnVuY3Rpb24gX3JlZnJlc2goKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgdmFyIHRvdGFsID0gdGhpcy52ZXJ0aWNlc1ggKiB0aGlzLnZlcnRpY2VzWTtcbiAgICAgICAgdmFyIHZlcnRzID0gW107XG4gICAgICAgIHZhciBjb2xvcnMgPSBbXTtcbiAgICAgICAgdmFyIHV2cyA9IFtdO1xuICAgICAgICB2YXIgaW5kaWNlcyA9IFtdO1xuXG4gICAgICAgIHZhciBzZWdtZW50c1ggPSB0aGlzLnZlcnRpY2VzWCAtIDE7XG4gICAgICAgIHZhciBzZWdtZW50c1kgPSB0aGlzLnZlcnRpY2VzWSAtIDE7XG5cbiAgICAgICAgdmFyIHNpemVYID0gdGV4dHVyZS53aWR0aCAvIHNlZ21lbnRzWDtcbiAgICAgICAgdmFyIHNpemVZID0gdGV4dHVyZS5oZWlnaHQgLyBzZWdtZW50c1k7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgeCA9IGkgJSB0aGlzLnZlcnRpY2VzWDtcbiAgICAgICAgICAgIHZhciB5ID0gaSAvIHRoaXMudmVydGljZXNYIHwgMDtcblxuICAgICAgICAgICAgdmVydHMucHVzaCh4ICogc2l6ZVgsIHkgKiBzaXplWSk7XG5cbiAgICAgICAgICAgIHV2cy5wdXNoKHggLyBzZWdtZW50c1gsIHkgLyBzZWdtZW50c1kpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gIGNvbnNcblxuICAgICAgICB2YXIgdG90YWxTdWIgPSBzZWdtZW50c1ggKiBzZWdtZW50c1k7XG5cbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHRvdGFsU3ViOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgeHBvcyA9IF9pICUgc2VnbWVudHNYO1xuICAgICAgICAgICAgdmFyIHlwb3MgPSBfaSAvIHNlZ21lbnRzWCB8IDA7XG5cbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHlwb3MgKiB0aGlzLnZlcnRpY2VzWCArIHhwb3M7XG4gICAgICAgICAgICB2YXIgdmFsdWUyID0geXBvcyAqIHRoaXMudmVydGljZXNYICsgeHBvcyArIDE7XG4gICAgICAgICAgICB2YXIgdmFsdWUzID0gKHlwb3MgKyAxKSAqIHRoaXMudmVydGljZXNYICsgeHBvcztcbiAgICAgICAgICAgIHZhciB2YWx1ZTQgPSAoeXBvcyArIDEpICogdGhpcy52ZXJ0aWNlc1ggKyB4cG9zICsgMTtcblxuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHZhbHVlLCB2YWx1ZTIsIHZhbHVlMyk7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godmFsdWUyLCB2YWx1ZTQsIHZhbHVlMyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb25zb2xlLmxvZyhpbmRpY2VzKVxuICAgICAgICB0aGlzLnZlcnRpY2VzID0gbmV3IEZsb2F0MzJBcnJheSh2ZXJ0cyk7XG4gICAgICAgIHRoaXMudXZzID0gbmV3IEZsb2F0MzJBcnJheSh1dnMpO1xuICAgICAgICB0aGlzLmNvbG9ycyA9IG5ldyBGbG9hdDMyQXJyYXkoY29sb3JzKTtcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KGluZGljZXMpO1xuXG4gICAgICAgIHRoaXMuZGlydHkrKztcbiAgICAgICAgdGhpcy5pbmRleERpcnR5Kys7XG5cbiAgICAgICAgdGhpcy5tdWx0aXBseVV2cygpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbGVhciB0ZXh0dXJlIFVWcyB3aGVuIG5ldyB0ZXh0dXJlIGlzIHNldFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgUGxhbmUucHJvdG90eXBlLl9vblRleHR1cmVVcGRhdGUgPSBmdW5jdGlvbiBfb25UZXh0dXJlVXBkYXRlKCkge1xuICAgICAgICBfTWVzaDMuZGVmYXVsdC5wcm90b3R5cGUuX29uVGV4dHVyZVVwZGF0ZS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIC8vIHdhaXQgZm9yIHRoZSBQbGFuZSBjdG9yIHRvIGZpbmlzaCBiZWZvcmUgY2FsbGluZyByZWZyZXNoXG4gICAgICAgIGlmICh0aGlzLl9yZWFkeSkge1xuICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIFBsYW5lO1xufShfTWVzaDMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFBsYW5lO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGxhbmUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHRleHR1cmVQYXJzZXIocmVzb3VyY2UsIG5leHQpIHtcbiAgICAgICAgLy8gY3JlYXRlIGEgbmV3IHRleHR1cmUgaWYgdGhlIGRhdGEgaXMgYW4gSW1hZ2Ugb2JqZWN0XG4gICAgICAgIGlmIChyZXNvdXJjZS5kYXRhICYmIHJlc291cmNlLnR5cGUgPT09IF9yZXNvdXJjZUxvYWRlci5SZXNvdXJjZS5UWVBFLklNQUdFKSB7XG4gICAgICAgICAgICByZXNvdXJjZS50ZXh0dXJlID0gX1RleHR1cmUyLmRlZmF1bHQuZnJvbUxvYWRlcihyZXNvdXJjZS5kYXRhLCByZXNvdXJjZS51cmwsIHJlc291cmNlLm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIG5leHQoKTtcbiAgICB9O1xufTtcblxudmFyIF9yZXNvdXJjZUxvYWRlciA9IHJlcXVpcmUoJ3Jlc291cmNlLWxvYWRlcicpO1xuXG52YXIgX1RleHR1cmUgPSByZXF1aXJlKCcuLi9jb3JlL3RleHR1cmVzL1RleHR1cmUnKTtcblxudmFyIF9UZXh0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHR1cmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGV4dHVyZVBhcnNlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gc3ByaXRlc2hlZXRQYXJzZXIocmVzb3VyY2UsIG5leHQpIHtcbiAgICAgICAgdmFyIGltYWdlUmVzb3VyY2VOYW1lID0gcmVzb3VyY2UubmFtZSArICdfaW1hZ2UnO1xuXG4gICAgICAgIC8vIHNraXAgaWYgbm8gZGF0YSwgaXRzIG5vdCBqc29uLCBpdCBpc24ndCBzcHJpdGVzaGVldCBkYXRhLCBvciB0aGUgaW1hZ2UgcmVzb3VyY2UgYWxyZWFkeSBleGlzdHNcbiAgICAgICAgaWYgKCFyZXNvdXJjZS5kYXRhIHx8IHJlc291cmNlLnR5cGUgIT09IF9yZXNvdXJjZUxvYWRlci5SZXNvdXJjZS5UWVBFLkpTT04gfHwgIXJlc291cmNlLmRhdGEuZnJhbWVzIHx8IHRoaXMucmVzb3VyY2VzW2ltYWdlUmVzb3VyY2VOYW1lXSkge1xuICAgICAgICAgICAgbmV4dCgpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbG9hZE9wdGlvbnMgPSB7XG4gICAgICAgICAgICBjcm9zc09yaWdpbjogcmVzb3VyY2UuY3Jvc3NPcmlnaW4sXG4gICAgICAgICAgICBtZXRhZGF0YTogcmVzb3VyY2UubWV0YWRhdGEuaW1hZ2VNZXRhZGF0YSxcbiAgICAgICAgICAgIHBhcmVudFJlc291cmNlOiByZXNvdXJjZVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciByZXNvdXJjZVBhdGggPSBnZXRSZXNvdXJjZVBhdGgocmVzb3VyY2UsIHRoaXMuYmFzZVVybCk7XG5cbiAgICAgICAgLy8gbG9hZCB0aGUgaW1hZ2UgZm9yIHRoaXMgc2hlZXRcbiAgICAgICAgdGhpcy5hZGQoaW1hZ2VSZXNvdXJjZU5hbWUsIHJlc291cmNlUGF0aCwgbG9hZE9wdGlvbnMsIGZ1bmN0aW9uIG9uSW1hZ2VMb2FkKHJlcykge1xuICAgICAgICAgICAgaWYgKHJlcy5lcnJvcikge1xuICAgICAgICAgICAgICAgIG5leHQocmVzLmVycm9yKTtcblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHNwcml0ZXNoZWV0ID0gbmV3IF9jb3JlLlNwcml0ZXNoZWV0KHJlcy50ZXh0dXJlLmJhc2VUZXh0dXJlLCByZXNvdXJjZS5kYXRhLCByZXNvdXJjZS51cmwpO1xuXG4gICAgICAgICAgICBzcHJpdGVzaGVldC5wYXJzZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2Uuc3ByaXRlc2hlZXQgPSBzcHJpdGVzaGVldDtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS50ZXh0dXJlcyA9IHNwcml0ZXNoZWV0LnRleHR1cmVzO1xuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xufTtcblxuZXhwb3J0cy5nZXRSZXNvdXJjZVBhdGggPSBnZXRSZXNvdXJjZVBhdGg7XG5cbnZhciBfcmVzb3VyY2VMb2FkZXIgPSByZXF1aXJlKCdyZXNvdXJjZS1sb2FkZXInKTtcblxudmFyIF91cmwgPSByZXF1aXJlKCd1cmwnKTtcblxudmFyIF91cmwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdXJsKTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRSZXNvdXJjZVBhdGgocmVzb3VyY2UsIGJhc2VVcmwpIHtcbiAgICAvLyBQcmVwZW5kIHVybCBwYXRoIHVubGVzcyB0aGUgcmVzb3VyY2UgaW1hZ2UgaXMgYSBkYXRhIHVybFxuICAgIGlmIChyZXNvdXJjZS5pc0RhdGFVcmwpIHtcbiAgICAgICAgcmV0dXJuIHJlc291cmNlLmRhdGEubWV0YS5pbWFnZTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3VybDIuZGVmYXVsdC5yZXNvbHZlKHJlc291cmNlLnVybC5yZXBsYWNlKGJhc2VVcmwsICcnKSwgcmVzb3VyY2UuZGF0YS5tZXRhLmltYWdlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNwcml0ZXNoZWV0UGFyc2VyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZW5jb2RlQmluYXJ5ID0gZW5jb2RlQmluYXJ5O1xudmFyIF9rZXlTdHIgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0nO1xuXG5mdW5jdGlvbiBlbmNvZGVCaW5hcnkoaW5wdXQpIHtcbiAgICB2YXIgb3V0cHV0ID0gJyc7XG4gICAgdmFyIGlueCA9IDA7XG5cbiAgICB3aGlsZSAoaW54IDwgaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgIC8vIEZpbGwgYnl0ZSBidWZmZXIgYXJyYXlcbiAgICAgICAgdmFyIGJ5dGVidWZmZXIgPSBbMCwgMCwgMF07XG4gICAgICAgIHZhciBlbmNvZGVkQ2hhckluZGV4ZXMgPSBbMCwgMCwgMCwgMF07XG5cbiAgICAgICAgZm9yICh2YXIgam54ID0gMDsgam54IDwgYnl0ZWJ1ZmZlci5sZW5ndGg7ICsram54KSB7XG4gICAgICAgICAgICBpZiAoaW54IDwgaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgLy8gdGhyb3cgYXdheSBoaWdoLW9yZGVyIGJ5dGUsIGFzIGRvY3VtZW50ZWQgYXQ6XG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvRW4vVXNpbmdfWE1MSHR0cFJlcXVlc3QjSGFuZGxpbmdfYmluYXJ5X2RhdGFcbiAgICAgICAgICAgICAgICBieXRlYnVmZmVyW2pueF0gPSBpbnB1dC5jaGFyQ29kZUF0KGlueCsrKSAmIDB4ZmY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJ5dGVidWZmZXJbam54XSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgZWFjaCBlbmNvZGVkIGNoYXJhY3RlciwgNiBiaXRzIGF0IGEgdGltZVxuICAgICAgICAvLyBpbmRleCAxOiBmaXJzdCA2IGJpdHNcbiAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzBdID0gYnl0ZWJ1ZmZlclswXSA+PiAyO1xuXG4gICAgICAgIC8vIGluZGV4IDI6IHNlY29uZCA2IGJpdHMgKDIgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGlucHV0IGJ5dGUgMSArIDQgbW9zdCBzaWduaWZpY2FudCBiaXRzIGZyb20gYnl0ZSAyKVxuICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMV0gPSAoYnl0ZWJ1ZmZlclswXSAmIDB4MykgPDwgNCB8IGJ5dGVidWZmZXJbMV0gPj4gNDtcblxuICAgICAgICAvLyBpbmRleCAzOiB0aGlyZCA2IGJpdHMgKDQgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGlucHV0IGJ5dGUgMiArIDIgbW9zdCBzaWduaWZpY2FudCBiaXRzIGZyb20gYnl0ZSAzKVxuICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMl0gPSAoYnl0ZWJ1ZmZlclsxXSAmIDB4MGYpIDw8IDIgfCBieXRlYnVmZmVyWzJdID4+IDY7XG5cbiAgICAgICAgLy8gaW5kZXggMzogZm9ydGggNiBiaXRzICg2IGxlYXN0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBpbnB1dCBieXRlIDMpXG4gICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1szXSA9IGJ5dGVidWZmZXJbMl0gJiAweDNmO1xuXG4gICAgICAgIC8vIERldGVybWluZSB3aGV0aGVyIHBhZGRpbmcgaGFwcGVuZWQsIGFuZCBhZGp1c3QgYWNjb3JkaW5nbHlcbiAgICAgICAgdmFyIHBhZGRpbmdCeXRlcyA9IGlueCAtIChpbnB1dC5sZW5ndGggLSAxKTtcblxuICAgICAgICBzd2l0Y2ggKHBhZGRpbmdCeXRlcykge1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIC8vIFNldCBsYXN0IDIgY2hhcmFjdGVycyB0byBwYWRkaW5nIGNoYXJcbiAgICAgICAgICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbM10gPSA2NDtcbiAgICAgICAgICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMl0gPSA2NDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIC8vIFNldCBsYXN0IGNoYXJhY3RlciB0byBwYWRkaW5nIGNoYXJcbiAgICAgICAgICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbM10gPSA2NDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhazsgLy8gTm8gcGFkZGluZyAtIHByb2NlZWRcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5vdyB3ZSB3aWxsIGdyYWIgZWFjaCBhcHByb3ByaWF0ZSBjaGFyYWN0ZXIgb3V0IG9mIG91ciBrZXlzdHJpbmdcbiAgICAgICAgLy8gYmFzZWQgb24gb3VyIGluZGV4IGFycmF5IGFuZCBhcHBlbmQgaXQgdG8gdGhlIG91dHB1dCBzdHJpbmdcbiAgICAgICAgZm9yICh2YXIgX2pueCA9IDA7IF9qbnggPCBlbmNvZGVkQ2hhckluZGV4ZXMubGVuZ3RoOyArK19qbngpIHtcbiAgICAgICAgICAgIG91dHB1dCArPSBfa2V5U3RyLmNoYXJBdChlbmNvZGVkQ2hhckluZGV4ZXNbX2pueF0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dHB1dDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWI2NC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmVhY2hTZXJpZXMgPSBlYWNoU2VyaWVzO1xuZXhwb3J0cy5xdWV1ZSA9IHF1ZXVlO1xuLyoqXG4gKiBTbWFsbGVyIHZlcnNpb24gb2YgdGhlIGFzeW5jIGxpYnJhcnkgY29uc3RydWN0cy5cbiAqXG4gKi9cbmZ1bmN0aW9uIF9ub29wKCkge30gLyogZW1wdHkgKi9cblxuLyoqXG4gKiBJdGVyYXRlcyBhbiBhcnJheSBpbiBzZXJpZXMuXG4gKlxuICogQHBhcmFtIHtBcnJheS48Kj59IGFycmF5IC0gQXJyYXkgdG8gaXRlcmF0ZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGl0ZXJhdG9yIC0gRnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCBlbGVtZW50LlxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gZG9uZSwgb3Igb24gZXJyb3IuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtkZWZlck5leHQ9ZmFsc2VdIC0gQnJlYWsgc3luY2hyb25vdXMgZWFjaCBsb29wIGJ5IGNhbGxpbmcgbmV4dCB3aXRoIGEgc2V0VGltZW91dCBvZiAxLlxuICovXG5mdW5jdGlvbiBlYWNoU2VyaWVzKGFycmF5LCBpdGVyYXRvciwgY2FsbGJhY2ssIGRlZmVyTmV4dCkge1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgbGVuID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgKGZ1bmN0aW9uIG5leHQoZXJyKSB7XG4gICAgICAgIGlmIChlcnIgfHwgaSA9PT0gbGVuKSB7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVmZXJOZXh0KSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpdGVyYXRvcihhcnJheVtpKytdLCBuZXh0KTtcbiAgICAgICAgICAgIH0sIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaXRlcmF0b3IoYXJyYXlbaSsrXSwgbmV4dCk7XG4gICAgICAgIH1cbiAgICB9KSgpO1xufVxuXG4vKipcbiAqIEVuc3VyZXMgYSBmdW5jdGlvbiBpcyBvbmx5IGNhbGxlZCBvbmNlLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbn0gVGhlIHdyYXBwaW5nIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBvbmx5T25jZShmbikge1xuICAgIHJldHVybiBmdW5jdGlvbiBvbmNlV3JhcHBlcigpIHtcbiAgICAgICAgaWYgKGZuID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbGxiYWNrIHdhcyBhbHJlYWR5IGNhbGxlZC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjYWxsRm4gPSBmbjtcblxuICAgICAgICBmbiA9IG51bGw7XG4gICAgICAgIGNhbGxGbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG59XG5cbi8qKlxuICogQXN5bmMgcXVldWUgaW1wbGVtZW50YXRpb24sXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gd29ya2VyIC0gVGhlIHdvcmtlciBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIHRhc2suXG4gKiBAcGFyYW0ge251bWJlcn0gY29uY3VycmVuY3kgLSBIb3cgbWFueSB3b3JrZXJzIHRvIHJ1biBpbiBwYXJyYWxsZWwuXG4gKiBAcmV0dXJuIHsqfSBUaGUgYXN5bmMgcXVldWUgb2JqZWN0LlxuICovXG5mdW5jdGlvbiBxdWV1ZSh3b3JrZXIsIGNvbmN1cnJlbmN5KSB7XG4gICAgaWYgKGNvbmN1cnJlbmN5ID09IG51bGwpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgICAgICBjb25jdXJyZW5jeSA9IDE7XG4gICAgfSBlbHNlIGlmIChjb25jdXJyZW5jeSA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbmN1cnJlbmN5IG11c3Qgbm90IGJlIHplcm8nKTtcbiAgICB9XG5cbiAgICB2YXIgd29ya2VycyA9IDA7XG4gICAgdmFyIHEgPSB7XG4gICAgICAgIF90YXNrczogW10sXG4gICAgICAgIGNvbmN1cnJlbmN5OiBjb25jdXJyZW5jeSxcbiAgICAgICAgc2F0dXJhdGVkOiBfbm9vcCxcbiAgICAgICAgdW5zYXR1cmF0ZWQ6IF9ub29wLFxuICAgICAgICBidWZmZXI6IGNvbmN1cnJlbmN5IC8gNCxcbiAgICAgICAgZW1wdHk6IF9ub29wLFxuICAgICAgICBkcmFpbjogX25vb3AsXG4gICAgICAgIGVycm9yOiBfbm9vcCxcbiAgICAgICAgc3RhcnRlZDogZmFsc2UsXG4gICAgICAgIHBhdXNlZDogZmFsc2UsXG4gICAgICAgIHB1c2g6IGZ1bmN0aW9uIHB1c2goZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIF9pbnNlcnQoZGF0YSwgZmFsc2UsIGNhbGxiYWNrKTtcbiAgICAgICAgfSxcbiAgICAgICAga2lsbDogZnVuY3Rpb24ga2lsbCgpIHtcbiAgICAgICAgICAgIHdvcmtlcnMgPSAwO1xuICAgICAgICAgICAgcS5kcmFpbiA9IF9ub29wO1xuICAgICAgICAgICAgcS5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgICAgICBxLl90YXNrcyA9IFtdO1xuICAgICAgICB9LFxuICAgICAgICB1bnNoaWZ0OiBmdW5jdGlvbiB1bnNoaWZ0KGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBfaW5zZXJ0KGRhdGEsIHRydWUsIGNhbGxiYWNrKTtcbiAgICAgICAgfSxcbiAgICAgICAgcHJvY2VzczogZnVuY3Rpb24gcHJvY2VzcygpIHtcbiAgICAgICAgICAgIHdoaWxlICghcS5wYXVzZWQgJiYgd29ya2VycyA8IHEuY29uY3VycmVuY3kgJiYgcS5fdGFza3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhc2sgPSBxLl90YXNrcy5zaGlmdCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHEuX3Rhc2tzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBxLmVtcHR5KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgd29ya2VycyArPSAxO1xuXG4gICAgICAgICAgICAgICAgaWYgKHdvcmtlcnMgPT09IHEuY29uY3VycmVuY3kpIHtcbiAgICAgICAgICAgICAgICAgICAgcS5zYXR1cmF0ZWQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB3b3JrZXIodGFzay5kYXRhLCBvbmx5T25jZShfbmV4dCh0YXNrKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBsZW5ndGg6IGZ1bmN0aW9uIGxlbmd0aCgpIHtcbiAgICAgICAgICAgIHJldHVybiBxLl90YXNrcy5sZW5ndGg7XG4gICAgICAgIH0sXG4gICAgICAgIHJ1bm5pbmc6IGZ1bmN0aW9uIHJ1bm5pbmcoKSB7XG4gICAgICAgICAgICByZXR1cm4gd29ya2VycztcbiAgICAgICAgfSxcbiAgICAgICAgaWRsZTogZnVuY3Rpb24gaWRsZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBxLl90YXNrcy5sZW5ndGggKyB3b3JrZXJzID09PSAwO1xuICAgICAgICB9LFxuICAgICAgICBwYXVzZTogZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgICAgICAgICBpZiAocS5wYXVzZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHEucGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVzdW1lOiBmdW5jdGlvbiByZXN1bWUoKSB7XG4gICAgICAgICAgICBpZiAocS5wYXVzZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBxLnBhdXNlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAvLyBOZWVkIHRvIGNhbGwgcS5wcm9jZXNzIG9uY2UgcGVyIGNvbmN1cnJlbnRcbiAgICAgICAgICAgIC8vIHdvcmtlciB0byBwcmVzZXJ2ZSBmdWxsIGNvbmN1cnJlbmN5IGFmdGVyIHBhdXNlXG4gICAgICAgICAgICBmb3IgKHZhciB3ID0gMTsgdyA8PSBxLmNvbmN1cnJlbmN5OyB3KyspIHtcbiAgICAgICAgICAgICAgICBxLnByb2Nlc3MoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBfaW5zZXJ0KGRhdGEsIGluc2VydEF0RnJvbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChjYWxsYmFjayAhPSBudWxsICYmIHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd0YXNrIGNhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcS5zdGFydGVkID0gdHJ1ZTtcblxuICAgICAgICBpZiAoZGF0YSA9PSBudWxsICYmIHEuaWRsZSgpKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgICAgICAgICAvLyBjYWxsIGRyYWluIGltbWVkaWF0ZWx5IGlmIHRoZXJlIGFyZSBubyB0YXNrc1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHEuZHJhaW4oKTtcbiAgICAgICAgICAgIH0sIDEpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaXRlbSA9IHtcbiAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICBjYWxsYmFjazogdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nID8gY2FsbGJhY2sgOiBfbm9vcFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChpbnNlcnRBdEZyb250KSB7XG4gICAgICAgICAgICBxLl90YXNrcy51bnNoaWZ0KGl0ZW0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcS5fdGFza3MucHVzaChpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHEucHJvY2VzcygpO1xuICAgICAgICB9LCAxKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfbmV4dCh0YXNrKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgICAgd29ya2VycyAtPSAxO1xuXG4gICAgICAgICAgICB0YXNrLmNhbGxiYWNrLmFwcGx5KHRhc2ssIGFyZ3VtZW50cyk7XG5cbiAgICAgICAgICAgIGlmIChhcmd1bWVudHNbMF0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICAgICAgICAgICAgICBxLmVycm9yKGFyZ3VtZW50c1swXSwgdGFzay5kYXRhKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHdvcmtlcnMgPD0gcS5jb25jdXJyZW5jeSAtIHEuYnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgcS51bnNhdHVyYXRlZCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocS5pZGxlKCkpIHtcbiAgICAgICAgICAgICAgICBxLmRyYWluKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHEucHJvY2VzcygpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBxO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXN5bmMuanMubWFwIiwiJ3VzZSBzdHJpY3QnXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcGFyc2VVUkkgKHN0ciwgb3B0cykge1xuICBvcHRzID0gb3B0cyB8fCB7fVxuXG4gIHZhciBvID0ge1xuICAgIGtleTogWydzb3VyY2UnLCAncHJvdG9jb2wnLCAnYXV0aG9yaXR5JywgJ3VzZXJJbmZvJywgJ3VzZXInLCAncGFzc3dvcmQnLCAnaG9zdCcsICdwb3J0JywgJ3JlbGF0aXZlJywgJ3BhdGgnLCAnZGlyZWN0b3J5JywgJ2ZpbGUnLCAncXVlcnknLCAnYW5jaG9yJ10sXG4gICAgcToge1xuICAgICAgbmFtZTogJ3F1ZXJ5S2V5JyxcbiAgICAgIHBhcnNlcjogLyg/Ol58JikoW14mPV0qKT0/KFteJl0qKS9nXG4gICAgfSxcbiAgICBwYXJzZXI6IHtcbiAgICAgIHN0cmljdDogL14oPzooW146XFwvPyNdKyk6KT8oPzpcXC9cXC8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcXC8/I10qKSg/OjooXFxkKikpPykpPygoKCg/OltePyNcXC9dKlxcLykqKShbXj8jXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pLyxcbiAgICAgIGxvb3NlOiAvXig/Oig/IVteOkBdKzpbXjpAXFwvXSpAKShbXjpcXC8/Iy5dKyk6KT8oPzpcXC9cXC8pPygoPzooKFteOkBdKikoPzo6KFteOkBdKikpPyk/QCk/KFteOlxcLz8jXSopKD86OihcXGQqKSk/KSgoKFxcLyg/OltePyNdKD8hW14/I1xcL10qXFwuW14/I1xcLy5dKyg/Ols/I118JCkpKSpcXC8/KT8oW14/I1xcL10qKSkoPzpcXD8oW14jXSopKT8oPzojKC4qKSk/KS9cbiAgICB9XG4gIH1cblxuICB2YXIgbSA9IG8ucGFyc2VyW29wdHMuc3RyaWN0TW9kZSA/ICdzdHJpY3QnIDogJ2xvb3NlJ10uZXhlYyhzdHIpXG4gIHZhciB1cmkgPSB7fVxuICB2YXIgaSA9IDE0XG5cbiAgd2hpbGUgKGktLSkgdXJpW28ua2V5W2ldXSA9IG1baV0gfHwgJydcblxuICB1cmlbby5xLm5hbWVdID0ge31cbiAgdXJpW28ua2V5WzEyXV0ucmVwbGFjZShvLnEucGFyc2VyLCBmdW5jdGlvbiAoJDAsICQxLCAkMikge1xuICAgIGlmICgkMSkgdXJpW28ucS5uYW1lXVskMV0gPSAkMlxuICB9KVxuXG4gIHJldHVybiB1cmlcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfVxuXG52YXIgTWluaVNpZ25hbEJpbmRpbmcgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNaW5pU2lnbmFsQmluZGluZyhmbiwgb25jZSwgdGhpc0FyZykge1xuICAgIGlmIChvbmNlID09PSB1bmRlZmluZWQpIG9uY2UgPSBmYWxzZTtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNaW5pU2lnbmFsQmluZGluZyk7XG5cbiAgICB0aGlzLl9mbiA9IGZuO1xuICAgIHRoaXMuX29uY2UgPSBvbmNlO1xuICAgIHRoaXMuX3RoaXNBcmcgPSB0aGlzQXJnO1xuICAgIHRoaXMuX25leHQgPSB0aGlzLl9wcmV2ID0gdGhpcy5fb3duZXIgPSBudWxsO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE1pbmlTaWduYWxCaW5kaW5nLCBbe1xuICAgIGtleTogJ2RldGFjaCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRldGFjaCgpIHtcbiAgICAgIGlmICh0aGlzLl9vd25lciA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICAgICAgdGhpcy5fb3duZXIuZGV0YWNoKHRoaXMpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE1pbmlTaWduYWxCaW5kaW5nO1xufSkoKTtcblxuZnVuY3Rpb24gX2FkZE1pbmlTaWduYWxCaW5kaW5nKHNlbGYsIG5vZGUpIHtcbiAgaWYgKCFzZWxmLl9oZWFkKSB7XG4gICAgc2VsZi5faGVhZCA9IG5vZGU7XG4gICAgc2VsZi5fdGFpbCA9IG5vZGU7XG4gIH0gZWxzZSB7XG4gICAgc2VsZi5fdGFpbC5fbmV4dCA9IG5vZGU7XG4gICAgbm9kZS5fcHJldiA9IHNlbGYuX3RhaWw7XG4gICAgc2VsZi5fdGFpbCA9IG5vZGU7XG4gIH1cblxuICBub2RlLl9vd25lciA9IHNlbGY7XG5cbiAgcmV0dXJuIG5vZGU7XG59XG5cbnZhciBNaW5pU2lnbmFsID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTWluaVNpZ25hbCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWluaVNpZ25hbCk7XG5cbiAgICB0aGlzLl9oZWFkID0gdGhpcy5fdGFpbCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhNaW5pU2lnbmFsLCBbe1xuICAgIGtleTogJ2hhbmRsZXJzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlcnMoKSB7XG4gICAgICB2YXIgZXhpc3RzID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBhcmd1bWVudHNbMF07XG5cbiAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcblxuICAgICAgaWYgKGV4aXN0cykgcmV0dXJuICEhbm9kZTtcblxuICAgICAgdmFyIGVlID0gW107XG5cbiAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIGVlLnB1c2gobm9kZSk7XG4gICAgICAgIG5vZGUgPSBub2RlLl9uZXh0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaGFzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFzKG5vZGUpIHtcbiAgICAgIGlmICghKG5vZGUgaW5zdGFuY2VvZiBNaW5pU2lnbmFsQmluZGluZykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI2hhcygpOiBGaXJzdCBhcmcgbXVzdCBiZSBhIE1pbmlTaWduYWxCaW5kaW5nIG9iamVjdC4nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5vZGUuX293bmVyID09PSB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2Rpc3BhdGNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcGF0Y2goKSB7XG4gICAgICB2YXIgbm9kZSA9IHRoaXMuX2hlYWQ7XG5cbiAgICAgIGlmICghbm9kZSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICBpZiAobm9kZS5fb25jZSkgdGhpcy5kZXRhY2gobm9kZSk7XG4gICAgICAgIG5vZGUuX2ZuLmFwcGx5KG5vZGUuX3RoaXNBcmcsIGFyZ3VtZW50cyk7XG4gICAgICAgIG5vZGUgPSBub2RlLl9uZXh0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdhZGQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGQoZm4pIHtcbiAgICAgIHZhciB0aGlzQXJnID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGFyZ3VtZW50c1sxXTtcblxuICAgICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pbmlTaWduYWwjYWRkKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgRnVuY3Rpb24uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX2FkZE1pbmlTaWduYWxCaW5kaW5nKHRoaXMsIG5ldyBNaW5pU2lnbmFsQmluZGluZyhmbiwgZmFsc2UsIHRoaXNBcmcpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbmNlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25jZShmbikge1xuICAgICAgdmFyIHRoaXNBcmcgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBudWxsIDogYXJndW1lbnRzWzFdO1xuXG4gICAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNvbmNlKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgRnVuY3Rpb24uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX2FkZE1pbmlTaWduYWxCaW5kaW5nKHRoaXMsIG5ldyBNaW5pU2lnbmFsQmluZGluZyhmbiwgdHJ1ZSwgdGhpc0FyZykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2RldGFjaCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRldGFjaChub2RlKSB7XG4gICAgICBpZiAoIShub2RlIGluc3RhbmNlb2YgTWluaVNpZ25hbEJpbmRpbmcpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNkZXRhY2goKTogRmlyc3QgYXJnIG11c3QgYmUgYSBNaW5pU2lnbmFsQmluZGluZyBvYmplY3QuJyk7XG4gICAgICB9XG4gICAgICBpZiAobm9kZS5fb3duZXIgIT09IHRoaXMpIHJldHVybiB0aGlzO1xuXG4gICAgICBpZiAobm9kZS5fcHJldikgbm9kZS5fcHJldi5fbmV4dCA9IG5vZGUuX25leHQ7XG4gICAgICBpZiAobm9kZS5fbmV4dCkgbm9kZS5fbmV4dC5fcHJldiA9IG5vZGUuX3ByZXY7XG5cbiAgICAgIGlmIChub2RlID09PSB0aGlzLl9oZWFkKSB7XG4gICAgICAgIHRoaXMuX2hlYWQgPSBub2RlLl9uZXh0O1xuICAgICAgICBpZiAobm9kZS5fbmV4dCA9PT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMuX3RhaWwgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG5vZGUgPT09IHRoaXMuX3RhaWwpIHtcbiAgICAgICAgdGhpcy5fdGFpbCA9IG5vZGUuX3ByZXY7XG4gICAgICAgIHRoaXMuX3RhaWwuX25leHQgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBub2RlLl9vd25lciA9IG51bGw7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkZXRhY2hBbGwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXRhY2hBbGwoKSB7XG4gICAgICB2YXIgbm9kZSA9IHRoaXMuX2hlYWQ7XG4gICAgICBpZiAoIW5vZGUpIHJldHVybiB0aGlzO1xuXG4gICAgICB0aGlzLl9oZWFkID0gdGhpcy5fdGFpbCA9IG51bGw7XG5cbiAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIG5vZGUuX293bmVyID0gbnVsbDtcbiAgICAgICAgbm9kZSA9IG5vZGUuX25leHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWluaVNpZ25hbDtcbn0pKCk7XG5cbk1pbmlTaWduYWwuTWluaVNpZ25hbEJpbmRpbmcgPSBNaW5pU2lnbmFsQmluZGluZztcblxuZXhwb3J0c1snZGVmYXVsdCddID0gTWluaVNpZ25hbDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5wYXJzZSA9IHBhcnNlO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGJpdG1hcEZvbnRQYXJzZXIocmVzb3VyY2UsIG5leHQpIHtcbiAgICAgICAgLy8gc2tpcCBpZiBubyBkYXRhIG9yIG5vdCB4bWwgZGF0YVxuICAgICAgICBpZiAoIXJlc291cmNlLmRhdGEgfHwgcmVzb3VyY2UudHlwZSAhPT0gX3Jlc291cmNlTG9hZGVyLlJlc291cmNlLlRZUEUuWE1MKSB7XG4gICAgICAgICAgICBuZXh0KCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNraXAgaWYgbm90IGJpdG1hcCBmb250IGRhdGEsIHVzaW5nIHNvbWUgc2lsbHkgZHVjay10eXBpbmdcbiAgICAgICAgaWYgKHJlc291cmNlLmRhdGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3BhZ2UnKS5sZW5ndGggPT09IDAgfHwgcmVzb3VyY2UuZGF0YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5mbycpLmxlbmd0aCA9PT0gMCB8fCByZXNvdXJjZS5kYXRhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbmZvJylbMF0uZ2V0QXR0cmlidXRlKCdmYWNlJykgPT09IG51bGwpIHtcbiAgICAgICAgICAgIG5leHQoKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHhtbFVybCA9ICFyZXNvdXJjZS5pc0RhdGFVcmwgPyBwYXRoLmRpcm5hbWUocmVzb3VyY2UudXJsKSA6ICcnO1xuXG4gICAgICAgIGlmIChyZXNvdXJjZS5pc0RhdGFVcmwpIHtcbiAgICAgICAgICAgIGlmICh4bWxVcmwgPT09ICcuJykge1xuICAgICAgICAgICAgICAgIHhtbFVybCA9ICcnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5iYXNlVXJsICYmIHhtbFVybCkge1xuICAgICAgICAgICAgICAgIC8vIGlmIGJhc2V1cmwgaGFzIGEgdHJhaWxpbmcgc2xhc2ggdGhlbiBhZGQgb25lIHRvIHhtbFVybCBzbyB0aGUgcmVwbGFjZSB3b3JrcyBiZWxvd1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhc2VVcmwuY2hhckF0KHRoaXMuYmFzZVVybC5sZW5ndGggLSAxKSA9PT0gJy8nKSB7XG4gICAgICAgICAgICAgICAgICAgIHhtbFVybCArPSAnLyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVtb3ZlIGJhc2VVcmwgZnJvbSB4bWxVcmxcbiAgICAgICAgeG1sVXJsID0geG1sVXJsLnJlcGxhY2UodGhpcy5iYXNlVXJsLCAnJyk7XG5cbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgYW4geG1sVXJsIG5vdywgaXQgbmVlZHMgYSB0cmFpbGluZyBzbGFzaC4gRW5zdXJlIHRoYXQgaXQgZG9lcyBpZiB0aGUgc3RyaW5nIGlzbid0IGVtcHR5LlxuICAgICAgICBpZiAoeG1sVXJsICYmIHhtbFVybC5jaGFyQXQoeG1sVXJsLmxlbmd0aCAtIDEpICE9PSAnLycpIHtcbiAgICAgICAgICAgIHhtbFVybCArPSAnLyc7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdGV4dHVyZVVybCA9IHhtbFVybCArIHJlc291cmNlLmRhdGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3BhZ2UnKVswXS5nZXRBdHRyaWJ1dGUoJ2ZpbGUnKTtcblxuICAgICAgICBpZiAoX2NvcmUudXRpbHMuVGV4dHVyZUNhY2hlW3RleHR1cmVVcmxdKSB7XG4gICAgICAgICAgICAvLyByZXVzZSBleGlzdGluZyB0ZXh0dXJlXG4gICAgICAgICAgICBwYXJzZShyZXNvdXJjZSwgX2NvcmUudXRpbHMuVGV4dHVyZUNhY2hlW3RleHR1cmVVcmxdKTtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBsb2FkT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBjcm9zc09yaWdpbjogcmVzb3VyY2UuY3Jvc3NPcmlnaW4sXG4gICAgICAgICAgICAgICAgbG9hZFR5cGU6IF9yZXNvdXJjZUxvYWRlci5SZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IHJlc291cmNlLm1ldGFkYXRhLmltYWdlTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgcGFyZW50UmVzb3VyY2U6IHJlc291cmNlXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBsb2FkIHRoZSB0ZXh0dXJlIGZvciB0aGUgZm9udFxuICAgICAgICAgICAgdGhpcy5hZGQocmVzb3VyY2UubmFtZSArICdfaW1hZ2UnLCB0ZXh0dXJlVXJsLCBsb2FkT3B0aW9ucywgZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgICAgIHBhcnNlKHJlc291cmNlLCByZXMudGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufTtcblxudmFyIF9wYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG52YXIgcGF0aCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9wYXRoKTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG52YXIgX3Jlc291cmNlTG9hZGVyID0gcmVxdWlyZSgncmVzb3VyY2UtbG9hZGVyJyk7XG5cbnZhciBfZXh0cmFzID0gcmVxdWlyZSgnLi4vZXh0cmFzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbi8qKlxuICogUmVnaXN0ZXIgYSBCaXRtYXBUZXh0IGZvbnQgZnJvbSBsb2FkZXIgcmVzb3VyY2UuXG4gKlxuICogQGZ1bmN0aW9uIHBhcnNlQml0bWFwRm9udERhdGFcbiAqIEBtZW1iZXJvZiBQSVhJLmxvYWRlcnNcbiAqIEBwYXJhbSB7UElYSS5sb2FkZXJzLlJlc291cmNlfSByZXNvdXJjZSAtIExvYWRlciByZXNvdXJjZS5cbiAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gUmVmZXJlbmNlIHRvIHRleHR1cmUuXG4gKi9cbmZ1bmN0aW9uIHBhcnNlKHJlc291cmNlLCB0ZXh0dXJlKSB7XG4gICAgcmVzb3VyY2UuYml0bWFwRm9udCA9IF9leHRyYXMuQml0bWFwVGV4dC5yZWdpc3RlckZvbnQocmVzb3VyY2UuZGF0YSwgdGV4dHVyZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iaXRtYXBGb250UGFyc2VyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbi8qKlxuICogRGVmYXVsdCBwcm9wZXJ0eSB2YWx1ZXMgb2YgaW50ZXJhY3RpdmUgb2JqZWN0c1xuICogVXNlZCBieSB7QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXJ9IHRvIGF1dG9tYXRpY2FsbHkgZ2l2ZSBhbGwgRGlzcGxheU9iamVjdHMgdGhlc2UgcHJvcGVydGllc1xuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBpbnRlcmFjdGl2ZVRhcmdldFxuICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb25cbiAqIEBleGFtcGxlXG4gKiAgICAgIGZ1bmN0aW9uIE15T2JqZWN0KCkge31cbiAqXG4gKiAgICAgIE9iamVjdC5hc3NpZ24oXG4gKiAgICAgICAgICBjb3JlLkRpc3BsYXlPYmplY3QucHJvdG90eXBlLFxuICogICAgICAgICAgUElYSS5pbnRlcmFjdGlvbi5pbnRlcmFjdGl2ZVRhcmdldFxuICogICAgICApO1xuICovXG5leHBvcnRzLmRlZmF1bHQgPSB7XG5cbiAgLyoqXG4gICAqIEVuYWJsZSBpbnRlcmFjdGlvbiBldmVudHMgZm9yIHRoZSBEaXNwbGF5T2JqZWN0LiBUb3VjaCwgcG9pbnRlciBhbmQgbW91c2VcbiAgICogZXZlbnRzIHdpbGwgbm90IGJlIGVtaXR0ZWQgdW5sZXNzIGBpbnRlcmFjdGl2ZWAgaXMgc2V0IHRvIGB0cnVlYC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgKiBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgKiBzcHJpdGUub24oJ3RhcCcsIChldmVudCkgPT4ge1xuICAgKiAgICAvL2hhbmRsZSBldmVudFxuICAgKiB9KTtcbiAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICovXG4gIGludGVyYWN0aXZlOiBmYWxzZSxcblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBpZiB0aGUgY2hpbGRyZW4gdG8gdGhlIGRpc3BsYXlPYmplY3QgY2FuIGJlIGNsaWNrZWQvdG91Y2hlZFxuICAgKiBTZXR0aW5nIHRoaXMgdG8gZmFsc2UgYWxsb3dzIFBpeGlKUyB0byBieXBhc3MgYSByZWN1cnNpdmUgYGhpdFRlc3RgIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBQSVhJLkNvbnRhaW5lciNcbiAgICovXG4gIGludGVyYWN0aXZlQ2hpbGRyZW46IHRydWUsXG5cbiAgLyoqXG4gICAqIEludGVyYWN0aW9uIHNoYXBlLiBDaGlsZHJlbiB3aWxsIGJlIGhpdCBmaXJzdCwgdGhlbiB0aGlzIHNoYXBlIHdpbGwgYmUgY2hlY2tlZC5cbiAgICogU2V0dGluZyB0aGlzIHdpbGwgY2F1c2UgdGhpcyBzaGFwZSB0byBiZSBjaGVja2VkIGluIGhpdCB0ZXN0cyByYXRoZXIgdGhhbiB0aGUgZGlzcGxheU9iamVjdCdzIGJvdW5kcy5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgKiBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgKiBzcHJpdGUuaGl0QXJlYSA9IG5ldyBQSVhJLlJlY3RhbmdsZSgwLCAwLCAxMDAsIDEwMCk7XG4gICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfFBJWEkuQ2lyY2xlfFBJWEkuRWxsaXBzZXxQSVhJLlBvbHlnb258UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfVxuICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgKi9cbiAgaGl0QXJlYTogbnVsbCxcblxuICAvKipcbiAgICogSWYgZW5hYmxlZCwgdGhlIG1vdXNlIGN1cnNvciB1c2UgdGhlIHBvaW50ZXIgYmVoYXZpb3Igd2hlbiBob3ZlcmVkIG92ZXIgdGhlIGRpc3BsYXlPYmplY3QgaWYgaXQgaXMgaW50ZXJhY3RpdmVcbiAgICogU2V0dGluZyB0aGlzIGNoYW5nZXMgdGhlICdjdXJzb3InIHByb3BlcnR5IHRvIGAncG9pbnRlcidgLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAqIHNwcml0ZS5pbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAqIHNwcml0ZS5idXR0b25Nb2RlID0gdHJ1ZTtcbiAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICovXG4gIGdldCBidXR0b25Nb2RlKCkge1xuICAgIHJldHVybiB0aGlzLmN1cnNvciA9PT0gJ3BvaW50ZXInO1xuICB9LFxuICBzZXQgYnV0dG9uTW9kZSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgdGhpcy5jdXJzb3IgPSAncG9pbnRlcic7XG4gICAgfSBlbHNlIGlmICh0aGlzLmN1cnNvciA9PT0gJ3BvaW50ZXInKSB7XG4gICAgICB0aGlzLmN1cnNvciA9IG51bGw7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBUaGlzIGRlZmluZXMgd2hhdCBjdXJzb3IgbW9kZSBpcyB1c2VkIHdoZW4gdGhlIG1vdXNlIGN1cnNvclxuICAgKiBpcyBob3ZlcmVkIG92ZXIgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICogc3ByaXRlLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICogc3ByaXRlLmN1cnNvciA9ICd3YWl0JztcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9DU1MvY3Vyc29yXG4gICAqXG4gICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICovXG4gIGN1cnNvcjogbnVsbCxcblxuICAvKipcbiAgICogSW50ZXJuYWwgc2V0IG9mIGFsbCBhY3RpdmUgcG9pbnRlcnMsIGJ5IGlkZW50aWZpZXJcbiAgICpcbiAgICogQG1lbWJlciB7TWFwPG51bWJlciwgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGE+fVxuICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0IHRyYWNrZWRQb2ludGVycygpIHtcbiAgICBpZiAodGhpcy5fdHJhY2tlZFBvaW50ZXJzID09PSB1bmRlZmluZWQpIHRoaXMuX3RyYWNrZWRQb2ludGVycyA9IHt9O1xuXG4gICAgcmV0dXJuIHRoaXMuX3RyYWNrZWRQb2ludGVycztcbiAgfSxcblxuICAvKipcbiAgICogTWFwIG9mIGFsbCB0cmFja2VkIHBvaW50ZXJzLCBieSBpZGVudGlmaWVyLiBVc2UgdHJhY2tlZFBvaW50ZXJzIHRvIGFjY2Vzcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHR5cGUge01hcDxudW1iZXIsIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhPn1cbiAgICovXG4gIF90cmFja2VkUG9pbnRlcnM6IHVuZGVmaW5lZFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVyYWN0aXZlVGFyZ2V0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIERpc3BsYXlPYmplY3RzIHdpdGggdGhlIHtAbGluayBQSVhJLmludGVyYWN0aW9uLmludGVyYWN0aXZlVGFyZ2V0fSBtaXhpbiB1c2UgdGhpcyBjbGFzcyB0byB0cmFjayBpbnRlcmFjdGlvbnNcbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSS5pbnRlcmFjdGlvblxuICovXG52YXIgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBvaW50ZXJJZCAtIFVuaXF1ZSBwb2ludGVyIGlkIG9mIHRoZSBldmVudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhKHBvaW50ZXJJZCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEpO1xuXG4gICAgICAgIHRoaXMuX3BvaW50ZXJJZCA9IHBvaW50ZXJJZDtcbiAgICAgICAgdGhpcy5fZmxhZ3MgPSBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUy5OT05FO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZmxhZyAtIFRoZSBpbnRlcmFjdGlvbiBmbGFnIHRvIHNldFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0geW4gLSBTaG91bGQgdGhlIGZsYWcgYmUgc2V0IG9yIHVuc2V0XG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLnByb3RvdHlwZS5fZG9TZXQgPSBmdW5jdGlvbiBfZG9TZXQoZmxhZywgeW4pIHtcbiAgICAgICAgaWYgKHluKSB7XG4gICAgICAgICAgICB0aGlzLl9mbGFncyA9IHRoaXMuX2ZsYWdzIHwgZmxhZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2ZsYWdzID0gdGhpcy5fZmxhZ3MgJiB+ZmxhZztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVbmlxdWUgcG9pbnRlciBpZCBvZiB0aGUgZXZlbnRcbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLCBbe1xuICAgICAgICBrZXk6IFwicG9pbnRlcklkXCIsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BvaW50ZXJJZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdGF0ZSBvZiB0aGUgdHJhY2tpbmcgZGF0YSwgZXhwcmVzc2VkIGFzIGJpdCBmbGFnc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uVHJhY2tpbmdEYXRhI1xuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcImZsYWdzXCIsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZsYWdzO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgZmxhZ3MgZm9yIHRoZSB0cmFja2luZyBkYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmbGFncyAtIEZsYWdzIHRvIHNldFxuICAgICAgICAgKi9cbiAgICAgICAgLFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmbGFncykge1xuICAgICAgICAgICAgdGhpcy5fZmxhZ3MgPSBmbGFncztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJcyB0aGUgdHJhY2tlZCBldmVudCBpbmFjdGl2ZSAobm90IG92ZXIgb3IgZG93bik/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEjXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6IFwibm9uZVwiLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mbGFncyA9PT0gdGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5OT05FO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElzIHRoZSB0cmFja2VkIGV2ZW50IG92ZXIgdGhlIERpc3BsYXlPYmplY3Q/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uVHJhY2tpbmdEYXRhI1xuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcIm92ZXJcIixcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuX2ZsYWdzICYgdGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5PVkVSKSAhPT0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdGhlIG92ZXIgZmxhZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHluIC0gSXMgdGhlIGV2ZW50IG92ZXI/XG4gICAgICAgICAqL1xuICAgICAgICAsXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHluKSB7XG4gICAgICAgICAgICB0aGlzLl9kb1NldCh0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLk9WRVIsIHluKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaWQgdGhlIHJpZ2h0IG1vdXNlIGJ1dHRvbiBjb21lIGRvd24gaW4gdGhlIERpc3BsYXlPYmplY3Q/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uVHJhY2tpbmdEYXRhI1xuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcInJpZ2h0RG93blwiLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5fZmxhZ3MgJiB0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLlJJR0hUX0RPV04pICE9PSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgcmlnaHQgZG93biBmbGFnXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0geW4gLSBJcyB0aGUgcmlnaHQgbW91c2UgYnV0dG9uIGRvd24/XG4gICAgICAgICAqL1xuICAgICAgICAsXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHluKSB7XG4gICAgICAgICAgICB0aGlzLl9kb1NldCh0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLlJJR0hUX0RPV04sIHluKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaWQgdGhlIGxlZnQgbW91c2UgYnV0dG9uIGNvbWUgZG93biBpbiB0aGUgRGlzcGxheU9iamVjdD9cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEjXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6IFwibGVmdERvd25cIixcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuX2ZsYWdzICYgdGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5MRUZUX0RPV04pICE9PSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgbGVmdCBkb3duIGZsYWdcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSB5biAtIElzIHRoZSBsZWZ0IG1vdXNlIGJ1dHRvbiBkb3duP1xuICAgICAgICAgKi9cbiAgICAgICAgLFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh5bikge1xuICAgICAgICAgICAgdGhpcy5fZG9TZXQodGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5MRUZUX0RPV04sIHluKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBJbnRlcmFjdGlvblRyYWNraW5nRGF0YTtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gSW50ZXJhY3Rpb25UcmFja2luZ0RhdGE7XG5cblxuSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1MgPSBPYmplY3QuZnJlZXplKHtcbiAgICBOT05FOiAwLFxuICAgIE9WRVI6IDEgPDwgMCxcbiAgICBMRUZUX0RPV046IDEgPDwgMSxcbiAgICBSSUdIVF9ET1dOOiAxIDw8IDJcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogRXZlbnQgY2xhc3MgdGhhdCBtaW1pY3MgbmF0aXZlIERPTSBldmVudHMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5pbnRlcmFjdGlvblxuICovXG52YXIgSW50ZXJhY3Rpb25FdmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqXG4gICAqL1xuICBmdW5jdGlvbiBJbnRlcmFjdGlvbkV2ZW50KCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbnRlcmFjdGlvbkV2ZW50KTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhpcyBldmVudCB3aWxsIGNvbnRpbnVlIHByb3BhZ2F0aW5nIGluIHRoZSB0cmVlXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuc3RvcHBlZCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9iamVjdCB3aGljaCBjYXVzZWQgdGhpcyBldmVudCB0byBiZSBkaXNwYXRjaGVkLlxuICAgICAqIEZvciBsaXN0ZW5lciBjYWxsYmFjayBzZWUge0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudC5jdXJyZW50VGFyZ2V0fS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLnRhcmdldCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb2JqZWN0IHdob3NlIGV2ZW50IGxpc3RlbmVy4oCZcyBjYWxsYmFjayBpcyBjdXJyZW50bHkgYmVpbmcgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVHlwZSBvZiB0aGUgZXZlbnRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnR5cGUgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogSW50ZXJhY3Rpb25EYXRhIHJlbGF0ZWQgdG8gdGhpcyBldmVudFxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkRhdGF9XG4gICAgICovXG4gICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcmV2ZW50cyBldmVudCBmcm9tIHJlYWNoaW5nIGFueSBvYmplY3RzIG90aGVyIHRoYW4gdGhlIGN1cnJlbnQgb2JqZWN0LlxuICAgKlxuICAgKi9cblxuXG4gIEludGVyYWN0aW9uRXZlbnQucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbigpIHtcbiAgICB0aGlzLnN0b3BwZWQgPSB0cnVlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXNldHMgdGhlIGV2ZW50LlxuICAgKi9cblxuXG4gIEludGVyYWN0aW9uRXZlbnQucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgdGhpcy5zdG9wcGVkID0gZmFsc2U7XG4gICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gbnVsbDtcbiAgICB0aGlzLnRhcmdldCA9IG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIEludGVyYWN0aW9uRXZlbnQ7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEludGVyYWN0aW9uRXZlbnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbnRlcmFjdGlvbkV2ZW50LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBIb2xkcyBhbGwgaW5mb3JtYXRpb24gcmVsYXRlZCB0byBhbiBJbnRlcmFjdGlvbiBldmVudFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb25cbiAqL1xudmFyIEludGVyYWN0aW9uRGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqXG4gICAqL1xuICBmdW5jdGlvbiBJbnRlcmFjdGlvbkRhdGEoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEludGVyYWN0aW9uRGF0YSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIHBvaW50IHN0b3JlcyB0aGUgZ2xvYmFsIGNvb3JkcyBvZiB3aGVyZSB0aGUgdG91Y2gvbW91c2UgZXZlbnQgaGFwcGVuZWRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR9XG4gICAgICovXG4gICAgdGhpcy5nbG9iYWwgPSBuZXcgY29yZS5Qb2ludCgpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRhcmdldCBEaXNwbGF5T2JqZWN0IHRoYXQgd2FzIGludGVyYWN0ZWQgd2l0aFxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFdoZW4gcGFzc2VkIHRvIGFuIGV2ZW50IGhhbmRsZXIsIHRoaXMgd2lsbCBiZSB0aGUgb3JpZ2luYWwgRE9NIEV2ZW50IHRoYXQgd2FzIGNhcHR1cmVkXG4gICAgICpcbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Nb3VzZUV2ZW50XG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvVG91Y2hFdmVudFxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudFxuICAgICAqIEBtZW1iZXIge01vdXNlRXZlbnR8VG91Y2hFdmVudHxQb2ludGVyRXZlbnR9XG4gICAgICovXG4gICAgdGhpcy5vcmlnaW5hbEV2ZW50ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIGludGVyYWN0aW9uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5pZGVudGlmaWVyID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIG9yIG5vdCB0aGUgcG9pbnRlciBkZXZpY2UgdGhhdCBjcmVhdGVkIHRoZSBldmVudCBpcyB0aGUgcHJpbWFyeSBwb2ludGVyLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9pc1ByaW1hcnlcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmlzUHJpbWFyeSA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoaWNoIGJ1dHRvbiB3YXMgcHJlc3NlZCBvbiB0aGUgbW91c2Ugb3IgcG9pbnRlciBkZXZpY2UgdG8gdHJpZ2dlciB0aGUgZXZlbnQuXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTW91c2VFdmVudC9idXR0b25cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuYnV0dG9uID0gMDtcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGljaCBidXR0b25zIGFyZSBwcmVzc2VkIG9uIHRoZSBtb3VzZSBvciBwb2ludGVyIGRldmljZSB3aGVuIHRoZSBldmVudCBpcyB0cmlnZ2VyZWQuXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTW91c2VFdmVudC9idXR0b25zXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmJ1dHRvbnMgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBwb2ludGVyJ3MgY29udGFjdCBhbG9uZyB0aGUgeC1heGlzLCBtZWFzdXJlZCBpbiBDU1MgcGl4ZWxzLlxuICAgICAqIHJhZGl1c1ggb2YgVG91Y2hFdmVudHMgd2lsbCBiZSByZXByZXNlbnRlZCBieSB0aGlzIHZhbHVlLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC93aWR0aFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy53aWR0aCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBwb2ludGVyJ3MgY29udGFjdCBhbG9uZyB0aGUgeS1heGlzLCBtZWFzdXJlZCBpbiBDU1MgcGl4ZWxzLlxuICAgICAqIHJhZGl1c1kgb2YgVG91Y2hFdmVudHMgd2lsbCBiZSByZXByZXNlbnRlZCBieSB0aGlzIHZhbHVlLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9oZWlnaHRcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaGVpZ2h0ID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhbmdsZSwgaW4gZGVncmVlcywgYmV0d2VlbiB0aGUgcG9pbnRlciBkZXZpY2UgYW5kIHRoZSBzY3JlZW4uXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3RpbHRYXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRpbHRYID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhbmdsZSwgaW4gZGVncmVlcywgYmV0d2VlbiB0aGUgcG9pbnRlciBkZXZpY2UgYW5kIHRoZSBzY3JlZW4uXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3RpbHRZXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRpbHRZID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHBvaW50ZXIgdGhhdCB0cmlnZ2VyZWQgdGhlIGV2ZW50LlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9wb2ludGVyVHlwZVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5wb2ludGVyVHlwZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBQcmVzc3VyZSBhcHBsaWVkIGJ5IHRoZSBwb2ludGluZyBkZXZpY2UgZHVyaW5nIHRoZSBldmVudC4gQSBUb3VjaCdzIGZvcmNlIHByb3BlcnR5XG4gICAgICogd2lsbCBiZSByZXByZXNlbnRlZCBieSB0aGlzIHZhbHVlLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9wcmVzc3VyZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5wcmVzc3VyZSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBGcm9tIFRvdWNoRXZlbnRzIChub3QgUG9pbnRlckV2ZW50cyB0cmlnZ2VyZWQgYnkgdG91Y2hlcyksIHRoZSByb3RhdGlvbkFuZ2xlIG9mIHRoZSBUb3VjaC5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Ub3VjaC9yb3RhdGlvbkFuZ2xlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJvdGF0aW9uQW5nbGUgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVHdpc3Qgb2YgYSBzdHlsdXMgcG9pbnRlci5cbiAgICAgKiBAc2VlIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby9wb2ludGVyZXZlbnRzLyNwb2ludGVyZXZlbnQtaW50ZXJmYWNlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnR3aXN0ID0gMDtcblxuICAgIC8qKlxuICAgICAqIEJhcnJlbCBwcmVzc3VyZSBvbiBhIHN0eWx1cyBwb2ludGVyLlxuICAgICAqIEBzZWUgaHR0cHM6Ly93M2MuZ2l0aHViLmlvL3BvaW50ZXJldmVudHMvI3BvaW50ZXJldmVudC1pbnRlcmZhY2VcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudGFuZ2VudGlhbFByZXNzdXJlID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIGlkZW50aWZpZXIgb2YgdGhlIHBvaW50ZXIuIEl0IHdpbGwgYmUgdGhlIHNhbWUgYXMgYGlkZW50aWZpZXJgLlxuICAgKiBAcmVhZG9ubHlcbiAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvcG9pbnRlcklkXG4gICAqL1xuXG5cbiAgLyoqXG4gICAqIFRoaXMgd2lsbCByZXR1cm4gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBzcGVjaWZpZWQgZGlzcGxheU9iamVjdCBmb3IgdGhpcyBJbnRlcmFjdGlvbkRhdGFcbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSBUaGUgRGlzcGxheU9iamVjdCB0aGF0IHlvdSB3b3VsZCBsaWtlIHRoZSBsb2NhbFxuICAgKiAgY29vcmRzIG9mZlxuICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtwb2ludF0gLSBBIFBvaW50IG9iamVjdCBpbiB3aGljaCB0byBzdG9yZSB0aGUgdmFsdWUsIG9wdGlvbmFsIChvdGhlcndpc2VcbiAgICogIHdpbGwgY3JlYXRlIGEgbmV3IHBvaW50KVxuICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtnbG9iYWxQb3NdIC0gQSBQb2ludCBvYmplY3QgY29udGFpbmluZyB5b3VyIGN1c3RvbSBnbG9iYWwgY29vcmRzLCBvcHRpb25hbFxuICAgKiAgKG90aGVyd2lzZSB3aWxsIHVzZSB0aGUgY3VycmVudCBnbG9iYWwgY29vcmRzKVxuICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBBIHBvaW50IGNvbnRhaW5pbmcgdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBJbnRlcmFjdGlvbkRhdGEgcG9zaXRpb24gcmVsYXRpdmVcbiAgICogIHRvIHRoZSBEaXNwbGF5T2JqZWN0XG4gICAqL1xuICBJbnRlcmFjdGlvbkRhdGEucHJvdG90eXBlLmdldExvY2FsUG9zaXRpb24gPSBmdW5jdGlvbiBnZXRMb2NhbFBvc2l0aW9uKGRpc3BsYXlPYmplY3QsIHBvaW50LCBnbG9iYWxQb3MpIHtcbiAgICByZXR1cm4gZGlzcGxheU9iamVjdC53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UoZ2xvYmFsUG9zIHx8IHRoaXMuZ2xvYmFsLCBwb2ludCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENvcGllcyBwcm9wZXJ0aWVzIGZyb20gbm9ybWFsaXplZCBldmVudCBkYXRhLlxuICAgKlxuICAgKiBAcGFyYW0ge1RvdWNofE1vdXNlRXZlbnR8UG9pbnRlckV2ZW50fSBldmVudCBUaGUgbm9ybWFsaXplZCBldmVudCBkYXRhXG4gICAqL1xuXG5cbiAgSW50ZXJhY3Rpb25EYXRhLnByb3RvdHlwZS5jb3B5RXZlbnQgPSBmdW5jdGlvbiBjb3B5RXZlbnQoZXZlbnQpIHtcbiAgICAvLyBpc1ByaW1hcnkgc2hvdWxkIG9ubHkgY2hhbmdlIG9uIHRvdWNoc3RhcnQvcG9pbnRlcmRvd24sIHNvIHdlIGRvbid0IHdhbnQgdG8gb3ZlcndyaXRlXG4gICAgLy8gaXQgd2l0aCBcImZhbHNlXCIgb24gbGF0ZXIgZXZlbnRzIHdoZW4gb3VyIHNoaW0gZm9yIGl0IG9uIHRvdWNoIGV2ZW50cyBtaWdodCBub3QgYmVcbiAgICAvLyBhY2N1cmF0ZVxuICAgIGlmIChldmVudC5pc1ByaW1hcnkpIHtcbiAgICAgIHRoaXMuaXNQcmltYXJ5ID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5idXR0b24gPSBldmVudC5idXR0b247XG4gICAgLy8gZXZlbnQuYnV0dG9ucyBpcyBub3QgYXZhaWxhYmxlIGluIGFsbCBicm93c2VycyAoaWUuIFNhZmFyaSksIGJ1dCBpdCBkb2VzIGhhdmUgYSBub24tc3RhbmRhcmRcbiAgICAvLyBldmVudC53aGljaCBwcm9wZXJ0eSBpbnN0ZWFkLCB3aGljaCBjb252ZXlzIHRoZSBzYW1lIGluZm9ybWF0aW9uLlxuICAgIHRoaXMuYnV0dG9ucyA9IE51bWJlci5pc0ludGVnZXIoZXZlbnQuYnV0dG9ucykgPyBldmVudC5idXR0b25zIDogZXZlbnQud2hpY2g7XG4gICAgdGhpcy53aWR0aCA9IGV2ZW50LndpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gZXZlbnQuaGVpZ2h0O1xuICAgIHRoaXMudGlsdFggPSBldmVudC50aWx0WDtcbiAgICB0aGlzLnRpbHRZID0gZXZlbnQudGlsdFk7XG4gICAgdGhpcy5wb2ludGVyVHlwZSA9IGV2ZW50LnBvaW50ZXJUeXBlO1xuICAgIHRoaXMucHJlc3N1cmUgPSBldmVudC5wcmVzc3VyZTtcbiAgICB0aGlzLnJvdGF0aW9uQW5nbGUgPSBldmVudC5yb3RhdGlvbkFuZ2xlO1xuICAgIHRoaXMudHdpc3QgPSBldmVudC50d2lzdCB8fCAwO1xuICAgIHRoaXMudGFuZ2VudGlhbFByZXNzdXJlID0gZXZlbnQudGFuZ2VudGlhbFByZXNzdXJlIHx8IDA7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlc2V0cyB0aGUgZGF0YSBmb3IgcG9vbGluZy5cbiAgICovXG5cblxuICBJbnRlcmFjdGlvbkRhdGEucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgLy8gaXNQcmltYXJ5IGlzIHRoZSBvbmx5IHByb3BlcnR5IHRoYXQgd2UgcmVhbGx5IG5lZWQgdG8gcmVzZXQgLSBldmVyeXRoaW5nIGVsc2UgaXNcbiAgICAvLyBndWFyYW50ZWVkIHRvIGJlIG92ZXJ3cml0dGVuXG4gICAgdGhpcy5pc1ByaW1hcnkgPSBmYWxzZTtcbiAgfTtcblxuICBfY3JlYXRlQ2xhc3MoSW50ZXJhY3Rpb25EYXRhLCBbe1xuICAgIGtleTogJ3BvaW50ZXJJZCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pZGVudGlmaWVyO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBJbnRlcmFjdGlvbkRhdGE7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEludGVyYWN0aW9uRGF0YTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUludGVyYWN0aW9uRGF0YS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfZ2VuZXJhdGVCbHVyVmVydFNvdXJjZSA9IHJlcXVpcmUoJy4vZ2VuZXJhdGVCbHVyVmVydFNvdXJjZScpO1xuXG52YXIgX2dlbmVyYXRlQmx1clZlcnRTb3VyY2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2VuZXJhdGVCbHVyVmVydFNvdXJjZSk7XG5cbnZhciBfZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZSA9IHJlcXVpcmUoJy4vZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZScpO1xuXG52YXIgX2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZSk7XG5cbnZhciBfZ2V0TWF4Qmx1cktlcm5lbFNpemUgPSByZXF1aXJlKCcuL2dldE1heEJsdXJLZXJuZWxTaXplJyk7XG5cbnZhciBfZ2V0TWF4Qmx1cktlcm5lbFNpemUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0TWF4Qmx1cktlcm5lbFNpemUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogVGhlIEJsdXJZRmlsdGVyIGFwcGxpZXMgYSBob3Jpem9udGFsIEdhdXNzaWFuIGJsdXIgdG8gYW4gb2JqZWN0LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIEJsdXJZRmlsdGVyID0gZnVuY3Rpb24gKF9jb3JlJEZpbHRlcikge1xuICAgIF9pbmhlcml0cyhCbHVyWUZpbHRlciwgX2NvcmUkRmlsdGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJlbmd0aCAtIFRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHF1YWxpdHkgLSBUaGUgcXVhbGl0eSBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtrZXJuZWxTaXplPTVdIC0gVGhlIGtlcm5lbFNpemUgb2YgdGhlIGJsdXIgZmlsdGVyLk9wdGlvbnM6IDUsIDcsIDksIDExLCAxMywgMTUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmx1cllGaWx0ZXIoc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJsdXJZRmlsdGVyKTtcblxuICAgICAgICBrZXJuZWxTaXplID0ga2VybmVsU2l6ZSB8fCA1O1xuICAgICAgICB2YXIgdmVydFNyYyA9ICgwLCBfZ2VuZXJhdGVCbHVyVmVydFNvdXJjZTIuZGVmYXVsdCkoa2VybmVsU2l6ZSwgZmFsc2UpO1xuICAgICAgICB2YXIgZnJhZ1NyYyA9ICgwLCBfZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZTIuZGVmYXVsdCkoa2VybmVsU2l6ZSk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkRmlsdGVyLmNhbGwodGhpcyxcbiAgICAgICAgLy8gdmVydGV4IHNoYWRlclxuICAgICAgICB2ZXJ0U3JjLFxuICAgICAgICAvLyBmcmFnbWVudCBzaGFkZXJcbiAgICAgICAgZnJhZ1NyYykpO1xuXG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IGNvcmUuc2V0dGluZ3MuUkVTT0xVVElPTjtcblxuICAgICAgICBfdGhpcy5fcXVhbGl0eSA9IDA7XG5cbiAgICAgICAgX3RoaXMucXVhbGl0eSA9IHF1YWxpdHkgfHwgNDtcbiAgICAgICAgX3RoaXMuc3RyZW5ndGggPSBzdHJlbmd0aCB8fCA4O1xuXG4gICAgICAgIF90aGlzLmZpcnN0UnVuID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWx0ZXJNYW5hZ2VyfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIG1hbmFnZXIuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gaW5wdXQgLSBUaGUgaW5wdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IG91dHB1dCAtIFRoZSBvdXRwdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xlYXIgLSBTaG91bGQgdGhlIG91dHB1dCBiZSBjbGVhcmVkIGJlZm9yZSByZW5kZXJpbmc/XG4gICAgICovXG5cblxuICAgIEJsdXJZRmlsdGVyLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIGFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyKSB7XG4gICAgICAgIGlmICh0aGlzLmZpcnN0UnVuKSB7XG4gICAgICAgICAgICB2YXIgZ2wgPSBmaWx0ZXJNYW5hZ2VyLnJlbmRlcmVyLmdsO1xuICAgICAgICAgICAgdmFyIGtlcm5lbFNpemUgPSAoMCwgX2dldE1heEJsdXJLZXJuZWxTaXplMi5kZWZhdWx0KShnbCk7XG5cbiAgICAgICAgICAgIHRoaXMudmVydGV4U3JjID0gKDAsIF9nZW5lcmF0ZUJsdXJWZXJ0U291cmNlMi5kZWZhdWx0KShrZXJuZWxTaXplLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLmZyYWdtZW50U3JjID0gKDAsIF9nZW5lcmF0ZUJsdXJGcmFnU291cmNlMi5kZWZhdWx0KShrZXJuZWxTaXplKTtcblxuICAgICAgICAgICAgdGhpcy5maXJzdFJ1biA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCA9IDEgLyBvdXRwdXQuc2l6ZS5oZWlnaHQgKiAob3V0cHV0LnNpemUuaGVpZ2h0IC8gaW5wdXQuc2l6ZS5oZWlnaHQpO1xuXG4gICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggKj0gdGhpcy5zdHJlbmd0aDtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCAvPSB0aGlzLnBhc3NlcztcblxuICAgICAgICBpZiAodGhpcy5wYXNzZXMgPT09IDEpIHtcbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJlbmRlclRhcmdldCA9IGZpbHRlck1hbmFnZXIuZ2V0UmVuZGVyVGFyZ2V0KHRydWUpO1xuICAgICAgICAgICAgdmFyIGZsaXAgPSBpbnB1dDtcbiAgICAgICAgICAgIHZhciBmbG9wID0gcmVuZGVyVGFyZ2V0O1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucGFzc2VzIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBmbGlwLCBmbG9wLCB0cnVlKTtcblxuICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gZmxvcDtcblxuICAgICAgICAgICAgICAgIGZsb3AgPSBmbGlwO1xuICAgICAgICAgICAgICAgIGZsaXAgPSB0ZW1wO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGZsaXAsIG91dHB1dCwgY2xlYXIpO1xuXG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLnJldHVyblJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIGJvdGggdGhlIGJsdXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMlxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoQmx1cllGaWx0ZXIsIFt7XG4gICAgICAgIGtleTogJ2JsdXInLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0cmVuZ3RoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucGFkZGluZyA9IE1hdGguYWJzKHZhbHVlKSAqIDI7XG4gICAgICAgICAgICB0aGlzLnN0cmVuZ3RoID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgcXVhbGl0eSBvZiB0aGUgYmx1ciBieSBtb2RpZnlpbmcgdGhlIG51bWJlciBvZiBwYXNzZXMuIE1vcmUgcGFzc2VzIG1lYW5zIGhpZ2hlclxuICAgICAgICAgKiBxdWFpbGl0eSBibHVyaW5nIGJ1dCB0aGUgbG93ZXIgdGhlIHBlcmZvcm1hbmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDRcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3F1YWxpdHknLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9xdWFsaXR5O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3F1YWxpdHkgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMucGFzc2VzID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQmx1cllGaWx0ZXI7XG59KGNvcmUuRmlsdGVyKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQmx1cllGaWx0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CbHVyWUZpbHRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGdldE1heEtlcm5lbFNpemU7XG5mdW5jdGlvbiBnZXRNYXhLZXJuZWxTaXplKGdsKSB7XG4gICAgdmFyIG1heFZhcnlpbmdzID0gZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9WQVJZSU5HX1ZFQ1RPUlMpO1xuICAgIHZhciBrZXJuZWxTaXplID0gMTU7XG5cbiAgICB3aGlsZSAoa2VybmVsU2l6ZSA+IG1heFZhcnlpbmdzKSB7XG4gICAgICAgIGtlcm5lbFNpemUgLT0gMjtcbiAgICB9XG5cbiAgICByZXR1cm4ga2VybmVsU2l6ZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldE1heEJsdXJLZXJuZWxTaXplLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGdlbmVyYXRlRnJhZ0JsdXJTb3VyY2U7XG52YXIgR0FVU1NJQU5fVkFMVUVTID0ge1xuICAgIDU6IFswLjE1MzM4OCwgMC4yMjE0NjEsIDAuMjUwMzAxXSxcbiAgICA3OiBbMC4wNzEzMDMsIDAuMTMxNTE0LCAwLjE4OTg3OSwgMC4yMTQ2MDddLFxuICAgIDk6IFswLjAyODUzMiwgMC4wNjcyMzQsIDAuMTI0MDA5LCAwLjE3OTA0NCwgMC4yMDIzNl0sXG4gICAgMTE6IFswLjAwOTMsIDAuMDI4MDAyLCAwLjA2NTk4NCwgMC4xMjE3MDMsIDAuMTc1NzEzLCAwLjE5ODU5Nl0sXG4gICAgMTM6IFswLjAwMjQwNiwgMC4wMDkyNTUsIDAuMDI3ODY3LCAwLjA2NTY2NiwgMC4xMjExMTcsIDAuMTc0ODY4LCAwLjE5NzY0MV0sXG4gICAgMTU6IFswLjAwMDQ4OSwgMC4wMDI0MDMsIDAuMDA5MjQ2LCAwLjAyNzg0LCAwLjA2NTYwMiwgMC4xMjA5OTksIDAuMTc0Njk3LCAwLjE5NzQ0OF1cbn07XG5cbnZhciBmcmFnVGVtcGxhdGUgPSBbJ3ZhcnlpbmcgdmVjMiB2Qmx1clRleENvb3Jkc1slc2l6ZSVdOycsICd1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjsnLCAndm9pZCBtYWluKHZvaWQpJywgJ3snLCAnICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoMC4wKTsnLCAnICAgICVibHVyJScsICd9J10uam9pbignXFxuJyk7XG5cbmZ1bmN0aW9uIGdlbmVyYXRlRnJhZ0JsdXJTb3VyY2Uoa2VybmVsU2l6ZSkge1xuICAgIHZhciBrZXJuZWwgPSBHQVVTU0lBTl9WQUxVRVNba2VybmVsU2l6ZV07XG4gICAgdmFyIGhhbGZMZW5ndGggPSBrZXJuZWwubGVuZ3RoO1xuXG4gICAgdmFyIGZyYWdTb3VyY2UgPSBmcmFnVGVtcGxhdGU7XG5cbiAgICB2YXIgYmx1ckxvb3AgPSAnJztcbiAgICB2YXIgdGVtcGxhdGUgPSAnZ2xfRnJhZ0NvbG9yICs9IHRleHR1cmUyRCh1U2FtcGxlciwgdkJsdXJUZXhDb29yZHNbJWluZGV4JV0pICogJXZhbHVlJTsnO1xuICAgIHZhciB2YWx1ZSA9IHZvaWQgMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2VybmVsU2l6ZTsgaSsrKSB7XG4gICAgICAgIHZhciBibHVyID0gdGVtcGxhdGUucmVwbGFjZSgnJWluZGV4JScsIGkpO1xuXG4gICAgICAgIHZhbHVlID0gaTtcblxuICAgICAgICBpZiAoaSA+PSBoYWxmTGVuZ3RoKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGtlcm5lbFNpemUgLSBpIC0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJsdXIgPSBibHVyLnJlcGxhY2UoJyV2YWx1ZSUnLCBrZXJuZWxbdmFsdWVdKTtcblxuICAgICAgICBibHVyTG9vcCArPSBibHVyO1xuICAgICAgICBibHVyTG9vcCArPSAnXFxuJztcbiAgICB9XG5cbiAgICBmcmFnU291cmNlID0gZnJhZ1NvdXJjZS5yZXBsYWNlKCclYmx1ciUnLCBibHVyTG9vcCk7XG4gICAgZnJhZ1NvdXJjZSA9IGZyYWdTb3VyY2UucmVwbGFjZSgnJXNpemUlJywga2VybmVsU2l6ZSk7XG5cbiAgICByZXR1cm4gZnJhZ1NvdXJjZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdlbmVyYXRlQmx1ckZyYWdTb3VyY2UuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gZ2VuZXJhdGVWZXJ0Qmx1clNvdXJjZTtcbnZhciB2ZXJ0VGVtcGxhdGUgPSBbJ2F0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjsnLCAnYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDsnLCAndW5pZm9ybSBmbG9hdCBzdHJlbmd0aDsnLCAndW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7JywgJ3ZhcnlpbmcgdmVjMiB2Qmx1clRleENvb3Jkc1slc2l6ZSVdOycsICd2b2lkIG1haW4odm9pZCknLCAneycsICdnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKChhVmVydGV4UG9zaXRpb24pLCAxLjApKS54eSwgMC4wLCAxLjApOycsICclYmx1ciUnLCAnfSddLmpvaW4oJ1xcbicpO1xuXG5mdW5jdGlvbiBnZW5lcmF0ZVZlcnRCbHVyU291cmNlKGtlcm5lbFNpemUsIHgpIHtcbiAgICB2YXIgaGFsZkxlbmd0aCA9IE1hdGguY2VpbChrZXJuZWxTaXplIC8gMik7XG5cbiAgICB2YXIgdmVydFNvdXJjZSA9IHZlcnRUZW1wbGF0ZTtcblxuICAgIHZhciBibHVyTG9vcCA9ICcnO1xuICAgIHZhciB0ZW1wbGF0ZSA9IHZvaWQgMDtcbiAgICAvLyBsZXQgdmFsdWU7XG5cbiAgICBpZiAoeCkge1xuICAgICAgICB0ZW1wbGF0ZSA9ICd2Qmx1clRleENvb3Jkc1slaW5kZXglXSA9IGFUZXh0dXJlQ29vcmQgKyB2ZWMyKCVzYW1wbGVJbmRleCUgKiBzdHJlbmd0aCwgMC4wKTsnO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRlbXBsYXRlID0gJ3ZCbHVyVGV4Q29vcmRzWyVpbmRleCVdID0gYVRleHR1cmVDb29yZCArIHZlYzIoMC4wLCAlc2FtcGxlSW5kZXglICogc3RyZW5ndGgpOyc7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXJuZWxTaXplOyBpKyspIHtcbiAgICAgICAgdmFyIGJsdXIgPSB0ZW1wbGF0ZS5yZXBsYWNlKCclaW5kZXglJywgaSk7XG5cbiAgICAgICAgLy8gdmFsdWUgPSBpO1xuXG4gICAgICAgIC8vIGlmKGkgPj0gaGFsZkxlbmd0aClcbiAgICAgICAgLy8ge1xuICAgICAgICAvLyAgICAgdmFsdWUgPSBrZXJuZWxTaXplIC0gaSAtIDE7XG4gICAgICAgIC8vIH1cblxuICAgICAgICBibHVyID0gYmx1ci5yZXBsYWNlKCclc2FtcGxlSW5kZXglJywgaSAtIChoYWxmTGVuZ3RoIC0gMSkgKyAnLjAnKTtcblxuICAgICAgICBibHVyTG9vcCArPSBibHVyO1xuICAgICAgICBibHVyTG9vcCArPSAnXFxuJztcbiAgICB9XG5cbiAgICB2ZXJ0U291cmNlID0gdmVydFNvdXJjZS5yZXBsYWNlKCclYmx1ciUnLCBibHVyTG9vcCk7XG4gICAgdmVydFNvdXJjZSA9IHZlcnRTb3VyY2UucmVwbGFjZSgnJXNpemUlJywga2VybmVsU2l6ZSk7XG5cbiAgICByZXR1cm4gdmVydFNvdXJjZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdlbmVyYXRlQmx1clZlcnRTb3VyY2UuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX2dlbmVyYXRlQmx1clZlcnRTb3VyY2UgPSByZXF1aXJlKCcuL2dlbmVyYXRlQmx1clZlcnRTb3VyY2UnKTtcblxudmFyIF9nZW5lcmF0ZUJsdXJWZXJ0U291cmNlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dlbmVyYXRlQmx1clZlcnRTb3VyY2UpO1xuXG52YXIgX2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UgPSByZXF1aXJlKCcuL2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UnKTtcblxudmFyIF9nZW5lcmF0ZUJsdXJGcmFnU291cmNlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UpO1xuXG52YXIgX2dldE1heEJsdXJLZXJuZWxTaXplID0gcmVxdWlyZSgnLi9nZXRNYXhCbHVyS2VybmVsU2l6ZScpO1xuXG52YXIgX2dldE1heEJsdXJLZXJuZWxTaXplMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldE1heEJsdXJLZXJuZWxTaXplKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFRoZSBCbHVyWEZpbHRlciBhcHBsaWVzIGEgaG9yaXpvbnRhbCBHYXVzc2lhbiBibHVyIHRvIGFuIG9iamVjdC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBCbHVyWEZpbHRlciA9IGZ1bmN0aW9uIChfY29yZSRGaWx0ZXIpIHtcbiAgICBfaW5oZXJpdHMoQmx1clhGaWx0ZXIsIF9jb3JlJEZpbHRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyZW5ndGggLSBUaGUgc3RyZW5ndGggb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBxdWFsaXR5IC0gVGhlIHF1YWxpdHkgb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIC0gVGhlIHJlc29sdXRpb24gb2YgdGhlIGJsdXIgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBba2VybmVsU2l6ZT01XSAtIFRoZSBrZXJuZWxTaXplIG9mIHRoZSBibHVyIGZpbHRlci5PcHRpb25zOiA1LCA3LCA5LCAxMSwgMTMsIDE1LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJsdXJYRmlsdGVyKHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCbHVyWEZpbHRlcik7XG5cbiAgICAgICAga2VybmVsU2l6ZSA9IGtlcm5lbFNpemUgfHwgNTtcbiAgICAgICAgdmFyIHZlcnRTcmMgPSAoMCwgX2dlbmVyYXRlQmx1clZlcnRTb3VyY2UyLmRlZmF1bHQpKGtlcm5lbFNpemUsIHRydWUpO1xuICAgICAgICB2YXIgZnJhZ1NyYyA9ICgwLCBfZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZTIuZGVmYXVsdCkoa2VybmVsU2l6ZSk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkRmlsdGVyLmNhbGwodGhpcyxcbiAgICAgICAgLy8gdmVydGV4IHNoYWRlclxuICAgICAgICB2ZXJ0U3JjLFxuICAgICAgICAvLyBmcmFnbWVudCBzaGFkZXJcbiAgICAgICAgZnJhZ1NyYykpO1xuXG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IGNvcmUuc2V0dGluZ3MuUkVTT0xVVElPTjtcblxuICAgICAgICBfdGhpcy5fcXVhbGl0eSA9IDA7XG5cbiAgICAgICAgX3RoaXMucXVhbGl0eSA9IHF1YWxpdHkgfHwgNDtcbiAgICAgICAgX3RoaXMuc3RyZW5ndGggPSBzdHJlbmd0aCB8fCA4O1xuXG4gICAgICAgIF90aGlzLmZpcnN0UnVuID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWx0ZXJNYW5hZ2VyfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIG1hbmFnZXIuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gaW5wdXQgLSBUaGUgaW5wdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IG91dHB1dCAtIFRoZSBvdXRwdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xlYXIgLSBTaG91bGQgdGhlIG91dHB1dCBiZSBjbGVhcmVkIGJlZm9yZSByZW5kZXJpbmc/XG4gICAgICovXG5cblxuICAgIEJsdXJYRmlsdGVyLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIGFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyKSB7XG4gICAgICAgIGlmICh0aGlzLmZpcnN0UnVuKSB7XG4gICAgICAgICAgICB2YXIgZ2wgPSBmaWx0ZXJNYW5hZ2VyLnJlbmRlcmVyLmdsO1xuICAgICAgICAgICAgdmFyIGtlcm5lbFNpemUgPSAoMCwgX2dldE1heEJsdXJLZXJuZWxTaXplMi5kZWZhdWx0KShnbCk7XG5cbiAgICAgICAgICAgIHRoaXMudmVydGV4U3JjID0gKDAsIF9nZW5lcmF0ZUJsdXJWZXJ0U291cmNlMi5kZWZhdWx0KShrZXJuZWxTaXplLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuZnJhZ21lbnRTcmMgPSAoMCwgX2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UyLmRlZmF1bHQpKGtlcm5lbFNpemUpO1xuXG4gICAgICAgICAgICB0aGlzLmZpcnN0UnVuID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoID0gMSAvIG91dHB1dC5zaXplLndpZHRoICogKG91dHB1dC5zaXplLndpZHRoIC8gaW5wdXQuc2l6ZS53aWR0aCk7XG5cbiAgICAgICAgLy8gc2NyZWVuIHNwYWNlIVxuICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoICo9IHRoaXMuc3RyZW5ndGg7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggLz0gdGhpcy5wYXNzZXM7IC8vIC8gdGhpcy5wYXNzZXMvL01hdGgucG93KDEsIHRoaXMucGFzc2VzKTtcblxuICAgICAgICBpZiAodGhpcy5wYXNzZXMgPT09IDEpIHtcbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJlbmRlclRhcmdldCA9IGZpbHRlck1hbmFnZXIuZ2V0UmVuZGVyVGFyZ2V0KHRydWUpO1xuICAgICAgICAgICAgdmFyIGZsaXAgPSBpbnB1dDtcbiAgICAgICAgICAgIHZhciBmbG9wID0gcmVuZGVyVGFyZ2V0O1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucGFzc2VzIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBmbGlwLCBmbG9wLCB0cnVlKTtcblxuICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gZmxvcDtcblxuICAgICAgICAgICAgICAgIGZsb3AgPSBmbGlwO1xuICAgICAgICAgICAgICAgIGZsaXAgPSB0ZW1wO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGZsaXAsIG91dHB1dCwgY2xlYXIpO1xuXG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLnJldHVyblJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIGJvdGggdGhlIGJsdXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMTZcbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKEJsdXJYRmlsdGVyLCBbe1xuICAgICAgICBrZXk6ICdibHVyJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdHJlbmd0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBhZGRpbmcgPSBNYXRoLmFicyh2YWx1ZSkgKiAyO1xuICAgICAgICAgICAgdGhpcy5zdHJlbmd0aCA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogU2V0cyB0aGUgcXVhbGl0eSBvZiB0aGUgYmx1ciBieSBtb2RpZnlpbmcgdGhlIG51bWJlciBvZiBwYXNzZXMuIE1vcmUgcGFzc2VzIG1lYW5zIGhpZ2hlclxuICAgICAgICAqIHF1YWlsaXR5IGJsdXJpbmcgYnV0IHRoZSBsb3dlciB0aGUgcGVyZm9ybWFuY2UuXG4gICAgICAgICpcbiAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICogQGRlZmF1bHQgNFxuICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdxdWFsaXR5JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcXVhbGl0eTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9xdWFsaXR5ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnBhc3NlcyA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEJsdXJYRmlsdGVyO1xufShjb3JlLkZpbHRlcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEJsdXJYRmlsdGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Qmx1clhGaWx0ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5CaXRtYXBUZXh0ID0gZXhwb3J0cy5UaWxpbmdTcHJpdGVSZW5kZXJlciA9IGV4cG9ydHMuVGlsaW5nU3ByaXRlID0gZXhwb3J0cy5BbmltYXRlZFNwcml0ZSA9IHVuZGVmaW5lZDtcblxudmFyIF9BbmltYXRlZFNwcml0ZSA9IHJlcXVpcmUoJy4vQW5pbWF0ZWRTcHJpdGUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdBbmltYXRlZFNwcml0ZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0FuaW1hdGVkU3ByaXRlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9UaWxpbmdTcHJpdGUgPSByZXF1aXJlKCcuL1RpbGluZ1Nwcml0ZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1RpbGluZ1Nwcml0ZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RpbGluZ1Nwcml0ZSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfVGlsaW5nU3ByaXRlUmVuZGVyZXIgPSByZXF1aXJlKCcuL3dlYmdsL1RpbGluZ1Nwcml0ZVJlbmRlcmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnVGlsaW5nU3ByaXRlUmVuZGVyZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UaWxpbmdTcHJpdGVSZW5kZXJlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQml0bWFwVGV4dCA9IHJlcXVpcmUoJy4vQml0bWFwVGV4dCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0JpdG1hcFRleHQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CaXRtYXBUZXh0KS5kZWZhdWx0O1xuICB9XG59KTtcblxucmVxdWlyZSgnLi9jYWNoZUFzQml0bWFwJyk7XG5cbnJlcXVpcmUoJy4vZ2V0Q2hpbGRCeU5hbWUnKTtcblxucmVxdWlyZSgnLi9nZXRHbG9iYWxQb3NpdGlvbicpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vLyBpbXBvcnRlZCBmb3Igc2lkZSBlZmZlY3Qgb2YgZXh0ZW5kaW5nIHRoZSBwcm90b3R5cGUgb25seSwgY29udGFpbnMgbm8gZXhwb3J0c1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG4vKipcbiAqIERlZmF1bHQgcHJvcGVydHkgdmFsdWVzIG9mIGFjY2Vzc2libGUgb2JqZWN0c1xuICogdXNlZCBieSB7QGxpbmsgUElYSS5hY2Nlc3NpYmlsaXR5LkFjY2Vzc2liaWxpdHlNYW5hZ2VyfS5cbiAqXG4gKiBAZnVuY3Rpb24gYWNjZXNzaWJsZVRhcmdldFxuICogQG1lbWJlcm9mIFBJWEkuYWNjZXNzaWJpbGl0eVxuICogQGV4YW1wbGVcbiAqICAgICAgZnVuY3Rpb24gTXlPYmplY3QoKSB7fVxuICpcbiAqICAgICAgT2JqZWN0LmFzc2lnbihcbiAqICAgICAgICAgIE15T2JqZWN0LnByb3RvdHlwZSxcbiAqICAgICAgICAgIFBJWEkuYWNjZXNzaWJpbGl0eS5hY2Nlc3NpYmxlVGFyZ2V0XG4gKiAgICAgICk7XG4gKi9cbmV4cG9ydHMuZGVmYXVsdCA9IHtcbiAgLyoqXG4gICAqICBGbGFnIGZvciBpZiB0aGUgb2JqZWN0IGlzIGFjY2Vzc2libGUuIElmIHRydWUgQWNjZXNzaWJpbGl0eU1hbmFnZXIgd2lsbCBvdmVybGF5IGFcbiAgICogICBzaGFkb3cgZGl2IHdpdGggYXR0cmlidXRlcyBzZXRcbiAgICpcbiAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICovXG4gIGFjY2Vzc2libGU6IGZhbHNlLFxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB0aXRsZSBhdHRyaWJ1dGUgb2YgdGhlIHNoYWRvdyBkaXZcbiAgICogSWYgYWNjZXNzaWJsZVRpdGxlIEFORCBhY2Nlc3NpYmxlSGludCBoYXMgbm90IGJlZW4gdGhpcyB3aWxsIGRlZmF1bHQgdG8gJ2Rpc3BsYXlPYmplY3QgW3RhYkluZGV4XSdcbiAgICpcbiAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgKi9cbiAgYWNjZXNzaWJsZVRpdGxlOiBudWxsLFxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBhcmlhLWxhYmVsIGF0dHJpYnV0ZSBvZiB0aGUgc2hhZG93IGRpdlxuICAgKlxuICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAqL1xuICBhY2Nlc3NpYmxlSGludDogbnVsbCxcblxuICAvKipcbiAgICogQHRvZG8gTmVlZHMgZG9jcy5cbiAgICovXG4gIHRhYkluZGV4OiAwLFxuXG4gIC8qKlxuICAgKiBAdG9kbyBOZWVkcyBkb2NzLlxuICAgKi9cbiAgX2FjY2Vzc2libGVBY3RpdmU6IGZhbHNlLFxuXG4gIC8qKlxuICAgKiBAdG9kbyBOZWVkcyBkb2NzLlxuICAgKi9cbiAgX2FjY2Vzc2libGVEaXY6IGZhbHNlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWNjZXNzaWJsZVRhcmdldC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmF1dG9EZXRlY3RSZW5kZXJlciA9IGF1dG9EZXRlY3RSZW5kZXJlcjtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcblxudmFyIHV0aWxzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzKTtcblxudmFyIF9DYW52YXNSZW5kZXJlciA9IHJlcXVpcmUoJy4vcmVuZGVyZXJzL2NhbnZhcy9DYW52YXNSZW5kZXJlcicpO1xuXG52YXIgX0NhbnZhc1JlbmRlcmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc1JlbmRlcmVyKTtcblxudmFyIF9XZWJHTFJlbmRlcmVyID0gcmVxdWlyZSgnLi9yZW5kZXJlcnMvd2ViZ2wvV2ViR0xSZW5kZXJlcicpO1xuXG52YXIgX1dlYkdMUmVuZGVyZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xSZW5kZXJlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB2YWxpZC1qc2RvY1xuLyoqXG4gKiBUaGlzIGhlbHBlciBmdW5jdGlvbiB3aWxsIGF1dG9tYXRpY2FsbHkgZGV0ZWN0IHdoaWNoIHJlbmRlcmVyIHlvdSBzaG91bGQgYmUgdXNpbmcuXG4gKiBXZWJHTCBpcyB0aGUgcHJlZmVycmVkIHJlbmRlcmVyIGFzIGl0IGlzIGEgbG90IGZhc3Rlci4gSWYgd2ViR0wgaXMgbm90IHN1cHBvcnRlZCBieVxuICogdGhlIGJyb3dzZXIgdGhlbiB0aGlzIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGEgY2FudmFzIHJlbmRlcmVyXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBmdW5jdGlvbiBhdXRvRGV0ZWN0UmVuZGVyZXJcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9uYWwgcmVuZGVyZXIgcGFyYW1ldGVyc1xuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTgwMF0gLSB0aGUgd2lkdGggb2YgdGhlIHJlbmRlcmVycyB2aWV3XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTYwMF0gLSB0aGUgaGVpZ2h0IG9mIHRoZSByZW5kZXJlcnMgdmlld1xuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW29wdGlvbnMudmlld10gLSB0aGUgY2FudmFzIHRvIHVzZSBhcyBhIHZpZXcsIG9wdGlvbmFsXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYW5zcGFyZW50PWZhbHNlXSAtIElmIHRoZSByZW5kZXIgdmlldyBpcyB0cmFuc3BhcmVudCwgZGVmYXVsdCBmYWxzZVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbnRpYWxpYXM9ZmFsc2VdIC0gc2V0cyBhbnRpYWxpYXMgKG9ubHkgYXBwbGljYWJsZSBpbiBjaHJvbWUgYXQgdGhlIG1vbWVudClcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXSAtIGVuYWJsZXMgZHJhd2luZyBidWZmZXIgcHJlc2VydmF0aW9uLCBlbmFibGUgdGhpcyBpZiB5b3VcbiAqICBuZWVkIHRvIGNhbGwgdG9EYXRhVXJsIG9uIHRoZSB3ZWJnbCBjb250ZXh0XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXSAtIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSByZW5kZXJlZCBhcmVhXG4gKiAgKHNob3duIGlmIG5vdCB0cmFuc3BhcmVudCkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyPXRydWVdIC0gVGhpcyBzZXRzIGlmIHRoZSByZW5kZXJlciB3aWxsIGNsZWFyIHRoZSBjYW52YXMgb3JcbiAqICAgbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIsIHJldGluYSB3b3VsZCBiZSAyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZvcmNlQ2FudmFzPWZhbHNlXSAtIHByZXZlbnRzIHNlbGVjdGlvbiBvZiBXZWJHTCByZW5kZXJlciwgZXZlbiBpZiBzdWNoIGlzIHByZXNlbnRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucm91bmRQaXhlbHM9ZmFsc2VdIC0gSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZyxcbiAqICBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mb3JjZUZYQUE9ZmFsc2VdIC0gZm9yY2VzIEZYQUEgYW50aWFsaWFzaW5nIHRvIGJlIHVzZWQgb3ZlciBuYXRpdmUuXG4gKiAgRlhBQSBpcyBmYXN0ZXIsIGJ1dCBtYXkgbm90IGFsd2F5cyBsb29rIGFzIGdyZWF0ICoqd2ViZ2wgb25seSoqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlZ2FjeT1mYWxzZV0gLSBgdHJ1ZWAgdG8gZW5zdXJlIGNvbXBhdGliaWxpdHkgd2l0aCBvbGRlciAvIGxlc3MgYWR2YW5jZWQgZGV2aWNlcy5cbiAqICBJZiB5b3UgZXhwZXJpZW5jZSB1bmV4cGxhaW5lZCBmbGlja2VyaW5nIHRyeSBzZXR0aW5nIHRoaXMgdG8gdHJ1ZS4gKip3ZWJnbCBvbmx5KipcbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5wb3dlclByZWZlcmVuY2VdIC0gUGFyYW1ldGVyIHBhc3NlZCB0byB3ZWJnbCBjb250ZXh0LCBzZXQgdG8gXCJoaWdoLXBlcmZvcm1hbmNlXCJcbiAqICBmb3IgZGV2aWNlcyB3aXRoIGR1YWwgZ3JhcGhpY3MgY2FyZCAqKndlYmdsIG9ubHkqKlxuICogQHJldHVybiB7UElYSS5XZWJHTFJlbmRlcmVyfFBJWEkuQ2FudmFzUmVuZGVyZXJ9IFJldHVybnMgV2ViR0wgcmVuZGVyZXIgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgQ2FudmFzUmVuZGVyZXJcbiAqL1xuZnVuY3Rpb24gYXV0b0RldGVjdFJlbmRlcmVyKG9wdGlvbnMsIGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgICAvLyBCYWNrd2FyZC1jb21wYXRpYmxlIHN1cHBvcnQgZm9yIG5vV2ViR0wgb3B0aW9uXG4gICAgdmFyIGZvcmNlQ2FudmFzID0gb3B0aW9ucyAmJiBvcHRpb25zLmZvcmNlQ2FudmFzO1xuXG4gICAgaWYgKGFyZzMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBmb3JjZUNhbnZhcyA9IGFyZzM7XG4gICAgfVxuXG4gICAgaWYgKCFmb3JjZUNhbnZhcyAmJiB1dGlscy5pc1dlYkdMU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfV2ViR0xSZW5kZXJlcjIuZGVmYXVsdChvcHRpb25zLCBhcmcxLCBhcmcyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IF9DYW52YXNSZW5kZXJlcjIuZGVmYXVsdChvcHRpb25zLCBhcmcxLCBhcmcyKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF1dG9EZXRlY3RSZW5kZXJlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfYXV0b0RldGVjdFJlbmRlcmVyID0gcmVxdWlyZSgnLi9hdXRvRGV0ZWN0UmVuZGVyZXInKTtcblxudmFyIF9Db250YWluZXIgPSByZXF1aXJlKCcuL2Rpc3BsYXkvQ29udGFpbmVyJyk7XG5cbnZhciBfQ29udGFpbmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnRhaW5lcik7XG5cbnZhciBfdGlja2VyID0gcmVxdWlyZSgnLi90aWNrZXInKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuL2NvbnN0Jyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQ29udmVuaWVuY2UgY2xhc3MgdG8gY3JlYXRlIGEgbmV3IFBJWEkgYXBwbGljYXRpb24uXG4gKiBUaGlzIGNsYXNzIGF1dG9tYXRpY2FsbHkgY3JlYXRlcyB0aGUgcmVuZGVyZXIsIHRpY2tlclxuICogYW5kIHJvb3QgY29udGFpbmVyLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgdGhlIGFwcGxpY2F0aW9uXG4gKiBjb25zdCBhcHAgPSBuZXcgUElYSS5BcHBsaWNhdGlvbigpO1xuICpcbiAqIC8vIEFkZCB0aGUgdmlldyB0byB0aGUgRE9NXG4gKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGFwcC52aWV3KTtcbiAqXG4gKiAvLyBleCwgYWRkIGRpc3BsYXkgb2JqZWN0c1xuICogYXBwLnN0YWdlLmFkZENoaWxkKFBJWEkuU3ByaXRlLmZyb21JbWFnZSgnc29tZXRoaW5nLnBuZycpKTtcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBBcHBsaWNhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdmFsaWQtanNkb2NcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbmFsIHJlbmRlcmVyIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9TdGFydD10cnVlXSAtIGF1dG9tYXRpY2FsbHkgc3RhcnRzIHRoZSByZW5kZXJpbmcgYWZ0ZXIgdGhlIGNvbnN0cnVjdGlvbi5cbiAgICAgKiAgICAgTm90ZSB0aGF0IHNldHRpbmcgdGhpcyBwYXJhbWV0ZXIgdG8gZmFsc2UgZG9lcyBOT1Qgc3RvcCB0aGUgc2hhcmVkIHRpY2tlciBldmVuIGlmIHlvdSBzZXRcbiAgICAgKiAgICAgb3B0aW9ucy5zaGFyZWRUaWNrZXIgdG8gdHJ1ZSBpbiBjYXNlIHRoYXQgaXQgaXMgYWxyZWFkeSBzdGFydGVkLiBTdG9wIGl0IGJ5IHlvdXIgb3duLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD04MDBdIC0gdGhlIHdpZHRoIG9mIHRoZSByZW5kZXJlcnMgdmlld1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9NjAwXSAtIHRoZSBoZWlnaHQgb2YgdGhlIHJlbmRlcmVycyB2aWV3XG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW29wdGlvbnMudmlld10gLSB0aGUgY2FudmFzIHRvIHVzZSBhcyBhIHZpZXcsIG9wdGlvbmFsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFuc3BhcmVudD1mYWxzZV0gLSBJZiB0aGUgcmVuZGVyIHZpZXcgaXMgdHJhbnNwYXJlbnQsIGRlZmF1bHQgZmFsc2VcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFudGlhbGlhcz1mYWxzZV0gLSBzZXRzIGFudGlhbGlhcyAob25seSBhcHBsaWNhYmxlIGluIGNocm9tZSBhdCB0aGUgbW9tZW50KVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXSAtIGVuYWJsZXMgZHJhd2luZyBidWZmZXIgcHJlc2VydmF0aW9uLCBlbmFibGUgdGhpcyBpZiB5b3VcbiAgICAgKiAgbmVlZCB0byBjYWxsIHRvRGF0YVVybCBvbiB0aGUgd2ViZ2wgY29udGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLCByZXRpbmEgd291bGQgYmUgMlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZm9yY2VDYW52YXM9ZmFsc2VdIC0gcHJldmVudHMgc2VsZWN0aW9uIG9mIFdlYkdMIHJlbmRlcmVyLCBldmVuIGlmIHN1Y2ggaXMgcHJlc2VudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBdIC0gVGhlIGJhY2tncm91bmQgY29sb3Igb2YgdGhlIHJlbmRlcmVkIGFyZWFcbiAgICAgKiAgKHNob3duIGlmIG5vdCB0cmFuc3BhcmVudCkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcj10cnVlXSAtIFRoaXMgc2V0cyBpZiB0aGUgcmVuZGVyZXIgd2lsbCBjbGVhciB0aGUgY2FudmFzIG9yXG4gICAgICogICBub3QgYmVmb3JlIHRoZSBuZXcgcmVuZGVyIHBhc3MuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5yb3VuZFBpeGVscz1mYWxzZV0gLSBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLFxuICAgICAqICBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZm9yY2VGWEFBPWZhbHNlXSAtIGZvcmNlcyBGWEFBIGFudGlhbGlhc2luZyB0byBiZSB1c2VkIG92ZXIgbmF0aXZlLlxuICAgICAqICBGWEFBIGlzIGZhc3RlciwgYnV0IG1heSBub3QgYWx3YXlzIGxvb2sgYXMgZ3JlYXQgKip3ZWJnbCBvbmx5KipcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlZ2FjeT1mYWxzZV0gLSBgdHJ1ZWAgdG8gZW5zdXJlIGNvbXBhdGliaWxpdHkgd2l0aCBvbGRlciAvIGxlc3MgYWR2YW5jZWQgZGV2aWNlcy5cbiAgICAgKiAgSWYgeW91IGV4cGVyaWVuY2UgdW5leHBsYWluZWQgZmxpY2tlcmluZyB0cnkgc2V0dGluZyB0aGlzIHRvIHRydWUuICoqd2ViZ2wgb25seSoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnBvd2VyUHJlZmVyZW5jZV0gLSBQYXJhbWV0ZXIgcGFzc2VkIHRvIHdlYmdsIGNvbnRleHQsIHNldCB0byBcImhpZ2gtcGVyZm9ybWFuY2VcIlxuICAgICAqICBmb3IgZGV2aWNlcyB3aXRoIGR1YWwgZ3JhcGhpY3MgY2FyZCAqKndlYmdsIG9ubHkqKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuc2hhcmVkVGlja2VyPWZhbHNlXSAtIGB0cnVlYCB0byB1c2UgUElYSS50aWNrZXIuc2hhcmVkLCBgZmFsc2VgIHRvIGNyZWF0ZSBuZXcgdGlja2VyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuc2hhcmVkTG9hZGVyPWZhbHNlXSAtIGB0cnVlYCB0byB1c2UgUElYSS5sb2FkZXJzLnNoYXJlZCwgYGZhbHNlYCB0byBjcmVhdGUgbmV3IExvYWRlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBcHBsaWNhdGlvbihvcHRpb25zLCBhcmcyLCBhcmczLCBhcmc0LCBhcmc1KSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBcHBsaWNhdGlvbik7XG5cbiAgICAgICAgLy8gU3VwcG9ydCBmb3IgY29uc3RydWN0b3Iod2lkdGgsIGhlaWdodCwgb3B0aW9ucywgbm9XZWJHTCwgdXNlU2hhcmVkVGlja2VyKVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICAgICAgd2lkdGg6IG9wdGlvbnMsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBhcmcyIHx8IF9zZXR0aW5nczIuZGVmYXVsdC5SRU5ERVJfT1BUSU9OUy5oZWlnaHQsXG4gICAgICAgICAgICAgICAgZm9yY2VDYW52YXM6ICEhYXJnNCxcbiAgICAgICAgICAgICAgICBzaGFyZWRUaWNrZXI6ICEhYXJnNVxuICAgICAgICAgICAgfSwgYXJnMyk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgb3B0aW9ucywgc28gd2UgbWl4aW4gZnVuY3Rpb25hbGl0eSBsYXRlci5cbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgYXV0b1N0YXJ0OiB0cnVlLFxuICAgICAgICAgICAgc2hhcmVkVGlja2VyOiBmYWxzZSxcbiAgICAgICAgICAgIGZvcmNlQ2FudmFzOiBmYWxzZSxcbiAgICAgICAgICAgIHNoYXJlZExvYWRlcjogZmFsc2VcbiAgICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdlYkdMIHJlbmRlcmVyIGlmIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIENhbnZhc1JlbmRlcmVyXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuV2ViR0xSZW5kZXJlcnxQSVhJLkNhbnZhc1JlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9ICgwLCBfYXV0b0RldGVjdFJlbmRlcmVyLmF1dG9EZXRlY3RSZW5kZXJlcikob3B0aW9ucyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByb290IGRpc3BsYXkgY29udGFpbmVyIHRoYXQncyByZW5kZXJlZC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Db250YWluZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YWdlID0gbmV3IF9Db250YWluZXIyLmRlZmF1bHQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgcmVmZXJlbmNlIHRvIHRoZSB0aWNrZXJcbiAgICAgICAgICogQG1lbWJlciB7UElYSS50aWNrZXIuVGlja2VyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGlja2VyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGlja2VyIGZvciBkb2luZyByZW5kZXIgdXBkYXRlcy5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS50aWNrZXIuVGlja2VyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnRpY2tlci5zaGFyZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGlja2VyID0gb3B0aW9ucy5zaGFyZWRUaWNrZXIgPyBfdGlja2VyLnNoYXJlZCA6IG5ldyBfdGlja2VyLlRpY2tlcigpO1xuXG4gICAgICAgIC8vIFN0YXJ0IHRoZSByZW5kZXJpbmdcbiAgICAgICAgaWYgKG9wdGlvbnMuYXV0b1N0YXJ0KSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIGN1cnJlbnQgc3RhZ2UuXG4gICAgICovXG4gICAgQXBwbGljYXRpb24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zdGFnZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCBmb3Igc3RvcHBpbmcgdGhlIHJlbmRlci5cbiAgICAgKi9cblxuXG4gICAgQXBwbGljYXRpb24ucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICB0aGlzLl90aWNrZXIuc3RvcCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgZm9yIHN0YXJ0aW5nIHRoZSByZW5kZXIuXG4gICAgICovXG5cblxuICAgIEFwcGxpY2F0aW9uLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLl90aWNrZXIuc3RhcnQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVmZXJlbmNlIHRvIHRoZSByZW5kZXJlcidzIGNhbnZhcyBlbGVtZW50LlxuICAgICAqIEBtZW1iZXIge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuXG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtyZW1vdmVWaWV3PWZhbHNlXSBBdXRvbWF0aWNhbGx5IHJlbW92ZSBjYW52YXMgZnJvbSBET00uXG4gICAgICovXG4gICAgQXBwbGljYXRpb24ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KHJlbW92ZVZpZXcpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RpY2tlcikge1xuICAgICAgICAgICAgdmFyIG9sZFRpY2tlciA9IHRoaXMuX3RpY2tlcjtcblxuICAgICAgICAgICAgdGhpcy50aWNrZXIgPSBudWxsO1xuICAgICAgICAgICAgb2xkVGlja2VyLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RhZ2UuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLnN0YWdlID0gbnVsbDtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLmRlc3Ryb3kocmVtb3ZlVmlldyk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBudWxsO1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoQXBwbGljYXRpb24sIFt7XG4gICAgICAgIGtleTogJ3RpY2tlcicsXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHRpY2tlcikgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl90aWNrZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90aWNrZXIucmVtb3ZlKHRoaXMucmVuZGVyLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3RpY2tlciA9IHRpY2tlcjtcbiAgICAgICAgICAgIGlmICh0aWNrZXIpIHtcbiAgICAgICAgICAgICAgICB0aWNrZXIuYWRkKHRoaXMucmVuZGVyLCB0aGlzLCBfY29uc3QuVVBEQVRFX1BSSU9SSVRZLkxPVyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aWNrZXI7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3ZpZXcnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLnZpZXc7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSByZW5kZXJlcidzIHNjcmVlbiByZWN0YW5nbGUuIEl0cyBzYWZlIHRvIHVzZSBhcyBmaWx0ZXJBcmVhIG9yIGhpdEFyZWEgZm9yIHdob2xlIHNjcmVlblxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdzY3JlZW4nLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLnNjcmVlbjtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBBcHBsaWNhdGlvbjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQXBwbGljYXRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BcHBsaWNhdGlvbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBBIEdyYXBoaWNzRGF0YSBvYmplY3QuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgR3JhcGhpY3NEYXRhID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGxpbmVXaWR0aCAtIHRoZSB3aWR0aCBvZiB0aGUgbGluZSB0byBkcmF3XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsaW5lQ29sb3IgLSB0aGUgY29sb3Igb2YgdGhlIGxpbmUgdG8gZHJhd1xuICAgKiBAcGFyYW0ge251bWJlcn0gbGluZUFscGhhIC0gdGhlIGFscGhhIG9mIHRoZSBsaW5lIHRvIGRyYXdcbiAgICogQHBhcmFtIHtudW1iZXJ9IGZpbGxDb2xvciAtIHRoZSBjb2xvciBvZiB0aGUgZmlsbFxuICAgKiBAcGFyYW0ge251bWJlcn0gZmlsbEFscGhhIC0gdGhlIGFscGhhIG9mIHRoZSBmaWxsXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZmlsbCAtIHdoZXRoZXIgb3Igbm90IHRoZSBzaGFwZSBpcyBmaWxsZWQgd2l0aCBhIGNvbG91clxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IG5hdGl2ZUxpbmVzIC0gdGhlIG1ldGhvZCBmb3IgZHJhd2luZyBsaW5lc1xuICAgKiBAcGFyYW0ge1BJWEkuQ2lyY2xlfFBJWEkuUmVjdGFuZ2xlfFBJWEkuRWxsaXBzZXxQSVhJLlBvbHlnb259IHNoYXBlIC0gVGhlIHNoYXBlIG9iamVjdCB0byBkcmF3LlxuICAgKi9cbiAgZnVuY3Rpb24gR3JhcGhpY3NEYXRhKGxpbmVXaWR0aCwgbGluZUNvbG9yLCBsaW5lQWxwaGEsIGZpbGxDb2xvciwgZmlsbEFscGhhLCBmaWxsLCBuYXRpdmVMaW5lcywgc2hhcGUpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR3JhcGhpY3NEYXRhKTtcblxuICAgIC8qKlxuICAgICAqIHRoZSB3aWR0aCBvZiB0aGUgbGluZSB0byBkcmF3XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubGluZVdpZHRoID0gbGluZVdpZHRoO1xuXG4gICAgLyoqXG4gICAgICogaWYgdHJ1ZSB0aGUgbGllbnMgd2lsbCBiZSBkcmF3IHVzaW5nIExJTkVTIGluc3RlYWQgb2YgVFJJQU5HTEVfU1RSSVBcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMubmF0aXZlTGluZXMgPSBuYXRpdmVMaW5lcztcblxuICAgIC8qKlxuICAgICAqIHRoZSBjb2xvciBvZiB0aGUgbGluZSB0byBkcmF3XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubGluZUNvbG9yID0gbGluZUNvbG9yO1xuXG4gICAgLyoqXG4gICAgICogdGhlIGFscGhhIG9mIHRoZSBsaW5lIHRvIGRyYXdcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5saW5lQWxwaGEgPSBsaW5lQWxwaGE7XG5cbiAgICAvKipcbiAgICAgKiBjYWNoZWQgdGludCBvZiB0aGUgbGluZSB0byBkcmF3XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fbGluZVRpbnQgPSBsaW5lQ29sb3I7XG5cbiAgICAvKipcbiAgICAgKiB0aGUgY29sb3Igb2YgdGhlIGZpbGxcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5maWxsQ29sb3IgPSBmaWxsQ29sb3I7XG5cbiAgICAvKipcbiAgICAgKiB0aGUgYWxwaGEgb2YgdGhlIGZpbGxcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5maWxsQWxwaGEgPSBmaWxsQWxwaGE7XG5cbiAgICAvKipcbiAgICAgKiBjYWNoZWQgdGludCBvZiB0aGUgZmlsbFxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX2ZpbGxUaW50ID0gZmlsbENvbG9yO1xuXG4gICAgLyoqXG4gICAgICogd2hldGhlciBvciBub3QgdGhlIHNoYXBlIGlzIGZpbGxlZCB3aXRoIGEgY29sb3VyXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmZpbGwgPSBmaWxsO1xuXG4gICAgdGhpcy5ob2xlcyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNoYXBlIG9iamVjdCB0byBkcmF3LlxuICAgICAqIEBtZW1iZXIge1BJWEkuQ2lyY2xlfFBJWEkuRWxsaXBzZXxQSVhJLlBvbHlnb258UElYSS5SZWN0YW5nbGV8UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfVxuICAgICAqL1xuICAgIHRoaXMuc2hhcGUgPSBzaGFwZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBzaGFwZSwgc2VlIHRoZSBDb25zdC5TaGFwZXMgZmlsZSBmb3IgYWxsIHRoZSBleGlzdGluZyB0eXBlcyxcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50eXBlID0gc2hhcGUudHlwZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IEdyYXBoaWNzRGF0YSBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gICAqXG4gICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3NEYXRhfSBDbG9uZWQgR3JhcGhpY3NEYXRhIG9iamVjdFxuICAgKi9cblxuXG4gIEdyYXBoaWNzRGF0YS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IEdyYXBoaWNzRGF0YSh0aGlzLmxpbmVXaWR0aCwgdGhpcy5saW5lQ29sb3IsIHRoaXMubGluZUFscGhhLCB0aGlzLmZpbGxDb2xvciwgdGhpcy5maWxsQWxwaGEsIHRoaXMuZmlsbCwgdGhpcy5uYXRpdmVMaW5lcywgdGhpcy5zaGFwZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBob2xlIHRvIHRoZSBzaGFwZS5cbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZXxQSVhJLkNpcmNsZX0gc2hhcGUgLSBUaGUgc2hhcGUgb2YgdGhlIGhvbGUuXG4gICAqL1xuXG5cbiAgR3JhcGhpY3NEYXRhLnByb3RvdHlwZS5hZGRIb2xlID0gZnVuY3Rpb24gYWRkSG9sZShzaGFwZSkge1xuICAgIHRoaXMuaG9sZXMucHVzaChzaGFwZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIERlc3Ryb3lzIHRoZSBHcmFwaGljcyBkYXRhLlxuICAgKi9cblxuXG4gIEdyYXBoaWNzRGF0YS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5zaGFwZSA9IG51bGw7XG4gICAgdGhpcy5ob2xlcyA9IG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIEdyYXBoaWNzRGF0YTtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gR3JhcGhpY3NEYXRhO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R3JhcGhpY3NEYXRhLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBUaGUgVGV4dE1ldHJpY3Mgb2JqZWN0IHJlcHJlc2VudHMgdGhlIG1lYXN1cmVtZW50IG9mIGEgYmxvY2sgb2YgdGV4dCB3aXRoIGEgc3BlY2lmaWVkIHN0eWxlLlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgc3R5bGUgPSBuZXcgUElYSS5UZXh0U3R5bGUoe2ZvbnRGYW1pbHkgOiAnQXJpYWwnLCBmb250U2l6ZTogMjQsIGZpbGwgOiAweGZmMTAxMCwgYWxpZ24gOiAnY2VudGVyJ30pXG4gKiBsZXQgdGV4dE1ldHJpY3MgPSBQSVhJLlRleHRNZXRyaWNzLm1lYXN1cmVUZXh0KCdZb3VyIHRleHQnLCBzdHlsZSlcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlck9mIFBJWElcbiAqL1xudmFyIFRleHRNZXRyaWNzID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gdGhlIHRleHQgdGhhdCB3YXMgbWVhc3VyZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dFN0eWxlfSBzdHlsZSAtIHRoZSBzdHlsZSB0aGF0IHdhcyBtZWFzdXJlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIHRoZSBtZWFzdXJlZCB3aWR0aCBvZiB0aGUgdGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgbWVhc3VyZWQgaGVpZ2h0IG9mIHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHthcnJheX0gbGluZXMgLSBhbiBhcnJheSBvZiB0aGUgbGluZXMgb2YgdGV4dCBicm9rZW4gYnkgbmV3IGxpbmVzIGFuZCB3cmFwcGluZyBpZiBzcGVjaWZpZWQgaW4gc3R5bGVcbiAgICAgKiBAcGFyYW0ge2FycmF5fSBsaW5lV2lkdGhzIC0gYW4gYXJyYXkgb2YgdGhlIGxpbmUgd2lkdGhzIGZvciBlYWNoIGxpbmUgbWF0Y2hlZCB0byBgbGluZXNgXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxpbmVIZWlnaHQgLSB0aGUgbWVhc3VyZWQgbGluZSBoZWlnaHQgZm9yIHRoaXMgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4TGluZVdpZHRoIC0gdGhlIG1heGltdW0gbGluZSB3aWR0aCBmb3IgYWxsIG1lYXN1cmVkIGxpbmVzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGZvbnRQcm9wZXJ0aWVzIC0gdGhlIGZvbnQgcHJvcGVydGllcyBvYmplY3QgZnJvbSBUZXh0TWV0cmljcy5tZWFzdXJlRm9udFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHRNZXRyaWNzKHRleHQsIHN0eWxlLCB3aWR0aCwgaGVpZ2h0LCBsaW5lcywgbGluZVdpZHRocywgbGluZUhlaWdodCwgbWF4TGluZVdpZHRoLCBmb250UHJvcGVydGllcykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGV4dE1ldHJpY3MpO1xuXG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5saW5lcyA9IGxpbmVzO1xuICAgICAgICB0aGlzLmxpbmVXaWR0aHMgPSBsaW5lV2lkdGhzO1xuICAgICAgICB0aGlzLmxpbmVIZWlnaHQgPSBsaW5lSGVpZ2h0O1xuICAgICAgICB0aGlzLm1heExpbmVXaWR0aCA9IG1heExpbmVXaWR0aDtcbiAgICAgICAgdGhpcy5mb250UHJvcGVydGllcyA9IGZvbnRQcm9wZXJ0aWVzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1lYXN1cmVzIHRoZSBzdXBwbGllZCBzdHJpbmcgb2YgdGV4dCBhbmQgcmV0dXJucyBhIFJlY3RhbmdsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gdGhlIHRleHQgdG8gbWVhc3VyZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dFN0eWxlfSBzdHlsZSAtIHRoZSB0ZXh0IHN0eWxlIHRvIHVzZSBmb3IgbWVhc3VyaW5nXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbd29yZFdyYXBdIC0gb3B0aW9uYWwgb3ZlcnJpZGUgZm9yIGlmIHdvcmQtd3JhcCBzaG91bGQgYmUgYXBwbGllZCB0byB0aGUgdGV4dC5cbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbY2FudmFzXSAtIG9wdGlvbmFsIHNwZWNpZmljYXRpb24gb2YgdGhlIGNhbnZhcyB0byB1c2UgZm9yIG1lYXN1cmluZy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHRNZXRyaWNzfSBtZWFzdXJlZCB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSB0ZXh0LlxuICAgICAqL1xuXG5cbiAgICBUZXh0TWV0cmljcy5tZWFzdXJlVGV4dCA9IGZ1bmN0aW9uIG1lYXN1cmVUZXh0KHRleHQsIHN0eWxlLCB3b3JkV3JhcCkge1xuICAgICAgICB2YXIgY2FudmFzID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBUZXh0TWV0cmljcy5fY2FudmFzO1xuXG4gICAgICAgIHdvcmRXcmFwID0gd29yZFdyYXAgfHwgc3R5bGUud29yZFdyYXA7XG4gICAgICAgIHZhciBmb250ID0gc3R5bGUudG9Gb250U3RyaW5nKCk7XG4gICAgICAgIHZhciBmb250UHJvcGVydGllcyA9IFRleHRNZXRyaWNzLm1lYXN1cmVGb250KGZvbnQpO1xuICAgICAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICAgIGNvbnRleHQuZm9udCA9IGZvbnQ7XG5cbiAgICAgICAgdmFyIG91dHB1dFRleHQgPSB3b3JkV3JhcCA/IFRleHRNZXRyaWNzLndvcmRXcmFwKHRleHQsIHN0eWxlLCBjYW52YXMpIDogdGV4dDtcbiAgICAgICAgdmFyIGxpbmVzID0gb3V0cHV0VGV4dC5zcGxpdCgvKD86XFxyXFxufFxccnxcXG4pLyk7XG4gICAgICAgIHZhciBsaW5lV2lkdGhzID0gbmV3IEFycmF5KGxpbmVzLmxlbmd0aCk7XG4gICAgICAgIHZhciBtYXhMaW5lV2lkdGggPSAwO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBsaW5lV2lkdGggPSBjb250ZXh0Lm1lYXN1cmVUZXh0KGxpbmVzW2ldKS53aWR0aCArIChsaW5lc1tpXS5sZW5ndGggLSAxKSAqIHN0eWxlLmxldHRlclNwYWNpbmc7XG5cbiAgICAgICAgICAgIGxpbmVXaWR0aHNbaV0gPSBsaW5lV2lkdGg7XG4gICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxpbmVXaWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdpZHRoID0gbWF4TGluZVdpZHRoICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuXG4gICAgICAgIGlmIChzdHlsZS5kcm9wU2hhZG93KSB7XG4gICAgICAgICAgICB3aWR0aCArPSBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGluZUhlaWdodCA9IHN0eWxlLmxpbmVIZWlnaHQgfHwgZm9udFByb3BlcnRpZXMuZm9udFNpemUgKyBzdHlsZS5zdHJva2VUaGlja25lc3M7XG4gICAgICAgIHZhciBoZWlnaHQgPSBNYXRoLm1heChsaW5lSGVpZ2h0LCBmb250UHJvcGVydGllcy5mb250U2l6ZSArIHN0eWxlLnN0cm9rZVRoaWNrbmVzcykgKyAobGluZXMubGVuZ3RoIC0gMSkgKiAobGluZUhlaWdodCArIHN0eWxlLmxlYWRpbmcpO1xuXG4gICAgICAgIGlmIChzdHlsZS5kcm9wU2hhZG93KSB7XG4gICAgICAgICAgICBoZWlnaHQgKz0gc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0TWV0cmljcyh0ZXh0LCBzdHlsZSwgd2lkdGgsIGhlaWdodCwgbGluZXMsIGxpbmVXaWR0aHMsIGxpbmVIZWlnaHQgKyBzdHlsZS5sZWFkaW5nLCBtYXhMaW5lV2lkdGgsIGZvbnRQcm9wZXJ0aWVzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBuZXdsaW5lcyB0byBhIHN0cmluZyB0byBoYXZlIGl0IG9wdGltYWxseSBmaXQgaW50byB0aGUgaG9yaXpvbnRhbFxuICAgICAqIGJvdW5kcyBzZXQgYnkgdGhlIFRleHQgb2JqZWN0J3Mgd29yZFdyYXBXaWR0aCBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBTdHJpbmcgdG8gYXBwbHkgd29yZCB3cmFwcGluZyB0b1xuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IHN0eWxlIC0gdGhlIHN0eWxlIHRvIHVzZSB3aGVuIHdyYXBwaW5nXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW2NhbnZhc10gLSBvcHRpb25hbCBzcGVjaWZpY2F0aW9uIG9mIHRoZSBjYW52YXMgdG8gdXNlIGZvciBtZWFzdXJpbmcuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBOZXcgc3RyaW5nIHdpdGggbmV3IGxpbmVzIGFwcGxpZWQgd2hlcmUgcmVxdWlyZWRcbiAgICAgKi9cblxuXG4gICAgVGV4dE1ldHJpY3Mud29yZFdyYXAgPSBmdW5jdGlvbiB3b3JkV3JhcCh0ZXh0LCBzdHlsZSkge1xuICAgICAgICB2YXIgY2FudmFzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBUZXh0TWV0cmljcy5fY2FudmFzO1xuXG4gICAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAgICAgdmFyIGxpbmUgPSAnJztcbiAgICAgICAgdmFyIHdpZHRoID0gMDtcbiAgICAgICAgdmFyIGxpbmVzID0gJyc7XG4gICAgICAgIHZhciBjYWNoZSA9IHt9O1xuICAgICAgICB2YXIgbHMgPSBzdHlsZS5sZXR0ZXJTcGFjaW5nO1xuXG4gICAgICAgIC8vIGlkZWFsbHkgdGhlcmUgaXMgbGV0dGVyU3BhY2luZyBhZnRlciBldmVyeSBjaGFyIGV4Y2VwdCB0aGUgbGFzdCBvbmVcbiAgICAgICAgLy8gdF9oX2lfc18nICdfaV9zXycgJ19hX25fJyAnX2VfeF9hX21fcF9sX2VfJyAnXyFcbiAgICAgICAgLy8gc28gZm9yIGNvbnZlbmllbmNlIHRoZSBhYm92ZSBuZWVkcyB0byBiZSBjb21wYXJlZCB0byB3aWR0aCArIDEgZXh0cmEgc3BhY2VcbiAgICAgICAgLy8gdF9oX2lfc18nICdfaV9zXycgJ19hX25fJyAnX2VfeF9hX21fcF9sX2VfJyAnXyFfXG4gICAgICAgIC8vIF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1xuICAgICAgICAvLyBBbmQgdGhlbiB0aGUgZmluYWwgc3BhY2UgaXMgc2ltcGx5IG5vIGFwcGVuZGVkIHRvIGVhY2ggbGluZVxuICAgICAgICB2YXIgd29yZFdyYXBXaWR0aCA9IHN0eWxlLndvcmRXcmFwV2lkdGggKyBzdHlsZS5sZXR0ZXJTcGFjaW5nO1xuXG4gICAgICAgIC8vIGdldCB0aGUgd2lkdGggb2YgYSBzcGFjZSBhbmQgYWRkIGl0IHRvIGNhY2hlXG4gICAgICAgIHZhciBzcGFjZVdpZHRoID0gVGV4dE1ldHJpY3MuZ2V0RnJvbUNhY2hlKCcgJywgbHMsIGNhY2hlLCBjb250ZXh0KTtcblxuICAgICAgICAvLyBicmVhayB0ZXh0IGludG8gd29yZHNcbiAgICAgICAgdmFyIHdvcmRzID0gdGV4dC5zcGxpdCgnICcpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgd29yZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB3b3JkID0gd29yZHNbaV07XG5cbiAgICAgICAgICAgIC8vIGdldCB3b3JkIHdpZHRoIGZyb20gY2FjaGUgaWYgcG9zc2libGVcbiAgICAgICAgICAgIHZhciB3b3JkV2lkdGggPSBUZXh0TWV0cmljcy5nZXRGcm9tQ2FjaGUod29yZCwgbHMsIGNhY2hlLCBjb250ZXh0KTtcblxuICAgICAgICAgICAgLy8gd29yZCBpcyBsb25nZXIgdGhhbiBkZXNpcmVkIGJvdW5kc1xuICAgICAgICAgICAgaWYgKHdvcmRXaWR0aCA+IHdvcmRXcmFwV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAvLyBicmVhayBsYXJnZSB3b3JkIG92ZXIgbXVsdGlwbGUgbGluZXNcbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUuYnJlYWtXb3Jkcykge1xuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgYSBzcGFjZSB0byB0aGUgc3RhcnQgb2YgdGhlIHdvcmQgdW5sZXNzIGl0cyBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBsaW5lXG4gICAgICAgICAgICAgICAgICAgIHZhciB0bXBXb3JkID0gbGluZS5sZW5ndGggPiAwID8gJyAnICsgd29yZCA6IHdvcmQ7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gYnJlYWsgd29yZCBpbnRvIGNoYXJhY3RlcnNcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJhY3RlcnMgPSB0bXBXb3JkLnNwbGl0KCcnKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBsb29wIHRoZSBjaGFyYWN0ZXJzXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY2hhcmFjdGVycy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJhY3RlciA9IGNoYXJhY3RlcnNbal07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hhcmFjdGVyV2lkdGggPSBUZXh0TWV0cmljcy5nZXRGcm9tQ2FjaGUoY2hhcmFjdGVyLCBscywgY2FjaGUsIGNvbnRleHQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcmFjdGVyV2lkdGggKyB3aWR0aCA+IHdvcmRXcmFwV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgKz0gY2hhcmFjdGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gY2hhcmFjdGVyV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBydW4gd29yZCBvdXQgb2YgdGhlIGJvdW5kc1xuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgYXJlIHdvcmRzIGluIHRoaXMgbGluZSBhbHJlYWR5XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmaW5pc2ggdGhhdCBsaW5lIGFuZCBzdGFydCBhIG5ldyBvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaW5lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGdpdmUgaXQgaXRzIG93biBsaW5lXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKHdvcmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHdvcmQgY291bGQgZml0XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gd29yZCB3b24ndCBmaXQsIHN0YXJ0IGEgbmV3IGxpbmVcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdvcmRXaWR0aCArIHdpZHRoID4gd29yZFdyYXBXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGFkZCB0aGUgd29yZCB0byB0aGUgY3VycmVudCBsaW5lXG4gICAgICAgICAgICAgICAgICAgIGlmIChsaW5lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZCBhIHNwYWNlIGlmIGl0IGlzIG5vdCB0aGUgYmVnaW5uaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lICs9ICcgJyArIHdvcmQ7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgd2l0aG91dCBhIHNwYWNlIGlmIGl0IGlzIHRoZSBiZWdpbm5pbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgKz0gd29yZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoICs9IHdvcmRXaWR0aCArIHNwYWNlV2lkdGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lLCBmYWxzZSk7XG5cbiAgICAgICAgcmV0dXJuIGxpbmVzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiAgQ29udmllbmllbmNlIGZ1bmN0aW9uIGZvciBsb2dnaW5nIGVhY2ggbGluZSBhZGRlZFxuICAgICAqICBkdXJpbmcgdGhlIHdvcmRXcmFwIG1ldGhvZFxuICAgICAqXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgIGxpbmUgICAgLSBUaGUgbGluZSBvZiB0ZXh0IHRvIGFkZFxuICAgICAqIEBwYXJhbSAge2Jvb2xlYW59ICBuZXdMaW5lIC0gQWRkIG5ldyBsaW5lIGNoYXJhY3RlciB0byBlbmRcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9ICAgQSBmb3JtYXR0ZWQgbGluZVxuICAgICAqL1xuXG5cbiAgICBUZXh0TWV0cmljcy5hZGRMaW5lID0gZnVuY3Rpb24gYWRkTGluZShsaW5lKSB7XG4gICAgICAgIHZhciBuZXdMaW5lID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0cnVlO1xuXG4gICAgICAgIGxpbmUgPSBuZXdMaW5lID8gbGluZSArICdcXG4nIDogbGluZTtcblxuICAgICAgICByZXR1cm4gbGluZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyAmIHNldHMgdGhlIHdpZHRocyBvZiBjYWxjdWxhdGVkIGNoYXJhY3RlcnMgaW4gYSBjYWNoZSBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gICAgICAgICAgICAgICAgICAgIGtleSAgICAgICAgICAgIFRoZSBrZXlcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9ICAgICAgICAgICAgICAgICAgICBsZXR0ZXJTcGFjaW5nICBUaGUgbGV0dGVyIHNwYWNpbmdcbiAgICAgKiBAcGFyYW0gIHtvYmplY3R9ICAgICAgICAgICAgICAgICAgICBjYWNoZSAgICAgICAgICBUaGUgY2FjaGVcbiAgICAgKiBAcGFyYW0gIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9ICBjb250ZXh0ICAgICAgICBUaGUgY2FudmFzIGNvbnRleHRcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9ICAgICAgICAgICAgICAgICAgICBUaGUgZnJvbSBjYWNoZS5cbiAgICAgKi9cblxuXG4gICAgVGV4dE1ldHJpY3MuZ2V0RnJvbUNhY2hlID0gZnVuY3Rpb24gZ2V0RnJvbUNhY2hlKGtleSwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIHdpZHRoID0gY2FjaGVba2V5XTtcblxuICAgICAgICBpZiAod2lkdGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFyIHNwYWNpbmcgPSBrZXkubGVuZ3RoICogbGV0dGVyU3BhY2luZztcblxuICAgICAgICAgICAgd2lkdGggPSBjb250ZXh0Lm1lYXN1cmVUZXh0KGtleSkud2lkdGggKyBzcGFjaW5nO1xuICAgICAgICAgICAgY2FjaGVba2V5XSA9IHdpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHdpZHRoO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBhc2NlbnQsIGRlc2NlbnQgYW5kIGZvbnRTaXplIG9mIGEgZ2l2ZW4gZm9udC1zdHlsZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmb250IC0gU3RyaW5nIHJlcHJlc2VudGluZyB0aGUgc3R5bGUgb2YgdGhlIGZvbnRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHRNZXRyaWNzfkZvbnRNZXRyaWNzfSBGb250IHByb3BlcnRpZXMgb2JqZWN0XG4gICAgICovXG5cblxuICAgIFRleHRNZXRyaWNzLm1lYXN1cmVGb250ID0gZnVuY3Rpb24gbWVhc3VyZUZvbnQoZm9udCkge1xuICAgICAgICAvLyBhcyB0aGlzIG1ldGhvZCBpcyB1c2VkIGZvciBwcmVwYXJpbmcgYXNzZXRzLCBkb24ndCByZWNhbGN1bGF0ZSB0aGluZ3MgaWYgd2UgZG9uJ3QgbmVlZCB0b1xuICAgICAgICBpZiAoVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdKSB7XG4gICAgICAgICAgICByZXR1cm4gVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHByb3BlcnRpZXMgPSB7fTtcblxuICAgICAgICB2YXIgY2FudmFzID0gVGV4dE1ldHJpY3MuX2NhbnZhcztcbiAgICAgICAgdmFyIGNvbnRleHQgPSBUZXh0TWV0cmljcy5fY29udGV4dDtcblxuICAgICAgICBjb250ZXh0LmZvbnQgPSBmb250O1xuXG4gICAgICAgIHZhciB3aWR0aCA9IE1hdGguY2VpbChjb250ZXh0Lm1lYXN1cmVUZXh0KCd8TcOJcScpLndpZHRoKTtcbiAgICAgICAgdmFyIGJhc2VsaW5lID0gTWF0aC5jZWlsKGNvbnRleHQubWVhc3VyZVRleHQoJ00nKS53aWR0aCk7XG4gICAgICAgIHZhciBoZWlnaHQgPSAyICogYmFzZWxpbmU7XG5cbiAgICAgICAgYmFzZWxpbmUgPSBiYXNlbGluZSAqIDEuNCB8IDA7XG5cbiAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnI2YwMCc7XG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgY29udGV4dC5mb250ID0gZm9udDtcblxuICAgICAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9ICdhbHBoYWJldGljJztcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnIzAwMCc7XG4gICAgICAgIGNvbnRleHQuZmlsbFRleHQoJ3xNw4lxJywgMCwgYmFzZWxpbmUpO1xuXG4gICAgICAgIHZhciBpbWFnZWRhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCB3aWR0aCwgaGVpZ2h0KS5kYXRhO1xuICAgICAgICB2YXIgcGl4ZWxzID0gaW1hZ2VkYXRhLmxlbmd0aDtcbiAgICAgICAgdmFyIGxpbmUgPSB3aWR0aCAqIDQ7XG5cbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB2YXIgaWR4ID0gMDtcbiAgICAgICAgdmFyIHN0b3AgPSBmYWxzZTtcblxuICAgICAgICAvLyBhc2NlbnQuIHNjYW4gZnJvbSB0b3AgdG8gYm90dG9tIHVudGlsIHdlIGZpbmQgYSBub24gcmVkIHBpeGVsXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBiYXNlbGluZTsgKytpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxpbmU7IGogKz0gNCkge1xuICAgICAgICAgICAgICAgIGlmIChpbWFnZWRhdGFbaWR4ICsgal0gIT09IDI1NSkge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFzdG9wKSB7XG4gICAgICAgICAgICAgICAgaWR4ICs9IGxpbmU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvcGVydGllcy5hc2NlbnQgPSBiYXNlbGluZSAtIGk7XG5cbiAgICAgICAgaWR4ID0gcGl4ZWxzIC0gbGluZTtcbiAgICAgICAgc3RvcCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIGRlc2NlbnQuIHNjYW4gZnJvbSBib3R0b20gdG8gdG9wIHVudGlsIHdlIGZpbmQgYSBub24gcmVkIHBpeGVsXG4gICAgICAgIGZvciAoaSA9IGhlaWdodDsgaSA+IGJhc2VsaW5lOyAtLWkpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9qID0gMDsgX2ogPCBsaW5lOyBfaiArPSA0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGltYWdlZGF0YVtpZHggKyBfal0gIT09IDI1NSkge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXN0b3ApIHtcbiAgICAgICAgICAgICAgICBpZHggLT0gbGluZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm9wZXJ0aWVzLmRlc2NlbnQgPSBpIC0gYmFzZWxpbmU7XG4gICAgICAgIHByb3BlcnRpZXMuZm9udFNpemUgPSBwcm9wZXJ0aWVzLmFzY2VudCArIHByb3BlcnRpZXMuZGVzY2VudDtcblxuICAgICAgICBUZXh0TWV0cmljcy5fZm9udHNbZm9udF0gPSBwcm9wZXJ0aWVzO1xuXG4gICAgICAgIHJldHVybiBwcm9wZXJ0aWVzO1xuICAgIH07XG5cbiAgICByZXR1cm4gVGV4dE1ldHJpY3M7XG59KCk7XG5cbi8qKlxuICogSW50ZXJuYWwgcmV0dXJuIG9iamVjdCBmb3Ige0BsaW5rIFBJWEkuVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQgYFRleHRNZXRyaWNzLm1lYXN1cmVGb250YH0uXG4gKiBAY2xhc3MgRm9udE1ldHJpY3NcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzflxuICogQHByb3BlcnR5IHtudW1iZXJ9IGFzY2VudCAtIFRoZSBhc2NlbnQgZGlzdGFuY2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkZXNjZW50IC0gVGhlIGRlc2NlbnQgZGlzdGFuY2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBmb250U2l6ZSAtIEZvbnQgc2l6ZSBmcm9tIGFzY2VudCB0byBkZXNjZW50XG4gKi9cblxuZXhwb3J0cy5kZWZhdWx0ID0gVGV4dE1ldHJpY3M7XG52YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbmNhbnZhcy53aWR0aCA9IGNhbnZhcy5oZWlnaHQgPSAxMDtcblxuLyoqXG4gKiBDYWNoZWQgY2FudmFzIGVsZW1lbnQgZm9yIG1lYXN1cmluZyB0ZXh0XG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge0hUTUxDYW52YXNFbGVtZW50fVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX2NhbnZhcyA9IGNhbnZhcztcblxuLyoqXG4gKiBDYWNoZSBmb3IgY29udGV4dCB0byB1c2UuXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9jb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbi8qKlxuICogQ2FjaGUgb2YgUElYSS5UZXh0TWV0cmljc35Gb250TWV0cmljcyBvYmplY3RzLlxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fZm9udHMgPSB7fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRleHRNZXRyaWNzLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsgLy8gZGlzYWJsaW5nIGVzbGludCBmb3Igbm93LCBnb2luZyB0byByZXdyaXRlIHRoaXMgaW4gdjVcbi8qIGVzbGludC1kaXNhYmxlICovXG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi9jb25zdCcpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIGRlZmF1bHRTdHlsZSA9IHtcbiAgICBhbGlnbjogJ2xlZnQnLFxuICAgIGJyZWFrV29yZHM6IGZhbHNlLFxuICAgIGRyb3BTaGFkb3c6IGZhbHNlLFxuICAgIGRyb3BTaGFkb3dBbHBoYTogMSxcbiAgICBkcm9wU2hhZG93QW5nbGU6IE1hdGguUEkgLyA2LFxuICAgIGRyb3BTaGFkb3dCbHVyOiAwLFxuICAgIGRyb3BTaGFkb3dDb2xvcjogJ2JsYWNrJyxcbiAgICBkcm9wU2hhZG93RGlzdGFuY2U6IDUsXG4gICAgZmlsbDogJ2JsYWNrJyxcbiAgICBmaWxsR3JhZGllbnRUeXBlOiBfY29uc3QuVEVYVF9HUkFESUVOVC5MSU5FQVJfVkVSVElDQUwsXG4gICAgZmlsbEdyYWRpZW50U3RvcHM6IFtdLFxuICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXG4gICAgZm9udFNpemU6IDI2LFxuICAgIGZvbnRTdHlsZTogJ25vcm1hbCcsXG4gICAgZm9udFZhcmlhbnQ6ICdub3JtYWwnLFxuICAgIGZvbnRXZWlnaHQ6ICdub3JtYWwnLFxuICAgIGxldHRlclNwYWNpbmc6IDAsXG4gICAgbGluZUhlaWdodDogMCxcbiAgICBsaW5lSm9pbjogJ21pdGVyJyxcbiAgICBtaXRlckxpbWl0OiAxMCxcbiAgICBwYWRkaW5nOiAwLFxuICAgIHN0cm9rZTogJ2JsYWNrJyxcbiAgICBzdHJva2VUaGlja25lc3M6IDAsXG4gICAgdGV4dEJhc2VsaW5lOiAnYWxwaGFiZXRpYycsXG4gICAgdHJpbTogZmFsc2UsXG4gICAgd29yZFdyYXA6IGZhbHNlLFxuICAgIHdvcmRXcmFwV2lkdGg6IDEwMCxcbiAgICBsZWFkaW5nOiAwXG59O1xuXG4vKipcbiAqIEEgVGV4dFN0eWxlIE9iamVjdCBkZWNvcmF0ZXMgYSBUZXh0IE9iamVjdC4gSXQgY2FuIGJlIHNoYXJlZCBiZXR3ZWVuXG4gKiBtdWx0aXBsZSBUZXh0IG9iamVjdHMuIENoYW5naW5nIHRoZSBzdHlsZSB3aWxsIHVwZGF0ZSBhbGwgdGV4dCBvYmplY3RzIHVzaW5nIGl0LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuXG52YXIgVGV4dFN0eWxlID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbc3R5bGVdIC0gVGhlIHN0eWxlIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmFsaWduPSdsZWZ0J10gLSBBbGlnbm1lbnQgZm9yIG11bHRpbGluZSB0ZXh0ICgnbGVmdCcsICdjZW50ZXInIG9yICdyaWdodCcpLFxuICAgICAqICBkb2VzIG5vdCBhZmZlY3Qgc2luZ2xlIGxpbmUgdGV4dFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0eWxlLmJyZWFrV29yZHM9ZmFsc2VdIC0gSW5kaWNhdGVzIGlmIGxpbmVzIGNhbiBiZSB3cmFwcGVkIHdpdGhpbiB3b3JkcywgaXRcbiAgICAgKiAgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdHlsZS5kcm9wU2hhZG93PWZhbHNlXSAtIFNldCBhIGRyb3Agc2hhZG93IGZvciB0aGUgdGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZHJvcFNoYWRvd0FscGhhPTFdIC0gU2V0IGFscGhhIGZvciB0aGUgZHJvcCBzaGFkb3dcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmRyb3BTaGFkb3dBbmdsZT1NYXRoLlBJLzZdIC0gU2V0IGEgYW5nbGUgb2YgdGhlIGRyb3Agc2hhZG93XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5kcm9wU2hhZG93Qmx1cj0wXSAtIFNldCBhIHNoYWRvdyBibHVyIHJhZGl1c1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW3N0eWxlLmRyb3BTaGFkb3dDb2xvcj0nYmxhY2snXSAtIEEgZmlsbCBzdHlsZSB0byBiZSB1c2VkIG9uIHRoZSBkcm9wc2hhZG93IGUuZyAncmVkJywgJyMwMEZGMDAnXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U9NV0gLSBTZXQgYSBkaXN0YW5jZSBvZiB0aGUgZHJvcCBzaGFkb3dcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXXxudW1iZXJ8bnVtYmVyW118Q2FudmFzR3JhZGllbnR8Q2FudmFzUGF0dGVybn0gW3N0eWxlLmZpbGw9J2JsYWNrJ10gLSBBIGNhbnZhc1xuICAgICAqICBmaWxsc3R5bGUgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIHRleHQgZS5nICdyZWQnLCAnIzAwRkYwMCcuIENhbiBiZSBhbiBhcnJheSB0byBjcmVhdGUgYSBncmFkaWVudFxuICAgICAqICBlZyBbJyMwMDAwMDAnLCcjRkZGRkZGJ11cbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9maWxsU3R5bGV8TUROfVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZmlsbEdyYWRpZW50VHlwZT1QSVhJLlRFWFRfR1JBRElFTlQuTElORUFSX1ZFUlRJQ0FMXSAtIElmIGZpbGwgaXMgYW4gYXJyYXkgb2YgY29sb3Vyc1xuICAgICAqICB0byBjcmVhdGUgYSBncmFkaWVudCwgdGhpcyBjYW4gY2hhbmdlIHRoZSB0eXBlL2RpcmVjdGlvbiBvZiB0aGUgZ3JhZGllbnQuIFNlZSB7QGxpbmsgUElYSS5URVhUX0dSQURJRU5UfVxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IFtzdHlsZS5maWxsR3JhZGllbnRTdG9wc10gLSBJZiBmaWxsIGlzIGFuIGFycmF5IG9mIGNvbG91cnMgdG8gY3JlYXRlIGEgZ3JhZGllbnQsIHRoaXMgYXJyYXkgY2FuIHNldFxuICAgICAqIHRoZSBzdG9wIHBvaW50cyAobnVtYmVycyBiZXR3ZWVuIDAgYW5kIDEpIGZvciB0aGUgY29sb3IsIG92ZXJyaWRpbmcgdGhlIGRlZmF1bHQgYmVoYXZpb3VyIG9mIGV2ZW5seSBzcGFjaW5nIHRoZW0uXG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IFtzdHlsZS5mb250RmFtaWx5PSdBcmlhbCddIC0gVGhlIGZvbnQgZmFtaWx5XG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSBbc3R5bGUuZm9udFNpemU9MjZdIC0gVGhlIGZvbnQgc2l6ZSAoYXMgYSBudW1iZXIgaXQgY29udmVydHMgdG8gcHgsIGJ1dCBhcyBhIHN0cmluZyxcbiAgICAgKiAgZXF1aXZhbGVudHMgYXJlICcyNnB4JywnMjBwdCcsJzE2MCUnIG9yICcxLjZlbScpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5mb250U3R5bGU9J25vcm1hbCddIC0gVGhlIGZvbnQgc3R5bGUgKCdub3JtYWwnLCAnaXRhbGljJyBvciAnb2JsaXF1ZScpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5mb250VmFyaWFudD0nbm9ybWFsJ10gLSBUaGUgZm9udCB2YXJpYW50ICgnbm9ybWFsJyBvciAnc21hbGwtY2FwcycpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5mb250V2VpZ2h0PSdub3JtYWwnXSAtIFRoZSBmb250IHdlaWdodCAoJ25vcm1hbCcsICdib2xkJywgJ2JvbGRlcicsICdsaWdodGVyJyBhbmQgJzEwMCcsXG4gICAgICogICcyMDAnLCAnMzAwJywgJzQwMCcsICc1MDAnLCAnNjAwJywgJzcwMCcsIDgwMCcgb3IgJzkwMCcpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5sZWFkaW5nPTBdIC0gVGhlIHNwYWNlIGJldHdlZW4gbGluZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmxldHRlclNwYWNpbmc9MF0gLSBUaGUgYW1vdW50IG9mIHNwYWNpbmcgYmV0d2VlbiBsZXR0ZXJzLCBkZWZhdWx0IGlzIDBcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmxpbmVIZWlnaHRdIC0gVGhlIGxpbmUgaGVpZ2h0LCBhIG51bWJlciB0aGF0IHJlcHJlc2VudHMgdGhlIHZlcnRpY2FsIHNwYWNlIHRoYXQgYSBsZXR0ZXIgdXNlc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUubGluZUpvaW49J21pdGVyJ10gLSBUaGUgbGluZUpvaW4gcHJvcGVydHkgc2V0cyB0aGUgdHlwZSBvZiBjb3JuZXIgY3JlYXRlZCwgaXQgY2FuIHJlc29sdmVcbiAgICAgKiAgICAgIHNwaWtlZCB0ZXh0IGlzc3Vlcy4gUG9zc2libGUgdmFsdWVzIFwibWl0ZXJcIiAoY3JlYXRlcyBhIHNoYXJwIGNvcm5lciksIFwicm91bmRcIiAoY3JlYXRlcyBhIHJvdW5kIGNvcm5lcikgb3IgXCJiZXZlbFwiXG4gICAgICogICAgICAoY3JlYXRlcyBhIHNxdWFyZWQgY29ybmVyKS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLm1pdGVyTGltaXQ9MTBdIC0gVGhlIG1pdGVyIGxpbWl0IHRvIHVzZSB3aGVuIHVzaW5nIHRoZSAnbWl0ZXInIGxpbmVKb2luIG1vZGUuIFRoaXMgY2FuIHJlZHVjZVxuICAgICAqICAgICAgb3IgaW5jcmVhc2UgdGhlIHNwaWtpbmVzcyBvZiByZW5kZXJlZCB0ZXh0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUucGFkZGluZz0wXSAtIE9jY2FzaW9uYWxseSBzb21lIGZvbnRzIGFyZSBjcm9wcGVkLiBBZGRpbmcgc29tZSBwYWRkaW5nIHdpbGwgcHJldmVudCB0aGlzIGZyb21cbiAgICAgKiAgICAgaGFwcGVuaW5nIGJ5IGFkZGluZyBwYWRkaW5nIHRvIGFsbCBzaWRlcyBvZiB0aGUgdGV4dC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtzdHlsZS5zdHJva2U9J2JsYWNrJ10gLSBBIGNhbnZhcyBmaWxsc3R5bGUgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIHRleHQgc3Ryb2tlXG4gICAgICogIGUuZyAnYmx1ZScsICcjRkNGRjAwJ1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuc3Ryb2tlVGhpY2tuZXNzPTBdIC0gQSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSB0aGlja25lc3Mgb2YgdGhlIHN0cm9rZS5cbiAgICAgKiAgRGVmYXVsdCBpcyAwIChubyBzdHJva2UpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3R5bGUudHJpbT1mYWxzZV0gLSBUcmltIHRyYW5zcGFyZW50IGJvcmRlcnNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLnRleHRCYXNlbGluZT0nYWxwaGFiZXRpYyddIC0gVGhlIGJhc2VsaW5lIG9mIHRoZSB0ZXh0IHRoYXQgaXMgcmVuZGVyZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3R5bGUud29yZFdyYXA9ZmFsc2VdIC0gSW5kaWNhdGVzIGlmIHdvcmQgd3JhcCBzaG91bGQgYmUgdXNlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUud29yZFdyYXBXaWR0aD0xMDBdIC0gVGhlIHdpZHRoIGF0IHdoaWNoIHRleHQgd2lsbCB3cmFwLCBpdCBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHRTdHlsZShzdHlsZSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGV4dFN0eWxlKTtcblxuICAgICAgICB0aGlzLnN0eWxlSUQgPSAwO1xuXG4gICAgICAgIHRoaXMucmVzZXQoKTtcblxuICAgICAgICBkZWVwQ29weVByb3BlcnRpZXModGhpcywgc3R5bGUsIHN0eWxlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFRleHRTdHlsZSBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gICAgICogTm90ZSB0aGF0IHRoZSBvbmx5IHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBvYmplY3QgYXJlIGNsb25lZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dFN0eWxlfSBOZXcgY2xvbmVkIFRleHRTdHlsZSBvYmplY3RcbiAgICAgKi9cblxuXG4gICAgVGV4dFN0eWxlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lKCkge1xuICAgICAgICB2YXIgY2xvbmVkUHJvcGVydGllcyA9IHt9O1xuXG4gICAgICAgIGRlZXBDb3B5UHJvcGVydGllcyhjbG9uZWRQcm9wZXJ0aWVzLCB0aGlzLCBkZWZhdWx0U3R5bGUpO1xuXG4gICAgICAgIHJldHVybiBuZXcgVGV4dFN0eWxlKGNsb25lZFByb3BlcnRpZXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgYWxsIHByb3BlcnRpZXMgdG8gdGhlIGRlZmF1bHRzIHNwZWNpZmllZCBpbiBUZXh0U3R5bGUucHJvdG90eXBlLl9kZWZhdWx0XG4gICAgICovXG5cblxuICAgIFRleHRTdHlsZS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgICAgZGVlcENvcHlQcm9wZXJ0aWVzKHRoaXMsIGRlZmF1bHRTdHlsZSwgZGVmYXVsdFN0eWxlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWxpZ25tZW50IGZvciBtdWx0aWxpbmUgdGV4dCAoJ2xlZnQnLCAnY2VudGVyJyBvciAncmlnaHQnKSwgZG9lcyBub3QgYWZmZWN0IHNpbmdsZSBsaW5lIHRleHRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgZm9udCBzdHlsZSBzdHJpbmcgdG8gdXNlIGZvciBgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoKWAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IEZvbnQgc3R5bGUgc3RyaW5nLCBmb3IgcGFzc2luZyB0byBgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoKWBcbiAgICAgKi9cbiAgICBUZXh0U3R5bGUucHJvdG90eXBlLnRvRm9udFN0cmluZyA9IGZ1bmN0aW9uIHRvRm9udFN0cmluZygpIHtcbiAgICAgICAgLy8gYnVpbGQgY2FudmFzIGFwaSBmb250IHNldHRpbmcgZnJvbSBpbmRpdmlkdWFsIGNvbXBvbmVudHMuIENvbnZlcnQgYSBudW1lcmljIHRoaXMuZm9udFNpemUgdG8gcHhcbiAgICAgICAgdmFyIGZvbnRTaXplU3RyaW5nID0gdHlwZW9mIHRoaXMuZm9udFNpemUgPT09ICdudW1iZXInID8gdGhpcy5mb250U2l6ZSArICdweCcgOiB0aGlzLmZvbnRTaXplO1xuXG4gICAgICAgIC8vIENsZWFuLXVwIGZvbnRGYW1pbHkgcHJvcGVydHkgYnkgcXVvdGluZyBlYWNoIGZvbnQgbmFtZVxuICAgICAgICAvLyB0aGlzIHdpbGwgc3VwcG9ydCBmb250IG5hbWVzIHdpdGggc3BhY2VzXG4gICAgICAgIHZhciBmb250RmFtaWxpZXMgPSB0aGlzLmZvbnRGYW1pbHk7XG5cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMuZm9udEZhbWlseSkpIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbGllcyA9IHRoaXMuZm9udEZhbWlseS5zcGxpdCgnLCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IGZvbnRGYW1pbGllcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgLy8gVHJpbSBhbnkgZXh0cmEgd2hpdGUtc3BhY2VcbiAgICAgICAgICAgIHZhciBmb250RmFtaWx5ID0gZm9udEZhbWlsaWVzW2ldLnRyaW0oKTtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZm9udCBhbHJlYWR5IGNvbnRhaW5zIHN0cmluZ3NcbiAgICAgICAgICAgIGlmICghLyhbXFxcIlxcJ10pW15cXCdcXFwiXStcXDEvLnRlc3QoZm9udEZhbWlseSkpIHtcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5ID0gJ1wiJyArIGZvbnRGYW1pbHkgKyAnXCInO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9udEZhbWlsaWVzW2ldID0gZm9udEZhbWlseTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmZvbnRTdHlsZSArICcgJyArIHRoaXMuZm9udFZhcmlhbnQgKyAnICcgKyB0aGlzLmZvbnRXZWlnaHQgKyAnICcgKyBmb250U2l6ZVN0cmluZyArICcgJyArIGZvbnRGYW1pbGllcy5qb2luKCcsJyk7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhUZXh0U3R5bGUsIFt7XG4gICAgICAgIGtleTogJ2FsaWduJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYWxpZ247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGFsaWduKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2FsaWduICE9PSBhbGlnbikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FsaWduID0gYWxpZ247XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIGlmIGxpbmVzIGNhbiBiZSB3cmFwcGVkIHdpdGhpbiB3b3JkcywgaXQgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2JyZWFrV29yZHMnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9icmVha1dvcmRzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChicmVha1dvcmRzKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2JyZWFrV29yZHMgIT09IGJyZWFrV29yZHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9icmVha1dvcmRzID0gYnJlYWtXb3JkcztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgYSBkcm9wIHNoYWRvdyBmb3IgdGhlIHRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2Ryb3BTaGFkb3cnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChkcm9wU2hhZG93KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3cgIT09IGRyb3BTaGFkb3cpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93ID0gZHJvcFNoYWRvdztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgYWxwaGEgZm9yIHRoZSBkcm9wIHNoYWRvd1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdkcm9wU2hhZG93QWxwaGEnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93QWxwaGE7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGRyb3BTaGFkb3dBbHBoYSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93QWxwaGEgIT09IGRyb3BTaGFkb3dBbHBoYSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dBbHBoYSA9IGRyb3BTaGFkb3dBbHBoYTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgYSBhbmdsZSBvZiB0aGUgZHJvcCBzaGFkb3dcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZHJvcFNoYWRvd0FuZ2xlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0FuZ2xlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChkcm9wU2hhZG93QW5nbGUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0FuZ2xlICE9PSBkcm9wU2hhZG93QW5nbGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93QW5nbGUgPSBkcm9wU2hhZG93QW5nbGU7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGEgc2hhZG93IGJsdXIgcmFkaXVzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2Ryb3BTaGFkb3dCbHVyJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0JsdXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGRyb3BTaGFkb3dCbHVyKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dCbHVyICE9PSBkcm9wU2hhZG93Qmx1cikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dCbHVyID0gZHJvcFNoYWRvd0JsdXI7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBmaWxsIHN0eWxlIHRvIGJlIHVzZWQgb24gdGhlIGRyb3BzaGFkb3cgZS5nICdyZWQnLCAnIzAwRkYwMCdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfG51bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2Ryb3BTaGFkb3dDb2xvcicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dDb2xvcjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZHJvcFNoYWRvd0NvbG9yKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIG91dHB1dENvbG9yID0gZ2V0Q29sb3IoZHJvcFNoYWRvd0NvbG9yKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93Q29sb3IgIT09IG91dHB1dENvbG9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0NvbG9yID0gb3V0cHV0Q29sb3I7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGEgZGlzdGFuY2Ugb2YgdGhlIGRyb3Agc2hhZG93XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2Ryb3BTaGFkb3dEaXN0YW5jZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZHJvcFNoYWRvd0Rpc3RhbmNlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dEaXN0YW5jZSAhPT0gZHJvcFNoYWRvd0Rpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0Rpc3RhbmNlID0gZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgY2FudmFzIGZpbGxzdHlsZSB0aGF0IHdpbGwgYmUgdXNlZCBvbiB0aGUgdGV4dCBlLmcgJ3JlZCcsICcjMDBGRjAwJy5cbiAgICAgICAgICogQ2FuIGJlIGFuIGFycmF5IHRvIGNyZWF0ZSBhIGdyYWRpZW50IGVnIFsnIzAwMDAwMCcsJyNGRkZGRkYnXVxuICAgICAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9maWxsU3R5bGV8TUROfVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd8c3RyaW5nW118bnVtYmVyfG51bWJlcltdfENhbnZhc0dyYWRpZW50fENhbnZhc1BhdHRlcm59XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdmaWxsJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmlsbDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZmlsbCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBvdXRwdXRDb2xvciA9IGdldENvbG9yKGZpbGwpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ZpbGwgIT09IG91dHB1dENvbG9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmlsbCA9IG91dHB1dENvbG9yO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGZpbGwgaXMgYW4gYXJyYXkgb2YgY29sb3VycyB0byBjcmVhdGUgYSBncmFkaWVudCwgdGhpcyBjYW4gY2hhbmdlIHRoZSB0eXBlL2RpcmVjdGlvbiBvZiB0aGUgZ3JhZGllbnQuXG4gICAgICAgICAqIFNlZSB7QGxpbmsgUElYSS5URVhUX0dSQURJRU5UfVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdmaWxsR3JhZGllbnRUeXBlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmlsbEdyYWRpZW50VHlwZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZmlsbEdyYWRpZW50VHlwZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9maWxsR3JhZGllbnRUeXBlICE9PSBmaWxsR3JhZGllbnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmlsbEdyYWRpZW50VHlwZSA9IGZpbGxHcmFkaWVudFR5cGU7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZmlsbCBpcyBhbiBhcnJheSBvZiBjb2xvdXJzIHRvIGNyZWF0ZSBhIGdyYWRpZW50LCB0aGlzIGFycmF5IGNhbiBzZXQgdGhlIHN0b3AgcG9pbnRzXG4gICAgICAgICAqIChudW1iZXJzIGJldHdlZW4gMCBhbmQgMSkgZm9yIHRoZSBjb2xvciwgb3ZlcnJpZGluZyB0aGUgZGVmYXVsdCBiZWhhdmlvdXIgb2YgZXZlbmx5IHNwYWNpbmcgdGhlbS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdmaWxsR3JhZGllbnRTdG9wcycsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbGxHcmFkaWVudFN0b3BzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmaWxsR3JhZGllbnRTdG9wcykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghYXJlQXJyYXlzRXF1YWwodGhpcy5fZmlsbEdyYWRpZW50U3RvcHMsIGZpbGxHcmFkaWVudFN0b3BzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbGxHcmFkaWVudFN0b3BzID0gZmlsbEdyYWRpZW50U3RvcHM7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZvbnQgZmFtaWx5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ3xzdHJpbmdbXX1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2ZvbnRGYW1pbHknLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250RmFtaWx5O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmb250RmFtaWx5KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuZm9udEZhbWlseSAhPT0gZm9udEZhbWlseSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRGYW1pbHkgPSBmb250RmFtaWx5O1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IHNpemVcbiAgICAgICAgICogKGFzIGEgbnVtYmVyIGl0IGNvbnZlcnRzIHRvIHB4LCBidXQgYXMgYSBzdHJpbmcsIGVxdWl2YWxlbnRzIGFyZSAnMjZweCcsJzIwcHQnLCcxNjAlJyBvciAnMS42ZW0nKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ8c3RyaW5nfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZm9udFNpemUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250U2l6ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZm9udFNpemUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udFNpemUgIT09IGZvbnRTaXplKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udFNpemUgPSBmb250U2l6ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZm9udCBzdHlsZVxuICAgICAgICAgKiAoJ25vcm1hbCcsICdpdGFsaWMnIG9yICdvYmxpcXVlJylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZm9udFN0eWxlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udFN0eWxlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmb250U3R5bGUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udFN0eWxlICE9PSBmb250U3R5bGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250U3R5bGUgPSBmb250U3R5bGU7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZvbnQgdmFyaWFudFxuICAgICAgICAgKiAoJ25vcm1hbCcgb3IgJ3NtYWxsLWNhcHMnKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdmb250VmFyaWFudCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRWYXJpYW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmb250VmFyaWFudCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9mb250VmFyaWFudCAhPT0gZm9udFZhcmlhbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250VmFyaWFudCA9IGZvbnRWYXJpYW50O1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IHdlaWdodFxuICAgICAgICAgKiAoJ25vcm1hbCcsICdib2xkJywgJ2JvbGRlcicsICdsaWdodGVyJyBhbmQgJzEwMCcsICcyMDAnLCAnMzAwJywgJzQwMCcsICc1MDAnLCAnNjAwJywgJzcwMCcsIDgwMCcgb3IgJzkwMCcpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2ZvbnRXZWlnaHQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250V2VpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmb250V2VpZ2h0KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ZvbnRXZWlnaHQgIT09IGZvbnRXZWlnaHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250V2VpZ2h0ID0gZm9udFdlaWdodDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW1vdW50IG9mIHNwYWNpbmcgYmV0d2VlbiBsZXR0ZXJzLCBkZWZhdWx0IGlzIDBcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnbGV0dGVyU3BhY2luZycsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xldHRlclNwYWNpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGxldHRlclNwYWNpbmcpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGV0dGVyU3BhY2luZyAhPT0gbGV0dGVyU3BhY2luZykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xldHRlclNwYWNpbmcgPSBsZXR0ZXJTcGFjaW5nO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsaW5lIGhlaWdodCwgYSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSB2ZXJ0aWNhbCBzcGFjZSB0aGF0IGEgbGV0dGVyIHVzZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnbGluZUhlaWdodCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVIZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGxpbmVIZWlnaHQpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGluZUhlaWdodCAhPT0gbGluZUhlaWdodCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xpbmVIZWlnaHQgPSBsaW5lSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzcGFjZSBiZXR3ZWVuIGxpbmVzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2xlYWRpbmcnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sZWFkaW5nO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChsZWFkaW5nKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xlYWRpbmcgIT09IGxlYWRpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sZWFkaW5nID0gbGVhZGluZztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGluZUpvaW4gcHJvcGVydHkgc2V0cyB0aGUgdHlwZSBvZiBjb3JuZXIgY3JlYXRlZCwgaXQgY2FuIHJlc29sdmUgc3Bpa2VkIHRleHQgaXNzdWVzLlxuICAgICAgICAgKiBEZWZhdWx0IGlzICdtaXRlcicgKGNyZWF0ZXMgYSBzaGFycCBjb3JuZXIpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdsaW5lSm9pbicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVKb2luO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChsaW5lSm9pbikgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9saW5lSm9pbiAhPT0gbGluZUpvaW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9saW5lSm9pbiA9IGxpbmVKb2luO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtaXRlciBsaW1pdCB0byB1c2Ugd2hlbiB1c2luZyB0aGUgJ21pdGVyJyBsaW5lSm9pbiBtb2RlXG4gICAgICAgICAqIFRoaXMgY2FuIHJlZHVjZSBvciBpbmNyZWFzZSB0aGUgc3Bpa2luZXNzIG9mIHJlbmRlcmVkIHRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ21pdGVyTGltaXQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9taXRlckxpbWl0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChtaXRlckxpbWl0KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX21pdGVyTGltaXQgIT09IG1pdGVyTGltaXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9taXRlckxpbWl0ID0gbWl0ZXJMaW1pdDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPY2Nhc2lvbmFsbHkgc29tZSBmb250cyBhcmUgY3JvcHBlZC4gQWRkaW5nIHNvbWUgcGFkZGluZyB3aWxsIHByZXZlbnQgdGhpcyBmcm9tIGhhcHBlbmluZ1xuICAgICAgICAgKiBieSBhZGRpbmcgcGFkZGluZyB0byBhbGwgc2lkZXMgb2YgdGhlIHRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3BhZGRpbmcnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYWRkaW5nO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChwYWRkaW5nKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BhZGRpbmcgIT09IHBhZGRpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYWRkaW5nID0gcGFkZGluZztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGNhbnZhcyBmaWxsc3R5bGUgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIHRleHQgc3Ryb2tlXG4gICAgICAgICAqIGUuZyAnYmx1ZScsICcjRkNGRjAwJ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd8bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc3Ryb2tlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3Ryb2tlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChzdHJva2UpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgb3V0cHV0Q29sb3IgPSBnZXRDb2xvcihzdHJva2UpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3N0cm9rZSAhPT0gb3V0cHV0Q29sb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdHJva2UgPSBvdXRwdXRDb2xvcjtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG51bWJlciB0aGF0IHJlcHJlc2VudHMgdGhlIHRoaWNrbmVzcyBvZiB0aGUgc3Ryb2tlLlxuICAgICAgICAgKiBEZWZhdWx0IGlzIDAgKG5vIHN0cm9rZSlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc3Ryb2tlVGhpY2tuZXNzJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChzdHJva2VUaGlja25lc3MpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fc3Ryb2tlVGhpY2tuZXNzICE9PSBzdHJva2VUaGlja25lc3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdHJva2VUaGlja25lc3MgPSBzdHJva2VUaGlja25lc3M7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhc2VsaW5lIG9mIHRoZSB0ZXh0IHRoYXQgaXMgcmVuZGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RleHRCYXNlbGluZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHRCYXNlbGluZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodGV4dEJhc2VsaW5lKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RleHRCYXNlbGluZSAhPT0gdGV4dEJhc2VsaW5lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dEJhc2VsaW5lID0gdGV4dEJhc2VsaW5lO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyaW0gdHJhbnNwYXJlbnQgYm9yZGVyc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndHJpbScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyaW07XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHRyaW0pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fdHJpbSAhPT0gdHJpbSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyaW0gPSB0cmltO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyBpZiB3b3JkIHdyYXAgc2hvdWxkIGJlIHVzZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3dvcmRXcmFwJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd29yZFdyYXA7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHdvcmRXcmFwKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3dvcmRXcmFwICE9PSB3b3JkV3JhcCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3dvcmRXcmFwID0gd29yZFdyYXA7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIGF0IHdoaWNoIHRleHQgd2lsbCB3cmFwLCBpdCBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd3b3JkV3JhcFdpZHRoJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd29yZFdyYXBXaWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQod29yZFdyYXBXaWR0aCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl93b3JkV3JhcFdpZHRoICE9PSB3b3JkV3JhcFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd29yZFdyYXBXaWR0aCA9IHdvcmRXcmFwV2lkdGg7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gVGV4dFN0eWxlO1xufSgpO1xuXG4vKipcbiAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gY29udmVydCBoZXhhZGVjaW1hbCBjb2xvcnMgdG8gc3RyaW5ncywgYW5kIHNpbXBseSByZXR1cm4gdGhlIGNvbG9yIGlmIGl0J3MgYSBzdHJpbmcuXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ8bnVtYmVyW119IGNvbG9yXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjb2xvciBhcyBhIHN0cmluZy5cbiAqL1xuXG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRleHRTdHlsZTtcbmZ1bmN0aW9uIGdldFNpbmdsZUNvbG9yKGNvbG9yKSB7XG4gICAgaWYgKHR5cGVvZiBjb2xvciA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuICgwLCBfdXRpbHMuaGV4MnN0cmluZykoY29sb3IpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbG9yID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAoY29sb3IuaW5kZXhPZignMHgnKSA9PT0gMCkge1xuICAgICAgICAgICAgY29sb3IgPSBjb2xvci5yZXBsYWNlKCcweCcsICcjJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY29sb3I7XG59XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBjb252ZXJ0IGhleGFkZWNpbWFsIGNvbG9ycyB0byBzdHJpbmdzLCBhbmQgc2ltcGx5IHJldHVybiB0aGUgY29sb3IgaWYgaXQncyBhIHN0cmluZy5cbiAqIFRoaXMgdmVyc2lvbiBjYW4gYWxzbyBjb252ZXJ0IGFycmF5IG9mIGNvbG9yc1xuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfG51bWJlcltdfSBjb2xvclxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgY29sb3IgYXMgYSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGdldENvbG9yKGNvbG9yKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGNvbG9yKSkge1xuICAgICAgICByZXR1cm4gZ2V0U2luZ2xlQ29sb3IoY29sb3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sb3IubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGNvbG9yW2ldID0gZ2V0U2luZ2xlQ29sb3IoY29sb3JbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbG9yO1xuICAgIH1cbn1cblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGNvbnZlcnQgaGV4YWRlY2ltYWwgY29sb3JzIHRvIHN0cmluZ3MsIGFuZCBzaW1wbHkgcmV0dXJuIHRoZSBjb2xvciBpZiBpdCdzIGEgc3RyaW5nLlxuICogVGhpcyB2ZXJzaW9uIGNhbiBhbHNvIGNvbnZlcnQgYXJyYXkgb2YgY29sb3JzXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkxIEZpcnN0IGFycmF5IHRvIGNvbXBhcmVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5MiBTZWNvbmQgYXJyYXkgdG8gY29tcGFyZVxuICogQHJldHVybiB7Ym9vbGVhbn0gRG8gdGhlIGFycmF5cyBjb250YWluIHRoZSBzYW1lIHZhbHVlcyBpbiB0aGUgc2FtZSBvcmRlclxuICovXG5mdW5jdGlvbiBhcmVBcnJheXNFcXVhbChhcnJheTEsIGFycmF5Mikge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShhcnJheTEpIHx8ICFBcnJheS5pc0FycmF5KGFycmF5MikpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChhcnJheTEubGVuZ3RoICE9PSBhcnJheTIubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5MS5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAoYXJyYXkxW2ldICE9PSBhcnJheTJbaV0pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gZW5zdXJlIHRoYXQgb2JqZWN0IHByb3BlcnRpZXMgYXJlIGNvcGllZCBieSB2YWx1ZSwgYW5kIG5vdCBieSByZWZlcmVuY2VcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0IFRhcmdldCBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGludG9cbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgU291cmNlIG9iamVjdCBmb3IgdGhlIHByb3BvcnRpZXMgdG8gY29weVxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5T2JqIE9iamVjdCBjb250YWluaW5nIHByb3BlcnRpZXMgbmFtZXMgd2Ugd2FudCB0byBsb29wIG92ZXJcbiAqL1xuZnVuY3Rpb24gZGVlcENvcHlQcm9wZXJ0aWVzKHRhcmdldCwgc291cmNlLCBwcm9wZXJ0eU9iaikge1xuICAgIGZvciAodmFyIHByb3AgaW4gcHJvcGVydHlPYmopIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc291cmNlW3Byb3BdKSkge1xuICAgICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdLnNsaWNlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0U3R5bGUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3BpeGlHbENvcmUgPSByZXF1aXJlKCdwaXhpLWdsLWNvcmUnKTtcblxudmFyIF9waXhpR2xDb3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BpeGlHbENvcmUpO1xuXG52YXIgX2NyZWF0ZUluZGljZXNGb3JRdWFkcyA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxzL2NyZWF0ZUluZGljZXNGb3JRdWFkcycpO1xuXG52YXIgX2NyZWF0ZUluZGljZXNGb3JRdWFkczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVJbmRpY2VzRm9yUXVhZHMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSBxdWFkXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUXVhZCA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFRoZSBnbCBjb250ZXh0IGZvciB0aGlzIHF1YWQgdG8gdXNlLlxuICAgKiBAcGFyYW0ge29iamVjdH0gc3RhdGUgLSBUT0RPOiBEZXNjcmlwdGlvblxuICAgKi9cbiAgZnVuY3Rpb24gUXVhZChnbCwgc3RhdGUpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUXVhZCk7XG5cbiAgICAvKipcbiAgICAgKiB0aGUgY3VycmVudCBXZWJHTCBkcmF3aW5nIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAgICAgKi9cbiAgICB0aGlzLmdsID0gZ2w7XG5cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiB2ZXJ0aWNlc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAqL1xuICAgIHRoaXMudmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KFstMSwgLTEsIDEsIC0xLCAxLCAxLCAtMSwgMV0pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIFV2cyBvZiB0aGUgcXVhZFxuICAgICAqXG4gICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAqL1xuICAgIHRoaXMudXZzID0gbmV3IEZsb2F0MzJBcnJheShbMCwgMCwgMSwgMCwgMSwgMSwgMCwgMV0pO1xuXG4gICAgdGhpcy5pbnRlcmxlYXZlZCA9IG5ldyBGbG9hdDMyQXJyYXkoOCAqIDIpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgIHRoaXMuaW50ZXJsZWF2ZWRbaSAqIDRdID0gdGhpcy52ZXJ0aWNlc1tpICogMl07XG4gICAgICB0aGlzLmludGVybGVhdmVkW2kgKiA0ICsgMV0gPSB0aGlzLnZlcnRpY2VzW2kgKiAyICsgMV07XG4gICAgICB0aGlzLmludGVybGVhdmVkW2kgKiA0ICsgMl0gPSB0aGlzLnV2c1tpICogMl07XG4gICAgICB0aGlzLmludGVybGVhdmVkW2kgKiA0ICsgM10gPSB0aGlzLnV2c1tpICogMiArIDFdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIGluZGljZXMgb2YgdGhlIHZlcnRpY2VzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtVaW50MTZBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLmluZGljZXMgPSAoMCwgX2NyZWF0ZUluZGljZXNGb3JRdWFkczIuZGVmYXVsdCkoMSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdmVydGV4IGJ1ZmZlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7Z2xDb3JlLkdMQnVmZmVyfVxuICAgICAqL1xuICAgIHRoaXMudmVydGV4QnVmZmVyID0gX3BpeGlHbENvcmUyLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlVmVydGV4QnVmZmVyKGdsLCB0aGlzLmludGVybGVhdmVkLCBnbC5TVEFUSUNfRFJBVyk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW5kZXggYnVmZmVyXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtnbENvcmUuR0xCdWZmZXJ9XG4gICAgICovXG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IF9waXhpR2xDb3JlMi5kZWZhdWx0LkdMQnVmZmVyLmNyZWF0ZUluZGV4QnVmZmVyKGdsLCB0aGlzLmluZGljZXMsIGdsLlNUQVRJQ19EUkFXKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB2ZXJ0ZXggYXJyYXkgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtnbENvcmUuVmVydGV4QXJyYXlPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy52YW8gPSBuZXcgX3BpeGlHbENvcmUyLmRlZmF1bHQuVmVydGV4QXJyYXlPYmplY3QoZ2wsIHN0YXRlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXNlcyB0aGUgdmFvcyBhbmQgdXNlcyB0aGUgc2hhZGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge1BJWEkuU2hhZGVyfSBzaGFkZXIgLSB0aGUgc2hhZGVyIHRvIHVzZVxuICAgKi9cblxuXG4gIFF1YWQucHJvdG90eXBlLmluaXRWYW8gPSBmdW5jdGlvbiBpbml0VmFvKHNoYWRlcikge1xuICAgIHRoaXMudmFvLmNsZWFyKCkuYWRkSW5kZXgodGhpcy5pbmRleEJ1ZmZlcikuYWRkQXR0cmlidXRlKHRoaXMudmVydGV4QnVmZmVyLCBzaGFkZXIuYXR0cmlidXRlcy5hVmVydGV4UG9zaXRpb24sIHRoaXMuZ2wuRkxPQVQsIGZhbHNlLCA0ICogNCwgMCkuYWRkQXR0cmlidXRlKHRoaXMudmVydGV4QnVmZmVyLCBzaGFkZXIuYXR0cmlidXRlcy5hVGV4dHVyZUNvb3JkLCB0aGlzLmdsLkZMT0FULCBmYWxzZSwgNCAqIDQsIDIgKiA0KTtcbiAgfTtcblxuICAvKipcbiAgICogTWFwcyB0d28gUmVjdGFuZ2xlIHRvIHRoZSBxdWFkLlxuICAgKlxuICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSB0YXJnZXRUZXh0dXJlRnJhbWUgLSB0aGUgZmlyc3QgcmVjdGFuZ2xlXG4gICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGRlc3RpbmF0aW9uRnJhbWUgLSB0aGUgc2Vjb25kIHJlY3RhbmdsZVxuICAgKiBAcmV0dXJuIHtQSVhJLlF1YWR9IFJldHVybnMgaXRzZWxmLlxuICAgKi9cblxuXG4gIFF1YWQucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIG1hcCh0YXJnZXRUZXh0dXJlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUpIHtcbiAgICB2YXIgeCA9IDA7IC8vIGRlc3RpbmF0aW9uRnJhbWUueCAvIHRhcmdldFRleHR1cmVGcmFtZS53aWR0aDtcbiAgICB2YXIgeSA9IDA7IC8vIGRlc3RpbmF0aW9uRnJhbWUueSAvIHRhcmdldFRleHR1cmVGcmFtZS5oZWlnaHQ7XG5cbiAgICB0aGlzLnV2c1swXSA9IHg7XG4gICAgdGhpcy51dnNbMV0gPSB5O1xuXG4gICAgdGhpcy51dnNbMl0gPSB4ICsgZGVzdGluYXRpb25GcmFtZS53aWR0aCAvIHRhcmdldFRleHR1cmVGcmFtZS53aWR0aDtcbiAgICB0aGlzLnV2c1szXSA9IHk7XG5cbiAgICB0aGlzLnV2c1s0XSA9IHggKyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoIC8gdGFyZ2V0VGV4dHVyZUZyYW1lLndpZHRoO1xuICAgIHRoaXMudXZzWzVdID0geSArIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0IC8gdGFyZ2V0VGV4dHVyZUZyYW1lLmhlaWdodDtcblxuICAgIHRoaXMudXZzWzZdID0geDtcbiAgICB0aGlzLnV2c1s3XSA9IHkgKyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAvIHRhcmdldFRleHR1cmVGcmFtZS5oZWlnaHQ7XG5cbiAgICB4ID0gZGVzdGluYXRpb25GcmFtZS54O1xuICAgIHkgPSBkZXN0aW5hdGlvbkZyYW1lLnk7XG5cbiAgICB0aGlzLnZlcnRpY2VzWzBdID0geDtcbiAgICB0aGlzLnZlcnRpY2VzWzFdID0geTtcblxuICAgIHRoaXMudmVydGljZXNbMl0gPSB4ICsgZGVzdGluYXRpb25GcmFtZS53aWR0aDtcbiAgICB0aGlzLnZlcnRpY2VzWzNdID0geTtcblxuICAgIHRoaXMudmVydGljZXNbNF0gPSB4ICsgZGVzdGluYXRpb25GcmFtZS53aWR0aDtcbiAgICB0aGlzLnZlcnRpY2VzWzVdID0geSArIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0O1xuXG4gICAgdGhpcy52ZXJ0aWNlc1s2XSA9IHg7XG4gICAgdGhpcy52ZXJ0aWNlc1s3XSA9IHkgKyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodDtcblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBCaW5kcyB0aGUgYnVmZmVyIGFuZCB1cGxvYWRzIHRoZSBkYXRhXG4gICAqXG4gICAqIEByZXR1cm4ge1BJWEkuUXVhZH0gUmV0dXJucyBpdHNlbGYuXG4gICAqL1xuXG5cbiAgUXVhZC5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gdXBsb2FkKCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICB0aGlzLmludGVybGVhdmVkW2kgKiA0XSA9IHRoaXMudmVydGljZXNbaSAqIDJdO1xuICAgICAgdGhpcy5pbnRlcmxlYXZlZFtpICogNCArIDFdID0gdGhpcy52ZXJ0aWNlc1tpICogMiArIDFdO1xuICAgICAgdGhpcy5pbnRlcmxlYXZlZFtpICogNCArIDJdID0gdGhpcy51dnNbaSAqIDJdO1xuICAgICAgdGhpcy5pbnRlcmxlYXZlZFtpICogNCArIDNdID0gdGhpcy51dnNbaSAqIDIgKyAxXTtcbiAgICB9XG5cbiAgICB0aGlzLnZlcnRleEJ1ZmZlci51cGxvYWQodGhpcy5pbnRlcmxlYXZlZCk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogUmVtb3ZlcyB0aGlzIHF1YWQgZnJvbSBXZWJHTFxuICAgKi9cblxuXG4gIFF1YWQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICBnbC5kZWxldGVCdWZmZXIodGhpcy52ZXJ0ZXhCdWZmZXIpO1xuICAgIGdsLmRlbGV0ZUJ1ZmZlcih0aGlzLmluZGV4QnVmZmVyKTtcbiAgfTtcblxuICByZXR1cm4gUXVhZDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUXVhZDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVF1YWQuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX01hdHJpeCA9IHJlcXVpcmUoJy4uL21hdGgvTWF0cml4Jyk7XG5cbnZhciBfTWF0cml4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01hdHJpeCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciB0ZW1wTWF0ID0gbmV3IF9NYXRyaXgyLmRlZmF1bHQoKTtcblxuLyoqXG4gKiBDbGFzcyBjb250cm9scyB1diB0cmFuc2Zvcm0gYW5kIGZyYW1lIGNsYW1wIGZvciB0ZXh0dXJlXG4gKiBDYW4gYmUgdXNlZCBpbiBUZXh0dXJlIFwidHJhbnNmb3JtXCIgZmllbGQsIG9yIHNlcGFyYXRlbHksIHlvdSBjYW4gdXNlIGRpZmZlcmVudCBjbGFtcCBzZXR0aW5ncyBvbiB0aGUgc2FtZSB0ZXh0dXJlLlxuICogSWYgeW91IHdhbnQgdG8gYWRkIHN1cHBvcnQgZm9yIHRleHR1cmUgcmVnaW9uIG9mIGNlcnRhaW4gZmVhdHVyZSBvciBmaWx0ZXIsIHRoYXQncyB3aGF0IHlvdSdyZSBsb29raW5nIGZvci5cbiAqXG4gKiBAc2VlIFBJWEkuVGV4dHVyZVxuICogQHNlZSBQSVhJLm1lc2guTWVzaFxuICogQHNlZSBQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGVcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuXG52YXIgVGV4dHVyZU1hdHJpeCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIG9ic2VydmVkIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NsYW1wTWFyZ2luXSBDaGFuZ2VzIGZyYW1lIGNsYW1waW5nLCAwLjUgYnkgZGVmYXVsdC4gVXNlIC0wLjUgZm9yIGV4dHJhIGJvcmRlci5cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0dXJlTWF0cml4KHRleHR1cmUsIGNsYW1wTWFyZ2luKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUZXh0dXJlTWF0cml4KTtcblxuICAgICAgICB0aGlzLl90ZXh0dXJlID0gdGV4dHVyZTtcblxuICAgICAgICB0aGlzLm1hcENvb3JkID0gbmV3IF9NYXRyaXgyLmRlZmF1bHQoKTtcblxuICAgICAgICB0aGlzLnVDbGFtcEZyYW1lID0gbmV3IEZsb2F0MzJBcnJheSg0KTtcblxuICAgICAgICB0aGlzLnVDbGFtcE9mZnNldCA9IG5ldyBGbG9hdDMyQXJyYXkoMik7XG5cbiAgICAgICAgdGhpcy5fbGFzdFRleHR1cmVJRCA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGFuZ2VzIGZyYW1lIGNsYW1waW5nXG4gICAgICAgICAqIFdvcmtzIHdpdGggVGlsaW5nU3ByaXRlIGFuZCBNZXNoXG4gICAgICAgICAqIENoYW5nZSB0byAxLjUgaWYgeW91IHRleHR1cmUgaGFzIHJlcGVhdGVkIHJpZ2h0IGFuZCBib3R0b20gbGluZXMsIHRoYXQgbGVhZHMgdG8gc21vb3RoZXIgYm9yZGVyc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2xhbXBPZmZzZXQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGFuZ2VzIGZyYW1lIGNsYW1waW5nXG4gICAgICAgICAqIFdvcmtzIHdpdGggVGlsaW5nU3ByaXRlIGFuZCBNZXNoXG4gICAgICAgICAqIENoYW5nZSB0byAtMC41IHRvIGFkZCBhIHBpeGVsIHRvIHRoZSBlZGdlLCByZWNvbW1lbmRlZCBmb3IgdHJhbnNwYXJlbnQgdHJpbW1lZCB0ZXh0dXJlcyBpbiBhdGxhc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVmYXVsdCAwLjVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbGFtcE1hcmdpbiA9IHR5cGVvZiBjbGFtcE1hcmdpbiA9PT0gJ3VuZGVmaW5lZCcgPyAwLjUgOiBjbGFtcE1hcmdpbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiB0ZXh0dXJlIHByb3BlcnR5XG4gICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuXG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIHV2cyBhcnJheSB0byB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gdXZzIG1lc2ggdXZzXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFtvdXQ9dXZzXSBvdXRwdXRcbiAgICAgKiBAcmV0dXJucyB7RmxvYXQzMkFycmF5fSBvdXRwdXRcbiAgICAgKi9cbiAgICBUZXh0dXJlTWF0cml4LnByb3RvdHlwZS5tdWx0aXBseVV2cyA9IGZ1bmN0aW9uIG11bHRpcGx5VXZzKHV2cywgb3V0KSB7XG4gICAgICAgIGlmIChvdXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgb3V0ID0gdXZzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1hdCA9IHRoaXMubWFwQ29vcmQ7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB1dnMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIHZhciB4ID0gdXZzW2ldO1xuICAgICAgICAgICAgdmFyIHkgPSB1dnNbaSArIDFdO1xuXG4gICAgICAgICAgICBvdXRbaV0gPSB4ICogbWF0LmEgKyB5ICogbWF0LmMgKyBtYXQudHg7XG4gICAgICAgICAgICBvdXRbaSArIDFdID0geCAqIG1hdC5iICsgeSAqIG1hdC5kICsgbWF0LnR5O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogdXBkYXRlcyBtYXRyaWNlcyBpZiB0ZXh0dXJlIHdhcyBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBmb3JjZVVwZGF0ZSBpZiB0cnVlLCBtYXRyaWNlcyB3aWxsIGJlIHVwZGF0ZWQgYW55IGNhc2VcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gd2hldGhlciBvciBub3QgaXQgd2FzIHVwZGF0ZWRcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZU1hdHJpeC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKGZvcmNlVXBkYXRlKSB7XG4gICAgICAgIHZhciB0ZXggPSB0aGlzLl90ZXh0dXJlO1xuXG4gICAgICAgIGlmICghdGV4IHx8ICF0ZXgudmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZm9yY2VVcGRhdGUgJiYgdGhpcy5fbGFzdFRleHR1cmVJRCA9PT0gdGV4Ll91cGRhdGVJRCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbGFzdFRleHR1cmVJRCA9IHRleC5fdXBkYXRlSUQ7XG5cbiAgICAgICAgdmFyIHV2cyA9IHRleC5fdXZzO1xuXG4gICAgICAgIHRoaXMubWFwQ29vcmQuc2V0KHV2cy54MSAtIHV2cy54MCwgdXZzLnkxIC0gdXZzLnkwLCB1dnMueDMgLSB1dnMueDAsIHV2cy55MyAtIHV2cy55MCwgdXZzLngwLCB1dnMueTApO1xuXG4gICAgICAgIHZhciBvcmlnID0gdGV4Lm9yaWc7XG4gICAgICAgIHZhciB0cmltID0gdGV4LnRyaW07XG5cbiAgICAgICAgaWYgKHRyaW0pIHtcbiAgICAgICAgICAgIHRlbXBNYXQuc2V0KG9yaWcud2lkdGggLyB0cmltLndpZHRoLCAwLCAwLCBvcmlnLmhlaWdodCAvIHRyaW0uaGVpZ2h0LCAtdHJpbS54IC8gdHJpbS53aWR0aCwgLXRyaW0ueSAvIHRyaW0uaGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMubWFwQ29vcmQuYXBwZW5kKHRlbXBNYXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRleEJhc2UgPSB0ZXguYmFzZVRleHR1cmU7XG4gICAgICAgIHZhciBmcmFtZSA9IHRoaXMudUNsYW1wRnJhbWU7XG4gICAgICAgIHZhciBtYXJnaW4gPSB0aGlzLmNsYW1wTWFyZ2luIC8gdGV4QmFzZS5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy5jbGFtcE9mZnNldDtcblxuICAgICAgICBmcmFtZVswXSA9ICh0ZXguX2ZyYW1lLnggKyBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS53aWR0aDtcbiAgICAgICAgZnJhbWVbMV0gPSAodGV4Ll9mcmFtZS55ICsgbWFyZ2luICsgb2Zmc2V0KSAvIHRleEJhc2UuaGVpZ2h0O1xuICAgICAgICBmcmFtZVsyXSA9ICh0ZXguX2ZyYW1lLnggKyB0ZXguX2ZyYW1lLndpZHRoIC0gbWFyZ2luICsgb2Zmc2V0KSAvIHRleEJhc2Uud2lkdGg7XG4gICAgICAgIGZyYW1lWzNdID0gKHRleC5fZnJhbWUueSArIHRleC5fZnJhbWUuaGVpZ2h0IC0gbWFyZ2luICsgb2Zmc2V0KSAvIHRleEJhc2UuaGVpZ2h0O1xuICAgICAgICB0aGlzLnVDbGFtcE9mZnNldFswXSA9IG9mZnNldCAvIHRleEJhc2UucmVhbFdpZHRoO1xuICAgICAgICB0aGlzLnVDbGFtcE9mZnNldFsxXSA9IG9mZnNldCAvIHRleEJhc2UucmVhbEhlaWdodDtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgX2NyZWF0ZUNsYXNzKFRleHR1cmVNYXRyaXgsIFt7XG4gICAgICAgIGtleTogJ3RleHR1cmUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RUZXh0dXJlSUQgPSAtMTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBUZXh0dXJlTWF0cml4O1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUZXh0dXJlTWF0cml4O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dHVyZU1hdHJpeC5qcy5tYXAiLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2V4dHJhY3RVbmlmb3Jtc0Zyb21TcmMgPSByZXF1aXJlKCcuL2V4dHJhY3RVbmlmb3Jtc0Zyb21TcmMnKTtcblxudmFyIF9leHRyYWN0VW5pZm9ybXNGcm9tU3JjMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dHJhY3RVbmlmb3Jtc0Zyb21TcmMpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbHMnKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uLy4uL2NvbnN0Jyk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi8uLi8uLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIFNPVVJDRV9LRVlfTUFQID0ge307XG5cbi8vIGxldCBtYXRoID0gcmVxdWlyZSgnLi4vLi4vLi4vbWF0aCcpO1xuLyoqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLlNoYWRlclxuICovXG5cbnZhciBGaWx0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3ZlcnRleFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSB2ZXJ0ZXggc2hhZGVyLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZyYWdtZW50U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIGZyYWdtZW50IHNoYWRlci5cbiAgICogQHBhcmFtIHtvYmplY3R9IFt1bmlmb3Jtc10gLSBDdXN0b20gdW5pZm9ybXMgdG8gdXNlIHRvIGF1Z21lbnQgdGhlIGJ1aWx0LWluIG9uZXMuXG4gICAqL1xuICBmdW5jdGlvbiBGaWx0ZXIodmVydGV4U3JjLCBmcmFnbWVudFNyYywgdW5pZm9ybXMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRmlsdGVyKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB2ZXJ0ZXggc2hhZGVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMudmVydGV4U3JjID0gdmVydGV4U3JjIHx8IEZpbHRlci5kZWZhdWx0VmVydGV4U3JjO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZyYWdtZW50IHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLmZyYWdtZW50U3JjID0gZnJhZ21lbnRTcmMgfHwgRmlsdGVyLmRlZmF1bHRGcmFnbWVudFNyYztcblxuICAgIHRoaXMuX2JsZW5kTW9kZSA9IF9jb25zdC5CTEVORF9NT0RFUy5OT1JNQUw7XG5cbiAgICB0aGlzLnVuaWZvcm1EYXRhID0gdW5pZm9ybXMgfHwgKDAsIF9leHRyYWN0VW5pZm9ybXNGcm9tU3JjMi5kZWZhdWx0KSh0aGlzLnZlcnRleFNyYywgdGhpcy5mcmFnbWVudFNyYywgJ3Byb2plY3Rpb25NYXRyaXh8dVNhbXBsZXInKTtcblxuICAgIC8qKlxuICAgICAqIEFuIG9iamVjdCBjb250YWluaW5nIHRoZSBjdXJyZW50IHZhbHVlcyBvZiBjdXN0b20gdW5pZm9ybXMuXG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+VXBkYXRpbmcgdGhlIHZhbHVlIG9mIGEgY3VzdG9tIHVuaWZvcm08L2NhcHRpb24+XG4gICAgICogZmlsdGVyLnVuaWZvcm1zLnRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLnVuaWZvcm1zID0ge307XG5cbiAgICBmb3IgKHZhciBpIGluIHRoaXMudW5pZm9ybURhdGEpIHtcbiAgICAgIHRoaXMudW5pZm9ybXNbaV0gPSB0aGlzLnVuaWZvcm1EYXRhW2ldLnZhbHVlO1xuICAgICAgaWYgKHRoaXMudW5pZm9ybURhdGFbaV0udHlwZSkge1xuICAgICAgICB0aGlzLnVuaWZvcm1EYXRhW2ldLnR5cGUgPSB0aGlzLnVuaWZvcm1EYXRhW2ldLnR5cGUudG9Mb3dlckNhc2UoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB0aGlzIGlzIHdoZXJlIHdlIHN0b3JlIHNoYWRlciByZWZlcmVuY2VzLi5cbiAgICAvLyBUT0RPIHdlIGNvdWxkIGNhY2hlIHRoaXMhXG4gICAgdGhpcy5nbFNoYWRlcnMgPSB7fTtcblxuICAgIC8vIHVzZWQgZm9yIGNhY2hlaW5nLi4gc3VyZSB0aGVyZSBpcyBhIGJldHRlciB3YXkhXG4gICAgaWYgKCFTT1VSQ0VfS0VZX01BUFt0aGlzLnZlcnRleFNyYyArIHRoaXMuZnJhZ21lbnRTcmNdKSB7XG4gICAgICBTT1VSQ0VfS0VZX01BUFt0aGlzLnZlcnRleFNyYyArIHRoaXMuZnJhZ21lbnRTcmNdID0gKDAsIF91dGlscy51aWQpKCk7XG4gICAgfVxuXG4gICAgdGhpcy5nbFNoYWRlcktleSA9IFNPVVJDRV9LRVlfTUFQW3RoaXMudmVydGV4U3JjICsgdGhpcy5mcmFnbWVudFNyY107XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcGFkZGluZyBvZiB0aGUgZmlsdGVyLiBTb21lIGZpbHRlcnMgcmVxdWlyZSBleHRyYSBzcGFjZSB0byBicmVhdGggc3VjaCBhcyBhIGJsdXIuXG4gICAgICogSW5jcmVhc2luZyB0aGlzIHdpbGwgYWRkIGV4dHJhIHdpZHRoIGFuZCBoZWlnaHQgdG8gdGhlIGJvdW5kcyBvZiB0aGUgb2JqZWN0IHRoYXQgdGhlXG4gICAgICogZmlsdGVyIGlzIGFwcGxpZWQgdG8uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5wYWRkaW5nID0gNDtcblxuICAgIC8qKlxuICAgICAqIFRoZSByZXNvbHV0aW9uIG9mIHRoZSBmaWx0ZXIuIFNldHRpbmcgdGhpcyB0byBiZSBsb3dlciB3aWxsIGxvd2VyIHRoZSBxdWFsaXR5IGJ1dFxuICAgICAqIGluY3JlYXNlIHRoZSBwZXJmb3JtYW5jZSBvZiB0aGUgZmlsdGVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVzb2x1dGlvbiA9IF9zZXR0aW5nczIuZGVmYXVsdC5GSUxURVJfUkVTT0xVVElPTjtcblxuICAgIC8qKlxuICAgICAqIElmIGVuYWJsZWQgaXMgdHJ1ZSB0aGUgZmlsdGVyIGlzIGFwcGxpZWQsIGlmIGZhbHNlIGl0IHdpbGwgbm90LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogSWYgZW5hYmxlZCwgUGl4aUpTIHdpbGwgZml0IHRoZSBmaWx0ZXIgYXJlYSBpbnRvIGJvdW5kYXJpZXMgZm9yIGJldHRlciBwZXJmb3JtYW5jZS5cbiAgICAgKiBTd2l0Y2ggaXQgb2ZmIGlmIGl0IGRvZXMgbm90IHdvcmsgZm9yIHNwZWNpZmljIHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5hdXRvRml0ID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXJcbiAgICpcbiAgICogQHBhcmFtIHtQSVhJLkZpbHRlck1hbmFnZXJ9IGZpbHRlck1hbmFnZXIgLSBUaGUgcmVuZGVyZXIgdG8gcmV0cmlldmUgdGhlIGZpbHRlciBmcm9tXG4gICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IGlucHV0IC0gVGhlIGlucHV0IHJlbmRlciB0YXJnZXQuXG4gICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IG91dHB1dCAtIFRoZSB0YXJnZXQgdG8gb3V0cHV0IHRvLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsZWFyIC0gU2hvdWxkIHRoZSBvdXRwdXQgYmUgY2xlYXJlZCBiZWZvcmUgcmVuZGVyaW5nIHRvIGl0XG4gICAqIEBwYXJhbSB7b2JqZWN0fSBbY3VycmVudFN0YXRlXSAtIEl0J3MgY3VycmVudCBzdGF0ZSBvZiBmaWx0ZXIuXG4gICAqICAgICAgICBUaGVyZSBhcmUgc29tZSB1c2VmdWwgcHJvcGVydGllcyBpbiB0aGUgY3VycmVudFN0YXRlIDpcbiAgICogICAgICAgIHRhcmdldCwgZmlsdGVycywgc291cmNlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUsIHJlbmRlclRhcmdldCwgcmVzb2x1dGlvblxuICAgKi9cblxuXG4gIEZpbHRlci5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiBhcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhciwgY3VycmVudFN0YXRlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gIHtcbiAgICAvLyAtLS0gLy9cbiAgICAvLyAgdGhpcy51bmlmb3Jtcy5maWx0ZXJNYXRyaXggPSBmaWx0ZXJNYW5hZ2VyLmNhbGN1bGF0ZVNwcml0ZU1hdHJpeCh0ZW1wTWF0cml4LCB3aW5kb3cucGFuZGEgKTtcblxuICAgIC8vIGRvIGFzIHlvdSBwbGVhc2UhXG5cbiAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGlucHV0LCBvdXRwdXQsIGNsZWFyKTtcblxuICAgIC8vIG9yIGp1c3QgZG8gYSByZWd1bGFyIHJlbmRlci4uXG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGJsZW5kbW9kZSBvZiB0aGUgZmlsdGVyXG4gICAqXG4gICAqIEBtZW1iZXIge251bWJlcn1cbiAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxcbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoRmlsdGVyLCBbe1xuICAgIGtleTogJ2JsZW5kTW9kZScsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYmxlbmRNb2RlO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgIHRoaXMuX2JsZW5kTW9kZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IHZlcnRleCBzaGFkZXIgc291cmNlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQGNvbnN0YW50XG4gICAgICovXG5cbiAgfV0sIFt7XG4gICAga2V5OiAnZGVmYXVsdFZlcnRleFNyYycsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gWydhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247JywgJ2F0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7JywgJ3VuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4OycsICd1bmlmb3JtIG1hdDMgZmlsdGVyTWF0cml4OycsICd2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDsnLCAndmFyeWluZyB2ZWMyIHZGaWx0ZXJDb29yZDsnLCAndm9pZCBtYWluKHZvaWQpeycsICcgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTsnLCAnICAgdkZpbHRlckNvb3JkID0gKCBmaWx0ZXJNYXRyaXggKiB2ZWMzKCBhVGV4dHVyZUNvb3JkLCAxLjApICApLnh5OycsICcgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZCA7JywgJ30nXS5qb2luKCdcXG4nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCBmcmFnbWVudCBzaGFkZXIgc291cmNlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQGNvbnN0YW50XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2RlZmF1bHRGcmFnbWVudFNyYycsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gWyd2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDsnLCAndmFyeWluZyB2ZWMyIHZGaWx0ZXJDb29yZDsnLCAndW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7JywgJ3VuaWZvcm0gc2FtcGxlcjJEIGZpbHRlclNhbXBsZXI7JywgJ3ZvaWQgbWFpbih2b2lkKXsnLCAnICAgdmVjNCBtYXNreSA9IHRleHR1cmUyRChmaWx0ZXJTYW1wbGVyLCB2RmlsdGVyQ29vcmQpOycsICcgICB2ZWM0IHNhbXBsZSA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7JywgJyAgIHZlYzQgY29sb3I7JywgJyAgIGlmKG1vZCh2RmlsdGVyQ29vcmQueCwgMS4wKSA+IDAuNSknLCAnICAgeycsICcgICAgIGNvbG9yID0gdmVjNCgxLjAsIDAuMCwgMC4wLCAxLjApOycsICcgICB9JywgJyAgIGVsc2UnLCAnICAgeycsICcgICAgIGNvbG9yID0gdmVjNCgwLjAsIDEuMCwgMC4wLCAxLjApOycsICcgICB9JyxcbiAgICAgIC8vICcgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KG1vZCh2RmlsdGVyQ29vcmQueCwgMS41KSwgdkZpbHRlckNvb3JkLnksMC4wLDEuMCk7JyxcbiAgICAgICcgICBnbF9GcmFnQ29sb3IgPSBtaXgoc2FtcGxlLCBtYXNreSwgMC41KTsnLCAnICAgZ2xfRnJhZ0NvbG9yICo9IHNhbXBsZS5hOycsICd9J10uam9pbignXFxuJyk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEZpbHRlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gRmlsdGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmlsdGVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9GaWx0ZXIyID0gcmVxdWlyZSgnLi4vRmlsdGVyJyk7XG5cbnZhciBfRmlsdGVyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZpbHRlcjIpO1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuLi8uLi8uLi8uLi9tYXRoJyk7XG5cbnZhciBfcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcblxudmFyIF9UZXh0dXJlTWF0cml4ID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vdGV4dHVyZXMvVGV4dHVyZU1hdHJpeCcpO1xuXG52YXIgX1RleHR1cmVNYXRyaXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dHVyZU1hdHJpeCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBUaGUgU3ByaXRlTWFza0ZpbHRlciBjbGFzc1xuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTcHJpdGVNYXNrRmlsdGVyID0gZnVuY3Rpb24gKF9GaWx0ZXIpIHtcbiAgICBfaW5oZXJpdHMoU3ByaXRlTWFza0ZpbHRlciwgX0ZpbHRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSB0aGUgdGFyZ2V0IHNwcml0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNwcml0ZU1hc2tGaWx0ZXIoc3ByaXRlKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTcHJpdGVNYXNrRmlsdGVyKTtcblxuICAgICAgICB2YXIgbWFza01hdHJpeCA9IG5ldyBfbWF0aC5NYXRyaXgoKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfRmlsdGVyLmNhbGwodGhpcywgJ2F0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyBvdGhlck1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdk1hc2tDb29yZDtcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG4gICAgdk1hc2tDb29yZCA9ICggb3RoZXJNYXRyaXggKiB2ZWMzKCBhVGV4dHVyZUNvb3JkLCAxLjApICApLnh5O1xcbn1cXG4nLCAndmFyeWluZyB2ZWMyIHZNYXNrQ29vcmQ7XFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBzYW1wbGVyMkQgbWFzaztcXG51bmlmb3JtIGZsb2F0IGFscGhhO1xcbnVuaWZvcm0gdmVjNCBtYXNrQ2xhbXA7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBmbG9hdCBjbGlwID0gc3RlcCgzLjUsXFxuICAgICAgICBzdGVwKG1hc2tDbGFtcC54LCB2TWFza0Nvb3JkLngpICtcXG4gICAgICAgIHN0ZXAobWFza0NsYW1wLnksIHZNYXNrQ29vcmQueSkgK1xcbiAgICAgICAgc3RlcCh2TWFza0Nvb3JkLngsIG1hc2tDbGFtcC56KSArXFxuICAgICAgICBzdGVwKHZNYXNrQ29vcmQueSwgbWFza0NsYW1wLncpKTtcXG5cXG4gICAgdmVjNCBvcmlnaW5hbCA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxuICAgIHZlYzQgbWFza3kgPSB0ZXh0dXJlMkQobWFzaywgdk1hc2tDb29yZCk7XFxuXFxuICAgIG9yaWdpbmFsICo9IChtYXNreS5yICogbWFza3kuYSAqIGFscGhhICogY2xpcCk7XFxuXFxuICAgIGdsX0ZyYWdDb2xvciA9IG9yaWdpbmFsO1xcbn1cXG4nKSk7XG5cbiAgICAgICAgc3ByaXRlLnJlbmRlcmFibGUgPSBmYWxzZTtcblxuICAgICAgICBfdGhpcy5tYXNrU3ByaXRlID0gc3ByaXRlO1xuICAgICAgICBfdGhpcy5tYXNrTWF0cml4ID0gbWFza01hdHJpeDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbHRlck1hbmFnZXJ9IGZpbHRlck1hbmFnZXIgLSBUaGUgcmVuZGVyZXIgdG8gcmV0cmlldmUgdGhlIGZpbHRlciBmcm9tXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gaW5wdXQgLSBUaGUgaW5wdXQgcmVuZGVyIHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSBvdXRwdXQgLSBUaGUgdGFyZ2V0IHRvIG91dHB1dCB0by5cbiAgICAgKi9cblxuXG4gICAgU3ByaXRlTWFza0ZpbHRlci5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiBhcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0KSB7XG4gICAgICAgIHZhciBtYXNrU3ByaXRlID0gdGhpcy5tYXNrU3ByaXRlO1xuICAgICAgICB2YXIgdGV4ID0gdGhpcy5tYXNrU3ByaXRlLnRleHR1cmU7XG5cbiAgICAgICAgaWYgKCF0ZXgudmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRleC50cmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIC8vIG1hcmdpbiA9IDAuMCwgbGV0IGl0IGJsZWVkIGEgYml0LCBzaGFkZXIgY29kZSBiZWNvbWVzIGVhc2llclxuICAgICAgICAgICAgLy8gYXNzdW1pbmcgdGhhdCBhdGxhcyB0ZXh0dXJlcyB3ZXJlIG1hZGUgd2l0aCAxLXBpeGVsIHBhZGRpbmdcbiAgICAgICAgICAgIHRleC50cmFuc2Zvcm0gPSBuZXcgX1RleHR1cmVNYXRyaXgyLmRlZmF1bHQodGV4LCAwLjApO1xuICAgICAgICB9XG4gICAgICAgIHRleC50cmFuc2Zvcm0udXBkYXRlKCk7XG5cbiAgICAgICAgdGhpcy51bmlmb3Jtcy5tYXNrID0gdGV4O1xuICAgICAgICB0aGlzLnVuaWZvcm1zLm90aGVyTWF0cml4ID0gZmlsdGVyTWFuYWdlci5jYWxjdWxhdGVTcHJpdGVNYXRyaXgodGhpcy5tYXNrTWF0cml4LCBtYXNrU3ByaXRlKS5wcmVwZW5kKHRleC50cmFuc2Zvcm0ubWFwQ29vcmQpO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLmFscGhhID0gbWFza1Nwcml0ZS53b3JsZEFscGhhO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLm1hc2tDbGFtcCA9IHRleC50cmFuc2Zvcm0udUNsYW1wRnJhbWU7XG5cbiAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFNwcml0ZU1hc2tGaWx0ZXI7XG59KF9GaWx0ZXIzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBTcHJpdGVNYXNrRmlsdGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3ByaXRlTWFza0ZpbHRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBjYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzO1xuLyoqXG4gKiBDcmVhdGVzIGEgbGl0dGxlIGNvbG9yZWQgY2FudmFzXG4gKlxuICogQGlnbm9yZVxuICogQHBhcmFtIHtzdHJpbmd9IGNvbG9yIC0gVGhlIGNvbG9yIHRvIG1ha2UgdGhlIGNhbnZhc1xuICogQHJldHVybiB7Y2FudmFzfSBhIHNtYWxsIGNhbnZhcyBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUNvbG9yZWRDYW52YXMoY29sb3IpIHtcbiAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICBjYW52YXMud2lkdGggPSA2O1xuICAgIGNhbnZhcy5oZWlnaHQgPSAxO1xuXG4gICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gY29sb3I7XG4gICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCA2LCAxKTtcblxuICAgIHJldHVybiBjYW52YXM7XG59XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgdGhlIENhbnZhcyBCbGVuZE1vZGVzIGFyZSBzdXBwb3J0ZWQgYnkgdGhlIGN1cnJlbnQgYnJvd3NlclxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59IHdoZXRoZXIgdGhleSBhcmUgc3VwcG9ydGVkXG4gKi9cbmZ1bmN0aW9uIGNhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMoKSB7XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBtYWdlbnRhID0gY3JlYXRlQ29sb3JlZENhbnZhcygnI2ZmMDBmZicpO1xuICAgIHZhciB5ZWxsb3cgPSBjcmVhdGVDb2xvcmVkQ2FudmFzKCcjZmZmZjAwJyk7XG5cbiAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICBjYW52YXMud2lkdGggPSA2O1xuICAgIGNhbnZhcy5oZWlnaHQgPSAxO1xuXG4gICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ211bHRpcGx5JztcbiAgICBjb250ZXh0LmRyYXdJbWFnZShtYWdlbnRhLCAwLCAwKTtcbiAgICBjb250ZXh0LmRyYXdJbWFnZSh5ZWxsb3csIDIsIDApO1xuXG4gICAgdmFyIGltYWdlRGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKDIsIDAsIDEsIDEpO1xuXG4gICAgaWYgKCFpbWFnZURhdGEpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBkYXRhID0gaW1hZ2VEYXRhLmRhdGE7XG5cbiAgICByZXR1cm4gZGF0YVswXSA9PT0gMjU1ICYmIGRhdGFbMV0gPT09IDAgJiYgZGF0YVsyXSA9PT0gMDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi4vLi4vLi4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQ3JlYXRlcyBhIENhbnZhcyBlbGVtZW50IG9mIHRoZSBnaXZlbiBzaXplLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENhbnZhc1JlbmRlclRhcmdldCA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIHRoZSB3aWR0aCBmb3IgdGhlIG5ld2x5IGNyZWF0ZWQgY2FudmFzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgaGVpZ2h0IGZvciB0aGUgbmV3bHkgY3JlYXRlZCBjYW52YXNcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIGNhbnZhc1xuICAgKi9cbiAgZnVuY3Rpb24gQ2FudmFzUmVuZGVyVGFyZ2V0KHdpZHRoLCBoZWlnaHQsIHJlc29sdXRpb24pIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FudmFzUmVuZGVyVGFyZ2V0KTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBDYW52YXMgb2JqZWN0IHRoYXQgYmVsb25ncyB0byB0aGlzIENhbnZhc1JlbmRlclRhcmdldC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICAvKipcbiAgICAgKiBBIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCBvYmplY3QgcmVwcmVzZW50aW5nIGEgdHdvLWRpbWVuc2lvbmFsIHJlbmRlcmluZyBjb250ZXh0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAqL1xuICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IF9zZXR0aW5nczIuZGVmYXVsdC5SRVNPTFVUSU9OO1xuXG4gICAgdGhpcy5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXJzIHRoZSBjYW52YXMgdGhhdCB3YXMgY3JlYXRlZCBieSB0aGUgQ2FudmFzUmVuZGVyVGFyZ2V0IGNsYXNzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIENhbnZhc1JlbmRlclRhcmdldC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICB0aGlzLmNvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlc2l6ZXMgdGhlIGNhbnZhcyB0byB0aGUgc3BlY2lmaWVkIHdpZHRoIGFuZCBoZWlnaHQuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIHRoZSBuZXcgd2lkdGggb2YgdGhlIGNhbnZhc1xuICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gdGhlIG5ldyBoZWlnaHQgb2YgdGhlIGNhbnZhc1xuICAgKi9cblxuXG4gIENhbnZhc1JlbmRlclRhcmdldC5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gcmVzaXplKHdpZHRoLCBoZWlnaHQpIHtcbiAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHdpZHRoICogdGhpcy5yZXNvbHV0aW9uO1xuICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IGhlaWdodCAqIHRoaXMucmVzb2x1dGlvbjtcbiAgfTtcblxuICAvKipcbiAgICogRGVzdHJveXMgdGhpcyBjYW52YXMuXG4gICAqXG4gICAqL1xuXG5cbiAgQ2FudmFzUmVuZGVyVGFyZ2V0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgIHRoaXMuY2FudmFzID0gbnVsbDtcbiAgfTtcblxuICAvKipcbiAgICogVGhlIHdpZHRoIG9mIHRoZSBjYW52YXMgYnVmZmVyIGluIHBpeGVscy5cbiAgICpcbiAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhDYW52YXNSZW5kZXJUYXJnZXQsIFt7XG4gICAga2V5OiAnd2lkdGgnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FudmFzLndpZHRoO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHZhbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBjYW52YXMgYnVmZmVyIGluIHBpeGVscy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnaGVpZ2h0JyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhbnZhcy5oZWlnaHQ7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWwpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHZhbDtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ2FudmFzUmVuZGVyVGFyZ2V0O1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBDYW52YXNSZW5kZXJUYXJnZXQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYW52YXNSZW5kZXJUYXJnZXQuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX0Jhc2VUZXh0dXJlMiA9IHJlcXVpcmUoJy4vQmFzZVRleHR1cmUnKTtcblxudmFyIF9CYXNlVGV4dHVyZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXNlVGV4dHVyZTIpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBBIEJhc2VSZW5kZXJUZXh0dXJlIGlzIGEgc3BlY2lhbCB0ZXh0dXJlIHRoYXQgYWxsb3dzIGFueSBQaXhpSlMgZGlzcGxheSBvYmplY3QgdG8gYmUgcmVuZGVyZWQgdG8gaXQuXG4gKlxuICogX19IaW50X186IEFsbCBEaXNwbGF5T2JqZWN0cyAoaS5lLiBTcHJpdGVzKSB0aGF0IHJlbmRlciB0byBhIEJhc2VSZW5kZXJUZXh0dXJlIHNob3VsZCBiZSBwcmVsb2FkZWRcbiAqIG90aGVyd2lzZSBibGFjayByZWN0YW5nbGVzIHdpbGwgYmUgZHJhd24gaW5zdGVhZC5cbiAqXG4gKiBBIEJhc2VSZW5kZXJUZXh0dXJlIHRha2VzIGEgc25hcHNob3Qgb2YgYW55IERpc3BsYXkgT2JqZWN0IGdpdmVuIHRvIGl0cyByZW5kZXIgbWV0aG9kLiBUaGUgcG9zaXRpb25cbiAqIGFuZCByb3RhdGlvbiBvZiB0aGUgZ2l2ZW4gRGlzcGxheSBPYmplY3RzIGlzIGlnbm9yZWQuIEZvciBleGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgcmVuZGVyZXIgPSBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcigxMDI0LCAxMDI0LCB7IHZpZXc6IGNhbnZhcywgcmF0aW86IDEgfSk7XG4gKiBsZXQgYmFzZVJlbmRlclRleHR1cmUgPSBuZXcgUElYSS5CYXNlUmVuZGVyVGV4dHVyZShyZW5kZXJlciwgODAwLCA2MDApO1xuICogbGV0IHNwcml0ZSA9IFBJWEkuU3ByaXRlLmZyb21JbWFnZShcInNwaW5PYmpfMDEucG5nXCIpO1xuICpcbiAqIHNwcml0ZS5wb3NpdGlvbi54ID0gODAwLzI7XG4gKiBzcHJpdGUucG9zaXRpb24ueSA9IDYwMC8yO1xuICogc3ByaXRlLmFuY2hvci54ID0gMC41O1xuICogc3ByaXRlLmFuY2hvci55ID0gMC41O1xuICpcbiAqIGJhc2VSZW5kZXJUZXh0dXJlLnJlbmRlcihzcHJpdGUpO1xuICogYGBgXG4gKlxuICogVGhlIFNwcml0ZSBpbiB0aGlzIGNhc2Ugd2lsbCBiZSByZW5kZXJlZCB1c2luZyBpdHMgbG9jYWwgdHJhbnNmb3JtLiBUbyByZW5kZXIgdGhpcyBzcHJpdGUgYXQgMCwwXG4gKiB5b3UgY2FuIGNsZWFyIHRoZSB0cmFuc2Zvcm1cbiAqXG4gKiBgYGBqc1xuICpcbiAqIHNwcml0ZS5zZXRUcmFuc2Zvcm0oKVxuICpcbiAqIGxldCBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLkJhc2VSZW5kZXJUZXh0dXJlKDEwMCwgMTAwKTtcbiAqIGxldCByZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuUmVuZGVyVGV4dHVyZShiYXNlUmVuZGVyVGV4dHVyZSk7XG4gKlxuICogcmVuZGVyZXIucmVuZGVyKHNwcml0ZSwgcmVuZGVyVGV4dHVyZSk7ICAvLyBSZW5kZXJzIHRvIGNlbnRlciBvZiBSZW5kZXJUZXh0dXJlXG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQmFzZVRleHR1cmVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCYXNlUmVuZGVyVGV4dHVyZSA9IGZ1bmN0aW9uIChfQmFzZVRleHR1cmUpIHtcbiAgX2luaGVyaXRzKEJhc2VSZW5kZXJUZXh0dXJlLCBfQmFzZVRleHR1cmUpO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTEwMF0gLSBUaGUgd2lkdGggb2YgdGhlIGJhc2UgcmVuZGVyIHRleHR1cmVcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtoZWlnaHQ9MTAwXSAtIFRoZSBoZWlnaHQgb2YgdGhlIGJhc2UgcmVuZGVyIHRleHR1cmVcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgdGV4dHVyZSBiZWluZyBnZW5lcmF0ZWRcbiAgICovXG4gIGZ1bmN0aW9uIEJhc2VSZW5kZXJUZXh0dXJlKCkge1xuICAgIHZhciB3aWR0aCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMTAwO1xuICAgIHZhciBoZWlnaHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDEwMDtcbiAgICB2YXIgc2NhbGVNb2RlID0gYXJndW1lbnRzWzJdO1xuICAgIHZhciByZXNvbHV0aW9uID0gYXJndW1lbnRzWzNdO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJhc2VSZW5kZXJUZXh0dXJlKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9CYXNlVGV4dHVyZS5jYWxsKHRoaXMsIG51bGwsIHNjYWxlTW9kZSkpO1xuXG4gICAgX3RoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgX3NldHRpbmdzMi5kZWZhdWx0LlJFU09MVVRJT047XG5cbiAgICBfdGhpcy53aWR0aCA9IE1hdGguY2VpbCh3aWR0aCk7XG4gICAgX3RoaXMuaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCk7XG5cbiAgICBfdGhpcy5yZWFsV2lkdGggPSBfdGhpcy53aWR0aCAqIF90aGlzLnJlc29sdXRpb247XG4gICAgX3RoaXMucmVhbEhlaWdodCA9IF90aGlzLmhlaWdodCAqIF90aGlzLnJlc29sdXRpb247XG5cbiAgICBfdGhpcy5zY2FsZU1vZGUgPSBzY2FsZU1vZGUgIT09IHVuZGVmaW5lZCA/IHNjYWxlTW9kZSA6IF9zZXR0aW5nczIuZGVmYXVsdC5TQ0FMRV9NT0RFO1xuICAgIF90aGlzLmhhc0xvYWRlZCA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBBIG1hcCBvZiByZW5kZXJlciBJRHMgdG8gd2ViZ2wgcmVuZGVyVGFyZ2V0c1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtvYmplY3Q8bnVtYmVyLCBXZWJHTFRleHR1cmU+fVxuICAgICAqL1xuICAgIF90aGlzLl9nbFJlbmRlclRhcmdldHMgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBjYW52YXMgcmVuZGVyIHRhcmdldCAod2Ugb25seSBuZWVkIG9uZSBhcyB0aGlzIGNhbiBiZSBzaGFyZWQgYWNyb3NzIHJlbmRlcmVycylcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7b2JqZWN0PG51bWJlciwgV2ViR0xUZXh0dXJlPn1cbiAgICAgKi9cbiAgICBfdGhpcy5fY2FudmFzUmVuZGVyVGFyZ2V0ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgd2lsbCBsZXQgdGhlIHJlbmRlcmVyIGtub3cgaWYgdGhlIHRleHR1cmUgaXMgdmFsaWQuIElmIGl0J3Mgbm90IHRoZW4gaXQgY2Fubm90IGJlIHJlbmRlcmVkLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBfdGhpcy52YWxpZCA9IGZhbHNlO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNpemVzIHRoZSBCYXNlUmVuZGVyVGV4dHVyZS5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIHRvIHJlc2l6ZSB0by5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoZWlnaHQgdG8gcmVzaXplIHRvLlxuICAgKi9cblxuXG4gIEJhc2VSZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiByZXNpemUod2lkdGgsIGhlaWdodCkge1xuICAgIHdpZHRoID0gTWF0aC5jZWlsKHdpZHRoKTtcbiAgICBoZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0KTtcblxuICAgIGlmICh3aWR0aCA9PT0gdGhpcy53aWR0aCAmJiBoZWlnaHQgPT09IHRoaXMuaGVpZ2h0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy52YWxpZCA9IHdpZHRoID4gMCAmJiBoZWlnaHQgPiAwO1xuXG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgdGhpcy5yZWFsV2lkdGggPSB0aGlzLndpZHRoICogdGhpcy5yZXNvbHV0aW9uO1xuICAgIHRoaXMucmVhbEhlaWdodCA9IHRoaXMuaGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgaWYgKCF0aGlzLnZhbGlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5lbWl0KCd1cGRhdGUnLCB0aGlzKTtcbiAgfTtcblxuICAvKipcbiAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlXG4gICAqXG4gICAqL1xuXG5cbiAgQmFzZVJlbmRlclRleHR1cmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIF9CYXNlVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIHRydWUpO1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICB9O1xuXG4gIHJldHVybiBCYXNlUmVuZGVyVGV4dHVyZTtcbn0oX0Jhc2VUZXh0dXJlMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQmFzZVJlbmRlclRleHR1cmU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXNlUmVuZGVyVGV4dHVyZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG52YXIgX21hdGggPSByZXF1aXJlKCcuLi9tYXRoJyk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi9jb25zdCcpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbnZhciBfQ29udGFpbmVyID0gcmVxdWlyZSgnLi4vZGlzcGxheS9Db250YWluZXInKTtcblxudmFyIF9Db250YWluZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29udGFpbmVyKTtcblxudmFyIF9SZW5kZXJUZXh0dXJlID0gcmVxdWlyZSgnLi4vdGV4dHVyZXMvUmVuZGVyVGV4dHVyZScpO1xuXG52YXIgX1JlbmRlclRleHR1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmVuZGVyVGV4dHVyZSk7XG5cbnZhciBfZXZlbnRlbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRlbWl0dGVyMycpO1xuXG52YXIgX2V2ZW50ZW1pdHRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ldmVudGVtaXR0ZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciB0ZW1wTWF0cml4ID0gbmV3IF9tYXRoLk1hdHJpeCgpO1xuXG4vKipcbiAqIFRoZSBTeXN0ZW1SZW5kZXJlciBpcyB0aGUgYmFzZSBmb3IgYSBQaXhpSlMgUmVuZGVyZXIuIEl0IGlzIGV4dGVuZGVkIGJ5IHRoZSB7QGxpbmsgUElYSS5DYW52YXNSZW5kZXJlcn1cbiAqIGFuZCB7QGxpbmsgUElYSS5XZWJHTFJlbmRlcmVyfSB3aGljaCBjYW4gYmUgdXNlZCBmb3IgcmVuZGVyaW5nIGEgUGl4aUpTIHNjZW5lLlxuICpcbiAqIEBhYnN0cmFjdFxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBFdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cblxudmFyIFN5c3RlbVJlbmRlcmVyID0gZnVuY3Rpb24gKF9FdmVudEVtaXR0ZXIpIHtcbiAgX2luaGVyaXRzKFN5c3RlbVJlbmRlcmVyLCBfRXZlbnRFbWl0dGVyKTtcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdmFsaWQtanNkb2NcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzeXN0ZW0gLSBUaGUgbmFtZSBvZiB0aGUgc3lzdGVtIHRoaXMgcmVuZGVyZXIgaXMgZm9yLlxuICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbmFsIHJlbmRlcmVyIHBhcmFtZXRlcnNcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTgwMF0gLSB0aGUgd2lkdGggb2YgdGhlIHNjcmVlblxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTYwMF0gLSB0aGUgaGVpZ2h0IG9mIHRoZSBzY3JlZW5cbiAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW29wdGlvbnMudmlld10gLSB0aGUgY2FudmFzIHRvIHVzZSBhcyBhIHZpZXcsIG9wdGlvbmFsXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhbnNwYXJlbnQ9ZmFsc2VdIC0gSWYgdGhlIHJlbmRlciB2aWV3IGlzIHRyYW5zcGFyZW50LCBkZWZhdWx0IGZhbHNlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b1Jlc2l6ZT1mYWxzZV0gLSBJZiB0aGUgcmVuZGVyIHZpZXcgaXMgYXV0b21hdGljYWxseSByZXNpemVkLCBkZWZhdWx0IGZhbHNlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYW50aWFsaWFzPWZhbHNlXSAtIHNldHMgYW50aWFsaWFzIChvbmx5IGFwcGxpY2FibGUgaW4gY2hyb21lIGF0IHRoZSBtb21lbnQpXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLiBUaGVcbiAgICogIHJlc29sdXRpb24gb2YgdGhlIHJlbmRlcmVyIHJldGluYSB3b3VsZCBiZSAyLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj1mYWxzZV0gLSBlbmFibGVzIGRyYXdpbmcgYnVmZmVyIHByZXNlcnZhdGlvbixcbiAgICogIGVuYWJsZSB0aGlzIGlmIHlvdSBuZWVkIHRvIGNhbGwgdG9EYXRhVXJsIG9uIHRoZSB3ZWJnbCBjb250ZXh0LlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyPXRydWVdIC0gVGhpcyBzZXRzIGlmIHRoZSByZW5kZXJlciB3aWxsIGNsZWFyIHRoZSBjYW52YXMgb3JcbiAgICogICAgICBub3QgYmVmb3JlIHRoZSBuZXcgcmVuZGVyIHBhc3MuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBdIC0gVGhlIGJhY2tncm91bmQgY29sb3Igb2YgdGhlIHJlbmRlcmVkIGFyZWFcbiAgICogIChzaG93biBpZiBub3QgdHJhbnNwYXJlbnQpLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnJvdW5kUGl4ZWxzPWZhbHNlXSAtIElmIHRydWUgUGl4aUpTIHdpbGwgTWF0aC5mbG9vcigpIHgveSB2YWx1ZXMgd2hlbiByZW5kZXJpbmcsXG4gICAqICBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gU3lzdGVtUmVuZGVyZXIoc3lzdGVtLCBvcHRpb25zLCBhcmcyLCBhcmczKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN5c3RlbVJlbmRlcmVyKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEVtaXR0ZXIuY2FsbCh0aGlzKSk7XG5cbiAgICAoMCwgX3V0aWxzLnNheUhlbGxvKShzeXN0ZW0pO1xuXG4gICAgLy8gU3VwcG9ydCBmb3IgY29uc3RydWN0b3Ioc3lzdGVtLCBzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0LCBvcHRpb25zKVxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpIHtcbiAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgd2lkdGg6IG9wdGlvbnMsXG4gICAgICAgIGhlaWdodDogYXJnMiB8fCBfc2V0dGluZ3MyLmRlZmF1bHQuUkVOREVSX09QVElPTlMuaGVpZ2h0XG4gICAgICB9LCBhcmczKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgdGhlIGRlZmF1bHQgcmVuZGVyIG9wdGlvbnNcbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgX3NldHRpbmdzMi5kZWZhdWx0LlJFTkRFUl9PUFRJT05TLCBvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzdXBwbGllZCBjb25zdHJ1Y3RvciBvcHRpb25zLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAqIEByZWFkT25seVxuICAgICAqL1xuICAgIF90aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIHJlbmRlcmVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuUkVOREVSRVJfVFlQRS5VTktOT1dOXG4gICAgICogQHNlZSBQSVhJLlJFTkRFUkVSX1RZUEVcbiAgICAgKi9cbiAgICBfdGhpcy50eXBlID0gX2NvbnN0LlJFTkRFUkVSX1RZUEUuVU5LTk9XTjtcblxuICAgIC8qKlxuICAgICAqIE1lYXN1cmVtZW50cyBvZiB0aGUgc2NyZWVuLiAoMCwgMCwgc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodClcbiAgICAgKlxuICAgICAqIEl0cyBzYWZlIHRvIHVzZSBhcyBmaWx0ZXJBcmVhIG9yIGhpdEFyZWEgZm9yIHdob2xlIHN0YWdlXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgKi9cbiAgICBfdGhpcy5zY3JlZW4gPSBuZXcgX21hdGguUmVjdGFuZ2xlKDAsIDAsIG9wdGlvbnMud2lkdGgsIG9wdGlvbnMuaGVpZ2h0KTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjYW52YXMgZWxlbWVudCB0aGF0IGV2ZXJ5dGhpbmcgaXMgZHJhd24gdG9cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAqL1xuICAgIF90aGlzLnZpZXcgPSBvcHRpb25zLnZpZXcgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgX3RoaXMucmVzb2x1dGlvbiA9IG9wdGlvbnMucmVzb2x1dGlvbiB8fCBfc2V0dGluZ3MyLmRlZmF1bHQuUkVTT0xVVElPTjtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHJlbmRlciB2aWV3IGlzIHRyYW5zcGFyZW50XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIF90aGlzLnRyYW5zcGFyZW50ID0gb3B0aW9ucy50cmFuc3BhcmVudDtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgY3NzIGRpbWVuc2lvbnMgb2YgY2FudmFzIHZpZXcgc2hvdWxkIGJlIHJlc2l6ZWQgdG8gc2NyZWVuIGRpbWVuc2lvbnMgYXV0b21hdGljYWxseVxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBfdGhpcy5hdXRvUmVzaXplID0gb3B0aW9ucy5hdXRvUmVzaXplIHx8IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogVHJhY2tzIHRoZSBibGVuZCBtb2RlcyB1c2VmdWwgZm9yIHRoaXMgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtvYmplY3Q8c3RyaW5nLCBtaXhlZD59XG4gICAgICovXG4gICAgX3RoaXMuYmxlbmRNb2RlcyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdmFsdWUgb2YgdGhlIHByZXNlcnZlRHJhd2luZ0J1ZmZlciBmbGFnIGFmZmVjdHMgd2hldGhlciBvciBub3QgdGhlIGNvbnRlbnRzIG9mXG4gICAgICogdGhlIHN0ZW5jaWwgYnVmZmVyIGlzIHJldGFpbmVkIGFmdGVyIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgX3RoaXMucHJlc2VydmVEcmF3aW5nQnVmZmVyID0gb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIHNldHMgaWYgdGhlIENhbnZhc1JlbmRlcmVyIHdpbGwgY2xlYXIgdGhlIGNhbnZhcyBvciBub3QgYmVmb3JlIHRoZSBuZXcgcmVuZGVyIHBhc3MuXG4gICAgICogSWYgdGhlIHNjZW5lIGlzIE5PVCB0cmFuc3BhcmVudCBQaXhpSlMgd2lsbCB1c2UgYSBjYW52YXMgc2l6ZWQgZmlsbFJlY3Qgb3BlcmF0aW9uIGV2ZXJ5XG4gICAgICogZnJhbWUgdG8gc2V0IHRoZSBjYW52YXMgYmFja2dyb3VuZCBjb2xvci4gSWYgdGhlIHNjZW5lIGlzIHRyYW5zcGFyZW50IFBpeGlKUyB3aWxsIHVzZSBjbGVhclJlY3RcbiAgICAgKiB0byBjbGVhciB0aGUgY2FudmFzIGV2ZXJ5IGZyYW1lLiBEaXNhYmxlIHRoaXMgYnkgc2V0dGluZyB0aGlzIHRvIGZhbHNlLiBGb3IgZXhhbXBsZSBpZlxuICAgICAqIHlvdXIgZ2FtZSBoYXMgYSBjYW52YXMgZmlsbGluZyBiYWNrZ3JvdW5kIGltYWdlIHlvdSBvZnRlbiBkb24ndCBuZWVkIHRoaXMgc2V0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIF90aGlzLmNsZWFyQmVmb3JlUmVuZGVyID0gb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcjtcblxuICAgIC8qKlxuICAgICAqIElmIHRydWUgUGl4aUpTIHdpbGwgTWF0aC5mbG9vcigpIHgveSB2YWx1ZXMgd2hlbiByZW5kZXJpbmcsIHN0b3BwaW5nIHBpeGVsIGludGVycG9sYXRpb24uXG4gICAgICogSGFuZHkgZm9yIGNyaXNwIHBpeGVsIGFydCBhbmQgc3BlZWQgb24gbGVnYWN5IGRldmljZXMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIF90aGlzLnJvdW5kUGl4ZWxzID0gb3B0aW9ucy5yb3VuZFBpeGVscztcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIGFzIGEgbnVtYmVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3RoaXMuX2JhY2tncm91bmRDb2xvciA9IDB4MDAwMDAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhY2tncm91bmQgY29sb3IgYXMgYW4gW1IsIEcsIEJdIGFycmF5LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdGhpcy5fYmFja2dyb3VuZENvbG9yUmdiYSA9IFswLCAwLCAwLCAwXTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIGFzIGEgc3RyaW5nLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3RoaXMuX2JhY2tncm91bmRDb2xvclN0cmluZyA9ICcjMDAwMDAwJztcblxuICAgIF90aGlzLmJhY2tncm91bmRDb2xvciA9IG9wdGlvbnMuYmFja2dyb3VuZENvbG9yIHx8IF90aGlzLl9iYWNrZ3JvdW5kQ29sb3I7IC8vIHJ1biBiZyBjb2xvciBzZXR0ZXJcblxuICAgIC8qKlxuICAgICAqIFRoaXMgdGVtcG9yYXJ5IGRpc3BsYXkgb2JqZWN0IHVzZWQgYXMgdGhlIHBhcmVudCBvZiB0aGUgY3VycmVudGx5IGJlaW5nIHJlbmRlcmVkIGl0ZW1cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF90aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG5ldyBfQ29udGFpbmVyMi5kZWZhdWx0KCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbGFzdCByb290IG9iamVjdCB0aGF0IHRoZSByZW5kZXJlciB0cmllZCB0byByZW5kZXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdGhpcy5fbGFzdE9iamVjdFJlbmRlcmVkID0gX3RoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTYW1lIGFzIHZpZXcud2lkdGgsIGFjdHVhbCBudW1iZXIgb2YgcGl4ZWxzIGluIHRoZSBjYW52YXMgYnkgaG9yaXpvbnRhbFxuICAgKlxuICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAqIEByZWFkb25seVxuICAgKiBAZGVmYXVsdCA4MDBcbiAgICovXG5cblxuICAvKipcbiAgICogUmVzaXplcyB0aGUgc2NyZWVuIGFuZCBjYW52YXMgdG8gdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0XG4gICAqIENhbnZhcyBkaW1lbnNpb25zIGFyZSBtdWx0aXBsaWVkIGJ5IHJlc29sdXRpb25cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbldpZHRoIC0gdGhlIG5ldyB3aWR0aCBvZiB0aGUgc2NyZWVuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5IZWlnaHQgLSB0aGUgbmV3IGhlaWdodCBvZiB0aGUgc2NyZWVuXG4gICAqL1xuICBTeXN0ZW1SZW5kZXJlci5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gcmVzaXplKHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpIHtcbiAgICB0aGlzLnNjcmVlbi53aWR0aCA9IHNjcmVlbldpZHRoO1xuICAgIHRoaXMuc2NyZWVuLmhlaWdodCA9IHNjcmVlbkhlaWdodDtcblxuICAgIHRoaXMudmlldy53aWR0aCA9IHNjcmVlbldpZHRoICogdGhpcy5yZXNvbHV0aW9uO1xuICAgIHRoaXMudmlldy5oZWlnaHQgPSBzY3JlZW5IZWlnaHQgKiB0aGlzLnJlc29sdXRpb247XG5cbiAgICBpZiAodGhpcy5hdXRvUmVzaXplKSB7XG4gICAgICB0aGlzLnZpZXcuc3R5bGUud2lkdGggPSBzY3JlZW5XaWR0aCArICdweCc7XG4gICAgICB0aGlzLnZpZXcuc3R5bGUuaGVpZ2h0ID0gc2NyZWVuSGVpZ2h0ICsgJ3B4JztcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFVzZWZ1bCBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSB0ZXh0dXJlIG9mIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGNhbiB0aGVuIGJlIHVzZWQgdG8gY3JlYXRlIHNwcml0ZXNcbiAgICogVGhpcyBjYW4gYmUgcXVpdGUgdXNlZnVsIGlmIHlvdXIgZGlzcGxheU9iamVjdCBpcyBjb21wbGljYXRlZCBhbmQgbmVlZHMgdG8gYmUgcmV1c2VkIG11bHRpcGxlIHRpbWVzLlxuICAgKlxuICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5T2JqZWN0IHRoZSBvYmplY3Qgd2lsbCBiZSBnZW5lcmF0ZWQgZnJvbVxuICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVNb2RlIC0gU2hvdWxkIGJlIG9uZSBvZiB0aGUgc2NhbGVNb2RlIGNvbnN0c1xuICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSB0ZXh0dXJlIGJlaW5nIGdlbmVyYXRlZFxuICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbcmVnaW9uXSAtIFRoZSByZWdpb24gb2YgdGhlIGRpc3BsYXlPYmplY3QsIHRoYXQgc2hhbGwgYmUgcmVuZGVyZWQsXG4gICAqICAgICAgICBpZiBubyByZWdpb24gaXMgc3BlY2lmaWVkLCBkZWZhdWx0cyB0byB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IGEgdGV4dHVyZSBvZiB0aGUgZ3JhcGhpY3Mgb2JqZWN0XG4gICAqL1xuXG5cbiAgU3lzdGVtUmVuZGVyZXIucHJvdG90eXBlLmdlbmVyYXRlVGV4dHVyZSA9IGZ1bmN0aW9uIGdlbmVyYXRlVGV4dHVyZShkaXNwbGF5T2JqZWN0LCBzY2FsZU1vZGUsIHJlc29sdXRpb24sIHJlZ2lvbikge1xuICAgIHJlZ2lvbiA9IHJlZ2lvbiB8fCBkaXNwbGF5T2JqZWN0LmdldExvY2FsQm91bmRzKCk7XG5cbiAgICB2YXIgcmVuZGVyVGV4dHVyZSA9IF9SZW5kZXJUZXh0dXJlMi5kZWZhdWx0LmNyZWF0ZShyZWdpb24ud2lkdGggfCAwLCByZWdpb24uaGVpZ2h0IHwgMCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKTtcblxuICAgIHRlbXBNYXRyaXgudHggPSAtcmVnaW9uLng7XG4gICAgdGVtcE1hdHJpeC50eSA9IC1yZWdpb24ueTtcblxuICAgIHRoaXMucmVuZGVyKGRpc3BsYXlPYmplY3QsIHJlbmRlclRleHR1cmUsIGZhbHNlLCB0ZW1wTWF0cml4LCB0cnVlKTtcblxuICAgIHJldHVybiByZW5kZXJUZXh0dXJlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGV2ZXJ5dGhpbmcgZnJvbSB0aGUgcmVuZGVyZXIgYW5kIG9wdGlvbmFsbHkgcmVtb3ZlcyB0aGUgQ2FudmFzIERPTSBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZW1vdmVWaWV3PWZhbHNlXSAtIFJlbW92ZXMgdGhlIENhbnZhcyBlbGVtZW50IGZyb20gdGhlIERPTS5cbiAgICovXG5cblxuICBTeXN0ZW1SZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kocmVtb3ZlVmlldykge1xuICAgIGlmIChyZW1vdmVWaWV3ICYmIHRoaXMudmlldy5wYXJlbnROb2RlKSB7XG4gICAgICB0aGlzLnZpZXcucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnZpZXcpO1xuICAgIH1cblxuICAgIHRoaXMudHlwZSA9IF9jb25zdC5SRU5ERVJFUl9UWVBFLlVOS05PV047XG5cbiAgICB0aGlzLnZpZXcgPSBudWxsO1xuXG4gICAgdGhpcy5zY3JlZW4gPSBudWxsO1xuXG4gICAgdGhpcy5yZXNvbHV0aW9uID0gMDtcblxuICAgIHRoaXMudHJhbnNwYXJlbnQgPSBmYWxzZTtcblxuICAgIHRoaXMuYXV0b1Jlc2l6ZSA9IGZhbHNlO1xuXG4gICAgdGhpcy5ibGVuZE1vZGVzID0gbnVsbDtcblxuICAgIHRoaXMub3B0aW9ucyA9IG51bGw7XG5cbiAgICB0aGlzLnByZXNlcnZlRHJhd2luZ0J1ZmZlciA9IGZhbHNlO1xuICAgIHRoaXMuY2xlYXJCZWZvcmVSZW5kZXIgPSBmYWxzZTtcblxuICAgIHRoaXMucm91bmRQaXhlbHMgPSBmYWxzZTtcblxuICAgIHRoaXMuX2JhY2tncm91bmRDb2xvciA9IDA7XG4gICAgdGhpcy5fYmFja2dyb3VuZENvbG9yUmdiYSA9IG51bGw7XG4gICAgdGhpcy5fYmFja2dyb3VuZENvbG9yU3RyaW5nID0gbnVsbDtcblxuICAgIHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID0gbnVsbDtcbiAgICB0aGlzLl9sYXN0T2JqZWN0UmVuZGVyZWQgPSBudWxsO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvciB0byBmaWxsIGlmIG5vdCB0cmFuc3BhcmVudFxuICAgKlxuICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKFN5c3RlbVJlbmRlcmVyLCBbe1xuICAgIGtleTogJ3dpZHRoJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnZpZXcud2lkdGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2FtZSBhcyB2aWV3LmhlaWdodCwgYWN0dWFsIG51bWJlciBvZiBwaXhlbHMgaW4gdGhlIGNhbnZhcyBieSB2ZXJ0aWNhbFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBkZWZhdWx0IDYwMFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdoZWlnaHQnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMudmlldy5oZWlnaHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnYmFja2dyb3VuZENvbG9yJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9iYWNrZ3JvdW5kQ29sb3I7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yID0gdmFsdWU7XG4gICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmcgPSAoMCwgX3V0aWxzLmhleDJzdHJpbmcpKHZhbHVlKTtcbiAgICAgICgwLCBfdXRpbHMuaGV4MnJnYikodmFsdWUsIHRoaXMuX2JhY2tncm91bmRDb2xvclJnYmEpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTeXN0ZW1SZW5kZXJlcjtcbn0oX2V2ZW50ZW1pdHRlcjIuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFN5c3RlbVJlbmRlcmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3lzdGVtUmVuZGVyZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX0dyb3VwRCA9IHJlcXVpcmUoJy4uL21hdGgvR3JvdXBEOCcpO1xuXG52YXIgX0dyb3VwRDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Hcm91cEQpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEEgc3RhbmRhcmQgb2JqZWN0IHRvIHN0b3JlIHRoZSBVdnMgb2YgYSB0ZXh0dXJlXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRleHR1cmVVdnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0dXJlVXZzKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGV4dHVyZVV2cyk7XG5cbiAgICAgICAgdGhpcy54MCA9IDA7XG4gICAgICAgIHRoaXMueTAgPSAwO1xuXG4gICAgICAgIHRoaXMueDEgPSAxO1xuICAgICAgICB0aGlzLnkxID0gMDtcblxuICAgICAgICB0aGlzLngyID0gMTtcbiAgICAgICAgdGhpcy55MiA9IDE7XG5cbiAgICAgICAgdGhpcy54MyA9IDA7XG4gICAgICAgIHRoaXMueTMgPSAxO1xuXG4gICAgICAgIHRoaXMudXZzVWludDMyID0gbmV3IFVpbnQzMkFycmF5KDQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHRleHR1cmUgVXZzIGJhc2VkIG9uIHRoZSBnaXZlbiBmcmFtZSBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gZnJhbWUgLSBUaGUgZnJhbWUgb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBiYXNlRnJhbWUgLSBUaGUgYmFzZSBmcmFtZSBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGUgLSBSb3RhdGlvbiBvZiBmcmFtZSwgc2VlIHtAbGluayBQSVhJLkdyb3VwRDh9XG4gICAgICovXG5cblxuICAgIFRleHR1cmVVdnMucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIHNldChmcmFtZSwgYmFzZUZyYW1lLCByb3RhdGUpIHtcbiAgICAgICAgdmFyIHR3ID0gYmFzZUZyYW1lLndpZHRoO1xuICAgICAgICB2YXIgdGggPSBiYXNlRnJhbWUuaGVpZ2h0O1xuXG4gICAgICAgIGlmIChyb3RhdGUpIHtcbiAgICAgICAgICAgIC8vIHdpZHRoIGFuZCBoZWlnaHQgZGl2IDIgZGl2IGJhc2VGcmFtZSBzaXplXG4gICAgICAgICAgICB2YXIgdzIgPSBmcmFtZS53aWR0aCAvIDIgLyB0dztcbiAgICAgICAgICAgIHZhciBoMiA9IGZyYW1lLmhlaWdodCAvIDIgLyB0aDtcblxuICAgICAgICAgICAgLy8gY29vcmRpbmF0ZXMgb2YgY2VudGVyXG4gICAgICAgICAgICB2YXIgY1ggPSBmcmFtZS54IC8gdHcgKyB3MjtcbiAgICAgICAgICAgIHZhciBjWSA9IGZyYW1lLnkgLyB0aCArIGgyO1xuXG4gICAgICAgICAgICByb3RhdGUgPSBfR3JvdXBEMi5kZWZhdWx0LmFkZChyb3RhdGUsIF9Hcm91cEQyLmRlZmF1bHQuTlcpOyAvLyBOVyBpcyB0b3AtbGVmdCBjb3JuZXJcbiAgICAgICAgICAgIHRoaXMueDAgPSBjWCArIHcyICogX0dyb3VwRDIuZGVmYXVsdC51WChyb3RhdGUpO1xuICAgICAgICAgICAgdGhpcy55MCA9IGNZICsgaDIgKiBfR3JvdXBEMi5kZWZhdWx0LnVZKHJvdGF0ZSk7XG5cbiAgICAgICAgICAgIHJvdGF0ZSA9IF9Hcm91cEQyLmRlZmF1bHQuYWRkKHJvdGF0ZSwgMik7IC8vIHJvdGF0ZSA5MCBkZWdyZWVzIGNsb2Nrd2lzZVxuICAgICAgICAgICAgdGhpcy54MSA9IGNYICsgdzIgKiBfR3JvdXBEMi5kZWZhdWx0LnVYKHJvdGF0ZSk7XG4gICAgICAgICAgICB0aGlzLnkxID0gY1kgKyBoMiAqIF9Hcm91cEQyLmRlZmF1bHQudVkocm90YXRlKTtcblxuICAgICAgICAgICAgcm90YXRlID0gX0dyb3VwRDIuZGVmYXVsdC5hZGQocm90YXRlLCAyKTtcbiAgICAgICAgICAgIHRoaXMueDIgPSBjWCArIHcyICogX0dyb3VwRDIuZGVmYXVsdC51WChyb3RhdGUpO1xuICAgICAgICAgICAgdGhpcy55MiA9IGNZICsgaDIgKiBfR3JvdXBEMi5kZWZhdWx0LnVZKHJvdGF0ZSk7XG5cbiAgICAgICAgICAgIHJvdGF0ZSA9IF9Hcm91cEQyLmRlZmF1bHQuYWRkKHJvdGF0ZSwgMik7XG4gICAgICAgICAgICB0aGlzLngzID0gY1ggKyB3MiAqIF9Hcm91cEQyLmRlZmF1bHQudVgocm90YXRlKTtcbiAgICAgICAgICAgIHRoaXMueTMgPSBjWSArIGgyICogX0dyb3VwRDIuZGVmYXVsdC51WShyb3RhdGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy54MCA9IGZyYW1lLnggLyB0dztcbiAgICAgICAgICAgIHRoaXMueTAgPSBmcmFtZS55IC8gdGg7XG5cbiAgICAgICAgICAgIHRoaXMueDEgPSAoZnJhbWUueCArIGZyYW1lLndpZHRoKSAvIHR3O1xuICAgICAgICAgICAgdGhpcy55MSA9IGZyYW1lLnkgLyB0aDtcblxuICAgICAgICAgICAgdGhpcy54MiA9IChmcmFtZS54ICsgZnJhbWUud2lkdGgpIC8gdHc7XG4gICAgICAgICAgICB0aGlzLnkyID0gKGZyYW1lLnkgKyBmcmFtZS5oZWlnaHQpIC8gdGg7XG5cbiAgICAgICAgICAgIHRoaXMueDMgPSBmcmFtZS54IC8gdHc7XG4gICAgICAgICAgICB0aGlzLnkzID0gKGZyYW1lLnkgKyBmcmFtZS5oZWlnaHQpIC8gdGg7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnV2c1VpbnQzMlswXSA9ICh0aGlzLnkwICogNjU1MzUgJiAweEZGRkYpIDw8IDE2IHwgdGhpcy54MCAqIDY1NTM1ICYgMHhGRkZGO1xuICAgICAgICB0aGlzLnV2c1VpbnQzMlsxXSA9ICh0aGlzLnkxICogNjU1MzUgJiAweEZGRkYpIDw8IDE2IHwgdGhpcy54MSAqIDY1NTM1ICYgMHhGRkZGO1xuICAgICAgICB0aGlzLnV2c1VpbnQzMlsyXSA9ICh0aGlzLnkyICogNjU1MzUgJiAweEZGRkYpIDw8IDE2IHwgdGhpcy54MiAqIDY1NTM1ICYgMHhGRkZGO1xuICAgICAgICB0aGlzLnV2c1VpbnQzMlszXSA9ICh0aGlzLnkzICogNjU1MzUgJiAweEZGRkYpIDw8IDE2IHwgdGhpcy54MyAqIDY1NTM1ICYgMHhGRkZGO1xuICAgIH07XG5cbiAgICByZXR1cm4gVGV4dHVyZVV2cztcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVGV4dHVyZVV2cztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRleHR1cmVVdnMuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX0Jhc2VUZXh0dXJlMiA9IHJlcXVpcmUoJy4vQmFzZVRleHR1cmUnKTtcblxudmFyIF9CYXNlVGV4dHVyZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXNlVGV4dHVyZTIpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxudmFyIF90aWNrZXIgPSByZXF1aXJlKCcuLi90aWNrZXInKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uL2NvbnN0Jyk7XG5cbnZhciBfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4gPSByZXF1aXJlKCcuLi91dGlscy9kZXRlcm1pbmVDcm9zc09yaWdpbicpO1xuXG52YXIgX2RldGVybWluZUNyb3NzT3JpZ2luMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RldGVybWluZUNyb3NzT3JpZ2luKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIEEgdGV4dHVyZSBvZiBhIFtwbGF5aW5nXSBWaWRlby5cbiAqXG4gKiBWaWRlbyBiYXNlIHRleHR1cmVzIG1pbWljIFBpeGlKUyBCYXNlVGV4dHVyZS5mcm9tLi4uLiBtZXRob2QgaW4gdGhlaXIgY3JlYXRpb24gcHJvY2Vzcy5cbiAqXG4gKiBUaGlzIGNhbiBiZSB1c2VkIGluIHNldmVyYWwgd2F5cywgc3VjaCBhczpcbiAqXG4gKiBgYGBqc1xuICogbGV0IHRleHR1cmUgPSBQSVhJLlZpZGVvQmFzZVRleHR1cmUuZnJvbVVybCgnaHR0cDovL215ZG9tYWluLmNvbS92aWRlby5tcDQnKTtcbiAqXG4gKiBsZXQgdGV4dHVyZSA9IFBJWEkuVmlkZW9CYXNlVGV4dHVyZS5mcm9tVXJsKHsgc3JjOiAnaHR0cDovL215ZG9tYWluLmNvbS92aWRlby5tcDQnLCBtaW1lOiAndmlkZW8vbXA0JyB9KTtcbiAqXG4gKiBsZXQgdGV4dHVyZSA9IFBJWEkuVmlkZW9CYXNlVGV4dHVyZS5mcm9tVXJscyhbJy92aWRlby53ZWJtJywgJy92aWRlby5tcDQnXSk7XG4gKlxuICogbGV0IHRleHR1cmUgPSBQSVhJLlZpZGVvQmFzZVRleHR1cmUuZnJvbVVybHMoW1xuICogICAgIHsgc3JjOiAnL3ZpZGVvLndlYm0nLCBtaW1lOiAndmlkZW8vd2VibScgfSxcbiAqICAgICB7IHNyYzogJy92aWRlby5tcDQnLCBtaW1lOiAndmlkZW8vbXA0JyB9XG4gKiBdKTtcbiAqIGBgYFxuICpcbiAqIFNlZSB0aGUgW1wiZGV1c1wiIGRlbW9dKGh0dHA6Ly93d3cuZ29vZGJveWRpZ2l0YWwuY29tL3BpeGlqcy9leGFtcGxlcy9kZXVzLykuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkJhc2VUZXh0dXJlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVmlkZW9CYXNlVGV4dHVyZSA9IGZ1bmN0aW9uIChfQmFzZVRleHR1cmUpIHtcbiAgICBfaW5oZXJpdHMoVmlkZW9CYXNlVGV4dHVyZSwgX0Jhc2VUZXh0dXJlKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7SFRNTFZpZGVvRWxlbWVudH0gc291cmNlIC0gVmlkZW8gc291cmNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFZpZGVvQmFzZVRleHR1cmUoc291cmNlLCBzY2FsZU1vZGUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFZpZGVvQmFzZVRleHR1cmUpO1xuXG4gICAgICAgIGlmICghc291cmNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHZpZGVvIHNvdXJjZSBlbGVtZW50IHNwZWNpZmllZC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGhvb2sgaW4gaGVyZSB0byBjaGVjayBpZiB2aWRlbyBpcyBhbHJlYWR5IGF2YWlsYWJsZS5cbiAgICAgICAgLy8gQmFzZVRleHR1cmUgbG9va3MgZm9yIGEgc291cmNlLmNvbXBsZXRlIGJvb2xlYW4sIHBsdXMgd2lkdGggJiBoZWlnaHQuXG5cbiAgICAgICAgaWYgKChzb3VyY2UucmVhZHlTdGF0ZSA9PT0gc291cmNlLkhBVkVfRU5PVUdIX0RBVEEgfHwgc291cmNlLnJlYWR5U3RhdGUgPT09IHNvdXJjZS5IQVZFX0ZVVFVSRV9EQVRBKSAmJiBzb3VyY2Uud2lkdGggJiYgc291cmNlLmhlaWdodCkge1xuICAgICAgICAgICAgc291cmNlLmNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9CYXNlVGV4dHVyZS5jYWxsKHRoaXMsIHNvdXJjZSwgc2NhbGVNb2RlKSk7XG5cbiAgICAgICAgX3RoaXMud2lkdGggPSBzb3VyY2UudmlkZW9XaWR0aDtcbiAgICAgICAgX3RoaXMuaGVpZ2h0ID0gc291cmNlLnZpZGVvSGVpZ2h0O1xuXG4gICAgICAgIF90aGlzLl9hdXRvVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuX2lzQXV0b1VwZGF0aW5nID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gc2V0IHRvIHRydWUgd2lsbCBhdXRvbWF0aWNhbGx5IHBsYXkgdmlkZW9zIHVzZWQgYnkgdGhpcyB0ZXh0dXJlIG9uY2VcbiAgICAgICAgICogdGhleSBhcmUgbG9hZGVkLiBJZiBmYWxzZSwgaXQgd2lsbCBub3QgbW9kaWZ5IHRoZSBwbGF5aW5nIHN0YXRlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hdXRvUGxheSA9IHRydWU7XG5cbiAgICAgICAgX3RoaXMudXBkYXRlID0gX3RoaXMudXBkYXRlLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5fb25DYW5QbGF5ID0gX3RoaXMuX29uQ2FuUGxheS5iaW5kKF90aGlzKTtcblxuICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcigncGxheScsIF90aGlzLl9vblBsYXlTdGFydC5iaW5kKF90aGlzKSk7XG4gICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdwYXVzZScsIF90aGlzLl9vblBsYXlTdG9wLmJpbmQoX3RoaXMpKTtcbiAgICAgICAgX3RoaXMuaGFzTG9hZGVkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLl9fbG9hZGVkID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFfdGhpcy5faXNTb3VyY2VSZWFkeSgpKSB7XG4gICAgICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheScsIF90aGlzLl9vbkNhblBsYXkpO1xuICAgICAgICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgX3RoaXMuX29uQ2FuUGxheSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfdGhpcy5fb25DYW5QbGF5KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdW5kZXJseWluZyBzb3VyY2UgaXMgcGxheWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBwbGF5aW5nLlxuICAgICAqL1xuXG5cbiAgICBWaWRlb0Jhc2VUZXh0dXJlLnByb3RvdHlwZS5faXNTb3VyY2VQbGF5aW5nID0gZnVuY3Rpb24gX2lzU291cmNlUGxheWluZygpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuXG4gICAgICAgIHJldHVybiBzb3VyY2UuY3VycmVudFRpbWUgPiAwICYmIHNvdXJjZS5wYXVzZWQgPT09IGZhbHNlICYmIHNvdXJjZS5lbmRlZCA9PT0gZmFsc2UgJiYgc291cmNlLnJlYWR5U3RhdGUgPiAyO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHVuZGVybHlpbmcgc291cmNlIGlzIHJlYWR5IGZvciBwbGF5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHJlYWR5LlxuICAgICAqL1xuXG5cbiAgICBWaWRlb0Jhc2VUZXh0dXJlLnByb3RvdHlwZS5faXNTb3VyY2VSZWFkeSA9IGZ1bmN0aW9uIF9pc1NvdXJjZVJlYWR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zb3VyY2UucmVhZHlTdGF0ZSA9PT0gMyB8fCB0aGlzLnNvdXJjZS5yZWFkeVN0YXRlID09PSA0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSdW5zIHRoZSB1cGRhdGUgbG9vcCB3aGVuIHRoZSB2aWRlbyBpcyByZWFkeSB0byBwbGF5XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBWaWRlb0Jhc2VUZXh0dXJlLnByb3RvdHlwZS5fb25QbGF5U3RhcnQgPSBmdW5jdGlvbiBfb25QbGF5U3RhcnQoKSB7XG4gICAgICAgIC8vIEp1c3QgaW4gY2FzZSB0aGUgdmlkZW8gaGFzIG5vdCByZWNlaXZlZCBpdHMgY2FuIHBsYXkgZXZlbiB5ZXQuLlxuICAgICAgICBpZiAoIXRoaXMuaGFzTG9hZGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkNhblBsYXkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5faXNBdXRvVXBkYXRpbmcgJiYgdGhpcy5hdXRvVXBkYXRlKSB7XG4gICAgICAgICAgICBfdGlja2VyLnNoYXJlZC5hZGQodGhpcy51cGRhdGUsIHRoaXMsIF9jb25zdC5VUERBVEVfUFJJT1JJVFkuSElHSCk7XG4gICAgICAgICAgICB0aGlzLl9pc0F1dG9VcGRhdGluZyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIHBhdXNlIGV2ZW50IGlzIHRyaWdnZXJlZCwgc3RvcHMgdGhlIHVwZGF0ZSBsb29wXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBWaWRlb0Jhc2VUZXh0dXJlLnByb3RvdHlwZS5fb25QbGF5U3RvcCA9IGZ1bmN0aW9uIF9vblBsYXlTdG9wKCkge1xuICAgICAgICBpZiAodGhpcy5faXNBdXRvVXBkYXRpbmcpIHtcbiAgICAgICAgICAgIF90aWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9pc0F1dG9VcGRhdGluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gdGhlIHZpZGVvIGlzIGxvYWRlZCBhbmQgcmVhZHkgdG8gcGxheVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgVmlkZW9CYXNlVGV4dHVyZS5wcm90b3R5cGUuX29uQ2FuUGxheSA9IGZ1bmN0aW9uIF9vbkNhblBsYXkoKSB7XG4gICAgICAgIHRoaXMuaGFzTG9hZGVkID0gdHJ1ZTtcblxuICAgICAgICBpZiAodGhpcy5zb3VyY2UpIHtcbiAgICAgICAgICAgIHRoaXMuc291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXknLCB0aGlzLl9vbkNhblBsYXkpO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCB0aGlzLl9vbkNhblBsYXkpO1xuXG4gICAgICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5zb3VyY2UudmlkZW9XaWR0aDtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5zb3VyY2UudmlkZW9IZWlnaHQ7XG5cbiAgICAgICAgICAgIC8vIHByZXZlbnQgbXVsdGlwbGUgbG9hZGVkIGRpc3BhdGNoZXMuLlxuICAgICAgICAgICAgaWYgKCF0aGlzLl9fbG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fX2xvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdsb2FkZWQnLCB0aGlzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuX2lzU291cmNlUGxheWluZygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25QbGF5U3RhcnQoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5hdXRvUGxheSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc291cmNlLnBsYXkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHRleHR1cmVcbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBWaWRlb0Jhc2VUZXh0dXJlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzQXV0b1VwZGF0aW5nKSB7XG4gICAgICAgICAgICBfdGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc291cmNlICYmIHRoaXMuc291cmNlLl9waXhpSWQpIHtcbiAgICAgICAgICAgIF9CYXNlVGV4dHVyZTMuZGVmYXVsdC5yZW1vdmVGcm9tQ2FjaGUodGhpcy5zb3VyY2UuX3BpeGlJZCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5zb3VyY2UuX3BpeGlJZDtcblxuICAgICAgICAgICAgdGhpcy5zb3VyY2UucGF1c2UoKTtcbiAgICAgICAgICAgIHRoaXMuc291cmNlLnNyYyA9ICcnO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2UubG9hZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgX0Jhc2VUZXh0dXJlLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1pbWljIFBpeGlKUyBCYXNlVGV4dHVyZS5mcm9tLi4uLiBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtIVE1MVmlkZW9FbGVtZW50fSB2aWRlbyAtIFZpZGVvIHRvIGNyZWF0ZSB0ZXh0dXJlIGZyb21cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlTW9kZT1QSVhJLnNldHRpbmdzLlNDQUxFX01PREVdIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzXG4gICAgICogQHJldHVybiB7UElYSS5WaWRlb0Jhc2VUZXh0dXJlfSBOZXdseSBjcmVhdGVkIFZpZGVvQmFzZVRleHR1cmVcbiAgICAgKi9cblxuXG4gICAgVmlkZW9CYXNlVGV4dHVyZS5mcm9tVmlkZW8gPSBmdW5jdGlvbiBmcm9tVmlkZW8odmlkZW8sIHNjYWxlTW9kZSkge1xuICAgICAgICBpZiAoIXZpZGVvLl9waXhpSWQpIHtcbiAgICAgICAgICAgIHZpZGVvLl9waXhpSWQgPSAndmlkZW9fJyArICgwLCBfdXRpbHMudWlkKSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gX3V0aWxzLkJhc2VUZXh0dXJlQ2FjaGVbdmlkZW8uX3BpeGlJZF07XG5cbiAgICAgICAgaWYgKCFiYXNlVGV4dHVyZSkge1xuICAgICAgICAgICAgYmFzZVRleHR1cmUgPSBuZXcgVmlkZW9CYXNlVGV4dHVyZSh2aWRlbywgc2NhbGVNb2RlKTtcbiAgICAgICAgICAgIF9CYXNlVGV4dHVyZTMuZGVmYXVsdC5hZGRUb0NhY2hlKGJhc2VUZXh0dXJlLCB2aWRlby5fcGl4aUlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBiYXNlVGV4dHVyZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIG5ldyBCYXNlVGV4dHVyZSBiYXNlZCBvbiB0aGUgZ2l2ZW4gdmlkZW8gZWxlbWVudC5cbiAgICAgKiBUaGlzIEJhc2VUZXh0dXJlIGNhbiB0aGVuIGJlIHVzZWQgdG8gY3JlYXRlIGEgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfG9iamVjdHxzdHJpbmdbXXxvYmplY3RbXX0gdmlkZW9TcmMgLSBUaGUgVVJMKHMpIGZvciB0aGUgdmlkZW8uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt2aWRlb1NyYy5zcmNdIC0gT25lIG9mIHRoZSBzb3VyY2UgdXJscyBmb3IgdGhlIHZpZGVvXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt2aWRlb1NyYy5taW1lXSAtIFRoZSBtaW1ldHlwZSBvZiB0aGUgdmlkZW8gKGUuZy4gJ3ZpZGVvL21wNCcpLiBJZiBub3Qgc3BlY2lmaWVkXG4gICAgICogIHRoZSB1cmwncyBleHRlbnNpb24gd2lsbCBiZSB1c2VkIGFzIHRoZSBzZWNvbmQgcGFydCBvZiB0aGUgbWltZSB0eXBlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZU1vZGUgLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjcm9zc29yaWdpbj0oYXV0byldIC0gU2hvdWxkIHVzZSBhbm9ueW1vdXMgQ09SUz8gRGVmYXVsdHMgdG8gdHJ1ZSBpZiB0aGUgVVJMIGlzIG5vdCBhIGRhdGEtVVJJLlxuICAgICAqIEByZXR1cm4ge1BJWEkuVmlkZW9CYXNlVGV4dHVyZX0gTmV3bHkgY3JlYXRlZCBWaWRlb0Jhc2VUZXh0dXJlXG4gICAgICovXG5cblxuICAgIFZpZGVvQmFzZVRleHR1cmUuZnJvbVVybCA9IGZ1bmN0aW9uIGZyb21VcmwodmlkZW9TcmMsIHNjYWxlTW9kZSwgY3Jvc3NvcmlnaW4pIHtcbiAgICAgICAgdmFyIHZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcblxuICAgICAgICB2aWRlby5zZXRBdHRyaWJ1dGUoJ3dlYmtpdC1wbGF5c2lubGluZScsICcnKTtcbiAgICAgICAgdmlkZW8uc2V0QXR0cmlidXRlKCdwbGF5c2lubGluZScsICcnKTtcblxuICAgICAgICB2YXIgdXJsID0gQXJyYXkuaXNBcnJheSh2aWRlb1NyYykgPyB2aWRlb1NyY1swXS5zcmMgfHwgdmlkZW9TcmNbMF0gOiB2aWRlb1NyYy5zcmMgfHwgdmlkZW9TcmM7XG5cbiAgICAgICAgaWYgKGNyb3Nzb3JpZ2luID09PSB1bmRlZmluZWQgJiYgdXJsLmluZGV4T2YoJ2RhdGE6JykgIT09IDApIHtcbiAgICAgICAgICAgIHZpZGVvLmNyb3NzT3JpZ2luID0gKDAsIF9kZXRlcm1pbmVDcm9zc09yaWdpbjIuZGVmYXVsdCkodXJsKTtcbiAgICAgICAgfSBlbHNlIGlmIChjcm9zc29yaWdpbikge1xuICAgICAgICAgICAgdmlkZW8uY3Jvc3NPcmlnaW4gPSB0eXBlb2YgY3Jvc3NvcmlnaW4gPT09ICdzdHJpbmcnID8gY3Jvc3NvcmlnaW4gOiAnYW5vbnltb3VzJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFycmF5IG9mIG9iamVjdHMgb3Igc3RyaW5nc1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2aWRlb1NyYykpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmlkZW9TcmMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB2aWRlby5hcHBlbmRDaGlsZChjcmVhdGVTb3VyY2UodmlkZW9TcmNbaV0uc3JjIHx8IHZpZGVvU3JjW2ldLCB2aWRlb1NyY1tpXS5taW1lKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2luZ2xlIG9iamVjdCBvciBzdHJpbmdcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmlkZW8uYXBwZW5kQ2hpbGQoY3JlYXRlU291cmNlKHVybCwgdmlkZW9TcmMubWltZSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIHZpZGVvLmxvYWQoKTtcblxuICAgICAgICByZXR1cm4gVmlkZW9CYXNlVGV4dHVyZS5mcm9tVmlkZW8odmlkZW8sIHNjYWxlTW9kZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNob3VsZCB0aGUgYmFzZSB0ZXh0dXJlIGF1dG9tYXRpY2FsbHkgdXBkYXRlIGl0c2VsZiwgc2V0IHRvIHRydWUgYnkgZGVmYXVsdFxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKFZpZGVvQmFzZVRleHR1cmUsIFt7XG4gICAgICAgIGtleTogJ2F1dG9VcGRhdGUnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hdXRvVXBkYXRlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5fYXV0b1VwZGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2F1dG9VcGRhdGUgPSB2YWx1ZTtcblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fYXV0b1VwZGF0ZSAmJiB0aGlzLl9pc0F1dG9VcGRhdGluZykge1xuICAgICAgICAgICAgICAgICAgICBfdGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc0F1dG9VcGRhdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYXV0b1VwZGF0ZSAmJiAhdGhpcy5faXNBdXRvVXBkYXRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RpY2tlci5zaGFyZWQuYWRkKHRoaXMudXBkYXRlLCB0aGlzLCBfY29uc3QuVVBEQVRFX1BSSU9SSVRZLkhJR0gpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc0F1dG9VcGRhdGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFZpZGVvQmFzZVRleHR1cmU7XG59KF9CYXNlVGV4dHVyZTMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFZpZGVvQmFzZVRleHR1cmU7XG5cblxuVmlkZW9CYXNlVGV4dHVyZS5mcm9tVXJscyA9IFZpZGVvQmFzZVRleHR1cmUuZnJvbVVybDtcblxuZnVuY3Rpb24gY3JlYXRlU291cmNlKHBhdGgsIHR5cGUpIHtcbiAgICBpZiAoIXR5cGUpIHtcbiAgICAgICAgdHlwZSA9ICd2aWRlby8nICsgcGF0aC5zdWJzdHIocGF0aC5sYXN0SW5kZXhPZignLicpICsgMSk7XG4gICAgfVxuXG4gICAgdmFyIHNvdXJjZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NvdXJjZScpO1xuXG4gICAgc291cmNlLnNyYyA9IHBhdGg7XG4gICAgc291cmNlLnR5cGUgPSB0eXBlO1xuXG4gICAgcmV0dXJuIHNvdXJjZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZpZGVvQmFzZVRleHR1cmUuanMubWFwIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIHB1bnljb2RlID0gcmVxdWlyZSgncHVueWNvZGUnKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5cbmV4cG9ydHMucGFyc2UgPSB1cmxQYXJzZTtcbmV4cG9ydHMucmVzb2x2ZSA9IHVybFJlc29sdmU7XG5leHBvcnRzLnJlc29sdmVPYmplY3QgPSB1cmxSZXNvbHZlT2JqZWN0O1xuZXhwb3J0cy5mb3JtYXQgPSB1cmxGb3JtYXQ7XG5cbmV4cG9ydHMuVXJsID0gVXJsO1xuXG5mdW5jdGlvbiBVcmwoKSB7XG4gIHRoaXMucHJvdG9jb2wgPSBudWxsO1xuICB0aGlzLnNsYXNoZXMgPSBudWxsO1xuICB0aGlzLmF1dGggPSBudWxsO1xuICB0aGlzLmhvc3QgPSBudWxsO1xuICB0aGlzLnBvcnQgPSBudWxsO1xuICB0aGlzLmhvc3RuYW1lID0gbnVsbDtcbiAgdGhpcy5oYXNoID0gbnVsbDtcbiAgdGhpcy5zZWFyY2ggPSBudWxsO1xuICB0aGlzLnF1ZXJ5ID0gbnVsbDtcbiAgdGhpcy5wYXRobmFtZSA9IG51bGw7XG4gIHRoaXMucGF0aCA9IG51bGw7XG4gIHRoaXMuaHJlZiA9IG51bGw7XG59XG5cbi8vIFJlZmVyZW5jZTogUkZDIDM5ODYsIFJGQyAxODA4LCBSRkMgMjM5NlxuXG4vLyBkZWZpbmUgdGhlc2UgaGVyZSBzbyBhdCBsZWFzdCB0aGV5IG9ubHkgaGF2ZSB0byBiZVxuLy8gY29tcGlsZWQgb25jZSBvbiB0aGUgZmlyc3QgbW9kdWxlIGxvYWQuXG52YXIgcHJvdG9jb2xQYXR0ZXJuID0gL14oW2EtejAtOS4rLV0rOikvaSxcbiAgICBwb3J0UGF0dGVybiA9IC86WzAtOV0qJC8sXG5cbiAgICAvLyBTcGVjaWFsIGNhc2UgZm9yIGEgc2ltcGxlIHBhdGggVVJMXG4gICAgc2ltcGxlUGF0aFBhdHRlcm4gPSAvXihcXC9cXC8/KD8hXFwvKVteXFw/XFxzXSopKFxcP1teXFxzXSopPyQvLFxuXG4gICAgLy8gUkZDIDIzOTY6IGNoYXJhY3RlcnMgcmVzZXJ2ZWQgZm9yIGRlbGltaXRpbmcgVVJMcy5cbiAgICAvLyBXZSBhY3R1YWxseSBqdXN0IGF1dG8tZXNjYXBlIHRoZXNlLlxuICAgIGRlbGltcyA9IFsnPCcsICc+JywgJ1wiJywgJ2AnLCAnICcsICdcXHInLCAnXFxuJywgJ1xcdCddLFxuXG4gICAgLy8gUkZDIDIzOTY6IGNoYXJhY3RlcnMgbm90IGFsbG93ZWQgZm9yIHZhcmlvdXMgcmVhc29ucy5cbiAgICB1bndpc2UgPSBbJ3snLCAnfScsICd8JywgJ1xcXFwnLCAnXicsICdgJ10uY29uY2F0KGRlbGltcyksXG5cbiAgICAvLyBBbGxvd2VkIGJ5IFJGQ3MsIGJ1dCBjYXVzZSBvZiBYU1MgYXR0YWNrcy4gIEFsd2F5cyBlc2NhcGUgdGhlc2UuXG4gICAgYXV0b0VzY2FwZSA9IFsnXFwnJ10uY29uY2F0KHVud2lzZSksXG4gICAgLy8gQ2hhcmFjdGVycyB0aGF0IGFyZSBuZXZlciBldmVyIGFsbG93ZWQgaW4gYSBob3N0bmFtZS5cbiAgICAvLyBOb3RlIHRoYXQgYW55IGludmFsaWQgY2hhcnMgYXJlIGFsc28gaGFuZGxlZCwgYnV0IHRoZXNlXG4gICAgLy8gYXJlIHRoZSBvbmVzIHRoYXQgYXJlICpleHBlY3RlZCogdG8gYmUgc2Vlbiwgc28gd2UgZmFzdC1wYXRoXG4gICAgLy8gdGhlbS5cbiAgICBub25Ib3N0Q2hhcnMgPSBbJyUnLCAnLycsICc/JywgJzsnLCAnIyddLmNvbmNhdChhdXRvRXNjYXBlKSxcbiAgICBob3N0RW5kaW5nQ2hhcnMgPSBbJy8nLCAnPycsICcjJ10sXG4gICAgaG9zdG5hbWVNYXhMZW4gPSAyNTUsXG4gICAgaG9zdG5hbWVQYXJ0UGF0dGVybiA9IC9eWythLXowLTlBLVpfLV17MCw2M30kLyxcbiAgICBob3N0bmFtZVBhcnRTdGFydCA9IC9eKFsrYS16MC05QS1aXy1dezAsNjN9KSguKikkLyxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBjYW4gYWxsb3cgXCJ1bnNhZmVcIiBhbmQgXCJ1bndpc2VcIiBjaGFycy5cbiAgICB1bnNhZmVQcm90b2NvbCA9IHtcbiAgICAgICdqYXZhc2NyaXB0JzogdHJ1ZSxcbiAgICAgICdqYXZhc2NyaXB0Oic6IHRydWVcbiAgICB9LFxuICAgIC8vIHByb3RvY29scyB0aGF0IG5ldmVyIGhhdmUgYSBob3N0bmFtZS5cbiAgICBob3N0bGVzc1Byb3RvY29sID0ge1xuICAgICAgJ2phdmFzY3JpcHQnOiB0cnVlLFxuICAgICAgJ2phdmFzY3JpcHQ6JzogdHJ1ZVxuICAgIH0sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgYWx3YXlzIGNvbnRhaW4gYSAvLyBiaXQuXG4gICAgc2xhc2hlZFByb3RvY29sID0ge1xuICAgICAgJ2h0dHAnOiB0cnVlLFxuICAgICAgJ2h0dHBzJzogdHJ1ZSxcbiAgICAgICdmdHAnOiB0cnVlLFxuICAgICAgJ2dvcGhlcic6IHRydWUsXG4gICAgICAnZmlsZSc6IHRydWUsXG4gICAgICAnaHR0cDonOiB0cnVlLFxuICAgICAgJ2h0dHBzOic6IHRydWUsXG4gICAgICAnZnRwOic6IHRydWUsXG4gICAgICAnZ29waGVyOic6IHRydWUsXG4gICAgICAnZmlsZTonOiB0cnVlXG4gICAgfSxcbiAgICBxdWVyeXN0cmluZyA9IHJlcXVpcmUoJ3F1ZXJ5c3RyaW5nJyk7XG5cbmZ1bmN0aW9uIHVybFBhcnNlKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpIHtcbiAgaWYgKHVybCAmJiB1dGlsLmlzT2JqZWN0KHVybCkgJiYgdXJsIGluc3RhbmNlb2YgVXJsKSByZXR1cm4gdXJsO1xuXG4gIHZhciB1ID0gbmV3IFVybDtcbiAgdS5wYXJzZSh1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KTtcbiAgcmV0dXJuIHU7XG59XG5cblVybC5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbih1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KSB7XG4gIGlmICghdXRpbC5pc1N0cmluZyh1cmwpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlBhcmFtZXRlciAndXJsJyBtdXN0IGJlIGEgc3RyaW5nLCBub3QgXCIgKyB0eXBlb2YgdXJsKTtcbiAgfVxuXG4gIC8vIENvcHkgY2hyb21lLCBJRSwgb3BlcmEgYmFja3NsYXNoLWhhbmRsaW5nIGJlaGF2aW9yLlxuICAvLyBCYWNrIHNsYXNoZXMgYmVmb3JlIHRoZSBxdWVyeSBzdHJpbmcgZ2V0IGNvbnZlcnRlZCB0byBmb3J3YXJkIHNsYXNoZXNcbiAgLy8gU2VlOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MjU5MTZcbiAgdmFyIHF1ZXJ5SW5kZXggPSB1cmwuaW5kZXhPZignPycpLFxuICAgICAgc3BsaXR0ZXIgPVxuICAgICAgICAgIChxdWVyeUluZGV4ICE9PSAtMSAmJiBxdWVyeUluZGV4IDwgdXJsLmluZGV4T2YoJyMnKSkgPyAnPycgOiAnIycsXG4gICAgICB1U3BsaXQgPSB1cmwuc3BsaXQoc3BsaXR0ZXIpLFxuICAgICAgc2xhc2hSZWdleCA9IC9cXFxcL2c7XG4gIHVTcGxpdFswXSA9IHVTcGxpdFswXS5yZXBsYWNlKHNsYXNoUmVnZXgsICcvJyk7XG4gIHVybCA9IHVTcGxpdC5qb2luKHNwbGl0dGVyKTtcblxuICB2YXIgcmVzdCA9IHVybDtcblxuICAvLyB0cmltIGJlZm9yZSBwcm9jZWVkaW5nLlxuICAvLyBUaGlzIGlzIHRvIHN1cHBvcnQgcGFyc2Ugc3R1ZmYgbGlrZSBcIiAgaHR0cDovL2Zvby5jb20gIFxcblwiXG4gIHJlc3QgPSByZXN0LnRyaW0oKTtcblxuICBpZiAoIXNsYXNoZXNEZW5vdGVIb3N0ICYmIHVybC5zcGxpdCgnIycpLmxlbmd0aCA9PT0gMSkge1xuICAgIC8vIFRyeSBmYXN0IHBhdGggcmVnZXhwXG4gICAgdmFyIHNpbXBsZVBhdGggPSBzaW1wbGVQYXRoUGF0dGVybi5leGVjKHJlc3QpO1xuICAgIGlmIChzaW1wbGVQYXRoKSB7XG4gICAgICB0aGlzLnBhdGggPSByZXN0O1xuICAgICAgdGhpcy5ocmVmID0gcmVzdDtcbiAgICAgIHRoaXMucGF0aG5hbWUgPSBzaW1wbGVQYXRoWzFdO1xuICAgICAgaWYgKHNpbXBsZVBhdGhbMl0pIHtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSBzaW1wbGVQYXRoWzJdO1xuICAgICAgICBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgICAgICAgIHRoaXMucXVlcnkgPSBxdWVyeXN0cmluZy5wYXJzZSh0aGlzLnNlYXJjaC5zdWJzdHIoMSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucXVlcnkgPSB0aGlzLnNlYXJjaC5zdWJzdHIoMSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgICAgICB0aGlzLnNlYXJjaCA9ICcnO1xuICAgICAgICB0aGlzLnF1ZXJ5ID0ge307XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1cblxuICB2YXIgcHJvdG8gPSBwcm90b2NvbFBhdHRlcm4uZXhlYyhyZXN0KTtcbiAgaWYgKHByb3RvKSB7XG4gICAgcHJvdG8gPSBwcm90b1swXTtcbiAgICB2YXIgbG93ZXJQcm90byA9IHByb3RvLnRvTG93ZXJDYXNlKCk7XG4gICAgdGhpcy5wcm90b2NvbCA9IGxvd2VyUHJvdG87XG4gICAgcmVzdCA9IHJlc3Quc3Vic3RyKHByb3RvLmxlbmd0aCk7XG4gIH1cblxuICAvLyBmaWd1cmUgb3V0IGlmIGl0J3MgZ290IGEgaG9zdFxuICAvLyB1c2VyQHNlcnZlciBpcyAqYWx3YXlzKiBpbnRlcnByZXRlZCBhcyBhIGhvc3RuYW1lLCBhbmQgdXJsXG4gIC8vIHJlc29sdXRpb24gd2lsbCB0cmVhdCAvL2Zvby9iYXIgYXMgaG9zdD1mb28scGF0aD1iYXIgYmVjYXVzZSB0aGF0J3NcbiAgLy8gaG93IHRoZSBicm93c2VyIHJlc29sdmVzIHJlbGF0aXZlIFVSTHMuXG4gIGlmIChzbGFzaGVzRGVub3RlSG9zdCB8fCBwcm90byB8fCByZXN0Lm1hdGNoKC9eXFwvXFwvW15AXFwvXStAW15AXFwvXSsvKSkge1xuICAgIHZhciBzbGFzaGVzID0gcmVzdC5zdWJzdHIoMCwgMikgPT09ICcvLyc7XG4gICAgaWYgKHNsYXNoZXMgJiYgIShwcm90byAmJiBob3N0bGVzc1Byb3RvY29sW3Byb3RvXSkpIHtcbiAgICAgIHJlc3QgPSByZXN0LnN1YnN0cigyKTtcbiAgICAgIHRoaXMuc2xhc2hlcyA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFob3N0bGVzc1Byb3RvY29sW3Byb3RvXSAmJlxuICAgICAgKHNsYXNoZXMgfHwgKHByb3RvICYmICFzbGFzaGVkUHJvdG9jb2xbcHJvdG9dKSkpIHtcblxuICAgIC8vIHRoZXJlJ3MgYSBob3N0bmFtZS5cbiAgICAvLyB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgLywgPywgOywgb3IgIyBlbmRzIHRoZSBob3N0LlxuICAgIC8vXG4gICAgLy8gSWYgdGhlcmUgaXMgYW4gQCBpbiB0aGUgaG9zdG5hbWUsIHRoZW4gbm9uLWhvc3QgY2hhcnMgKmFyZSogYWxsb3dlZFxuICAgIC8vIHRvIHRoZSBsZWZ0IG9mIHRoZSBsYXN0IEAgc2lnbiwgdW5sZXNzIHNvbWUgaG9zdC1lbmRpbmcgY2hhcmFjdGVyXG4gICAgLy8gY29tZXMgKmJlZm9yZSogdGhlIEAtc2lnbi5cbiAgICAvLyBVUkxzIGFyZSBvYm5veGlvdXMuXG4gICAgLy9cbiAgICAvLyBleDpcbiAgICAvLyBodHRwOi8vYUBiQGMvID0+IHVzZXI6YUBiIGhvc3Q6Y1xuICAgIC8vIGh0dHA6Ly9hQGI/QGMgPT4gdXNlcjphIGhvc3Q6YyBwYXRoOi8/QGNcblxuICAgIC8vIHYwLjEyIFRPRE8oaXNhYWNzKTogVGhpcyBpcyBub3QgcXVpdGUgaG93IENocm9tZSBkb2VzIHRoaW5ncy5cbiAgICAvLyBSZXZpZXcgb3VyIHRlc3QgY2FzZSBhZ2FpbnN0IGJyb3dzZXJzIG1vcmUgY29tcHJlaGVuc2l2ZWx5LlxuXG4gICAgLy8gZmluZCB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgYW55IGhvc3RFbmRpbmdDaGFyc1xuICAgIHZhciBob3N0RW5kID0gLTE7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBob3N0RW5kaW5nQ2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBoZWMgPSByZXN0LmluZGV4T2YoaG9zdEVuZGluZ0NoYXJzW2ldKTtcbiAgICAgIGlmIChoZWMgIT09IC0xICYmIChob3N0RW5kID09PSAtMSB8fCBoZWMgPCBob3N0RW5kKSlcbiAgICAgICAgaG9zdEVuZCA9IGhlYztcbiAgICB9XG5cbiAgICAvLyBhdCB0aGlzIHBvaW50LCBlaXRoZXIgd2UgaGF2ZSBhbiBleHBsaWNpdCBwb2ludCB3aGVyZSB0aGVcbiAgICAvLyBhdXRoIHBvcnRpb24gY2Fubm90IGdvIHBhc3QsIG9yIHRoZSBsYXN0IEAgY2hhciBpcyB0aGUgZGVjaWRlci5cbiAgICB2YXIgYXV0aCwgYXRTaWduO1xuICAgIGlmIChob3N0RW5kID09PSAtMSkge1xuICAgICAgLy8gYXRTaWduIGNhbiBiZSBhbnl3aGVyZS5cbiAgICAgIGF0U2lnbiA9IHJlc3QubGFzdEluZGV4T2YoJ0AnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gYXRTaWduIG11c3QgYmUgaW4gYXV0aCBwb3J0aW9uLlxuICAgICAgLy8gaHR0cDovL2FAYi9jQGQgPT4gaG9zdDpiIGF1dGg6YSBwYXRoOi9jQGRcbiAgICAgIGF0U2lnbiA9IHJlc3QubGFzdEluZGV4T2YoJ0AnLCBob3N0RW5kKTtcbiAgICB9XG5cbiAgICAvLyBOb3cgd2UgaGF2ZSBhIHBvcnRpb24gd2hpY2ggaXMgZGVmaW5pdGVseSB0aGUgYXV0aC5cbiAgICAvLyBQdWxsIHRoYXQgb2ZmLlxuICAgIGlmIChhdFNpZ24gIT09IC0xKSB7XG4gICAgICBhdXRoID0gcmVzdC5zbGljZSgwLCBhdFNpZ24pO1xuICAgICAgcmVzdCA9IHJlc3Quc2xpY2UoYXRTaWduICsgMSk7XG4gICAgICB0aGlzLmF1dGggPSBkZWNvZGVVUklDb21wb25lbnQoYXV0aCk7XG4gICAgfVxuXG4gICAgLy8gdGhlIGhvc3QgaXMgdGhlIHJlbWFpbmluZyB0byB0aGUgbGVmdCBvZiB0aGUgZmlyc3Qgbm9uLWhvc3QgY2hhclxuICAgIGhvc3RFbmQgPSAtMTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vbkhvc3RDaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGhlYyA9IHJlc3QuaW5kZXhPZihub25Ib3N0Q2hhcnNbaV0pO1xuICAgICAgaWYgKGhlYyAhPT0gLTEgJiYgKGhvc3RFbmQgPT09IC0xIHx8IGhlYyA8IGhvc3RFbmQpKVxuICAgICAgICBob3N0RW5kID0gaGVjO1xuICAgIH1cbiAgICAvLyBpZiB3ZSBzdGlsbCBoYXZlIG5vdCBoaXQgaXQsIHRoZW4gdGhlIGVudGlyZSB0aGluZyBpcyBhIGhvc3QuXG4gICAgaWYgKGhvc3RFbmQgPT09IC0xKVxuICAgICAgaG9zdEVuZCA9IHJlc3QubGVuZ3RoO1xuXG4gICAgdGhpcy5ob3N0ID0gcmVzdC5zbGljZSgwLCBob3N0RW5kKTtcbiAgICByZXN0ID0gcmVzdC5zbGljZShob3N0RW5kKTtcblxuICAgIC8vIHB1bGwgb3V0IHBvcnQuXG4gICAgdGhpcy5wYXJzZUhvc3QoKTtcblxuICAgIC8vIHdlJ3ZlIGluZGljYXRlZCB0aGF0IHRoZXJlIGlzIGEgaG9zdG5hbWUsXG4gICAgLy8gc28gZXZlbiBpZiBpdCdzIGVtcHR5LCBpdCBoYXMgdG8gYmUgcHJlc2VudC5cbiAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZSB8fCAnJztcblxuICAgIC8vIGlmIGhvc3RuYW1lIGJlZ2lucyB3aXRoIFsgYW5kIGVuZHMgd2l0aCBdXG4gICAgLy8gYXNzdW1lIHRoYXQgaXQncyBhbiBJUHY2IGFkZHJlc3MuXG4gICAgdmFyIGlwdjZIb3N0bmFtZSA9IHRoaXMuaG9zdG5hbWVbMF0gPT09ICdbJyAmJlxuICAgICAgICB0aGlzLmhvc3RuYW1lW3RoaXMuaG9zdG5hbWUubGVuZ3RoIC0gMV0gPT09ICddJztcblxuICAgIC8vIHZhbGlkYXRlIGEgbGl0dGxlLlxuICAgIGlmICghaXB2Nkhvc3RuYW1lKSB7XG4gICAgICB2YXIgaG9zdHBhcnRzID0gdGhpcy5ob3N0bmFtZS5zcGxpdCgvXFwuLyk7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGhvc3RwYXJ0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdmFyIHBhcnQgPSBob3N0cGFydHNbaV07XG4gICAgICAgIGlmICghcGFydCkgY29udGludWU7XG4gICAgICAgIGlmICghcGFydC5tYXRjaChob3N0bmFtZVBhcnRQYXR0ZXJuKSkge1xuICAgICAgICAgIHZhciBuZXdwYXJ0ID0gJyc7XG4gICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGsgPSBwYXJ0Lmxlbmd0aDsgaiA8IGs7IGorKykge1xuICAgICAgICAgICAgaWYgKHBhcnQuY2hhckNvZGVBdChqKSA+IDEyNykge1xuICAgICAgICAgICAgICAvLyB3ZSByZXBsYWNlIG5vbi1BU0NJSSBjaGFyIHdpdGggYSB0ZW1wb3JhcnkgcGxhY2Vob2xkZXJcbiAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0aGlzIHRvIG1ha2Ugc3VyZSBzaXplIG9mIGhvc3RuYW1lIGlzIG5vdFxuICAgICAgICAgICAgICAvLyBicm9rZW4gYnkgcmVwbGFjaW5nIG5vbi1BU0NJSSBieSBub3RoaW5nXG4gICAgICAgICAgICAgIG5ld3BhcnQgKz0gJ3gnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbmV3cGFydCArPSBwYXJ0W2pdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyB3ZSB0ZXN0IGFnYWluIHdpdGggQVNDSUkgY2hhciBvbmx5XG4gICAgICAgICAgaWYgKCFuZXdwYXJ0Lm1hdGNoKGhvc3RuYW1lUGFydFBhdHRlcm4pKSB7XG4gICAgICAgICAgICB2YXIgdmFsaWRQYXJ0cyA9IGhvc3RwYXJ0cy5zbGljZSgwLCBpKTtcbiAgICAgICAgICAgIHZhciBub3RIb3N0ID0gaG9zdHBhcnRzLnNsaWNlKGkgKyAxKTtcbiAgICAgICAgICAgIHZhciBiaXQgPSBwYXJ0Lm1hdGNoKGhvc3RuYW1lUGFydFN0YXJ0KTtcbiAgICAgICAgICAgIGlmIChiaXQpIHtcbiAgICAgICAgICAgICAgdmFsaWRQYXJ0cy5wdXNoKGJpdFsxXSk7XG4gICAgICAgICAgICAgIG5vdEhvc3QudW5zaGlmdChiaXRbMl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vdEhvc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHJlc3QgPSAnLycgKyBub3RIb3N0LmpvaW4oJy4nKSArIHJlc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmhvc3RuYW1lID0gdmFsaWRQYXJ0cy5qb2luKCcuJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5ob3N0bmFtZS5sZW5ndGggPiBob3N0bmFtZU1heExlbikge1xuICAgICAgdGhpcy5ob3N0bmFtZSA9ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBob3N0bmFtZXMgYXJlIGFsd2F5cyBsb3dlciBjYXNlLlxuICAgICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICB9XG5cbiAgICBpZiAoIWlwdjZIb3N0bmFtZSkge1xuICAgICAgLy8gSUROQSBTdXBwb3J0OiBSZXR1cm5zIGEgcHVueWNvZGVkIHJlcHJlc2VudGF0aW9uIG9mIFwiZG9tYWluXCIuXG4gICAgICAvLyBJdCBvbmx5IGNvbnZlcnRzIHBhcnRzIG9mIHRoZSBkb21haW4gbmFtZSB0aGF0XG4gICAgICAvLyBoYXZlIG5vbi1BU0NJSSBjaGFyYWN0ZXJzLCBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmXG4gICAgICAvLyB5b3UgY2FsbCBpdCB3aXRoIGEgZG9tYWluIHRoYXQgYWxyZWFkeSBpcyBBU0NJSS1vbmx5LlxuICAgICAgdGhpcy5ob3N0bmFtZSA9IHB1bnljb2RlLnRvQVNDSUkodGhpcy5ob3N0bmFtZSk7XG4gICAgfVxuXG4gICAgdmFyIHAgPSB0aGlzLnBvcnQgPyAnOicgKyB0aGlzLnBvcnQgOiAnJztcbiAgICB2YXIgaCA9IHRoaXMuaG9zdG5hbWUgfHwgJyc7XG4gICAgdGhpcy5ob3N0ID0gaCArIHA7XG4gICAgdGhpcy5ocmVmICs9IHRoaXMuaG9zdDtcblxuICAgIC8vIHN0cmlwIFsgYW5kIF0gZnJvbSB0aGUgaG9zdG5hbWVcbiAgICAvLyB0aGUgaG9zdCBmaWVsZCBzdGlsbCByZXRhaW5zIHRoZW0sIHRob3VnaFxuICAgIGlmIChpcHY2SG9zdG5hbWUpIHtcbiAgICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lLnN1YnN0cigxLCB0aGlzLmhvc3RuYW1lLmxlbmd0aCAtIDIpO1xuICAgICAgaWYgKHJlc3RbMF0gIT09ICcvJykge1xuICAgICAgICByZXN0ID0gJy8nICsgcmVzdDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBub3cgcmVzdCBpcyBzZXQgdG8gdGhlIHBvc3QtaG9zdCBzdHVmZi5cbiAgLy8gY2hvcCBvZmYgYW55IGRlbGltIGNoYXJzLlxuICBpZiAoIXVuc2FmZVByb3RvY29sW2xvd2VyUHJvdG9dKSB7XG5cbiAgICAvLyBGaXJzdCwgbWFrZSAxMDAlIHN1cmUgdGhhdCBhbnkgXCJhdXRvRXNjYXBlXCIgY2hhcnMgZ2V0XG4gICAgLy8gZXNjYXBlZCwgZXZlbiBpZiBlbmNvZGVVUklDb21wb25lbnQgZG9lc24ndCB0aGluayB0aGV5XG4gICAgLy8gbmVlZCB0byBiZS5cbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGF1dG9Fc2NhcGUubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB2YXIgYWUgPSBhdXRvRXNjYXBlW2ldO1xuICAgICAgaWYgKHJlc3QuaW5kZXhPZihhZSkgPT09IC0xKVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIHZhciBlc2MgPSBlbmNvZGVVUklDb21wb25lbnQoYWUpO1xuICAgICAgaWYgKGVzYyA9PT0gYWUpIHtcbiAgICAgICAgZXNjID0gZXNjYXBlKGFlKTtcbiAgICAgIH1cbiAgICAgIHJlc3QgPSByZXN0LnNwbGl0KGFlKS5qb2luKGVzYyk7XG4gICAgfVxuICB9XG5cblxuICAvLyBjaG9wIG9mZiBmcm9tIHRoZSB0YWlsIGZpcnN0LlxuICB2YXIgaGFzaCA9IHJlc3QuaW5kZXhPZignIycpO1xuICBpZiAoaGFzaCAhPT0gLTEpIHtcbiAgICAvLyBnb3QgYSBmcmFnbWVudCBzdHJpbmcuXG4gICAgdGhpcy5oYXNoID0gcmVzdC5zdWJzdHIoaGFzaCk7XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoMCwgaGFzaCk7XG4gIH1cbiAgdmFyIHFtID0gcmVzdC5pbmRleE9mKCc/Jyk7XG4gIGlmIChxbSAhPT0gLTEpIHtcbiAgICB0aGlzLnNlYXJjaCA9IHJlc3Quc3Vic3RyKHFtKTtcbiAgICB0aGlzLnF1ZXJ5ID0gcmVzdC5zdWJzdHIocW0gKyAxKTtcbiAgICBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5c3RyaW5nLnBhcnNlKHRoaXMucXVlcnkpO1xuICAgIH1cbiAgICByZXN0ID0gcmVzdC5zbGljZSgwLCBxbSk7XG4gIH0gZWxzZSBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgIC8vIG5vIHF1ZXJ5IHN0cmluZywgYnV0IHBhcnNlUXVlcnlTdHJpbmcgc3RpbGwgcmVxdWVzdGVkXG4gICAgdGhpcy5zZWFyY2ggPSAnJztcbiAgICB0aGlzLnF1ZXJ5ID0ge307XG4gIH1cbiAgaWYgKHJlc3QpIHRoaXMucGF0aG5hbWUgPSByZXN0O1xuICBpZiAoc2xhc2hlZFByb3RvY29sW2xvd2VyUHJvdG9dICYmXG4gICAgICB0aGlzLmhvc3RuYW1lICYmICF0aGlzLnBhdGhuYW1lKSB7XG4gICAgdGhpcy5wYXRobmFtZSA9ICcvJztcbiAgfVxuXG4gIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgaWYgKHRoaXMucGF0aG5hbWUgfHwgdGhpcy5zZWFyY2gpIHtcbiAgICB2YXIgcCA9IHRoaXMucGF0aG5hbWUgfHwgJyc7XG4gICAgdmFyIHMgPSB0aGlzLnNlYXJjaCB8fCAnJztcbiAgICB0aGlzLnBhdGggPSBwICsgcztcbiAgfVxuXG4gIC8vIGZpbmFsbHksIHJlY29uc3RydWN0IHRoZSBocmVmIGJhc2VkIG9uIHdoYXQgaGFzIGJlZW4gdmFsaWRhdGVkLlxuICB0aGlzLmhyZWYgPSB0aGlzLmZvcm1hdCgpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIGZvcm1hdCBhIHBhcnNlZCBvYmplY3QgaW50byBhIHVybCBzdHJpbmdcbmZ1bmN0aW9uIHVybEZvcm1hdChvYmopIHtcbiAgLy8gZW5zdXJlIGl0J3MgYW4gb2JqZWN0LCBhbmQgbm90IGEgc3RyaW5nIHVybC5cbiAgLy8gSWYgaXQncyBhbiBvYmosIHRoaXMgaXMgYSBuby1vcC5cbiAgLy8gdGhpcyB3YXksIHlvdSBjYW4gY2FsbCB1cmxfZm9ybWF0KCkgb24gc3RyaW5nc1xuICAvLyB0byBjbGVhbiB1cCBwb3RlbnRpYWxseSB3b25reSB1cmxzLlxuICBpZiAodXRpbC5pc1N0cmluZyhvYmopKSBvYmogPSB1cmxQYXJzZShvYmopO1xuICBpZiAoIShvYmogaW5zdGFuY2VvZiBVcmwpKSByZXR1cm4gVXJsLnByb3RvdHlwZS5mb3JtYXQuY2FsbChvYmopO1xuICByZXR1cm4gb2JqLmZvcm1hdCgpO1xufVxuXG5VcmwucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgYXV0aCA9IHRoaXMuYXV0aCB8fCAnJztcbiAgaWYgKGF1dGgpIHtcbiAgICBhdXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KGF1dGgpO1xuICAgIGF1dGggPSBhdXRoLnJlcGxhY2UoLyUzQS9pLCAnOicpO1xuICAgIGF1dGggKz0gJ0AnO1xuICB9XG5cbiAgdmFyIHByb3RvY29sID0gdGhpcy5wcm90b2NvbCB8fCAnJyxcbiAgICAgIHBhdGhuYW1lID0gdGhpcy5wYXRobmFtZSB8fCAnJyxcbiAgICAgIGhhc2ggPSB0aGlzLmhhc2ggfHwgJycsXG4gICAgICBob3N0ID0gZmFsc2UsXG4gICAgICBxdWVyeSA9ICcnO1xuXG4gIGlmICh0aGlzLmhvc3QpIHtcbiAgICBob3N0ID0gYXV0aCArIHRoaXMuaG9zdDtcbiAgfSBlbHNlIGlmICh0aGlzLmhvc3RuYW1lKSB7XG4gICAgaG9zdCA9IGF1dGggKyAodGhpcy5ob3N0bmFtZS5pbmRleE9mKCc6JykgPT09IC0xID9cbiAgICAgICAgdGhpcy5ob3N0bmFtZSA6XG4gICAgICAgICdbJyArIHRoaXMuaG9zdG5hbWUgKyAnXScpO1xuICAgIGlmICh0aGlzLnBvcnQpIHtcbiAgICAgIGhvc3QgKz0gJzonICsgdGhpcy5wb3J0O1xuICAgIH1cbiAgfVxuXG4gIGlmICh0aGlzLnF1ZXJ5ICYmXG4gICAgICB1dGlsLmlzT2JqZWN0KHRoaXMucXVlcnkpICYmXG4gICAgICBPYmplY3Qua2V5cyh0aGlzLnF1ZXJ5KS5sZW5ndGgpIHtcbiAgICBxdWVyeSA9IHF1ZXJ5c3RyaW5nLnN0cmluZ2lmeSh0aGlzLnF1ZXJ5KTtcbiAgfVxuXG4gIHZhciBzZWFyY2ggPSB0aGlzLnNlYXJjaCB8fCAocXVlcnkgJiYgKCc/JyArIHF1ZXJ5KSkgfHwgJyc7XG5cbiAgaWYgKHByb3RvY29sICYmIHByb3RvY29sLnN1YnN0cigtMSkgIT09ICc6JykgcHJvdG9jb2wgKz0gJzonO1xuXG4gIC8vIG9ubHkgdGhlIHNsYXNoZWRQcm90b2NvbHMgZ2V0IHRoZSAvLy4gIE5vdCBtYWlsdG86LCB4bXBwOiwgZXRjLlxuICAvLyB1bmxlc3MgdGhleSBoYWQgdGhlbSB0byBiZWdpbiB3aXRoLlxuICBpZiAodGhpcy5zbGFzaGVzIHx8XG4gICAgICAoIXByb3RvY29sIHx8IHNsYXNoZWRQcm90b2NvbFtwcm90b2NvbF0pICYmIGhvc3QgIT09IGZhbHNlKSB7XG4gICAgaG9zdCA9ICcvLycgKyAoaG9zdCB8fCAnJyk7XG4gICAgaWYgKHBhdGhuYW1lICYmIHBhdGhuYW1lLmNoYXJBdCgwKSAhPT0gJy8nKSBwYXRobmFtZSA9ICcvJyArIHBhdGhuYW1lO1xuICB9IGVsc2UgaWYgKCFob3N0KSB7XG4gICAgaG9zdCA9ICcnO1xuICB9XG5cbiAgaWYgKGhhc2ggJiYgaGFzaC5jaGFyQXQoMCkgIT09ICcjJykgaGFzaCA9ICcjJyArIGhhc2g7XG4gIGlmIChzZWFyY2ggJiYgc2VhcmNoLmNoYXJBdCgwKSAhPT0gJz8nKSBzZWFyY2ggPSAnPycgKyBzZWFyY2g7XG5cbiAgcGF0aG5hbWUgPSBwYXRobmFtZS5yZXBsYWNlKC9bPyNdL2csIGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChtYXRjaCk7XG4gIH0pO1xuICBzZWFyY2ggPSBzZWFyY2gucmVwbGFjZSgnIycsICclMjMnKTtcblxuICByZXR1cm4gcHJvdG9jb2wgKyBob3N0ICsgcGF0aG5hbWUgKyBzZWFyY2ggKyBoYXNoO1xufTtcblxuZnVuY3Rpb24gdXJsUmVzb2x2ZShzb3VyY2UsIHJlbGF0aXZlKSB7XG4gIHJldHVybiB1cmxQYXJzZShzb3VyY2UsIGZhbHNlLCB0cnVlKS5yZXNvbHZlKHJlbGF0aXZlKTtcbn1cblxuVXJsLnByb3RvdHlwZS5yZXNvbHZlID0gZnVuY3Rpb24ocmVsYXRpdmUpIHtcbiAgcmV0dXJuIHRoaXMucmVzb2x2ZU9iamVjdCh1cmxQYXJzZShyZWxhdGl2ZSwgZmFsc2UsIHRydWUpKS5mb3JtYXQoKTtcbn07XG5cbmZ1bmN0aW9uIHVybFJlc29sdmVPYmplY3Qoc291cmNlLCByZWxhdGl2ZSkge1xuICBpZiAoIXNvdXJjZSkgcmV0dXJuIHJlbGF0aXZlO1xuICByZXR1cm4gdXJsUGFyc2Uoc291cmNlLCBmYWxzZSwgdHJ1ZSkucmVzb2x2ZU9iamVjdChyZWxhdGl2ZSk7XG59XG5cblVybC5wcm90b3R5cGUucmVzb2x2ZU9iamVjdCA9IGZ1bmN0aW9uKHJlbGF0aXZlKSB7XG4gIGlmICh1dGlsLmlzU3RyaW5nKHJlbGF0aXZlKSkge1xuICAgIHZhciByZWwgPSBuZXcgVXJsKCk7XG4gICAgcmVsLnBhcnNlKHJlbGF0aXZlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgcmVsYXRpdmUgPSByZWw7XG4gIH1cblxuICB2YXIgcmVzdWx0ID0gbmV3IFVybCgpO1xuICB2YXIgdGtleXMgPSBPYmplY3Qua2V5cyh0aGlzKTtcbiAgZm9yICh2YXIgdGsgPSAwOyB0ayA8IHRrZXlzLmxlbmd0aDsgdGsrKykge1xuICAgIHZhciB0a2V5ID0gdGtleXNbdGtdO1xuICAgIHJlc3VsdFt0a2V5XSA9IHRoaXNbdGtleV07XG4gIH1cblxuICAvLyBoYXNoIGlzIGFsd2F5cyBvdmVycmlkZGVuLCBubyBtYXR0ZXIgd2hhdC5cbiAgLy8gZXZlbiBocmVmPVwiXCIgd2lsbCByZW1vdmUgaXQuXG4gIHJlc3VsdC5oYXNoID0gcmVsYXRpdmUuaGFzaDtcblxuICAvLyBpZiB0aGUgcmVsYXRpdmUgdXJsIGlzIGVtcHR5LCB0aGVuIHRoZXJlJ3Mgbm90aGluZyBsZWZ0IHRvIGRvIGhlcmUuXG4gIGlmIChyZWxhdGl2ZS5ocmVmID09PSAnJykge1xuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBocmVmcyBsaWtlIC8vZm9vL2JhciBhbHdheXMgY3V0IHRvIHRoZSBwcm90b2NvbC5cbiAgaWYgKHJlbGF0aXZlLnNsYXNoZXMgJiYgIXJlbGF0aXZlLnByb3RvY29sKSB7XG4gICAgLy8gdGFrZSBldmVyeXRoaW5nIGV4Y2VwdCB0aGUgcHJvdG9jb2wgZnJvbSByZWxhdGl2ZVxuICAgIHZhciBya2V5cyA9IE9iamVjdC5rZXlzKHJlbGF0aXZlKTtcbiAgICBmb3IgKHZhciByayA9IDA7IHJrIDwgcmtleXMubGVuZ3RoOyByaysrKSB7XG4gICAgICB2YXIgcmtleSA9IHJrZXlzW3JrXTtcbiAgICAgIGlmIChya2V5ICE9PSAncHJvdG9jb2wnKVxuICAgICAgICByZXN1bHRbcmtleV0gPSByZWxhdGl2ZVtya2V5XTtcbiAgICB9XG5cbiAgICAvL3VybFBhcnNlIGFwcGVuZHMgdHJhaWxpbmcgLyB0byB1cmxzIGxpa2UgaHR0cDovL3d3dy5leGFtcGxlLmNvbVxuICAgIGlmIChzbGFzaGVkUHJvdG9jb2xbcmVzdWx0LnByb3RvY29sXSAmJlxuICAgICAgICByZXN1bHQuaG9zdG5hbWUgJiYgIXJlc3VsdC5wYXRobmFtZSkge1xuICAgICAgcmVzdWx0LnBhdGggPSByZXN1bHQucGF0aG5hbWUgPSAnLyc7XG4gICAgfVxuXG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGlmIChyZWxhdGl2ZS5wcm90b2NvbCAmJiByZWxhdGl2ZS5wcm90b2NvbCAhPT0gcmVzdWx0LnByb3RvY29sKSB7XG4gICAgLy8gaWYgaXQncyBhIGtub3duIHVybCBwcm90b2NvbCwgdGhlbiBjaGFuZ2luZ1xuICAgIC8vIHRoZSBwcm90b2NvbCBkb2VzIHdlaXJkIHRoaW5nc1xuICAgIC8vIGZpcnN0LCBpZiBpdCdzIG5vdCBmaWxlOiwgdGhlbiB3ZSBNVVNUIGhhdmUgYSBob3N0LFxuICAgIC8vIGFuZCBpZiB0aGVyZSB3YXMgYSBwYXRoXG4gICAgLy8gdG8gYmVnaW4gd2l0aCwgdGhlbiB3ZSBNVVNUIGhhdmUgYSBwYXRoLlxuICAgIC8vIGlmIGl0IGlzIGZpbGU6LCB0aGVuIHRoZSBob3N0IGlzIGRyb3BwZWQsXG4gICAgLy8gYmVjYXVzZSB0aGF0J3Mga25vd24gdG8gYmUgaG9zdGxlc3MuXG4gICAgLy8gYW55dGhpbmcgZWxzZSBpcyBhc3N1bWVkIHRvIGJlIGFic29sdXRlLlxuICAgIGlmICghc2xhc2hlZFByb3RvY29sW3JlbGF0aXZlLnByb3RvY29sXSkge1xuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhyZWxhdGl2ZSk7XG4gICAgICBmb3IgKHZhciB2ID0gMDsgdiA8IGtleXMubGVuZ3RoOyB2KyspIHtcbiAgICAgICAgdmFyIGsgPSBrZXlzW3ZdO1xuICAgICAgICByZXN1bHRba10gPSByZWxhdGl2ZVtrXTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICByZXN1bHQucHJvdG9jb2wgPSByZWxhdGl2ZS5wcm90b2NvbDtcbiAgICBpZiAoIXJlbGF0aXZlLmhvc3QgJiYgIWhvc3RsZXNzUHJvdG9jb2xbcmVsYXRpdmUucHJvdG9jb2xdKSB7XG4gICAgICB2YXIgcmVsUGF0aCA9IChyZWxhdGl2ZS5wYXRobmFtZSB8fCAnJykuc3BsaXQoJy8nKTtcbiAgICAgIHdoaWxlIChyZWxQYXRoLmxlbmd0aCAmJiAhKHJlbGF0aXZlLmhvc3QgPSByZWxQYXRoLnNoaWZ0KCkpKTtcbiAgICAgIGlmICghcmVsYXRpdmUuaG9zdCkgcmVsYXRpdmUuaG9zdCA9ICcnO1xuICAgICAgaWYgKCFyZWxhdGl2ZS5ob3N0bmFtZSkgcmVsYXRpdmUuaG9zdG5hbWUgPSAnJztcbiAgICAgIGlmIChyZWxQYXRoWzBdICE9PSAnJykgcmVsUGF0aC51bnNoaWZ0KCcnKTtcbiAgICAgIGlmIChyZWxQYXRoLmxlbmd0aCA8IDIpIHJlbFBhdGgudW5zaGlmdCgnJyk7XG4gICAgICByZXN1bHQucGF0aG5hbWUgPSByZWxQYXRoLmpvaW4oJy8nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnBhdGhuYW1lID0gcmVsYXRpdmUucGF0aG5hbWU7XG4gICAgfVxuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgcmVzdWx0Lmhvc3QgPSByZWxhdGl2ZS5ob3N0IHx8ICcnO1xuICAgIHJlc3VsdC5hdXRoID0gcmVsYXRpdmUuYXV0aDtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSByZWxhdGl2ZS5ob3N0bmFtZSB8fCByZWxhdGl2ZS5ob3N0O1xuICAgIHJlc3VsdC5wb3J0ID0gcmVsYXRpdmUucG9ydDtcbiAgICAvLyB0byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmIChyZXN1bHQucGF0aG5hbWUgfHwgcmVzdWx0LnNlYXJjaCkge1xuICAgICAgdmFyIHAgPSByZXN1bHQucGF0aG5hbWUgfHwgJyc7XG4gICAgICB2YXIgcyA9IHJlc3VsdC5zZWFyY2ggfHwgJyc7XG4gICAgICByZXN1bHQucGF0aCA9IHAgKyBzO1xuICAgIH1cbiAgICByZXN1bHQuc2xhc2hlcyA9IHJlc3VsdC5zbGFzaGVzIHx8IHJlbGF0aXZlLnNsYXNoZXM7XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHZhciBpc1NvdXJjZUFicyA9IChyZXN1bHQucGF0aG5hbWUgJiYgcmVzdWx0LnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nKSxcbiAgICAgIGlzUmVsQWJzID0gKFxuICAgICAgICAgIHJlbGF0aXZlLmhvc3QgfHxcbiAgICAgICAgICByZWxhdGl2ZS5wYXRobmFtZSAmJiByZWxhdGl2ZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJ1xuICAgICAgKSxcbiAgICAgIG11c3RFbmRBYnMgPSAoaXNSZWxBYnMgfHwgaXNTb3VyY2VBYnMgfHxcbiAgICAgICAgICAgICAgICAgICAgKHJlc3VsdC5ob3N0ICYmIHJlbGF0aXZlLnBhdGhuYW1lKSksXG4gICAgICByZW1vdmVBbGxEb3RzID0gbXVzdEVuZEFicyxcbiAgICAgIHNyY1BhdGggPSByZXN1bHQucGF0aG5hbWUgJiYgcmVzdWx0LnBhdGhuYW1lLnNwbGl0KCcvJykgfHwgW10sXG4gICAgICByZWxQYXRoID0gcmVsYXRpdmUucGF0aG5hbWUgJiYgcmVsYXRpdmUucGF0aG5hbWUuc3BsaXQoJy8nKSB8fCBbXSxcbiAgICAgIHBzeWNob3RpYyA9IHJlc3VsdC5wcm90b2NvbCAmJiAhc2xhc2hlZFByb3RvY29sW3Jlc3VsdC5wcm90b2NvbF07XG5cbiAgLy8gaWYgdGhlIHVybCBpcyBhIG5vbi1zbGFzaGVkIHVybCwgdGhlbiByZWxhdGl2ZVxuICAvLyBsaW5rcyBsaWtlIC4uLy4uIHNob3VsZCBiZSBhYmxlXG4gIC8vIHRvIGNyYXdsIHVwIHRvIHRoZSBob3N0bmFtZSwgYXMgd2VsbC4gIFRoaXMgaXMgc3RyYW5nZS5cbiAgLy8gcmVzdWx0LnByb3RvY29sIGhhcyBhbHJlYWR5IGJlZW4gc2V0IGJ5IG5vdy5cbiAgLy8gTGF0ZXIgb24sIHB1dCB0aGUgZmlyc3QgcGF0aCBwYXJ0IGludG8gdGhlIGhvc3QgZmllbGQuXG4gIGlmIChwc3ljaG90aWMpIHtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSAnJztcbiAgICByZXN1bHQucG9ydCA9IG51bGw7XG4gICAgaWYgKHJlc3VsdC5ob3N0KSB7XG4gICAgICBpZiAoc3JjUGF0aFswXSA9PT0gJycpIHNyY1BhdGhbMF0gPSByZXN1bHQuaG9zdDtcbiAgICAgIGVsc2Ugc3JjUGF0aC51bnNoaWZ0KHJlc3VsdC5ob3N0KTtcbiAgICB9XG4gICAgcmVzdWx0Lmhvc3QgPSAnJztcbiAgICBpZiAocmVsYXRpdmUucHJvdG9jb2wpIHtcbiAgICAgIHJlbGF0aXZlLmhvc3RuYW1lID0gbnVsbDtcbiAgICAgIHJlbGF0aXZlLnBvcnQgPSBudWxsO1xuICAgICAgaWYgKHJlbGF0aXZlLmhvc3QpIHtcbiAgICAgICAgaWYgKHJlbFBhdGhbMF0gPT09ICcnKSByZWxQYXRoWzBdID0gcmVsYXRpdmUuaG9zdDtcbiAgICAgICAgZWxzZSByZWxQYXRoLnVuc2hpZnQocmVsYXRpdmUuaG9zdCk7XG4gICAgICB9XG4gICAgICByZWxhdGl2ZS5ob3N0ID0gbnVsbDtcbiAgICB9XG4gICAgbXVzdEVuZEFicyA9IG11c3RFbmRBYnMgJiYgKHJlbFBhdGhbMF0gPT09ICcnIHx8IHNyY1BhdGhbMF0gPT09ICcnKTtcbiAgfVxuXG4gIGlmIChpc1JlbEFicykge1xuICAgIC8vIGl0J3MgYWJzb2x1dGUuXG4gICAgcmVzdWx0Lmhvc3QgPSAocmVsYXRpdmUuaG9zdCB8fCByZWxhdGl2ZS5ob3N0ID09PSAnJykgP1xuICAgICAgICAgICAgICAgICAgcmVsYXRpdmUuaG9zdCA6IHJlc3VsdC5ob3N0O1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IChyZWxhdGl2ZS5ob3N0bmFtZSB8fCByZWxhdGl2ZS5ob3N0bmFtZSA9PT0gJycpID9cbiAgICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZS5ob3N0bmFtZSA6IHJlc3VsdC5ob3N0bmFtZTtcbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIHNyY1BhdGggPSByZWxQYXRoO1xuICAgIC8vIGZhbGwgdGhyb3VnaCB0byB0aGUgZG90LWhhbmRsaW5nIGJlbG93LlxuICB9IGVsc2UgaWYgKHJlbFBhdGgubGVuZ3RoKSB7XG4gICAgLy8gaXQncyByZWxhdGl2ZVxuICAgIC8vIHRocm93IGF3YXkgdGhlIGV4aXN0aW5nIGZpbGUsIGFuZCB0YWtlIHRoZSBuZXcgcGF0aCBpbnN0ZWFkLlxuICAgIGlmICghc3JjUGF0aCkgc3JjUGF0aCA9IFtdO1xuICAgIHNyY1BhdGgucG9wKCk7XG4gICAgc3JjUGF0aCA9IHNyY1BhdGguY29uY2F0KHJlbFBhdGgpO1xuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gIH0gZWxzZSBpZiAoIXV0aWwuaXNOdWxsT3JVbmRlZmluZWQocmVsYXRpdmUuc2VhcmNoKSkge1xuICAgIC8vIGp1c3QgcHVsbCBvdXQgdGhlIHNlYXJjaC5cbiAgICAvLyBsaWtlIGhyZWY9Jz9mb28nLlxuICAgIC8vIFB1dCB0aGlzIGFmdGVyIHRoZSBvdGhlciB0d28gY2FzZXMgYmVjYXVzZSBpdCBzaW1wbGlmaWVzIHRoZSBib29sZWFuc1xuICAgIGlmIChwc3ljaG90aWMpIHtcbiAgICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlc3VsdC5ob3N0ID0gc3JjUGF0aC5zaGlmdCgpO1xuICAgICAgLy9vY2NhdGlvbmFseSB0aGUgYXV0aCBjYW4gZ2V0IHN0dWNrIG9ubHkgaW4gaG9zdFxuICAgICAgLy90aGlzIGVzcGVjaWFsbHkgaGFwcGVucyBpbiBjYXNlcyBsaWtlXG4gICAgICAvL3VybC5yZXNvbHZlT2JqZWN0KCdtYWlsdG86bG9jYWwxQGRvbWFpbjEnLCAnbG9jYWwyQGRvbWFpbjInKVxuICAgICAgdmFyIGF1dGhJbkhvc3QgPSByZXN1bHQuaG9zdCAmJiByZXN1bHQuaG9zdC5pbmRleE9mKCdAJykgPiAwID9cbiAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lmhvc3Quc3BsaXQoJ0AnKSA6IGZhbHNlO1xuICAgICAgaWYgKGF1dGhJbkhvc3QpIHtcbiAgICAgICAgcmVzdWx0LmF1dGggPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICAgIHJlc3VsdC5ob3N0ID0gcmVzdWx0Lmhvc3RuYW1lID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAoIXV0aWwuaXNOdWxsKHJlc3VsdC5wYXRobmFtZSkgfHwgIXV0aWwuaXNOdWxsKHJlc3VsdC5zZWFyY2gpKSB7XG4gICAgICByZXN1bHQucGF0aCA9IChyZXN1bHQucGF0aG5hbWUgPyByZXN1bHQucGF0aG5hbWUgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgICAocmVzdWx0LnNlYXJjaCA/IHJlc3VsdC5zZWFyY2ggOiAnJyk7XG4gICAgfVxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpZiAoIXNyY1BhdGgubGVuZ3RoKSB7XG4gICAgLy8gbm8gcGF0aCBhdCBhbGwuICBlYXN5LlxuICAgIC8vIHdlJ3ZlIGFscmVhZHkgaGFuZGxlZCB0aGUgb3RoZXIgc3R1ZmYgYWJvdmUuXG4gICAgcmVzdWx0LnBhdGhuYW1lID0gbnVsbDtcbiAgICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKHJlc3VsdC5zZWFyY2gpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gJy8nICsgcmVzdWx0LnNlYXJjaDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnBhdGggPSBudWxsO1xuICAgIH1cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gaWYgYSB1cmwgRU5EcyBpbiAuIG9yIC4uLCB0aGVuIGl0IG11c3QgZ2V0IGEgdHJhaWxpbmcgc2xhc2guXG4gIC8vIGhvd2V2ZXIsIGlmIGl0IGVuZHMgaW4gYW55dGhpbmcgZWxzZSBub24tc2xhc2h5LFxuICAvLyB0aGVuIGl0IG11c3QgTk9UIGdldCBhIHRyYWlsaW5nIHNsYXNoLlxuICB2YXIgbGFzdCA9IHNyY1BhdGguc2xpY2UoLTEpWzBdO1xuICB2YXIgaGFzVHJhaWxpbmdTbGFzaCA9IChcbiAgICAgIChyZXN1bHQuaG9zdCB8fCByZWxhdGl2ZS5ob3N0IHx8IHNyY1BhdGgubGVuZ3RoID4gMSkgJiZcbiAgICAgIChsYXN0ID09PSAnLicgfHwgbGFzdCA9PT0gJy4uJykgfHwgbGFzdCA9PT0gJycpO1xuXG4gIC8vIHN0cmlwIHNpbmdsZSBkb3RzLCByZXNvbHZlIGRvdWJsZSBkb3RzIHRvIHBhcmVudCBkaXJcbiAgLy8gaWYgdGhlIHBhdGggdHJpZXMgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIGB1cGAgZW5kcyB1cCA+IDBcbiAgdmFyIHVwID0gMDtcbiAgZm9yICh2YXIgaSA9IHNyY1BhdGgubGVuZ3RoOyBpID49IDA7IGktLSkge1xuICAgIGxhc3QgPSBzcmNQYXRoW2ldO1xuICAgIGlmIChsYXN0ID09PSAnLicpIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgIH0gZWxzZSBpZiAobGFzdCA9PT0gJy4uJykge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgICAgdXAtLTtcbiAgICB9XG4gIH1cblxuICAvLyBpZiB0aGUgcGF0aCBpcyBhbGxvd2VkIHRvIGdvIGFib3ZlIHRoZSByb290LCByZXN0b3JlIGxlYWRpbmcgLi5zXG4gIGlmICghbXVzdEVuZEFicyAmJiAhcmVtb3ZlQWxsRG90cykge1xuICAgIGZvciAoOyB1cC0tOyB1cCkge1xuICAgICAgc3JjUGF0aC51bnNoaWZ0KCcuLicpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChtdXN0RW5kQWJzICYmIHNyY1BhdGhbMF0gIT09ICcnICYmXG4gICAgICAoIXNyY1BhdGhbMF0gfHwgc3JjUGF0aFswXS5jaGFyQXQoMCkgIT09ICcvJykpIHtcbiAgICBzcmNQYXRoLnVuc2hpZnQoJycpO1xuICB9XG5cbiAgaWYgKGhhc1RyYWlsaW5nU2xhc2ggJiYgKHNyY1BhdGguam9pbignLycpLnN1YnN0cigtMSkgIT09ICcvJykpIHtcbiAgICBzcmNQYXRoLnB1c2goJycpO1xuICB9XG5cbiAgdmFyIGlzQWJzb2x1dGUgPSBzcmNQYXRoWzBdID09PSAnJyB8fFxuICAgICAgKHNyY1BhdGhbMF0gJiYgc3JjUGF0aFswXS5jaGFyQXQoMCkgPT09ICcvJyk7XG5cbiAgLy8gcHV0IHRoZSBob3N0IGJhY2tcbiAgaWYgKHBzeWNob3RpYykge1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlc3VsdC5ob3N0ID0gaXNBYnNvbHV0ZSA/ICcnIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyY1BhdGgubGVuZ3RoID8gc3JjUGF0aC5zaGlmdCgpIDogJyc7XG4gICAgLy9vY2NhdGlvbmFseSB0aGUgYXV0aCBjYW4gZ2V0IHN0dWNrIG9ubHkgaW4gaG9zdFxuICAgIC8vdGhpcyBlc3BlY2lhbGx5IGhhcHBlbnMgaW4gY2FzZXMgbGlrZVxuICAgIC8vdXJsLnJlc29sdmVPYmplY3QoJ21haWx0bzpsb2NhbDFAZG9tYWluMScsICdsb2NhbDJAZG9tYWluMicpXG4gICAgdmFyIGF1dGhJbkhvc3QgPSByZXN1bHQuaG9zdCAmJiByZXN1bHQuaG9zdC5pbmRleE9mKCdAJykgPiAwID9cbiAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5ob3N0LnNwbGl0KCdAJykgOiBmYWxzZTtcbiAgICBpZiAoYXV0aEluSG9zdCkge1xuICAgICAgcmVzdWx0LmF1dGggPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICByZXN1bHQuaG9zdCA9IHJlc3VsdC5ob3N0bmFtZSA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICB9XG4gIH1cblxuICBtdXN0RW5kQWJzID0gbXVzdEVuZEFicyB8fCAocmVzdWx0Lmhvc3QgJiYgc3JjUGF0aC5sZW5ndGgpO1xuXG4gIGlmIChtdXN0RW5kQWJzICYmICFpc0Fic29sdXRlKSB7XG4gICAgc3JjUGF0aC51bnNoaWZ0KCcnKTtcbiAgfVxuXG4gIGlmICghc3JjUGF0aC5sZW5ndGgpIHtcbiAgICByZXN1bHQucGF0aG5hbWUgPSBudWxsO1xuICAgIHJlc3VsdC5wYXRoID0gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQucGF0aG5hbWUgPSBzcmNQYXRoLmpvaW4oJy8nKTtcbiAgfVxuXG4gIC8vdG8gc3VwcG9ydCByZXF1ZXN0Lmh0dHBcbiAgaWYgKCF1dGlsLmlzTnVsbChyZXN1bHQucGF0aG5hbWUpIHx8ICF1dGlsLmlzTnVsbChyZXN1bHQuc2VhcmNoKSkge1xuICAgIHJlc3VsdC5wYXRoID0gKHJlc3VsdC5wYXRobmFtZSA/IHJlc3VsdC5wYXRobmFtZSA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAocmVzdWx0LnNlYXJjaCA/IHJlc3VsdC5zZWFyY2ggOiAnJyk7XG4gIH1cbiAgcmVzdWx0LmF1dGggPSByZWxhdGl2ZS5hdXRoIHx8IHJlc3VsdC5hdXRoO1xuICByZXN1bHQuc2xhc2hlcyA9IHJlc3VsdC5zbGFzaGVzIHx8IHJlbGF0aXZlLnNsYXNoZXM7XG4gIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuVXJsLnByb3RvdHlwZS5wYXJzZUhvc3QgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGhvc3QgPSB0aGlzLmhvc3Q7XG4gIHZhciBwb3J0ID0gcG9ydFBhdHRlcm4uZXhlYyhob3N0KTtcbiAgaWYgKHBvcnQpIHtcbiAgICBwb3J0ID0gcG9ydFswXTtcbiAgICBpZiAocG9ydCAhPT0gJzonKSB7XG4gICAgICB0aGlzLnBvcnQgPSBwb3J0LnN1YnN0cigxKTtcbiAgICB9XG4gICAgaG9zdCA9IGhvc3Quc3Vic3RyKDAsIGhvc3QubGVuZ3RoIC0gcG9ydC5sZW5ndGgpO1xuICB9XG4gIGlmIChob3N0KSB0aGlzLmhvc3RuYW1lID0gaG9zdDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBkZXRlcm1pbmVDcm9zc09yaWdpbjtcblxudmFyIF91cmwyID0gcmVxdWlyZSgndXJsJyk7XG5cbnZhciBfdXJsMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3VybDIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgdGVtcEFuY2hvciA9IHZvaWQgMDtcblxuLyoqXG4gKiBTZXRzIHRoZSBgY3Jvc3NPcmlnaW5gIHByb3BlcnR5IGZvciB0aGlzIHJlc291cmNlIGJhc2VkIG9uIGlmIHRoZSB1cmxcbiAqIGZvciB0aGlzIHJlc291cmNlIGlzIGNyb3NzLW9yaWdpbi4gSWYgY3Jvc3NPcmlnaW4gd2FzIG1hbnVhbGx5IHNldCwgdGhpc1xuICogZnVuY3Rpb24gZG9lcyBub3RoaW5nLlxuICogTmlwcGVkIGZyb20gdGhlIHJlc291cmNlIGxvYWRlciFcbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCB0byB0ZXN0LlxuICogQHBhcmFtIHtvYmplY3R9IFtsb2M9d2luZG93LmxvY2F0aW9uXSAtIFRoZSBsb2NhdGlvbiBvYmplY3QgdG8gdGVzdCBhZ2FpbnN0LlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgY3Jvc3NPcmlnaW4gdmFsdWUgdG8gdXNlIChvciBlbXB0eSBzdHJpbmcgZm9yIG5vbmUpLlxuICovXG5mdW5jdGlvbiBkZXRlcm1pbmVDcm9zc09yaWdpbih1cmwpIHtcbiAgICB2YXIgbG9jID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB3aW5kb3cubG9jYXRpb247XG5cbiAgICAvLyBkYXRhOiBhbmQgamF2YXNjcmlwdDogdXJscyBhcmUgY29uc2lkZXJlZCBzYW1lLW9yaWdpblxuICAgIGlmICh1cmwuaW5kZXhPZignZGF0YTonKSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLy8gZGVmYXVsdCBpcyB3aW5kb3cubG9jYXRpb25cbiAgICBsb2MgPSBsb2MgfHwgd2luZG93LmxvY2F0aW9uO1xuXG4gICAgaWYgKCF0ZW1wQW5jaG9yKSB7XG4gICAgICAgIHRlbXBBbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgfVxuXG4gICAgLy8gbGV0IHRoZSBicm93c2VyIGRldGVybWluZSB0aGUgZnVsbCBocmVmIGZvciB0aGUgdXJsIG9mIHRoaXMgcmVzb3VyY2UgYW5kIHRoZW5cbiAgICAvLyBwYXJzZSB3aXRoIHRoZSBub2RlIHVybCBsaWIsIHdlIGNhbid0IHVzZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgYW5jaG9yIGVsZW1lbnRcbiAgICAvLyBiZWNhdXNlIHRoZXkgZG9uJ3Qgd29yayBpbiBJRTkgOihcbiAgICB0ZW1wQW5jaG9yLmhyZWYgPSB1cmw7XG4gICAgdXJsID0gX3VybDMuZGVmYXVsdC5wYXJzZSh0ZW1wQW5jaG9yLmhyZWYpO1xuXG4gICAgdmFyIHNhbWVQb3J0ID0gIXVybC5wb3J0ICYmIGxvYy5wb3J0ID09PSAnJyB8fCB1cmwucG9ydCA9PT0gbG9jLnBvcnQ7XG5cbiAgICAvLyBpZiBjcm9zcyBvcmlnaW5cbiAgICBpZiAodXJsLmhvc3RuYW1lICE9PSBsb2MuaG9zdG5hbWUgfHwgIXNhbWVQb3J0IHx8IHVybC5wcm90b2NvbCAhPT0gbG9jLnByb3RvY29sKSB7XG4gICAgICAgIHJldHVybiAnYW5vbnltb3VzJztcbiAgICB9XG5cbiAgICByZXR1cm4gJyc7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZXRlcm1pbmVDcm9zc09yaWdpbi5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uL21hdGgnKTtcblxudmFyIF9UcmFuc2Zvcm1CYXNlMiA9IHJlcXVpcmUoJy4vVHJhbnNmb3JtQmFzZScpO1xuXG52YXIgX1RyYW5zZm9ybUJhc2UzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHJhbnNmb3JtQmFzZTIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogR2VuZXJpYyBjbGFzcyB0byBkZWFsIHdpdGggdHJhZGl0aW9uYWwgMkQgbWF0cml4IHRyYW5zZm9ybXNcbiAqIGxvY2FsIHRyYW5zZm9ybWF0aW9uIGlzIGNhbGN1bGF0ZWQgZnJvbSBwb3NpdGlvbixzY2FsZSxza2V3IGFuZCByb3RhdGlvblxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5UcmFuc2Zvcm1CYXNlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVHJhbnNmb3JtID0gZnVuY3Rpb24gKF9UcmFuc2Zvcm1CYXNlKSB7XG4gIF9pbmhlcml0cyhUcmFuc2Zvcm0sIF9UcmFuc2Zvcm1CYXNlKTtcblxuICAvKipcbiAgICpcbiAgICovXG4gIGZ1bmN0aW9uIFRyYW5zZm9ybSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVHJhbnNmb3JtKTtcblxuICAgIC8qKlxuICAgICogVGhlIGNvb3JkaW5hdGUgb2YgdGhlIG9iamVjdCByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAqXG4gICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fVxuICAgICovXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1RyYW5zZm9ybUJhc2UuY2FsbCh0aGlzKSk7XG5cbiAgICBfdGhpcy5wb3NpdGlvbiA9IG5ldyBfbWF0aC5Qb2ludCgwLCAwKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzY2FsZSBmYWN0b3Igb2YgdGhlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR9XG4gICAgICovXG4gICAgX3RoaXMuc2NhbGUgPSBuZXcgX21hdGguUG9pbnQoMSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2tldyBhbW91bnQsIG9uIHRoZSB4IGFuZCB5IGF4aXMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgKi9cbiAgICBfdGhpcy5za2V3ID0gbmV3IF9tYXRoLk9ic2VydmFibGVQb2ludChfdGhpcy51cGRhdGVTa2V3LCBfdGhpcywgMCwgMCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcGl2b3QgcG9pbnQgb2YgdGhlIGRpc3BsYXlPYmplY3QgdGhhdCBpdCByb3RhdGVzIGFyb3VuZFxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAgKi9cbiAgICBfdGhpcy5waXZvdCA9IG5ldyBfbWF0aC5Qb2ludCgwLCAwKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSByb3RhdGlvbiB2YWx1ZSBvZiB0aGUgb2JqZWN0LCBpbiByYWRpYW5zXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtOdW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdGhpcy5fcm90YXRpb24gPSAwO1xuXG4gICAgX3RoaXMuX2N4ID0gMTsgLy8gY29zIHJvdGF0aW9uICsgc2tld1k7XG4gICAgX3RoaXMuX3N4ID0gMDsgLy8gc2luIHJvdGF0aW9uICsgc2tld1k7XG4gICAgX3RoaXMuX2N5ID0gMDsgLy8gY29zIHJvdGF0aW9uICsgTWF0aC5QSS8yIC0gc2tld1g7XG4gICAgX3RoaXMuX3N5ID0gMTsgLy8gc2luIHJvdGF0aW9uICsgTWF0aC5QSS8yIC0gc2tld1g7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHNrZXcgdmFsdWVzIHdoZW4gdGhlIHNrZXcgb3Igcm90YXRpb24gY2hhbmdlcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBUcmFuc2Zvcm0ucHJvdG90eXBlLnVwZGF0ZVNrZXcgPSBmdW5jdGlvbiB1cGRhdGVTa2V3KCkge1xuICAgIHRoaXMuX2N4ID0gTWF0aC5jb3ModGhpcy5fcm90YXRpb24gKyB0aGlzLnNrZXcuX3kpO1xuICAgIHRoaXMuX3N4ID0gTWF0aC5zaW4odGhpcy5fcm90YXRpb24gKyB0aGlzLnNrZXcuX3kpO1xuICAgIHRoaXMuX2N5ID0gLU1hdGguc2luKHRoaXMuX3JvdGF0aW9uIC0gdGhpcy5za2V3Ll94KTsgLy8gY29zLCBhZGRlZCBQSS8yXG4gICAgdGhpcy5fc3kgPSBNYXRoLmNvcyh0aGlzLl9yb3RhdGlvbiAtIHRoaXMuc2tldy5feCk7IC8vIHNpbiwgYWRkZWQgUEkvMlxuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIG9ubHkgbG9jYWwgbWF0cml4XG4gICAqL1xuXG5cbiAgVHJhbnNmb3JtLnByb3RvdHlwZS51cGRhdGVMb2NhbFRyYW5zZm9ybSA9IGZ1bmN0aW9uIHVwZGF0ZUxvY2FsVHJhbnNmb3JtKCkge1xuICAgIHZhciBsdCA9IHRoaXMubG9jYWxUcmFuc2Zvcm07XG5cbiAgICBsdC5hID0gdGhpcy5fY3ggKiB0aGlzLnNjYWxlLng7XG4gICAgbHQuYiA9IHRoaXMuX3N4ICogdGhpcy5zY2FsZS54O1xuICAgIGx0LmMgPSB0aGlzLl9jeSAqIHRoaXMuc2NhbGUueTtcbiAgICBsdC5kID0gdGhpcy5fc3kgKiB0aGlzLnNjYWxlLnk7XG5cbiAgICBsdC50eCA9IHRoaXMucG9zaXRpb24ueCAtICh0aGlzLnBpdm90LnggKiBsdC5hICsgdGhpcy5waXZvdC55ICogbHQuYyk7XG4gICAgbHQudHkgPSB0aGlzLnBvc2l0aW9uLnkgLSAodGhpcy5waXZvdC54ICogbHQuYiArIHRoaXMucGl2b3QueSAqIGx0LmQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSB2YWx1ZXMgb2YgdGhlIG9iamVjdCBhbmQgYXBwbGllcyB0aGUgcGFyZW50J3MgdHJhbnNmb3JtLlxuICAgKlxuICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtfSBwYXJlbnRUcmFuc2Zvcm0gLSBUaGUgdHJhbnNmb3JtIG9mIHRoZSBwYXJlbnQgb2YgdGhpcyBvYmplY3RcbiAgICovXG5cblxuICBUcmFuc2Zvcm0ucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uIHVwZGF0ZVRyYW5zZm9ybShwYXJlbnRUcmFuc2Zvcm0pIHtcbiAgICB2YXIgbHQgPSB0aGlzLmxvY2FsVHJhbnNmb3JtO1xuXG4gICAgbHQuYSA9IHRoaXMuX2N4ICogdGhpcy5zY2FsZS54O1xuICAgIGx0LmIgPSB0aGlzLl9zeCAqIHRoaXMuc2NhbGUueDtcbiAgICBsdC5jID0gdGhpcy5fY3kgKiB0aGlzLnNjYWxlLnk7XG4gICAgbHQuZCA9IHRoaXMuX3N5ICogdGhpcy5zY2FsZS55O1xuXG4gICAgbHQudHggPSB0aGlzLnBvc2l0aW9uLnggLSAodGhpcy5waXZvdC54ICogbHQuYSArIHRoaXMucGl2b3QueSAqIGx0LmMpO1xuICAgIGx0LnR5ID0gdGhpcy5wb3NpdGlvbi55IC0gKHRoaXMucGl2b3QueCAqIGx0LmIgKyB0aGlzLnBpdm90LnkgKiBsdC5kKTtcblxuICAgIC8vIGNvbmNhdCB0aGUgcGFyZW50IG1hdHJpeCB3aXRoIHRoZSBvYmplY3RzIHRyYW5zZm9ybS5cbiAgICB2YXIgcHQgPSBwYXJlbnRUcmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgdmFyIHd0ID0gdGhpcy53b3JsZFRyYW5zZm9ybTtcblxuICAgIHd0LmEgPSBsdC5hICogcHQuYSArIGx0LmIgKiBwdC5jO1xuICAgIHd0LmIgPSBsdC5hICogcHQuYiArIGx0LmIgKiBwdC5kO1xuICAgIHd0LmMgPSBsdC5jICogcHQuYSArIGx0LmQgKiBwdC5jO1xuICAgIHd0LmQgPSBsdC5jICogcHQuYiArIGx0LmQgKiBwdC5kO1xuICAgIHd0LnR4ID0gbHQudHggKiBwdC5hICsgbHQudHkgKiBwdC5jICsgcHQudHg7XG4gICAgd3QudHkgPSBsdC50eCAqIHB0LmIgKyBsdC50eSAqIHB0LmQgKyBwdC50eTtcblxuICAgIHRoaXMuX3dvcmxkSUQrKztcbiAgfTtcblxuICAvKipcbiAgICogRGVjb21wb3NlcyBhIG1hdHJpeCBhbmQgc2V0cyB0aGUgdHJhbnNmb3JtcyBwcm9wZXJ0aWVzIGJhc2VkIG9uIGl0LlxuICAgKlxuICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIGRlY29tcG9zZVxuICAgKi9cblxuXG4gIFRyYW5zZm9ybS5wcm90b3R5cGUuc2V0RnJvbU1hdHJpeCA9IGZ1bmN0aW9uIHNldEZyb21NYXRyaXgobWF0cml4KSB7XG4gICAgbWF0cml4LmRlY29tcG9zZSh0aGlzKTtcbiAgfTtcblxuICAvKipcbiAgICogVGhlIHJvdGF0aW9uIG9mIHRoZSBvYmplY3QgaW4gcmFkaWFucy5cbiAgICpcbiAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhUcmFuc2Zvcm0sIFt7XG4gICAga2V5OiAncm90YXRpb24nLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3JvdGF0aW9uO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgIHRoaXMuX3JvdGF0aW9uID0gdmFsdWU7XG4gICAgICB0aGlzLnVwZGF0ZVNrZXcoKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVHJhbnNmb3JtO1xufShfVHJhbnNmb3JtQmFzZTMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRyYW5zZm9ybTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRyYW5zZm9ybS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uL21hdGgnKTtcblxudmFyIF9UcmFuc2Zvcm1CYXNlMiA9IHJlcXVpcmUoJy4vVHJhbnNmb3JtQmFzZScpO1xuXG52YXIgX1RyYW5zZm9ybUJhc2UzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHJhbnNmb3JtQmFzZTIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogVHJhbnNmb3JtIHRoYXQgdGFrZXMgY2FyZSBhYm91dCBpdHMgdmVyc2lvbnNcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuVHJhbnNmb3JtQmFzZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRyYW5zZm9ybVN0YXRpYyA9IGZ1bmN0aW9uIChfVHJhbnNmb3JtQmFzZSkge1xuICAgIF9pbmhlcml0cyhUcmFuc2Zvcm1TdGF0aWMsIF9UcmFuc2Zvcm1CYXNlKTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gVHJhbnNmb3JtU3RhdGljKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVHJhbnNmb3JtU3RhdGljKTtcblxuICAgICAgICAvKipcbiAgICAgICAgKiBUaGUgY29vcmRpbmF0ZSBvZiB0aGUgb2JqZWN0IHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAgICAqXG4gICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICovXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9UcmFuc2Zvcm1CYXNlLmNhbGwodGhpcykpO1xuXG4gICAgICAgIF90aGlzLnBvc2l0aW9uID0gbmV3IF9tYXRoLk9ic2VydmFibGVQb2ludChfdGhpcy5vbkNoYW5nZSwgX3RoaXMsIDAsIDApO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2NhbGUgZmFjdG9yIG9mIHRoZSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2NhbGUgPSBuZXcgX21hdGguT2JzZXJ2YWJsZVBvaW50KF90aGlzLm9uQ2hhbmdlLCBfdGhpcywgMSwgMSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwaXZvdCBwb2ludCBvZiB0aGUgZGlzcGxheU9iamVjdCB0aGF0IGl0IHJvdGF0ZXMgYXJvdW5kXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGl2b3QgPSBuZXcgX21hdGguT2JzZXJ2YWJsZVBvaW50KF90aGlzLm9uQ2hhbmdlLCBfdGhpcywgMCwgMCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBza2V3IGFtb3VudCwgb24gdGhlIHggYW5kIHkgYXhpcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5za2V3ID0gbmV3IF9tYXRoLk9ic2VydmFibGVQb2ludChfdGhpcy51cGRhdGVTa2V3LCBfdGhpcywgMCwgMCk7XG5cbiAgICAgICAgX3RoaXMuX3JvdGF0aW9uID0gMDtcblxuICAgICAgICBfdGhpcy5fY3ggPSAxOyAvLyBjb3Mgcm90YXRpb24gKyBza2V3WTtcbiAgICAgICAgX3RoaXMuX3N4ID0gMDsgLy8gc2luIHJvdGF0aW9uICsgc2tld1k7XG4gICAgICAgIF90aGlzLl9jeSA9IDA7IC8vIGNvcyByb3RhdGlvbiArIE1hdGguUEkvMiAtIHNrZXdYO1xuICAgICAgICBfdGhpcy5fc3kgPSAxOyAvLyBzaW4gcm90YXRpb24gKyBNYXRoLlBJLzIgLSBza2V3WDtcblxuICAgICAgICBfdGhpcy5fbG9jYWxJRCA9IDA7XG4gICAgICAgIF90aGlzLl9jdXJyZW50TG9jYWxJRCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiBhIHZhbHVlIGNoYW5nZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBUcmFuc2Zvcm1TdGF0aWMucHJvdG90eXBlLm9uQ2hhbmdlID0gZnVuY3Rpb24gb25DaGFuZ2UoKSB7XG4gICAgICAgIHRoaXMuX2xvY2FsSUQrKztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gc2tldyBvciByb3RhdGlvbiBjaGFuZ2VzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBUcmFuc2Zvcm1TdGF0aWMucHJvdG90eXBlLnVwZGF0ZVNrZXcgPSBmdW5jdGlvbiB1cGRhdGVTa2V3KCkge1xuICAgICAgICB0aGlzLl9jeCA9IE1hdGguY29zKHRoaXMuX3JvdGF0aW9uICsgdGhpcy5za2V3Ll95KTtcbiAgICAgICAgdGhpcy5fc3ggPSBNYXRoLnNpbih0aGlzLl9yb3RhdGlvbiArIHRoaXMuc2tldy5feSk7XG4gICAgICAgIHRoaXMuX2N5ID0gLU1hdGguc2luKHRoaXMuX3JvdGF0aW9uIC0gdGhpcy5za2V3Ll94KTsgLy8gY29zLCBhZGRlZCBQSS8yXG4gICAgICAgIHRoaXMuX3N5ID0gTWF0aC5jb3ModGhpcy5fcm90YXRpb24gLSB0aGlzLnNrZXcuX3gpOyAvLyBzaW4sIGFkZGVkIFBJLzJcblxuICAgICAgICB0aGlzLl9sb2NhbElEKys7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgb25seSBsb2NhbCBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgVHJhbnNmb3JtU3RhdGljLnByb3RvdHlwZS51cGRhdGVMb2NhbFRyYW5zZm9ybSA9IGZ1bmN0aW9uIHVwZGF0ZUxvY2FsVHJhbnNmb3JtKCkge1xuICAgICAgICB2YXIgbHQgPSB0aGlzLmxvY2FsVHJhbnNmb3JtO1xuXG4gICAgICAgIGlmICh0aGlzLl9sb2NhbElEICE9PSB0aGlzLl9jdXJyZW50TG9jYWxJRCkge1xuICAgICAgICAgICAgLy8gZ2V0IHRoZSBtYXRyaXggdmFsdWVzIG9mIHRoZSBkaXNwbGF5b2JqZWN0IGJhc2VkIG9uIGl0cyB0cmFuc2Zvcm0gcHJvcGVydGllcy4uXG4gICAgICAgICAgICBsdC5hID0gdGhpcy5fY3ggKiB0aGlzLnNjYWxlLl94O1xuICAgICAgICAgICAgbHQuYiA9IHRoaXMuX3N4ICogdGhpcy5zY2FsZS5feDtcbiAgICAgICAgICAgIGx0LmMgPSB0aGlzLl9jeSAqIHRoaXMuc2NhbGUuX3k7XG4gICAgICAgICAgICBsdC5kID0gdGhpcy5fc3kgKiB0aGlzLnNjYWxlLl95O1xuXG4gICAgICAgICAgICBsdC50eCA9IHRoaXMucG9zaXRpb24uX3ggLSAodGhpcy5waXZvdC5feCAqIGx0LmEgKyB0aGlzLnBpdm90Ll95ICogbHQuYyk7XG4gICAgICAgICAgICBsdC50eSA9IHRoaXMucG9zaXRpb24uX3kgLSAodGhpcy5waXZvdC5feCAqIGx0LmIgKyB0aGlzLnBpdm90Ll95ICogbHQuZCk7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50TG9jYWxJRCA9IHRoaXMuX2xvY2FsSUQ7XG5cbiAgICAgICAgICAgIC8vIGZvcmNlIGFuIHVwZGF0ZS4uXG4gICAgICAgICAgICB0aGlzLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHZhbHVlcyBvZiB0aGUgb2JqZWN0IGFuZCBhcHBsaWVzIHRoZSBwYXJlbnQncyB0cmFuc2Zvcm0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtfSBwYXJlbnRUcmFuc2Zvcm0gLSBUaGUgdHJhbnNmb3JtIG9mIHRoZSBwYXJlbnQgb2YgdGhpcyBvYmplY3RcbiAgICAgKi9cblxuXG4gICAgVHJhbnNmb3JtU3RhdGljLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiB1cGRhdGVUcmFuc2Zvcm0ocGFyZW50VHJhbnNmb3JtKSB7XG4gICAgICAgIHZhciBsdCA9IHRoaXMubG9jYWxUcmFuc2Zvcm07XG5cbiAgICAgICAgaWYgKHRoaXMuX2xvY2FsSUQgIT09IHRoaXMuX2N1cnJlbnRMb2NhbElEKSB7XG4gICAgICAgICAgICAvLyBnZXQgdGhlIG1hdHJpeCB2YWx1ZXMgb2YgdGhlIGRpc3BsYXlvYmplY3QgYmFzZWQgb24gaXRzIHRyYW5zZm9ybSBwcm9wZXJ0aWVzLi5cbiAgICAgICAgICAgIGx0LmEgPSB0aGlzLl9jeCAqIHRoaXMuc2NhbGUuX3g7XG4gICAgICAgICAgICBsdC5iID0gdGhpcy5fc3ggKiB0aGlzLnNjYWxlLl94O1xuICAgICAgICAgICAgbHQuYyA9IHRoaXMuX2N5ICogdGhpcy5zY2FsZS5feTtcbiAgICAgICAgICAgIGx0LmQgPSB0aGlzLl9zeSAqIHRoaXMuc2NhbGUuX3k7XG5cbiAgICAgICAgICAgIGx0LnR4ID0gdGhpcy5wb3NpdGlvbi5feCAtICh0aGlzLnBpdm90Ll94ICogbHQuYSArIHRoaXMucGl2b3QuX3kgKiBsdC5jKTtcbiAgICAgICAgICAgIGx0LnR5ID0gdGhpcy5wb3NpdGlvbi5feSAtICh0aGlzLnBpdm90Ll94ICogbHQuYiArIHRoaXMucGl2b3QuX3kgKiBsdC5kKTtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRMb2NhbElEID0gdGhpcy5fbG9jYWxJRDtcblxuICAgICAgICAgICAgLy8gZm9yY2UgYW4gdXBkYXRlLi5cbiAgICAgICAgICAgIHRoaXMuX3BhcmVudElEID0gLTE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fcGFyZW50SUQgIT09IHBhcmVudFRyYW5zZm9ybS5fd29ybGRJRCkge1xuICAgICAgICAgICAgLy8gY29uY2F0IHRoZSBwYXJlbnQgbWF0cml4IHdpdGggdGhlIG9iamVjdHMgdHJhbnNmb3JtLlxuICAgICAgICAgICAgdmFyIHB0ID0gcGFyZW50VHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICAgICAgdmFyIHd0ID0gdGhpcy53b3JsZFRyYW5zZm9ybTtcblxuICAgICAgICAgICAgd3QuYSA9IGx0LmEgKiBwdC5hICsgbHQuYiAqIHB0LmM7XG4gICAgICAgICAgICB3dC5iID0gbHQuYSAqIHB0LmIgKyBsdC5iICogcHQuZDtcbiAgICAgICAgICAgIHd0LmMgPSBsdC5jICogcHQuYSArIGx0LmQgKiBwdC5jO1xuICAgICAgICAgICAgd3QuZCA9IGx0LmMgKiBwdC5iICsgbHQuZCAqIHB0LmQ7XG4gICAgICAgICAgICB3dC50eCA9IGx0LnR4ICogcHQuYSArIGx0LnR5ICogcHQuYyArIHB0LnR4O1xuICAgICAgICAgICAgd3QudHkgPSBsdC50eCAqIHB0LmIgKyBsdC50eSAqIHB0LmQgKyBwdC50eTtcblxuICAgICAgICAgICAgdGhpcy5fcGFyZW50SUQgPSBwYXJlbnRUcmFuc2Zvcm0uX3dvcmxkSUQ7XG5cbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgaWQgb2YgdGhlIHRyYW5zZm9ybS4uXG4gICAgICAgICAgICB0aGlzLl93b3JsZElEKys7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVjb21wb3NlcyBhIG1hdHJpeCBhbmQgc2V0cyB0aGUgdHJhbnNmb3JtcyBwcm9wZXJ0aWVzIGJhc2VkIG9uIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBkZWNvbXBvc2VcbiAgICAgKi9cblxuXG4gICAgVHJhbnNmb3JtU3RhdGljLnByb3RvdHlwZS5zZXRGcm9tTWF0cml4ID0gZnVuY3Rpb24gc2V0RnJvbU1hdHJpeChtYXRyaXgpIHtcbiAgICAgICAgbWF0cml4LmRlY29tcG9zZSh0aGlzKTtcbiAgICAgICAgdGhpcy5fbG9jYWxJRCsrO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcm90YXRpb24gb2YgdGhlIG9iamVjdCBpbiByYWRpYW5zLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoVHJhbnNmb3JtU3RhdGljLCBbe1xuICAgICAgICBrZXk6ICdyb3RhdGlvbicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JvdGF0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNrZXcoKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBUcmFuc2Zvcm1TdGF0aWM7XG59KF9UcmFuc2Zvcm1CYXNlMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVHJhbnNmb3JtU3RhdGljO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VHJhbnNmb3JtU3RhdGljLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9ldmVudGVtaXR0ZXIgPSByZXF1aXJlKCdldmVudGVtaXR0ZXIzJyk7XG5cbnZhciBfZXZlbnRlbWl0dGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V2ZW50ZW1pdHRlcik7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi9jb25zdCcpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbnZhciBfVHJhbnNmb3JtU3RhdGljID0gcmVxdWlyZSgnLi9UcmFuc2Zvcm1TdGF0aWMnKTtcblxudmFyIF9UcmFuc2Zvcm1TdGF0aWMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHJhbnNmb3JtU3RhdGljKTtcblxudmFyIF9UcmFuc2Zvcm0gPSByZXF1aXJlKCcuL1RyYW5zZm9ybScpO1xuXG52YXIgX1RyYW5zZm9ybTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UcmFuc2Zvcm0pO1xuXG52YXIgX0JvdW5kcyA9IHJlcXVpcmUoJy4vQm91bmRzJyk7XG5cbnZhciBfQm91bmRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JvdW5kcyk7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uL21hdGgnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vLyBfdGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPSBuZXcgRGlzcGxheU9iamVjdCgpO1xuXG4vKipcbiAqIFRoZSBiYXNlIGNsYXNzIGZvciBhbGwgb2JqZWN0cyB0aGF0IGFyZSByZW5kZXJlZCBvbiB0aGUgc2NyZWVuLlxuICogVGhpcyBpcyBhbiBhYnN0cmFjdCBjbGFzcyBhbmQgc2hvdWxkIG5vdCBiZSB1c2VkIG9uIGl0cyBvd24gcmF0aGVyIGl0IHNob3VsZCBiZSBleHRlbmRlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIEV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIERpc3BsYXlPYmplY3QgPSBmdW5jdGlvbiAoX0V2ZW50RW1pdHRlcikge1xuICAgIF9pbmhlcml0cyhEaXNwbGF5T2JqZWN0LCBfRXZlbnRFbWl0dGVyKTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gRGlzcGxheU9iamVjdCgpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERpc3BsYXlPYmplY3QpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEVtaXR0ZXIuY2FsbCh0aGlzKSk7XG5cbiAgICAgICAgdmFyIFRyYW5zZm9ybUNsYXNzID0gX3NldHRpbmdzMi5kZWZhdWx0LlRSQU5TRk9STV9NT0RFID09PSBfY29uc3QuVFJBTlNGT1JNX01PREUuU1RBVElDID8gX1RyYW5zZm9ybVN0YXRpYzIuZGVmYXVsdCA6IF9UcmFuc2Zvcm0yLmRlZmF1bHQ7XG5cbiAgICAgICAgX3RoaXMudGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPSBudWxsO1xuXG4gICAgICAgIC8vIFRPRE86IG5lZWQgdG8gY3JlYXRlIFRyYW5zZm9ybSBmcm9tIGZhY3RvcnlcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdvcmxkIHRyYW5zZm9ybSBhbmQgbG9jYWwgdHJhbnNmb3JtIG9mIHRoaXMgb2JqZWN0LlxuICAgICAgICAgKiBUaGlzIHdpbGwgYmVjb21lIHJlYWQtb25seSBsYXRlciwgcGxlYXNlIGRvIG5vdCBhc3NpZ24gYW55dGhpbmcgdGhlcmUgdW5sZXNzIHlvdSBrbm93IHdoYXQgYXJlIHlvdSBkb2luZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRyYW5zZm9ybUJhc2V9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy50cmFuc2Zvcm0gPSBuZXcgVHJhbnNmb3JtQ2xhc3MoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9wYWNpdHkgb2YgdGhlIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYWxwaGEgPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdmlzaWJpbGl0eSBvZiB0aGUgb2JqZWN0LiBJZiBmYWxzZSB0aGUgb2JqZWN0IHdpbGwgbm90IGJlIGRyYXduLCBhbmRcbiAgICAgICAgICogdGhlIHVwZGF0ZVRyYW5zZm9ybSBmdW5jdGlvbiB3aWxsIG5vdCBiZSBjYWxsZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIE9ubHkgYWZmZWN0cyByZWN1cnNpdmUgY2FsbHMgZnJvbSBwYXJlbnQuIFlvdSBjYW4gYXNrIGZvciBib3VuZHMgb3IgY2FsbCB1cGRhdGVUcmFuc2Zvcm0gbWFudWFsbHlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZpc2libGUgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYW4gdGhpcyBvYmplY3QgYmUgcmVuZGVyZWQsIGlmIGZhbHNlIHRoZSBvYmplY3Qgd2lsbCBub3QgYmUgZHJhd24gYnV0IHRoZSB1cGRhdGVUcmFuc2Zvcm1cbiAgICAgICAgICogbWV0aG9kcyB3aWxsIHN0aWxsIGJlIGNhbGxlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogT25seSBhZmZlY3RzIHJlY3Vyc2l2ZSBjYWxscyBmcm9tIHBhcmVudC4gWW91IGNhbiBhc2sgZm9yIGJvdW5kcyBtYW51YWxseVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyYWJsZSA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkaXNwbGF5IG9iamVjdCBjb250YWluZXIgdGhhdCBjb250YWlucyB0aGlzIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkNvbnRhaW5lcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5wYXJlbnQgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbXVsdGlwbGllZCBhbHBoYSBvZiB0aGUgZGlzcGxheU9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMud29ybGRBbHBoYSA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhcmVhIHRoZSBmaWx0ZXIgaXMgYXBwbGllZCB0by4gVGhpcyBpcyB1c2VkIGFzIG1vcmUgb2YgYW4gb3B0aW1pc2F0aW9uXG4gICAgICAgICAqIHJhdGhlciB0aGFuIGZpZ3VyaW5nIG91dCB0aGUgZGltZW5zaW9ucyBvZiB0aGUgZGlzcGxheU9iamVjdCBlYWNoIGZyYW1lIHlvdSBjYW4gc2V0IHRoaXMgcmVjdGFuZ2xlXG4gICAgICAgICAqXG4gICAgICAgICAqIEFsc28gd29ya3MgYXMgYW4gaW50ZXJhY3Rpb24gbWFza1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZpbHRlckFyZWEgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLl9maWx0ZXJzID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX2VuYWJsZWRGaWx0ZXJzID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJvdW5kcyBvYmplY3QsIHRoaXMgaXMgdXNlZCB0byBjYWxjdWxhdGUgYW5kIHN0b3JlIHRoZSBib3VuZHMgb2YgdGhlIGRpc3BsYXlPYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYm91bmRzID0gbmV3IF9Cb3VuZHMyLmRlZmF1bHQoKTtcbiAgICAgICAgX3RoaXMuX2JvdW5kc0lEID0gMDtcbiAgICAgICAgX3RoaXMuX2xhc3RCb3VuZHNJRCA9IC0xO1xuICAgICAgICBfdGhpcy5fYm91bmRzUmVjdCA9IG51bGw7XG4gICAgICAgIF90aGlzLl9sb2NhbEJvdW5kc1JlY3QgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb3JpZ2luYWwsIGNhY2hlZCBtYXNrIG9mIHRoZSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc3xQSVhJLlNwcml0ZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9tYXNrID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhlIG9iamVjdCBoYXMgYmVlbiBkZXN0cm95ZWQgdmlhIGRlc3Ryb3koKS4gSWYgdHJ1ZSwgaXQgc2hvdWxkIG5vdCBiZSB1c2VkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9kZXN0cm95ZWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGlzIERpc3BsYXlPYmplY3QgaXMgYWRkZWQgdG8gYSBDb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjYWRkZWRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciBhZGRlZCB0by5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhpcyBEaXNwbGF5T2JqZWN0IGlzIHJlbW92ZWQgZnJvbSBhIENvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyZW1vdmVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgcmVtb3ZlZCBmcm9tLlxuICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAqL1xuXG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBvYmplY3QgdHJhbnNmb3JtIGZvciByZW5kZXJpbmdcbiAgICAgKlxuICAgICAqIFRPRE8gLSBPcHRpbWl6YXRpb24gcGFzcyFcbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiB1cGRhdGVUcmFuc2Zvcm0oKSB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLnBhcmVudC50cmFuc2Zvcm0pO1xuICAgICAgICAvLyBtdWx0aXBseSB0aGUgYWxwaGFzLi5cbiAgICAgICAgdGhpcy53b3JsZEFscGhhID0gdGhpcy5hbHBoYSAqIHRoaXMucGFyZW50LndvcmxkQWxwaGE7XG5cbiAgICAgICAgdGhpcy5fYm91bmRzLnVwZGF0ZUlEKys7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIHJlY3Vyc2l2ZWx5IHVwZGF0ZXMgdHJhbnNmb3JtIG9mIGFsbCBvYmplY3RzIGZyb20gdGhlIHJvb3QgdG8gdGhpcyBvbmVcbiAgICAgKiBpbnRlcm5hbCBmdW5jdGlvbiBmb3IgdG9Mb2NhbCgpXG4gICAgICovXG5cblxuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKSB7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLnBhcmVudC50cmFuc2Zvcm0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LnRyYW5zZm9ybSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBib3VuZHMgb2YgdGhlIGRpc3BsYXlPYmplY3QgYXMgYSByZWN0YW5nbGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBza2lwVXBkYXRlIC0gc2V0dGluZyB0byB0cnVlIHdpbGwgc3RvcCB0aGUgdHJhbnNmb3JtcyBvZiB0aGUgc2NlbmUgZ3JhcGggZnJvbVxuICAgICAqICBiZWluZyB1cGRhdGVkLiBUaGlzIG1lYW5zIHRoZSBjYWxjdWxhdGlvbiByZXR1cm5lZCBNQVkgYmUgb3V0IG9mIGRhdGUgQlVUIHdpbGwgZ2l2ZSB5b3UgYVxuICAgICAqICBuaWNlIHBlcmZvcm1hbmNlIGJvb3N0XG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdCAtIE9wdGlvbmFsIHJlY3RhbmdsZSB0byBzdG9yZSB0aGUgcmVzdWx0IG9mIHRoZSBib3VuZHMgY2FsY3VsYXRpb25cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gdGhlIHJlY3Rhbmd1bGFyIGJvdW5kaW5nIGFyZWFcbiAgICAgKi9cblxuXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZ2V0Qm91bmRzID0gZnVuY3Rpb24gZ2V0Qm91bmRzKHNraXBVcGRhdGUsIHJlY3QpIHtcbiAgICAgICAgaWYgKCFza2lwVXBkYXRlKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fYm91bmRzSUQgIT09IHRoaXMuX2xhc3RCb3VuZHNJRCkge1xuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVCb3VuZHMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghcmVjdCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9ib3VuZHNSZWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRzUmVjdCA9IG5ldyBfbWF0aC5SZWN0YW5nbGUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVjdCA9IHRoaXMuX2JvdW5kc1JlY3Q7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fYm91bmRzLmdldFJlY3RhbmdsZShyZWN0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIGRpc3BsYXlPYmplY3QgYXMgYSByZWN0YW5nbGUgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbcmVjdF0gLSBPcHRpb25hbCByZWN0YW5nbGUgdG8gc3RvcmUgdGhlIHJlc3VsdCBvZiB0aGUgYm91bmRzIGNhbGN1bGF0aW9uXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IHRoZSByZWN0YW5ndWxhciBib3VuZGluZyBhcmVhXG4gICAgICovXG5cblxuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLmdldExvY2FsQm91bmRzID0gZnVuY3Rpb24gZ2V0TG9jYWxCb3VuZHMocmVjdCkge1xuICAgICAgICB2YXIgdHJhbnNmb3JtUmVmID0gdGhpcy50cmFuc2Zvcm07XG4gICAgICAgIHZhciBwYXJlbnRSZWYgPSB0aGlzLnBhcmVudDtcblxuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQudHJhbnNmb3JtO1xuXG4gICAgICAgIGlmICghcmVjdCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9sb2NhbEJvdW5kc1JlY3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2NhbEJvdW5kc1JlY3QgPSBuZXcgX21hdGguUmVjdGFuZ2xlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9sb2NhbEJvdW5kc1JlY3Q7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYm91bmRzID0gdGhpcy5nZXRCb3VuZHMoZmFsc2UsIHJlY3QpO1xuXG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50UmVmO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVJlZjtcblxuICAgICAgICByZXR1cm4gYm91bmRzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBnbG9iYWwgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvc2l0aW9uIC0gVGhlIHdvcmxkIG9yaWdpbiB0byBjYWxjdWxhdGUgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW3BvaW50XSAtIEEgUG9pbnQgb2JqZWN0IGluIHdoaWNoIHRvIHN0b3JlIHRoZSB2YWx1ZSwgb3B0aW9uYWxcbiAgICAgKiAgKG90aGVyd2lzZSB3aWxsIGNyZWF0ZSBhIG5ldyBQb2ludClcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwVXBkYXRlPWZhbHNlXSAtIFNob3VsZCB3ZSBza2lwIHRoZSB1cGRhdGUgdHJhbnNmb3JtLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IEEgcG9pbnQgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgcG9zaXRpb24gb2YgdGhpcyBvYmplY3RcbiAgICAgKi9cblxuXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUudG9HbG9iYWwgPSBmdW5jdGlvbiB0b0dsb2JhbChwb3NpdGlvbiwgcG9pbnQpIHtcbiAgICAgICAgdmFyIHNraXBVcGRhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlO1xuXG4gICAgICAgIGlmICghc2tpcFVwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpO1xuXG4gICAgICAgICAgICAvLyB0aGlzIHBhcmVudCBjaGVjayBpcyBmb3IganVzdCBpbiBjYXNlIHRoZSBpdGVtIGlzIGEgcm9vdCBvYmplY3QuXG4gICAgICAgICAgICAvLyBJZiBpdCBpcyB3ZSBuZWVkIHRvIGdpdmUgaXQgYSB0ZW1wb3JhcnkgcGFyZW50IHNvIHRoYXQgZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSB3b3JrcyBjb3JyZWN0bHlcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgbWFpbmx5IHRvIGF2b2lkIGEgcGFyZW50IGNoZWNrIGluIHRoZSBtYWluIGxvb3AuIEV2ZXJ5IGxpdHRsZSBoZWxwcyBmb3IgcGVyZm9ybWFuY2UgOilcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkb24ndCBuZWVkIHRvIHVwZGF0ZSB0aGUgbG90XG4gICAgICAgIHJldHVybiB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5KHBvc2l0aW9uLCBwb2ludCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGxvY2FsIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5IG9iamVjdCByZWxhdGl2ZSB0byBhbm90aGVyIHBvaW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvc2l0aW9uIC0gVGhlIHdvcmxkIG9yaWdpbiB0byBjYWxjdWxhdGUgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBbZnJvbV0gLSBUaGUgRGlzcGxheU9iamVjdCB0byBjYWxjdWxhdGUgdGhlIGdsb2JhbCBwb3NpdGlvbiBmcm9tXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBbcG9pbnRdIC0gQSBQb2ludCBvYmplY3QgaW4gd2hpY2ggdG8gc3RvcmUgdGhlIHZhbHVlLCBvcHRpb25hbFxuICAgICAqICAob3RoZXJ3aXNlIHdpbGwgY3JlYXRlIGEgbmV3IFBvaW50KVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBVcGRhdGU9ZmFsc2VdIC0gU2hvdWxkIHdlIHNraXAgdGhlIHVwZGF0ZSB0cmFuc2Zvcm1cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBBIHBvaW50IG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHBvc2l0aW9uIG9mIHRoaXMgb2JqZWN0XG4gICAgICovXG5cblxuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnRvTG9jYWwgPSBmdW5jdGlvbiB0b0xvY2FsKHBvc2l0aW9uLCBmcm9tLCBwb2ludCwgc2tpcFVwZGF0ZSkge1xuICAgICAgICBpZiAoZnJvbSkge1xuICAgICAgICAgICAgcG9zaXRpb24gPSBmcm9tLnRvR2xvYmFsKHBvc2l0aW9uLCBwb2ludCwgc2tpcFVwZGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXNraXBVcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcblxuICAgICAgICAgICAgLy8gdGhpcyBwYXJlbnQgY2hlY2sgaXMgZm9yIGp1c3QgaW4gY2FzZSB0aGUgaXRlbSBpcyBhIHJvb3Qgb2JqZWN0LlxuICAgICAgICAgICAgLy8gSWYgaXQgaXMgd2UgbmVlZCB0byBnaXZlIGl0IGEgdGVtcG9yYXJ5IHBhcmVudCBzbyB0aGF0IGRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0gd29ya3MgY29ycmVjdGx5XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG1haW5seSB0byBhdm9pZCBhIHBhcmVudCBjaGVjayBpbiB0aGUgbWFpbiBsb29wLiBFdmVyeSBsaXR0bGUgaGVscHMgZm9yIHBlcmZvcm1hbmNlIDopXG4gICAgICAgICAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2ltcGx5IGFwcGx5IHRoZSBtYXRyaXguLlxuICAgICAgICByZXR1cm4gdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9zaXRpb24sIHBvaW50KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG5cblxuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnJlbmRlcldlYkdMID0gZnVuY3Rpb24gcmVuZGVyV2ViR0wocmVuZGVyZXIpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICB7fVxuICAgIC8vIE9WRVJXUklURTtcblxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBDYW52YXMgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICA7XG5cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5yZW5kZXJDYW52YXMgPSBmdW5jdGlvbiByZW5kZXJDYW52YXMocmVuZGVyZXIpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICB7fVxuICAgIC8vIE9WRVJXUklURTtcblxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBwYXJlbnQgQ29udGFpbmVyIG9mIHRoaXMgRGlzcGxheU9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIENvbnRhaW5lciB0byBhZGQgdGhpcyBEaXNwbGF5T2JqZWN0IHRvXG4gICAgICogQHJldHVybiB7UElYSS5Db250YWluZXJ9IFRoZSBDb250YWluZXIgdGhhdCB0aGlzIERpc3BsYXlPYmplY3Qgd2FzIGFkZGVkIHRvXG4gICAgICovXG4gICAgO1xuXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuc2V0UGFyZW50ID0gZnVuY3Rpb24gc2V0UGFyZW50KGNvbnRhaW5lcikge1xuICAgICAgICBpZiAoIWNvbnRhaW5lciB8fCAhY29udGFpbmVyLmFkZENoaWxkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFBhcmVudDogQXJndW1lbnQgbXVzdCBiZSBhIENvbnRhaW5lcicpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGFpbmVyLmFkZENoaWxkKHRoaXMpO1xuXG4gICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlbmllbmNlIGZ1bmN0aW9uIHRvIHNldCB0aGUgcG9zaXRpb24sIHNjYWxlLCBza2V3IGFuZCBwaXZvdCBhdCBvbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gVGhlIFggcG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBwb3NpdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVYPTFdIC0gVGhlIFggc2NhbGUgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlWT0xXSAtIFRoZSBZIHNjYWxlIHZhbHVlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyb3RhdGlvbj0wXSAtIFRoZSByb3RhdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2tld1g9MF0gLSBUaGUgWCBza2V3IHZhbHVlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtza2V3WT0wXSAtIFRoZSBZIHNrZXcgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bpdm90WD0wXSAtIFRoZSBYIHBpdm90IHZhbHVlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwaXZvdFk9MF0gLSBUaGUgWSBwaXZvdCB2YWx1ZVxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIERpc3BsYXlPYmplY3QgaW5zdGFuY2VcbiAgICAgKi9cblxuXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuc2V0VHJhbnNmb3JtID0gZnVuY3Rpb24gc2V0VHJhbnNmb3JtKCkge1xuICAgICAgICB2YXIgeCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICAgICAgdmFyIHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gICAgICAgIHZhciBzY2FsZVggPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDE7XG4gICAgICAgIHZhciBzY2FsZVkgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IDE7XG4gICAgICAgIHZhciByb3RhdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ICYmIGFyZ3VtZW50c1s0XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzRdIDogMDtcbiAgICAgICAgdmFyIHNrZXdYID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgJiYgYXJndW1lbnRzWzVdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNV0gOiAwO1xuICAgICAgICB2YXIgc2tld1kgPSBhcmd1bWVudHMubGVuZ3RoID4gNiAmJiBhcmd1bWVudHNbNl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s2XSA6IDA7XG4gICAgICAgIHZhciBwaXZvdFggPSBhcmd1bWVudHMubGVuZ3RoID4gNyAmJiBhcmd1bWVudHNbN10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s3XSA6IDA7XG4gICAgICAgIHZhciBwaXZvdFkgPSBhcmd1bWVudHMubGVuZ3RoID4gOCAmJiBhcmd1bWVudHNbOF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s4XSA6IDA7XG5cbiAgICAgICAgdGhpcy5wb3NpdGlvbi54ID0geDtcbiAgICAgICAgdGhpcy5wb3NpdGlvbi55ID0geTtcbiAgICAgICAgdGhpcy5zY2FsZS54ID0gIXNjYWxlWCA/IDEgOiBzY2FsZVg7XG4gICAgICAgIHRoaXMuc2NhbGUueSA9ICFzY2FsZVkgPyAxIDogc2NhbGVZO1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0gcm90YXRpb247XG4gICAgICAgIHRoaXMuc2tldy54ID0gc2tld1g7XG4gICAgICAgIHRoaXMuc2tldy55ID0gc2tld1k7XG4gICAgICAgIHRoaXMucGl2b3QueCA9IHBpdm90WDtcbiAgICAgICAgdGhpcy5waXZvdC55ID0gcGl2b3RZO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBCYXNlIGRlc3Ryb3kgbWV0aG9kIGZvciBnZW5lcmljIGRpc3BsYXkgb2JqZWN0cy4gVGhpcyB3aWxsIGF1dG9tYXRpY2FsbHlcbiAgICAgKiByZW1vdmUgdGhlIGRpc3BsYXkgb2JqZWN0IGZyb20gaXRzIHBhcmVudCBDb250YWluZXIgYXMgd2VsbCBhcyByZW1vdmVcbiAgICAgKiBhbGwgY3VycmVudCBldmVudCBsaXN0ZW5lcnMgYW5kIGludGVybmFsIHJlZmVyZW5jZXMuIERvIG5vdCB1c2UgYSBEaXNwbGF5T2JqZWN0XG4gICAgICogYWZ0ZXIgY2FsbGluZyBgZGVzdHJveWAuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQucmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSBudWxsO1xuXG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9ib3VuZHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9jdXJyZW50Qm91bmRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbWFzayA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5maWx0ZXJBcmVhID0gbnVsbDtcblxuICAgICAgICB0aGlzLmludGVyYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaW50ZXJhY3RpdmVDaGlsZHJlbiA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdCBvbiB0aGUgeCBheGlzIHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAqIEFuIGFsaWFzIHRvIHBvc2l0aW9uLnhcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKERpc3BsYXlPYmplY3QsIFt7XG4gICAgICAgIGtleTogJ190ZW1wRGlzcGxheU9iamVjdFBhcmVudCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID0gbmV3IERpc3BsYXlPYmplY3QoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3gnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLng7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24ueCA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdCBvbiB0aGUgeSBheGlzIHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAgICAgKiBBbiBhbGlhcyB0byBwb3NpdGlvbi55XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3knLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLnk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24ueSA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgdHJhbnNmb3JtIG9mIHRoZSBvYmplY3QgYmFzZWQgb24gd29ybGQgKHBhcmVudCkgZmFjdG9yc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd3b3JsZFRyYW5zZm9ybScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgdHJhbnNmb3JtIG9mIHRoZSBvYmplY3QgYmFzZWQgb24gbG9jYWwgZmFjdG9yczogcG9zaXRpb24sIHNjYWxlLCBvdGhlciBzdHVmZlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdsb2NhbFRyYW5zZm9ybScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLmxvY2FsVHJhbnNmb3JtO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb29yZGluYXRlIG9mIHRoZSBvYmplY3QgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICAgICAqIEFzc2lnbm1lbnQgYnkgdmFsdWUgc2luY2UgcGl4aS12NC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludHxQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3Bvc2l0aW9uJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ucG9zaXRpb247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uY29weSh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNjYWxlIGZhY3RvciBvZiB0aGUgb2JqZWN0LlxuICAgICAgICAgKiBBc3NpZ25tZW50IGJ5IHZhbHVlIHNpbmNlIHBpeGktdjQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR8UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdzY2FsZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnNjYWxlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnNjYWxlLmNvcHkodmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwaXZvdCBwb2ludCBvZiB0aGUgZGlzcGxheU9iamVjdCB0aGF0IGl0IHJvdGF0ZXMgYXJvdW5kXG4gICAgICAgICAqIEFzc2lnbm1lbnQgYnkgdmFsdWUgc2luY2UgcGl4aS12NC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludHxQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3Bpdm90JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ucGl2b3Q7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucGl2b3QuY29weSh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNrZXcgZmFjdG9yIGZvciB0aGUgb2JqZWN0IGluIHJhZGlhbnMuXG4gICAgICAgICAqIEFzc2lnbm1lbnQgYnkgdmFsdWUgc2luY2UgcGl4aS12NC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdza2V3JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0uc2tldztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5za2V3LmNvcHkodmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByb3RhdGlvbiBvZiB0aGUgb2JqZWN0IGluIHJhZGlhbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JvdGF0aW9uJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ucm90YXRpb247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucm90YXRpb24gPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIG9iamVjdCBpcyBnbG9iYWxseSB2aXNpYmxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3dvcmxkVmlzaWJsZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzO1xuXG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgaWYgKCFpdGVtLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGl0ZW0gPSBpdGVtLnBhcmVudDtcbiAgICAgICAgICAgIH0gd2hpbGUgKGl0ZW0pO1xuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIGEgbWFzayBmb3IgdGhlIGRpc3BsYXlPYmplY3QuIEEgbWFzayBpcyBhbiBvYmplY3QgdGhhdCBsaW1pdHMgdGhlIHZpc2liaWxpdHkgb2YgYW5cbiAgICAgICAgICogb2JqZWN0IHRvIHRoZSBzaGFwZSBvZiB0aGUgbWFzayBhcHBsaWVkIHRvIGl0LiBJbiBQSVhJIGEgcmVndWxhciBtYXNrIG11c3QgYmUgYVxuICAgICAgICAgKiBQSVhJLkdyYXBoaWNzIG9yIGEgUElYSS5TcHJpdGUgb2JqZWN0LiBUaGlzIGFsbG93cyBmb3IgbXVjaCBmYXN0ZXIgbWFza2luZyBpbiBjYW52YXMgYXMgaXRcbiAgICAgICAgICogdXRpbGlzZXMgc2hhcGUgY2xpcHBpbmcuIFRvIHJlbW92ZSBhIG1hc2ssIHNldCB0aGlzIHByb3BlcnR5IHRvIG51bGwuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0b2RvIEZvciB0aGUgbW9tZW50LCBQSVhJLkNhbnZhc1JlbmRlcmVyIGRvZXNuJ3Qgc3VwcG9ydCBQSVhJLlNwcml0ZSBhcyBtYXNrLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzfFBJWEkuU3ByaXRlfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnbWFzaycsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21hc2s7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX21hc2spIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXNrLnJlbmRlcmFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX21hc2suaXNNYXNrID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX21hc2sgPSB2YWx1ZTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX21hc2spIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXNrLnJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXNrLmlzTWFzayA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgZmlsdGVycyBmb3IgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICAgICAqICogSU1QT1JUQU5UOiBUaGlzIGlzIGEgd2ViR0wgb25seSBmZWF0dXJlIGFuZCB3aWxsIGJlIGlnbm9yZWQgYnkgdGhlIGNhbnZhcyByZW5kZXJlci5cbiAgICAgICAgICogVG8gcmVtb3ZlIGZpbHRlcnMgc2ltcGx5IHNldCB0aGlzIHByb3BlcnR5IHRvICdudWxsJ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZpbHRlcltdfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZmlsdGVycycsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbHRlcnMgJiYgdGhpcy5fZmlsdGVycy5zbGljZSgpO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpbHRlcnMgPSB2YWx1ZSAmJiB2YWx1ZS5zbGljZSgpO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIERpc3BsYXlPYmplY3Q7XG59KF9ldmVudGVtaXR0ZXIyLmRlZmF1bHQpO1xuXG4vLyBwZXJmb3JtYW5jZSBpbmNyZWFzZSB0byBhdm9pZCB1c2luZyBjYWxsLi4gKDEweCBmYXN0ZXIpXG5cblxuZXhwb3J0cy5kZWZhdWx0ID0gRGlzcGxheU9iamVjdDtcbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0gPSBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EaXNwbGF5T2JqZWN0LmpzLm1hcCIsIi8qKlxuICogRXh0cmFjdHMgdGhlIGF0dHJpYnV0ZXNcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlLnNoYWRlclxuICogQHBhcmFtIGdsIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gKiBAcGFyYW0gdW5pZm9ybXMge0FycmF5fSBAbWF0ID9cbiAqIEByZXR1cm4gYXR0cmlidXRlcyB7T2JqZWN0fVxuICovXG52YXIgZ2VuZXJhdGVVbmlmb3JtQWNjZXNzT2JqZWN0ID0gZnVuY3Rpb24oZ2wsIHVuaWZvcm1EYXRhKVxue1xuICAgIC8vIHRoaXMgaXMgdGhlIG9iamVjdCB3ZSB3aWxsIGJlIHNlbmRpbmcgYmFjay5cbiAgICAvLyBhbiBvYmplY3QgaGllcmFjaHkgd2lsbCBiZSBjcmVhdGVkIGZvciBzdHJ1Y3RzXG4gICAgdmFyIHVuaWZvcm1zID0ge2RhdGE6e319O1xuXG4gICAgdW5pZm9ybXMuZ2wgPSBnbDtcblxuICAgIHZhciB1bmlmb3JtS2V5cz0gT2JqZWN0LmtleXModW5pZm9ybURhdGEpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB1bmlmb3JtS2V5cy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIHZhciBmdWxsTmFtZSA9IHVuaWZvcm1LZXlzW2ldO1xuXG4gICAgICAgIHZhciBuYW1lVG9rZW5zID0gZnVsbE5hbWUuc3BsaXQoJy4nKTtcbiAgICAgICAgdmFyIG5hbWUgPSBuYW1lVG9rZW5zW25hbWVUb2tlbnMubGVuZ3RoIC0gMV07XG5cblxuICAgICAgICB2YXIgdW5pZm9ybUdyb3VwID0gZ2V0VW5pZm9ybUdyb3VwKG5hbWVUb2tlbnMsIHVuaWZvcm1zKTtcblxuICAgICAgICB2YXIgdW5pZm9ybSA9ICB1bmlmb3JtRGF0YVtmdWxsTmFtZV07XG4gICAgICAgIHVuaWZvcm1Hcm91cC5kYXRhW25hbWVdID0gdW5pZm9ybTtcblxuICAgICAgICB1bmlmb3JtR3JvdXAuZ2wgPSBnbDtcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodW5pZm9ybUdyb3VwLCBuYW1lLCB7XG4gICAgICAgICAgICBnZXQ6IGdlbmVyYXRlR2V0dGVyKG5hbWUpLFxuICAgICAgICAgICAgc2V0OiBnZW5lcmF0ZVNldHRlcihuYW1lLCB1bmlmb3JtKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdW5pZm9ybXM7XG59O1xuXG52YXIgZ2VuZXJhdGVHZXR0ZXIgPSBmdW5jdGlvbihuYW1lKVxue1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVtuYW1lXS52YWx1ZTtcbiAgICB9O1xufTtcblxudmFyIEdMU0xfU0lOR0xFX1NFVFRFUlMgPSB7XG4gICAgZmxvYXQ6IGZ1bmN0aW9uIHNldFNpbmdsZUZsb2F0KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTFmKGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgdmVjMjogZnVuY3Rpb24gc2V0U2luZ2xlVmVjMihnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0yZihsb2NhdGlvbiwgdmFsdWVbMF0sIHZhbHVlWzFdKTsgfSxcbiAgICB2ZWMzOiBmdW5jdGlvbiBzZXRTaW5nbGVWZWMzKGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTNmKGxvY2F0aW9uLCB2YWx1ZVswXSwgdmFsdWVbMV0sIHZhbHVlWzJdKTsgfSxcbiAgICB2ZWM0OiBmdW5jdGlvbiBzZXRTaW5nbGVWZWM0KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTRmKGxvY2F0aW9uLCB2YWx1ZVswXSwgdmFsdWVbMV0sIHZhbHVlWzJdLCB2YWx1ZVszXSk7IH0sXG5cbiAgICBpbnQ6IGZ1bmN0aW9uIHNldFNpbmdsZUludChnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0xaShsb2NhdGlvbiwgdmFsdWUpOyB9LFxuICAgIGl2ZWMyOiBmdW5jdGlvbiBzZXRTaW5nbGVJdmVjMihnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0yaShsb2NhdGlvbiwgdmFsdWVbMF0sIHZhbHVlWzFdKTsgfSxcbiAgICBpdmVjMzogZnVuY3Rpb24gc2V0U2luZ2xlSXZlYzMoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtM2kobG9jYXRpb24sIHZhbHVlWzBdLCB2YWx1ZVsxXSwgdmFsdWVbMl0pOyB9LFxuICAgIGl2ZWM0OiBmdW5jdGlvbiBzZXRTaW5nbGVJdmVjNChnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm00aShsb2NhdGlvbiwgdmFsdWVbMF0sIHZhbHVlWzFdLCB2YWx1ZVsyXSwgdmFsdWVbM10pOyB9LFxuXG4gICAgYm9vbDogZnVuY3Rpb24gc2V0U2luZ2xlQm9vbChnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0xaShsb2NhdGlvbiwgdmFsdWUpOyB9LFxuICAgIGJ2ZWMyOiBmdW5jdGlvbiBzZXRTaW5nbGVCdmVjMihnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0yaShsb2NhdGlvbiwgdmFsdWVbMF0sIHZhbHVlWzFdKTsgfSxcbiAgICBidmVjMzogZnVuY3Rpb24gc2V0U2luZ2xlQnZlYzMoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtM2kobG9jYXRpb24sIHZhbHVlWzBdLCB2YWx1ZVsxXSwgdmFsdWVbMl0pOyB9LFxuICAgIGJ2ZWM0OiBmdW5jdGlvbiBzZXRTaW5nbGVCdmVjNChnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm00aShsb2NhdGlvbiwgdmFsdWVbMF0sIHZhbHVlWzFdLCB2YWx1ZVsyXSwgdmFsdWVbM10pOyB9LFxuXG4gICAgbWF0MjogZnVuY3Rpb24gc2V0U2luZ2xlTWF0MihnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm1NYXRyaXgyZnYobG9jYXRpb24sIGZhbHNlLCB2YWx1ZSk7IH0sXG4gICAgbWF0MzogZnVuY3Rpb24gc2V0U2luZ2xlTWF0MyhnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm1NYXRyaXgzZnYobG9jYXRpb24sIGZhbHNlLCB2YWx1ZSk7IH0sXG4gICAgbWF0NDogZnVuY3Rpb24gc2V0U2luZ2xlTWF0NChnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm1NYXRyaXg0ZnYobG9jYXRpb24sIGZhbHNlLCB2YWx1ZSk7IH0sXG5cbiAgICBzYW1wbGVyMkQ6IGZ1bmN0aW9uIHNldFNpbmdsZVNhbXBsZXIyRChnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0xaShsb2NhdGlvbiwgdmFsdWUpOyB9LFxufTtcblxudmFyIEdMU0xfQVJSQVlfU0VUVEVSUyA9IHtcbiAgICBmbG9hdDogZnVuY3Rpb24gc2V0RmxvYXRBcnJheShnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0xZnYobG9jYXRpb24sIHZhbHVlKTsgfSxcbiAgICB2ZWMyOiBmdW5jdGlvbiBzZXRWZWMyQXJyYXkoZ2wsIGxvY2F0aW9uLCB2YWx1ZSkgeyBnbC51bmlmb3JtMmZ2KGxvY2F0aW9uLCB2YWx1ZSk7IH0sXG4gICAgdmVjMzogZnVuY3Rpb24gc2V0VmVjM0FycmF5KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTNmdihsb2NhdGlvbiwgdmFsdWUpOyB9LFxuICAgIHZlYzQ6IGZ1bmN0aW9uIHNldFZlYzRBcnJheShnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm00ZnYobG9jYXRpb24sIHZhbHVlKTsgfSxcbiAgICBpbnQ6IGZ1bmN0aW9uIHNldEludEFycmF5KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdmFsdWUpOyB9LFxuICAgIGl2ZWMyOiBmdW5jdGlvbiBzZXRJdmVjMkFycmF5KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTJpdihsb2NhdGlvbiwgdmFsdWUpOyB9LFxuICAgIGl2ZWMzOiBmdW5jdGlvbiBzZXRJdmVjM0FycmF5KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTNpdihsb2NhdGlvbiwgdmFsdWUpOyB9LFxuICAgIGl2ZWM0OiBmdW5jdGlvbiBzZXRJdmVjNEFycmF5KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTRpdihsb2NhdGlvbiwgdmFsdWUpOyB9LFxuICAgIGJvb2w6IGZ1bmN0aW9uIHNldEJvb2xBcnJheShnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0xaXYobG9jYXRpb24sIHZhbHVlKTsgfSxcbiAgICBidmVjMjogZnVuY3Rpb24gc2V0QnZlYzJBcnJheShnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0yaXYobG9jYXRpb24sIHZhbHVlKTsgfSxcbiAgICBidmVjMzogZnVuY3Rpb24gc2V0QnZlYzNBcnJheShnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm0zaXYobG9jYXRpb24sIHZhbHVlKTsgfSxcbiAgICBidmVjNDogZnVuY3Rpb24gc2V0QnZlYzRBcnJheShnbCwgbG9jYXRpb24sIHZhbHVlKSB7IGdsLnVuaWZvcm00aXYobG9jYXRpb24sIHZhbHVlKTsgfSxcbiAgICBzYW1wbGVyMkQ6IGZ1bmN0aW9uIHNldFNhbXBsZXIyREFycmF5KGdsLCBsb2NhdGlvbiwgdmFsdWUpIHsgZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdmFsdWUpOyB9LFxufTtcblxuZnVuY3Rpb24gZ2VuZXJhdGVTZXR0ZXIobmFtZSwgdW5pZm9ybSlcbntcbiAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdGhpcy5kYXRhW25hbWVdLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHZhciBsb2NhdGlvbiA9IHRoaXMuZGF0YVtuYW1lXS5sb2NhdGlvbjtcbiAgICAgICAgaWYgKHVuaWZvcm0uc2l6ZSA9PT0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgR0xTTF9TSU5HTEVfU0VUVEVSU1t1bmlmb3JtLnR5cGVdKHRoaXMuZ2wsIGxvY2F0aW9uLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBnbHNsU2V0QXJyYXkoZ2wsIGxvY2F0aW9uLCB0eXBlLCB2YWx1ZSkge1xuICAgICAgICAgICAgR0xTTF9BUlJBWV9TRVRURVJTW3VuaWZvcm0udHlwZV0odGhpcy5nbCwgbG9jYXRpb24sIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldFVuaWZvcm1Hcm91cChuYW1lVG9rZW5zLCB1bmlmb3JtKVxue1xuICAgIHZhciBjdXIgPSB1bmlmb3JtO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuYW1lVG9rZW5zLmxlbmd0aCAtIDE7IGkrKylcbiAgICB7XG4gICAgICAgIHZhciBvID0gY3VyW25hbWVUb2tlbnNbaV1dIHx8IHtkYXRhOnt9fTtcbiAgICAgICAgY3VyW25hbWVUb2tlbnNbaV1dID0gbztcbiAgICAgICAgY3VyID0gbztcbiAgICB9XG5cbiAgICByZXR1cm4gY3VyO1xufVxuXG5cbm1vZHVsZS5leHBvcnRzID0gZ2VuZXJhdGVVbmlmb3JtQWNjZXNzT2JqZWN0O1xuIiwiLyoqXG4gKiBTZXRzIHRoZSBmbG9hdCBwcmVjaXNpb24gb24gdGhlIHNoYWRlci4gSWYgdGhlIHByZWNpc2lvbiBpcyBhbHJlYWR5IHByZXNlbnQgdGhpcyBmdW5jdGlvbiB3aWxsIGRvIG5vdGhpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfSBzcmMgICAgICAgdGhlIHNoYWRlciBzb3VyY2VcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcmVjaXNpb24gVGhlIGZsb2F0IHByZWNpc2lvbiBvZiB0aGUgc2hhZGVyLiBPcHRpb25zIGFyZSAnbG93cCcsICdtZWRpdW1wJyBvciAnaGlnaHAnLlxuICpcbiAqIEByZXR1cm4ge3N0cmluZ30gbW9kaWZpZWQgc2hhZGVyIHNvdXJjZVxuICovXG52YXIgc2V0UHJlY2lzaW9uID0gZnVuY3Rpb24oc3JjLCBwcmVjaXNpb24pXG57XG4gICAgaWYoc3JjLnN1YnN0cmluZygwLCA5KSAhPT0gJ3ByZWNpc2lvbicpXG4gICAge1xuICAgICAgICByZXR1cm4gJ3ByZWNpc2lvbiAnICsgcHJlY2lzaW9uICsgJyBmbG9hdDtcXG4nICsgc3JjO1xuICAgIH1cblxuICAgIHJldHVybiBzcmM7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHNldFByZWNpc2lvbjtcbiIsIi8qKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmUuc2hhZGVyXG4gKiBAcGFyYW0gdHlwZSB7U3RyaW5nfSBUeXBlIG9mIHZhbHVlXG4gKiBAcGFyYW0gc2l6ZSB7TnVtYmVyfVxuICovXG52YXIgZGVmYXVsdFZhbHVlID0gZnVuY3Rpb24odHlwZSwgc2l6ZSkgXG57XG4gICAgc3dpdGNoICh0eXBlKVxuICAgIHtcbiAgICAgICAgY2FzZSAnZmxvYXQnOlxuICAgICAgICAgICAgcmV0dXJuIDA7XG5cbiAgICAgICAgY2FzZSAndmVjMic6IFxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoMiAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ3ZlYzMnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoMyAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ3ZlYzQnOiAgICAgXG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSg0ICogc2l6ZSk7XG4gICAgICAgICAgICBcbiAgICAgICAgY2FzZSAnaW50JzpcbiAgICAgICAgY2FzZSAnc2FtcGxlcjJEJzpcbiAgICAgICAgICAgIHJldHVybiAwO1xuXG4gICAgICAgIGNhc2UgJ2l2ZWMyJzogICBcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheSgyICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAnaXZlYzMnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnQzMkFycmF5KDMgKiBzaXplKTtcblxuICAgICAgICBjYXNlICdpdmVjNCc6IFxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnQzMkFycmF5KDQgKiBzaXplKTtcblxuICAgICAgICBjYXNlICdib29sJzogICAgIFxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGNhc2UgJ2J2ZWMyJzpcblxuICAgICAgICAgICAgcmV0dXJuIGJvb2xlYW5BcnJheSggMiAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ2J2ZWMzJzpcbiAgICAgICAgICAgIHJldHVybiBib29sZWFuQXJyYXkoMyAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ2J2ZWM0JzpcbiAgICAgICAgICAgIHJldHVybiBib29sZWFuQXJyYXkoNCAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ21hdDInOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoWzEsIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCwgMV0pO1xuXG4gICAgICAgIGNhc2UgJ21hdDMnOiBcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsIDEsIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCwgMCwgMV0pO1xuXG4gICAgICAgIGNhc2UgJ21hdDQnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoWzEsIDAsIDAsIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCwgMSwgMCwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLCAwLCAxLCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsIDAsIDAsIDFdKTtcbiAgICB9XG59O1xuXG52YXIgYm9vbGVhbkFycmF5ID0gZnVuY3Rpb24oc2l6ZSlcbntcbiAgICB2YXIgYXJyYXkgPSBuZXcgQXJyYXkoc2l6ZSk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSBcbiAgICB7XG4gICAgICAgIGFycmF5W2ldID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFycmF5O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBkZWZhdWx0VmFsdWU7XG4iLCJ2YXIgbWFwVHlwZSA9IHJlcXVpcmUoJy4vbWFwVHlwZScpO1xudmFyIGRlZmF1bHRWYWx1ZSA9IHJlcXVpcmUoJy4vZGVmYXVsdFZhbHVlJyk7XG5cbi8qKlxuICogRXh0cmFjdHMgdGhlIHVuaWZvcm1zXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZS5zaGFkZXJcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICogQHBhcmFtIHByb2dyYW0ge1dlYkdMUHJvZ3JhbX0gVGhlIHNoYWRlciBwcm9ncmFtIHRvIGdldCB0aGUgdW5pZm9ybXMgZnJvbVxuICogQHJldHVybiB1bmlmb3JtcyB7T2JqZWN0fVxuICovXG52YXIgZXh0cmFjdFVuaWZvcm1zID0gZnVuY3Rpb24oZ2wsIHByb2dyYW0pXG57XG5cdHZhciB1bmlmb3JtcyA9IHt9O1xuXG4gICAgdmFyIHRvdGFsVW5pZm9ybXMgPSBnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkFDVElWRV9VTklGT1JNUyk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsVW5pZm9ybXM7IGkrKylcbiAgICB7XG4gICAgXHR2YXIgdW5pZm9ybURhdGEgPSBnbC5nZXRBY3RpdmVVbmlmb3JtKHByb2dyYW0sIGkpO1xuICAgIFx0dmFyIG5hbWUgPSB1bmlmb3JtRGF0YS5uYW1lLnJlcGxhY2UoL1xcWy4qP1xcXS8sIFwiXCIpO1xuICAgICAgICB2YXIgdHlwZSA9IG1hcFR5cGUoZ2wsIHVuaWZvcm1EYXRhLnR5cGUgKTtcblxuICAgIFx0dW5pZm9ybXNbbmFtZV0gPSB7XG4gICAgXHRcdHR5cGU6dHlwZSxcbiAgICBcdFx0c2l6ZTp1bmlmb3JtRGF0YS5zaXplLFxuICAgIFx0XHRsb2NhdGlvbjpnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgbmFtZSksXG4gICAgXHRcdHZhbHVlOmRlZmF1bHRWYWx1ZSh0eXBlLCB1bmlmb3JtRGF0YS5zaXplKVxuICAgIFx0fTtcbiAgICB9XG5cblx0cmV0dXJuIHVuaWZvcm1zO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHRyYWN0VW5pZm9ybXM7XG4iLCIvKipcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlLnNoYWRlclxuICogQHBhcmFtIHR5cGUge1N0cmluZ31cbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xudmFyIG1hcFNpemUgPSBmdW5jdGlvbih0eXBlKSBcbnsgXG4gICAgcmV0dXJuIEdMU0xfVE9fU0laRVt0eXBlXTtcbn07XG5cblxudmFyIEdMU0xfVE9fU0laRSA9IHtcbiAgICAnZmxvYXQnOiAgICAxLFxuICAgICd2ZWMyJzogICAgIDIsXG4gICAgJ3ZlYzMnOiAgICAgMyxcbiAgICAndmVjNCc6ICAgICA0LFxuXG4gICAgJ2ludCc6ICAgICAgMSxcbiAgICAnaXZlYzInOiAgICAyLFxuICAgICdpdmVjMyc6ICAgIDMsXG4gICAgJ2l2ZWM0JzogICAgNCxcblxuICAgICdib29sJzogICAgIDEsXG4gICAgJ2J2ZWMyJzogICAgMixcbiAgICAnYnZlYzMnOiAgICAzLFxuICAgICdidmVjNCc6ICAgIDQsXG5cbiAgICAnbWF0Mic6ICAgICA0LFxuICAgICdtYXQzJzogICAgIDksXG4gICAgJ21hdDQnOiAgICAgMTYsXG5cbiAgICAnc2FtcGxlcjJEJzogIDFcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gbWFwU2l6ZTtcbiIsIlxudmFyIG1hcFR5cGUgPSByZXF1aXJlKCcuL21hcFR5cGUnKTtcbnZhciBtYXBTaXplID0gcmVxdWlyZSgnLi9tYXBTaXplJyk7XG5cbi8qKlxuICogRXh0cmFjdHMgdGhlIGF0dHJpYnV0ZXNcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlLnNoYWRlclxuICogQHBhcmFtIGdsIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gKiBAcGFyYW0gcHJvZ3JhbSB7V2ViR0xQcm9ncmFtfSBUaGUgc2hhZGVyIHByb2dyYW0gdG8gZ2V0IHRoZSBhdHRyaWJ1dGVzIGZyb21cbiAqIEByZXR1cm4gYXR0cmlidXRlcyB7T2JqZWN0fVxuICovXG52YXIgZXh0cmFjdEF0dHJpYnV0ZXMgPSBmdW5jdGlvbihnbCwgcHJvZ3JhbSlcbntcbiAgICB2YXIgYXR0cmlidXRlcyA9IHt9O1xuXG4gICAgdmFyIHRvdGFsQXR0cmlidXRlcyA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuQUNUSVZFX0FUVFJJQlVURVMpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbEF0dHJpYnV0ZXM7IGkrKylcbiAgICB7XG4gICAgICAgIHZhciBhdHRyaWJEYXRhID0gZ2wuZ2V0QWN0aXZlQXR0cmliKHByb2dyYW0sIGkpO1xuICAgICAgICB2YXIgdHlwZSA9IG1hcFR5cGUoZ2wsIGF0dHJpYkRhdGEudHlwZSk7XG5cbiAgICAgICAgYXR0cmlidXRlc1thdHRyaWJEYXRhLm5hbWVdID0ge1xuICAgICAgICAgICAgdHlwZTp0eXBlLFxuICAgICAgICAgICAgc2l6ZTptYXBTaXplKHR5cGUpLFxuICAgICAgICAgICAgbG9jYXRpb246Z2wuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbSwgYXR0cmliRGF0YS5uYW1lKSxcbiAgICAgICAgICAgIC8vVE9ETyAtIG1ha2UgYW4gYXR0cmlidXRlIG9iamVjdFxuICAgICAgICAgICAgcG9pbnRlcjogcG9pbnRlclxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBhdHRyaWJ1dGVzO1xufTtcblxudmFyIHBvaW50ZXIgPSBmdW5jdGlvbih0eXBlLCBub3JtYWxpemVkLCBzdHJpZGUsIHN0YXJ0KXtcbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmxvY2F0aW9uKVxuICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5sb2NhdGlvbix0aGlzLnNpemUsIHR5cGUgfHwgZ2wuRkxPQVQsIG5vcm1hbGl6ZWQgfHwgZmFsc2UsIHN0cmlkZSB8fCAwLCBzdGFydCB8fCAwKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXh0cmFjdEF0dHJpYnV0ZXM7XG4iLCJcbi8qKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmUuc2hhZGVyXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgY29udGV4dCB7V2ViR0xQcm9ncmFtfVxuICogQHBhcmFtIHZlcnRleFNyYyB7c3RyaW5nfHN0cmluZ1tdfSBUaGUgdmVydGV4IHNoYWRlciBzb3VyY2UgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqIEBwYXJhbSBmcmFnbWVudFNyYyB7c3RyaW5nfHN0cmluZ1tdfSBUaGUgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZSBhcyBhbiBhcnJheSBvZiBzdHJpbmdzLlxuICogQHBhcmFtIGF0dHJpYnV0ZUxvY2F0aW9ucyB7T2JqZWN0fSBBbiBhdHRyaWJ1dGUgbG9jYXRpb24gbWFwIHRoYXQgbGV0cyB5b3UgbWFudWFsbHkgc2V0IHRoZSBhdHRyaWJ1dGUgbG9jYXRpb25zXG4gKiBAcmV0dXJuIHtXZWJHTFByb2dyYW19IHRoZSBzaGFkZXIgcHJvZ3JhbVxuICovXG52YXIgY29tcGlsZVByb2dyYW0gPSBmdW5jdGlvbihnbCwgdmVydGV4U3JjLCBmcmFnbWVudFNyYywgYXR0cmlidXRlTG9jYXRpb25zKVxue1xuICAgIHZhciBnbFZlcnRTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5WRVJURVhfU0hBREVSLCB2ZXJ0ZXhTcmMpO1xuICAgIHZhciBnbEZyYWdTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5GUkFHTUVOVF9TSEFERVIsIGZyYWdtZW50U3JjKTtcblxuICAgIHZhciBwcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpO1xuXG4gICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGdsVmVydFNoYWRlcik7XG4gICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGdsRnJhZ1NoYWRlcik7XG5cbiAgICAvLyBvcHRpb25hbGx5LCBzZXQgdGhlIGF0dHJpYnV0ZXMgbWFudWFsbHkgZm9yIHRoZSBwcm9ncmFtIHJhdGhlciB0aGFuIGxldHRpbmcgV2ViR0wgZGVjaWRlLi5cbiAgICBpZihhdHRyaWJ1dGVMb2NhdGlvbnMpXG4gICAge1xuICAgICAgICBmb3IodmFyIGkgaW4gYXR0cmlidXRlTG9jYXRpb25zKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC5iaW5kQXR0cmliTG9jYXRpb24ocHJvZ3JhbSwgYXR0cmlidXRlTG9jYXRpb25zW2ldLCBpKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgZ2wubGlua1Byb2dyYW0ocHJvZ3JhbSk7XG5cbiAgICAvLyBpZiBsaW5raW5nIGZhaWxzLCB0aGVuIGxvZyBhbmQgY2xlYW51cFxuICAgIGlmICghZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5MSU5LX1NUQVRVUykpXG4gICAge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdQaXhpLmpzIEVycm9yOiBDb3VsZCBub3QgaW5pdGlhbGl6ZSBzaGFkZXIuJyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ2dsLlZBTElEQVRFX1NUQVRVUycsIGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuVkFMSURBVEVfU1RBVFVTKSk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ2dsLmdldEVycm9yKCknLCBnbC5nZXRFcnJvcigpKTtcblxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBhIHByb2dyYW0gaW5mbyBsb2csIGxvZyBpdFxuICAgICAgICBpZiAoZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSkgIT09ICcnKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1BpeGkuanMgV2FybmluZzogZ2wuZ2V0UHJvZ3JhbUluZm9Mb2coKScsIGdsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIHByb2dyYW0gPSBudWxsO1xuICAgIH1cblxuICAgIC8vIGNsZWFuIHVwIHNvbWUgc2hhZGVyc1xuICAgIGdsLmRlbGV0ZVNoYWRlcihnbFZlcnRTaGFkZXIpO1xuICAgIGdsLmRlbGV0ZVNoYWRlcihnbEZyYWdTaGFkZXIpO1xuXG4gICAgcmV0dXJuIHByb2dyYW07XG59O1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgY29udGV4dCB7V2ViR0xQcm9ncmFtfVxuICogQHBhcmFtIHR5cGUge051bWJlcn0gdGhlIHR5cGUsIGNhbiBiZSBlaXRoZXIgVkVSVEVYX1NIQURFUiBvciBGUkFHTUVOVF9TSEFERVJcbiAqIEBwYXJhbSB2ZXJ0ZXhTcmMge3N0cmluZ3xzdHJpbmdbXX0gVGhlIHZlcnRleCBzaGFkZXIgc291cmNlIGFzIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gKiBAcmV0dXJuIHtXZWJHTFNoYWRlcn0gdGhlIHNoYWRlclxuICovXG52YXIgY29tcGlsZVNoYWRlciA9IGZ1bmN0aW9uIChnbCwgdHlwZSwgc3JjKVxue1xuICAgIHZhciBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIodHlwZSk7XG5cbiAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzcmMpO1xuICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcblxuICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKVxuICAgIHtcbiAgICAgICAgY29uc29sZS5sb2coZ2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNoYWRlcjtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gY29tcGlsZVByb2dyYW07XG4iLCJcbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIGNyZWF0ZSBhIFdlYkdMIFRleHR1cmVcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZVxuICogQHBhcmFtIGdsIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFRoZSBjdXJyZW50IFdlYkdMIGNvbnRleHRcbiAqIEBwYXJhbSB3aWR0aCB7bnVtYmVyfSB0aGUgd2lkdGggb2YgdGhlIHRleHR1cmVcbiAqIEBwYXJhbSBoZWlnaHQge251bWJlcn0gdGhlIGhlaWdodCBvZiB0aGUgdGV4dHVyZVxuICogQHBhcmFtIGZvcm1hdCB7bnVtYmVyfSB0aGUgcGl4ZWwgZm9ybWF0IG9mIHRoZSB0ZXh0dXJlLiBkZWZhdWx0cyB0byBnbC5SR0JBXG4gKiBAcGFyYW0gdHlwZSB7bnVtYmVyfSB0aGUgZ2wgdHlwZSBvZiB0aGUgdGV4dHVyZS4gZGVmYXVsdHMgdG8gZ2wuVU5TSUdORURfQllURVxuICovXG52YXIgVGV4dHVyZSA9IGZ1bmN0aW9uKGdsLCB3aWR0aCwgaGVpZ2h0LCBmb3JtYXQsIHR5cGUpXG57XG5cdC8qKlxuXHQgKiBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuXHQgKlxuXHQgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG5cdCAqL1xuXHR0aGlzLmdsID0gZ2w7XG5cblxuXHQvKipcblx0ICogVGhlIFdlYkdMIHRleHR1cmVcblx0ICpcblx0ICogQG1lbWJlciB7V2ViR0xUZXh0dXJlfVxuXHQgKi9cblx0dGhpcy50ZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xuXG5cdC8qKlxuXHQgKiBJZiBtaXBtYXBwaW5nIHdhcyB1c2VkIGZvciB0aGlzIHRleHR1cmUsIGVuYWJsZSBhbmQgZGlzYWJsZSB3aXRoIGVuYWJsZU1pcG1hcCgpXG5cdCAqXG5cdCAqIEBtZW1iZXIge0Jvb2xlYW59XG5cdCAqL1xuXHQvLyBzb21lIHNldHRpbmdzLi5cblx0dGhpcy5taXBtYXAgPSBmYWxzZTtcblxuXG5cdC8qKlxuXHQgKiBTZXQgdG8gdHJ1ZSB0byBlbmFibGUgcHJlLW11bHRpcGxpZWQgYWxwaGFcblx0ICpcblx0ICogQG1lbWJlciB7Qm9vbGVhbn1cblx0ICovXG5cdHRoaXMucHJlbXVsdGlwbHlBbHBoYSA9IGZhbHNlO1xuXG5cdC8qKlxuXHQgKiBUaGUgd2lkdGggb2YgdGV4dHVyZVxuXHQgKlxuXHQgKiBAbWVtYmVyIHtOdW1iZXJ9XG5cdCAqL1xuXHR0aGlzLndpZHRoID0gd2lkdGggfHwgLTE7XG5cdC8qKlxuXHQgKiBUaGUgaGVpZ2h0IG9mIHRleHR1cmVcblx0ICpcblx0ICogQG1lbWJlciB7TnVtYmVyfVxuXHQgKi9cblx0dGhpcy5oZWlnaHQgPSBoZWlnaHQgfHwgLTE7XG5cblx0LyoqXG5cdCAqIFRoZSBwaXhlbCBmb3JtYXQgb2YgdGhlIHRleHR1cmUuIGRlZmF1bHRzIHRvIGdsLlJHQkFcblx0ICpcblx0ICogQG1lbWJlciB7TnVtYmVyfVxuXHQgKi9cblx0dGhpcy5mb3JtYXQgPSBmb3JtYXQgfHwgZ2wuUkdCQTtcblxuXHQvKipcblx0ICogVGhlIGdsIHR5cGUgb2YgdGhlIHRleHR1cmUuIGRlZmF1bHRzIHRvIGdsLlVOU0lHTkVEX0JZVEVcblx0ICpcblx0ICogQG1lbWJlciB7TnVtYmVyfVxuXHQgKi9cblx0dGhpcy50eXBlID0gdHlwZSB8fCBnbC5VTlNJR05FRF9CWVRFO1xuXG5cbn07XG5cbi8qKlxuICogVXBsb2FkcyB0aGlzIHRleHR1cmUgdG8gdGhlIEdQVVxuICogQHBhcmFtIHNvdXJjZSB7SFRNTEltYWdlRWxlbWVudHxJbWFnZURhdGF8SFRNTFZpZGVvRWxlbWVudH0gdGhlIHNvdXJjZSBpbWFnZSBvZiB0aGUgdGV4dHVyZVxuICovXG5UZXh0dXJlLnByb3RvdHlwZS51cGxvYWQgPSBmdW5jdGlvbihzb3VyY2UpXG57XG5cdHRoaXMuYmluZCgpO1xuXG5cdHZhciBnbCA9IHRoaXMuZ2w7XG5cblxuXHRnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsIHRoaXMucHJlbXVsdGlwbHlBbHBoYSk7XG5cblx0dmFyIG5ld1dpZHRoID0gc291cmNlLnZpZGVvV2lkdGggfHwgc291cmNlLndpZHRoO1xuXHR2YXIgbmV3SGVpZ2h0ID0gc291cmNlLnZpZGVvSGVpZ2h0IHx8IHNvdXJjZS5oZWlnaHQ7XG5cblx0aWYobmV3SGVpZ2h0ICE9PSB0aGlzLmhlaWdodCB8fCBuZXdXaWR0aCAhPT0gdGhpcy53aWR0aClcblx0e1xuXHRcdGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgdGhpcy5mb3JtYXQsIHRoaXMuZm9ybWF0LCB0aGlzLnR5cGUsIHNvdXJjZSk7XG5cdH1cblx0ZWxzZVxuXHR7XG4gICAgXHRnbC50ZXhTdWJJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIDAsIDAsIHRoaXMuZm9ybWF0LCB0aGlzLnR5cGUsIHNvdXJjZSk7XG5cdH1cblxuXHQvLyBpZiB0aGUgc291cmNlIGlzIGEgdmlkZW8sIHdlIG5lZWQgdG8gdXNlIHRoZSB2aWRlb1dpZHRoIC8gdmlkZW9IZWlnaHQgcHJvcGVydGllcyBhcyB3aWR0aCAvIGhlaWdodCB3aWxsIGJlIGluY29ycmVjdC5cblx0dGhpcy53aWR0aCA9IG5ld1dpZHRoO1xuXHR0aGlzLmhlaWdodCA9IG5ld0hlaWdodDtcblxufTtcblxudmFyIEZMT0FUSU5HX1BPSU5UX0FWQUlMQUJMRSA9IGZhbHNlO1xuXG4vKipcbiAqIFVzZSBhIGRhdGEgc291cmNlIGFuZCB1cGxvYWRzIHRoaXMgdGV4dHVyZSB0byB0aGUgR1BVXG4gKiBAcGFyYW0gZGF0YSB7VHlwZWRBcnJheX0gdGhlIGRhdGEgdG8gdXBsb2FkIHRvIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0gd2lkdGgge251bWJlcn0gdGhlIG5ldyB3aWR0aCBvZiB0aGUgdGV4dHVyZVxuICogQHBhcmFtIGhlaWdodCB7bnVtYmVyfSB0aGUgbmV3IGhlaWdodCBvZiB0aGUgdGV4dHVyZVxuICovXG5UZXh0dXJlLnByb3RvdHlwZS51cGxvYWREYXRhID0gZnVuY3Rpb24oZGF0YSwgd2lkdGgsIGhlaWdodClcbntcblx0dGhpcy5iaW5kKCk7XG5cblx0dmFyIGdsID0gdGhpcy5nbDtcblxuXG5cdGlmKGRhdGEgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpXG5cdHtcblx0XHRpZighRkxPQVRJTkdfUE9JTlRfQVZBSUxBQkxFKVxuXHRcdHtcblx0XHRcdHZhciBleHQgPSBnbC5nZXRFeHRlbnNpb24oXCJPRVNfdGV4dHVyZV9mbG9hdFwiKTtcblxuXHRcdFx0aWYoZXh0KVxuXHRcdFx0e1xuXHRcdFx0XHRGTE9BVElOR19QT0lOVF9BVkFJTEFCTEUgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZVxuXHRcdFx0e1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ2Zsb2F0aW5nIHBvaW50IHRleHR1cmVzIG5vdCBhdmFpbGFibGUnKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLnR5cGUgPSBnbC5GTE9BVDtcblx0fVxuXHRlbHNlXG5cdHtcblx0XHQvLyBUT0RPIHN1cHBvcnQgZm9yIG90aGVyIHR5cGVzXG5cdFx0dGhpcy50eXBlID0gdGhpcy50eXBlIHx8IGdsLlVOU0lHTkVEX0JZVEU7XG5cdH1cblxuXHQvLyB3aGF0IHR5cGUgb2YgZGF0YT9cblx0Z2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLCB0aGlzLnByZW11bHRpcGx5QWxwaGEpO1xuXG5cblx0aWYod2lkdGggIT09IHRoaXMud2lkdGggfHwgaGVpZ2h0ICE9PSB0aGlzLmhlaWdodClcblx0e1xuXHRcdGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgdGhpcy5mb3JtYXQsICB3aWR0aCwgaGVpZ2h0LCAwLCB0aGlzLmZvcm1hdCwgdGhpcy50eXBlLCBkYXRhIHx8IG51bGwpO1xuXHR9XG5cdGVsc2Vcblx0e1xuXHRcdGdsLnRleFN1YkltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgMCwgMCwgd2lkdGgsIGhlaWdodCwgdGhpcy5mb3JtYXQsIHRoaXMudHlwZSwgZGF0YSB8fCBudWxsKTtcblx0fVxuXG5cdHRoaXMud2lkdGggPSB3aWR0aDtcblx0dGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cblxuLy9cdHRleFN1YkltYWdlMkRcbn07XG5cbi8qKlxuICogQmluZHMgdGhlIHRleHR1cmVcbiAqIEBwYXJhbSAgbG9jYXRpb25cbiAqL1xuVGV4dHVyZS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uKGxvY2F0aW9uKVxue1xuXHR2YXIgZ2wgPSB0aGlzLmdsO1xuXG5cdGlmKGxvY2F0aW9uICE9PSB1bmRlZmluZWQpXG5cdHtcblx0XHRnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgbG9jYXRpb24pO1xuXHR9XG5cblx0Z2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhpcy50ZXh0dXJlKTtcbn07XG5cbi8qKlxuICogVW5iaW5kcyB0aGUgdGV4dHVyZVxuICovXG5UZXh0dXJlLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbigpXG57XG5cdHZhciBnbCA9IHRoaXMuZ2w7XG5cdGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIG51bGwpO1xufTtcblxuLyoqXG4gKiBAcGFyYW0gbGluZWFyIHtCb29sZWFufSBpZiB3ZSB3YW50IHRvIHVzZSBsaW5lYXIgZmlsdGVyaW5nIG9yIG5lYXJlc3QgbmVpZ2hib3VyIGludGVycG9sYXRpb25cbiAqL1xuVGV4dHVyZS5wcm90b3R5cGUubWluRmlsdGVyID0gZnVuY3Rpb24oIGxpbmVhciApXG57XG5cdHZhciBnbCA9IHRoaXMuZ2w7XG5cblx0dGhpcy5iaW5kKCk7XG5cblx0aWYodGhpcy5taXBtYXApXG5cdHtcblx0XHRnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgbGluZWFyID8gZ2wuTElORUFSX01JUE1BUF9MSU5FQVIgOiBnbC5ORUFSRVNUX01JUE1BUF9ORUFSRVNUKTtcblx0fVxuXHRlbHNlXG5cdHtcblx0XHRnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgbGluZWFyID8gZ2wuTElORUFSIDogZ2wuTkVBUkVTVCk7XG5cdH1cbn07XG5cbi8qKlxuICogQHBhcmFtIGxpbmVhciB7Qm9vbGVhbn0gaWYgd2Ugd2FudCB0byB1c2UgbGluZWFyIGZpbHRlcmluZyBvciBuZWFyZXN0IG5laWdoYm91ciBpbnRlcnBvbGF0aW9uXG4gKi9cblRleHR1cmUucHJvdG90eXBlLm1hZ0ZpbHRlciA9IGZ1bmN0aW9uKCBsaW5lYXIgKVxue1xuXHR2YXIgZ2wgPSB0aGlzLmdsO1xuXG5cdHRoaXMuYmluZCgpO1xuXG5cdGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBsaW5lYXIgPyBnbC5MSU5FQVIgOiBnbC5ORUFSRVNUKTtcbn07XG5cbi8qKlxuICogRW5hYmxlcyBtaXBtYXBwaW5nXG4gKi9cblRleHR1cmUucHJvdG90eXBlLmVuYWJsZU1pcG1hcCA9IGZ1bmN0aW9uKClcbntcblx0dmFyIGdsID0gdGhpcy5nbDtcblxuXHR0aGlzLmJpbmQoKTtcblxuXHR0aGlzLm1pcG1hcCA9IHRydWU7XG5cblx0Z2wuZ2VuZXJhdGVNaXBtYXAoZ2wuVEVYVFVSRV8yRCk7XG59O1xuXG4vKipcbiAqIEVuYWJsZXMgbGluZWFyIGZpbHRlcmluZ1xuICovXG5UZXh0dXJlLnByb3RvdHlwZS5lbmFibGVMaW5lYXJTY2FsaW5nID0gZnVuY3Rpb24oKVxue1xuXHR0aGlzLm1pbkZpbHRlcih0cnVlKTtcblx0dGhpcy5tYWdGaWx0ZXIodHJ1ZSk7XG59O1xuXG4vKipcbiAqIEVuYWJsZXMgbmVhcmVzdCBuZWlnaGJvdXIgaW50ZXJwb2xhdGlvblxuICovXG5UZXh0dXJlLnByb3RvdHlwZS5lbmFibGVOZWFyZXN0U2NhbGluZyA9IGZ1bmN0aW9uKClcbntcblx0dGhpcy5taW5GaWx0ZXIoZmFsc2UpO1xuXHR0aGlzLm1hZ0ZpbHRlcihmYWxzZSk7XG59O1xuXG4vKipcbiAqIEVuYWJsZXMgY2xhbXBpbmcgb24gdGhlIHRleHR1cmUgc28gV2ViR0wgd2lsbCBub3QgcmVwZWF0IGl0XG4gKi9cblRleHR1cmUucHJvdG90eXBlLmVuYWJsZVdyYXBDbGFtcCA9IGZ1bmN0aW9uKClcbntcblx0dmFyIGdsID0gdGhpcy5nbDtcblxuXHR0aGlzLmJpbmQoKTtcblxuXHRnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbC5DTEFNUF9UT19FREdFKTtcbn07XG5cbi8qKlxuICogRW5hYmxlIHRpbGluZyBvbiB0aGUgdGV4dHVyZVxuICovXG5UZXh0dXJlLnByb3RvdHlwZS5lbmFibGVXcmFwUmVwZWF0ID0gZnVuY3Rpb24oKVxue1xuXHR2YXIgZ2wgPSB0aGlzLmdsO1xuXG5cdHRoaXMuYmluZCgpO1xuXG5cdGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsLlJFUEVBVCk7XG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuUkVQRUFUKTtcbn07XG5cblRleHR1cmUucHJvdG90eXBlLmVuYWJsZVdyYXBNaXJyb3JSZXBlYXQgPSBmdW5jdGlvbigpXG57XG5cdHZhciBnbCA9IHRoaXMuZ2w7XG5cblx0dGhpcy5iaW5kKCk7XG5cblx0Z2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfUywgZ2wuTUlSUk9SRURfUkVQRUFUKTtcbiAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbC5NSVJST1JFRF9SRVBFQVQpO1xufTtcblxuXG4vKipcbiAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZVxuICovXG5UZXh0dXJlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKVxue1xuXHR2YXIgZ2wgPSB0aGlzLmdsO1xuXHQvL1RPRE9cblx0Z2wuZGVsZXRlVGV4dHVyZSh0aGlzLnRleHR1cmUpO1xufTtcblxuLyoqXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgY29udGV4dFxuICogQHBhcmFtIHNvdXJjZSB7SFRNTEltYWdlRWxlbWVudHxJbWFnZURhdGF9IHRoZSBzb3VyY2UgaW1hZ2Ugb2YgdGhlIHRleHR1cmVcbiAqIEBwYXJhbSBwcmVtdWx0aXBseUFscGhhIHtCb29sZWFufSBJZiB3ZSB3YW50IHRvIHVzZSBwcmUtbXVsdGlwbGllZCBhbHBoYVxuICovXG5UZXh0dXJlLmZyb21Tb3VyY2UgPSBmdW5jdGlvbihnbCwgc291cmNlLCBwcmVtdWx0aXBseUFscGhhKVxue1xuXHR2YXIgdGV4dHVyZSA9IG5ldyBUZXh0dXJlKGdsKTtcblx0dGV4dHVyZS5wcmVtdWx0aXBseUFscGhhID0gcHJlbXVsdGlwbHlBbHBoYSB8fCBmYWxzZTtcblx0dGV4dHVyZS51cGxvYWQoc291cmNlKTtcblxuXHRyZXR1cm4gdGV4dHVyZTtcbn07XG5cbi8qKlxuICogQHN0YXRpY1xuICogQHBhcmFtIGdsIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFRoZSBjdXJyZW50IFdlYkdMIGNvbnRleHRcbiAqIEBwYXJhbSBkYXRhIHtUeXBlZEFycmF5fSB0aGUgZGF0YSB0byB1cGxvYWQgdG8gdGhlIHRleHR1cmVcbiAqIEBwYXJhbSB3aWR0aCB7bnVtYmVyfSB0aGUgbmV3IHdpZHRoIG9mIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0gaGVpZ2h0IHtudW1iZXJ9IHRoZSBuZXcgaGVpZ2h0IG9mIHRoZSB0ZXh0dXJlXG4gKi9cblRleHR1cmUuZnJvbURhdGEgPSBmdW5jdGlvbihnbCwgZGF0YSwgd2lkdGgsIGhlaWdodClcbntcblx0Ly9jb25zb2xlLmxvZyhkYXRhLCB3aWR0aCwgaGVpZ2h0KTtcblx0dmFyIHRleHR1cmUgPSBuZXcgVGV4dHVyZShnbCk7XG5cdHRleHR1cmUudXBsb2FkRGF0YShkYXRhLCB3aWR0aCwgaGVpZ2h0KTtcblxuXHRyZXR1cm4gdGV4dHVyZTtcbn07XG5cblxubW9kdWxlLmV4cG9ydHMgPSBUZXh0dXJlO1xuIiwiLy8gdmFyIEdMX01BUCA9IHt9O1xuXG4vKipcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCBjb250ZXh0XG4gKiBAcGFyYW0gYXR0cmlicyB7Kn1cbiAqIEBwYXJhbSBzdGF0ZSB7Kn1cbiAqL1xudmFyIHNldFZlcnRleEF0dHJpYkFycmF5cyA9IGZ1bmN0aW9uIChnbCwgYXR0cmlicywgc3RhdGUpXG57XG4gICAgdmFyIGk7XG4gICAgaWYoc3RhdGUpXG4gICAge1xuICAgICAgICB2YXIgdGVtcEF0dHJpYlN0YXRlID0gc3RhdGUudGVtcEF0dHJpYlN0YXRlLFxuICAgICAgICAgICAgYXR0cmliU3RhdGUgPSBzdGF0ZS5hdHRyaWJTdGF0ZTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGVtcEF0dHJpYlN0YXRlLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0ZW1wQXR0cmliU3RhdGVbaV0gPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNldCB0aGUgbmV3IGF0dHJpYnNcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGF0dHJpYnMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRlbXBBdHRyaWJTdGF0ZVthdHRyaWJzW2ldLmF0dHJpYnV0ZS5sb2NhdGlvbl0gPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGF0dHJpYlN0YXRlLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoYXR0cmliU3RhdGVbaV0gIT09IHRlbXBBdHRyaWJTdGF0ZVtpXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJTdGF0ZVtpXSA9IHRlbXBBdHRyaWJTdGF0ZVtpXTtcblxuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5hdHRyaWJTdGF0ZVtpXSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBnbC5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkoaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGF0dHJpYnMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBhdHRyaWIgPSBhdHRyaWJzW2ldO1xuICAgICAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoYXR0cmliLmF0dHJpYnV0ZS5sb2NhdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHNldFZlcnRleEF0dHJpYkFycmF5cztcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9NYXRyaXggPSByZXF1aXJlKCcuL01hdHJpeCcpO1xuXG52YXIgX01hdHJpeDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NYXRyaXgpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgdXggPSBbMSwgMSwgMCwgLTEsIC0xLCAtMSwgMCwgMSwgMSwgMSwgMCwgLTEsIC0xLCAtMSwgMCwgMV07IC8vIFlvdXIgZnJpZW5kbHkgbmVpZ2hib3VyIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0RpaGVkcmFsX2dyb3VwIG9mIG9yZGVyIDE2XG5cbnZhciB1eSA9IFswLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xXTtcbnZhciB2eCA9IFswLCAtMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xXTtcbnZhciB2eSA9IFsxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxLCAtMSwgLTEsIDAsIDEsIDEsIDEsIDAsIC0xXTtcbnZhciB0ZW1wTWF0cmljZXMgPSBbXTtcblxudmFyIG11bCA9IFtdO1xuXG5mdW5jdGlvbiBzaWdudW0oeCkge1xuICAgIGlmICh4IDwgMCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGlmICh4ID4gMCkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gMDtcbn1cblxuZnVuY3Rpb24gaW5pdCgpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgdmFyIHJvdyA9IFtdO1xuXG4gICAgICAgIG11bC5wdXNoKHJvdyk7XG5cbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAxNjsgaisrKSB7XG4gICAgICAgICAgICB2YXIgX3V4ID0gc2lnbnVtKHV4W2ldICogdXhbal0gKyB2eFtpXSAqIHV5W2pdKTtcbiAgICAgICAgICAgIHZhciBfdXkgPSBzaWdudW0odXlbaV0gKiB1eFtqXSArIHZ5W2ldICogdXlbal0pO1xuICAgICAgICAgICAgdmFyIF92eCA9IHNpZ251bSh1eFtpXSAqIHZ4W2pdICsgdnhbaV0gKiB2eVtqXSk7XG4gICAgICAgICAgICB2YXIgX3Z5ID0gc2lnbnVtKHV5W2ldICogdnhbal0gKyB2eVtpXSAqIHZ5W2pdKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCAxNjsgaysrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHV4W2tdID09PSBfdXggJiYgdXlba10gPT09IF91eSAmJiB2eFtrXSA9PT0gX3Z4ICYmIHZ5W2tdID09PSBfdnkpIHtcbiAgICAgICAgICAgICAgICAgICAgcm93LnB1c2goayk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCAxNjsgX2krKykge1xuICAgICAgICB2YXIgbWF0ID0gbmV3IF9NYXRyaXgyLmRlZmF1bHQoKTtcblxuICAgICAgICBtYXQuc2V0KHV4W19pXSwgdXlbX2ldLCB2eFtfaV0sIHZ5W19pXSwgMCwgMCk7XG4gICAgICAgIHRlbXBNYXRyaWNlcy5wdXNoKG1hdCk7XG4gICAgfVxufVxuXG5pbml0KCk7XG5cbi8qKlxuICogSW1wbGVtZW50cyBEaWhlZHJhbCBHcm91cCBEXzgsIHNlZSBbZ3JvdXAgRDRde0BsaW5rIGh0dHA6Ly9tYXRod29ybGQud29sZnJhbS5jb20vRGloZWRyYWxHcm91cEQ0Lmh0bWx9LFxuICogRDggaXMgdGhlIHNhbWUgYnV0IHdpdGggZGlhZ29uYWxzLiBVc2VkIGZvciB0ZXh0dXJlIHJvdGF0aW9ucy5cbiAqXG4gKiBWZWN0b3IgeFgoaSksIHhZKGkpIGlzIFUtYXhpcyBvZiBzcHJpdGUgd2l0aCByb3RhdGlvbiBpXG4gKiBWZWN0b3IgeVkoaSksIHlZKGkpIGlzIFYtYXhpcyBvZiBzcHJpdGUgd2l0aCByb3RhdGlvbiBpXG4gKiBSb3RhdGlvbnM6IDAgZ3JhZCAoMCksIDkwIGdyYWQgKDIpLCAxODAgZ3JhZCAoNCksIDI3MCBncmFkICg2KVxuICogTWlycm9yczogdmVydGljYWwgKDgpLCBtYWluIGRpYWdvbmFsICgxMCksIGhvcml6b250YWwgKDEyKSwgcmV2ZXJzZSBkaWFnb25hbCAoMTQpXG4gKiBUaGlzIGlzIHRoZSBzbWFsbCBwYXJ0IG9mIGdhbWVvZmJvbWJzLmNvbSBwb3J0YWwgc3lzdGVtLiBJdCB3b3Jrcy5cbiAqXG4gKiBAYXV0aG9yIEl2YW4gQGl2YW5wb3BlbHlzaGV2XG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHcm91cEQ4ID0ge1xuICAgIEU6IDAsXG4gICAgU0U6IDEsXG4gICAgUzogMixcbiAgICBTVzogMyxcbiAgICBXOiA0LFxuICAgIE5XOiA1LFxuICAgIE46IDYsXG4gICAgTkU6IDcsXG4gICAgTUlSUk9SX1ZFUlRJQ0FMOiA4LFxuICAgIE1JUlJPUl9IT1JJWk9OVEFMOiAxMixcbiAgICB1WDogZnVuY3Rpb24gdVgoaW5kKSB7XG4gICAgICAgIHJldHVybiB1eFtpbmRdO1xuICAgIH0sXG4gICAgdVk6IGZ1bmN0aW9uIHVZKGluZCkge1xuICAgICAgICByZXR1cm4gdXlbaW5kXTtcbiAgICB9LFxuICAgIHZYOiBmdW5jdGlvbiB2WChpbmQpIHtcbiAgICAgICAgcmV0dXJuIHZ4W2luZF07XG4gICAgfSxcbiAgICB2WTogZnVuY3Rpb24gdlkoaW5kKSB7XG4gICAgICAgIHJldHVybiB2eVtpbmRdO1xuICAgIH0sXG4gICAgaW52OiBmdW5jdGlvbiBpbnYocm90YXRpb24pIHtcbiAgICAgICAgaWYgKHJvdGF0aW9uICYgOCkge1xuICAgICAgICAgICAgcmV0dXJuIHJvdGF0aW9uICYgMTU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gLXJvdGF0aW9uICYgNztcbiAgICB9LFxuICAgIGFkZDogZnVuY3Rpb24gYWRkKHJvdGF0aW9uU2Vjb25kLCByb3RhdGlvbkZpcnN0KSB7XG4gICAgICAgIHJldHVybiBtdWxbcm90YXRpb25TZWNvbmRdW3JvdGF0aW9uRmlyc3RdO1xuICAgIH0sXG4gICAgc3ViOiBmdW5jdGlvbiBzdWIocm90YXRpb25TZWNvbmQsIHJvdGF0aW9uRmlyc3QpIHtcbiAgICAgICAgcmV0dXJuIG11bFtyb3RhdGlvblNlY29uZF1bR3JvdXBEOC5pbnYocm90YXRpb25GaXJzdCldO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIDE4MCBkZWdyZWVzIHRvIHJvdGF0aW9uLiBDb21tdXRhdGl2ZSBvcGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Hcm91cEQ4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIC0gVGhlIG51bWJlciB0byByb3RhdGUuXG4gICAgICogQHJldHVybnMge251bWJlcn0gcm90YXRlZCBudW1iZXJcbiAgICAgKi9cbiAgICByb3RhdGUxODA6IGZ1bmN0aW9uIHJvdGF0ZTE4MChyb3RhdGlvbikge1xuICAgICAgICByZXR1cm4gcm90YXRpb24gXiA0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEaXJlY3Rpb24gb2YgbWFpbiB2ZWN0b3IgY2FuIGJlIGhvcml6b250YWwsIHZlcnRpY2FsIG9yIGRpYWdvbmFsLlxuICAgICAqIFNvbWUgb2JqZWN0cyB3b3JrIHdpdGggdmVydGljYWwgZGlyZWN0aW9ucyBkaWZmZXJlbnQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Hcm91cEQ4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIC0gVGhlIG51bWJlciB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIGRpcmVjdGlvbiBpcyB2ZXJ0aWNhbFxuICAgICAqL1xuICAgIGlzVmVydGljYWw6IGZ1bmN0aW9uIGlzVmVydGljYWwocm90YXRpb24pIHtcbiAgICAgICAgcmV0dXJuIChyb3RhdGlvbiAmIDMpID09PSAyO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Hcm91cEQ4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGR4IC0gVE9ET1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkeSAtIFRPRE9cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVE9ET1xuICAgICAqL1xuICAgIGJ5RGlyZWN0aW9uOiBmdW5jdGlvbiBieURpcmVjdGlvbihkeCwgZHkpIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKGR4KSAqIDIgPD0gTWF0aC5hYnMoZHkpKSB7XG4gICAgICAgICAgICBpZiAoZHkgPj0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBHcm91cEQ4LlM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBHcm91cEQ4Lk47XG4gICAgICAgIH0gZWxzZSBpZiAoTWF0aC5hYnMoZHkpICogMiA8PSBNYXRoLmFicyhkeCkpIHtcbiAgICAgICAgICAgIGlmIChkeCA+IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5FO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5XO1xuICAgICAgICB9IGVsc2UgaWYgKGR5ID4gMCkge1xuICAgICAgICAgICAgaWYgKGR4ID4gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBHcm91cEQ4LlNFO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5TVztcbiAgICAgICAgfSBlbHNlIGlmIChkeCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBHcm91cEQ4Lk5FO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEdyb3VwRDguTlc7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEhlbHBzIHNwcml0ZSB0byBjb21wZW5zYXRlIHRleHR1cmUgcGFja2VyIHJvdGF0aW9uLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuR3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIHNwcml0ZSB3b3JsZCBtYXRyaXhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gLSBUaGUgcm90YXRpb24gZmFjdG9yIHRvIHVzZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHggLSBzcHJpdGUgYW5jaG9yaW5nXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHR5IC0gc3ByaXRlIGFuY2hvcmluZ1xuICAgICAqL1xuICAgIG1hdHJpeEFwcGVuZFJvdGF0aW9uSW52OiBmdW5jdGlvbiBtYXRyaXhBcHBlbmRSb3RhdGlvbkludihtYXRyaXgsIHJvdGF0aW9uKSB7XG4gICAgICAgIHZhciB0eCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMDtcbiAgICAgICAgdmFyIHR5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAwO1xuXG4gICAgICAgIC8vIFBhY2tlciB1c2VkIFwicm90YXRpb25cIiwgd2UgdXNlIFwiaW52KHJvdGF0aW9uKVwiXG4gICAgICAgIHZhciBtYXQgPSB0ZW1wTWF0cmljZXNbR3JvdXBEOC5pbnYocm90YXRpb24pXTtcblxuICAgICAgICBtYXQudHggPSB0eDtcbiAgICAgICAgbWF0LnR5ID0gdHk7XG4gICAgICAgIG1hdHJpeC5hcHBlbmQobWF0KTtcbiAgICB9XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBHcm91cEQ4O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R3JvdXBEOC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBUaGUgUG9pbnQgb2JqZWN0IHJlcHJlc2VudHMgYSBsb2NhdGlvbiBpbiBhIHR3by1kaW1lbnNpb25hbCBjb29yZGluYXRlIHN5c3RlbSwgd2hlcmUgeCByZXByZXNlbnRzXG4gKiB0aGUgaG9yaXpvbnRhbCBheGlzIGFuZCB5IHJlcHJlc2VudHMgdGhlIHZlcnRpY2FsIGF4aXMuXG4gKiBBbiBvYnNlcnZhYmxlIHBvaW50IGlzIGEgcG9pbnQgdGhhdCB0cmlnZ2VycyBhIGNhbGxiYWNrIHdoZW4gdGhlIHBvaW50J3MgcG9zaXRpb24gaXMgY2hhbmdlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBPYnNlcnZhYmxlUG9pbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2IgLSBjYWxsYmFjayB3aGVuIGNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc2NvcGUgLSBvd25lciBvZiBjYWxsYmFja1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB5IGF4aXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBPYnNlcnZhYmxlUG9pbnQoY2IsIHNjb3BlKSB7XG4gICAgICAgIHZhciB4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAwO1xuICAgICAgICB2YXIgeSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogMDtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgT2JzZXJ2YWJsZVBvaW50KTtcblxuICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgICAgdGhpcy5feSA9IHk7XG5cbiAgICAgICAgdGhpcy5jYiA9IGNiO1xuICAgICAgICB0aGlzLnNjb3BlID0gc2NvcGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcG9pbnQgdG8gYSBuZXcgeCBhbmQgeSBwb3NpdGlvbi5cbiAgICAgKiBJZiB5IGlzIG9taXR0ZWQsIGJvdGggeCBhbmQgeSB3aWxsIGJlIHNldCB0byB4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHkgYXhpc1xuICAgICAqL1xuXG5cbiAgICBPYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIHNldCh4LCB5KSB7XG4gICAgICAgIHZhciBfeCA9IHggfHwgMDtcbiAgICAgICAgdmFyIF95ID0geSB8fCAoeSAhPT0gMCA/IF94IDogMCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3ggIT09IF94IHx8IHRoaXMuX3kgIT09IF95KSB7XG4gICAgICAgICAgICB0aGlzLl94ID0gX3g7XG4gICAgICAgICAgICB0aGlzLl95ID0gX3k7XG4gICAgICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29waWVzIHRoZSBkYXRhIGZyb20gYW5vdGhlciBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fFBJWEkuT2JzZXJ2YWJsZVBvaW50fSBwb2ludCAtIHBvaW50IHRvIGNvcHkgZnJvbVxuICAgICAqL1xuXG5cbiAgICBPYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KHBvaW50KSB7XG4gICAgICAgIGlmICh0aGlzLl94ICE9PSBwb2ludC54IHx8IHRoaXMuX3kgIT09IHBvaW50LnkpIHtcbiAgICAgICAgICAgIHRoaXMuX3ggPSBwb2ludC54O1xuICAgICAgICAgICAgdGhpcy5feSA9IHBvaW50Lnk7XG4gICAgICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0IG9uIHRoZSB4IGF4aXMgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhPYnNlcnZhYmxlUG9pbnQsIFt7XG4gICAgICAgIGtleTogXCJ4XCIsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3g7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3ggIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5feCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnNjb3BlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3Qgb24gdGhlIHggYXhpcyByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcInlcIixcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5feTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5feSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl95ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5jYi5jYWxsKHRoaXMuc2NvcGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIE9ic2VydmFibGVQb2ludDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gT2JzZXJ2YWJsZVBvaW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JzZXJ2YWJsZVBvaW50LmpzLm1hcCIsImltcG9ydCAqIGFzIFBJWEkgZnJvbSAncGl4aS5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgU3ByaXRlRXh0IGV4dGVuZHMgUElYSS5TcHJpdGUge1xyXG4gICAgcmVtb3ZlID0gKCkgPT4geyB0aGlzLnZpc2libGUgPSBmYWxzZTsgfVxyXG5cclxuICAgIHNldENvb3JkaW5hdGVzID0gKHg6IG51bWJlciwgeTogbnVtYmVyKSA9PiB7IHRoaXMueCA9IHg7IHRoaXMueSA9IHkgfVxyXG5cclxuICAgIHNldFBvc2l0aW9uID0gKGNvbHVtbjogbnVtYmVyLCByb3c6IG51bWJlcikgPT4geyB0aGlzLnggPSAxMDAgKiBjb2x1bW47IHRoaXMueSA9IDEwMCAqIHJvdyB9XHJcbiAgICBcclxuICAgIG1vdmVUbyA9IChkeDogbnVtYmVyLCBkeTogbnVtYmVyKSA9PiB7IHRoaXMueCArPSBkeCwgdGhpcy55ICs9IGR5IH1cclxufSIsImltcG9ydCAqIGFzIFBJWEkgZnJvbSAncGl4aS5qcyc7XHJcbmltcG9ydCB7IFNwcml0ZUV4dCB9IGZyb20gJy4vU3ByaXRlRXh0JztcclxuaW1wb3J0IHsgdGV4dFN0eWxlIH0gZnJvbSAnLi4vY29tbW9uL3RleHRFeHQnO1xyXG5cclxuZXhwb3J0IGNvbnN0IHNwcml0ZXMgPSB7XHJcbiAgICAnd2F0ZXInOiByZXF1aXJlKCcuLi8uLi9zcHJpdGVzL2JhY2tncm91bmQvd2F0ZXIucG5nJyksXHJcbiAgICAnd2F0ZXJLJzogcmVxdWlyZSgnLi4vLi4vc3ByaXRlcy9iYWNrZ3JvdW5kL3dhdGVySy5wbmcnKSxcclxuICAgICdncmVlbksnOiByZXF1aXJlKCcuLi8uLi9zcHJpdGVzL2JhY2tncm91bmQvZ3JlZW4ucG5nJyksXHJcbiAgICAnZHJ5Syc6IHJlcXVpcmUoJy4uLy4uL3Nwcml0ZXMvYmFja2dyb3VuZC9kcnkucG5nJyksXHJcbiAgICAnbGF2YUsnOiByZXF1aXJlKCcuLi8uLi9zcHJpdGVzL2JhY2tncm91bmQvbGF2YS5wbmcnKSxcclxuICAgICdub3Rzb21lZHJ5Syc6IHJlcXVpcmUoJy4uLy4uL3Nwcml0ZXMvYmFja2dyb3VuZC9ub3Rzb21lZHJ5LnBuZycpLFxyXG4gICAgJ3JvY2tLJzogcmVxdWlyZSgnLi4vLi4vc3ByaXRlcy9iYWNrZ3JvdW5kL3JvY2tLLnBuZycpLFxyXG4gICAgJ29vMic6IHJlcXVpcmUoJy4uLy4uL3Nwcml0ZXMvcmVzb3VyY2VzL29vMi5wbmcnKSxcclxuICAgICdvMic6IHJlcXVpcmUoJy4uLy4uL3Nwcml0ZXMvcmVzb3VyY2VzL28yLnBuZycpLFxyXG4gICAgJ2NyeSc6IHJlcXVpcmUoJy4uLy4uL3Nwcml0ZXMvcmVzb3VyY2VzL2NyeS5wbmcnKSxcclxuICAgICcxJzogcmVxdWlyZSgnLi4vLi4vc3ByaXRlcy9yZXNvdXJjZXMvMS5wbmcnKSxcclxuICAgICdtb2wnOiByZXF1aXJlKCcuLi8uLi9zcHJpdGVzL3Jlc291cmNlcy9tb2wucG5nJyksXHJcbiAgICAnZW5lcmd5JzogcmVxdWlyZSgnLi4vLi4vc3ByaXRlcy9mYWN0b3JpZXMvZW5lcmd5LnBuZycpLFxyXG4gICAgJ21pbmVyYWwnOiByZXF1aXJlKCcuLi8uLi9zcHJpdGVzL2ZhY3Rvcmllcy9taW5lcmFsLnBuZycpLFxyXG4gICAgJ2NoYXJhY3Rlcic6IHJlcXVpcmUoJy4uLy4uL3Nwcml0ZXMvY2hhcmFjdGVycy9jaGFyYWN0ZXIucG5nJyksXHJcbiAgICAnY2hhcmFjdGVyMic6IHJlcXVpcmUoJy4uLy4uL3Nwcml0ZXMvY2hhcmFjdGVycy9jaGFyYWN0ZXIyLnBuZycpLFxyXG59O1xyXG5cclxuY29uc3QgZ2V0VGV4dHVyZSA9IChpbWFnZVBhdGg6IHN0cmluZykgPT4gUElYSS5sb2FkZXIucmVzb3VyY2VzW2ltYWdlUGF0aF0udGV4dHVyZTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRTcHJpdGUgPSAoc3ByaXRlTmFtZSkgPT4ge1xyXG4gICAgY29uc3QgcGF0aCA9IHNwcml0ZXNbc3ByaXRlTmFtZV07XHJcbiAgICBjb25zdCBzcHJpdGUgPSBuZXcgU3ByaXRlRXh0KGdldFRleHR1cmUocGF0aCkpO1xyXG4gICAgcmV0dXJuIHNwcml0ZTtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGdldFRleHQgPSAodGV4dDogc3RyaW5nLCBzdHlsZXM/OiBQSVhJLlRleHRTdHlsZU9wdGlvbnMpID0+IHtcclxuICAgIGNvbnN0IHBpeGlUZXh0ID0gbmV3IFBJWEkuVGV4dCh0ZXh0LCB7IFxyXG4gICAgICAgIC4uLnRleHRTdHlsZSwgXHJcbiAgICAgICAgLi4uc3R5bGVzIFxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gcGl4aVRleHQ7XHJcbn0iLCJpbXBvcnQgeyBSZXNvdXJjZXMgfSBmcm9tICcuLi90eXBpbmdzJztcclxuXHJcbmNvbnN0IG1pbmVyYWxzU3BhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtaW5lcmFsU3BhbicpO1xyXG5jb25zdCBveHlnZW5TcGFuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ294eWdlblNwYW4nKTtcclxuY29uc3QgZW5lcmd5U3BhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbmVyZ3lTcGFuJyk7XHJcblxyXG5jb25zdCBtaW5lcmFsc1NwYW5fRGVsdGEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWluZXJhbFNwYW5fRGVsdGEnKTtcclxuY29uc3Qgb3h5Z2VuU3Bhbl9EZWx0YSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdveHlnZW5TcGFuX0RlbHRhJyk7XHJcbmNvbnN0IGVuZXJneVNwYW5fRGVsdGEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW5lcmd5U3Bhbl9EZWx0YScpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHJlbmRlclJlc291cmNlcyA9IChyZXNvdXJjZXM6IFJlc291cmNlcykgPT4geyBcclxuICAgIG94eWdlblNwYW4udGV4dENvbnRlbnQgPSByZXNvdXJjZXMub3h5Z2VuLnZhbHVlLnRvU3RyaW5nKCk7XHJcbiAgICBtaW5lcmFsc1NwYW4udGV4dENvbnRlbnQgPSByZXNvdXJjZXMubWluZXJhbC52YWx1ZS50b1N0cmluZygpO1xyXG4gICAgZW5lcmd5U3Bhbi50ZXh0Q29udGVudCA9IHJlc291cmNlcy5lbmVyZ3kudmFsdWUudG9TdHJpbmcoKTtcclxuICAgIFxyXG4gICAgb3h5Z2VuU3Bhbl9EZWx0YS50ZXh0Q29udGVudCA9IHJlc291cmNlcy5veHlnZW4uZGVsdGEudG9TdHJpbmcoKTtcclxuICAgIG1pbmVyYWxzU3Bhbl9EZWx0YS50ZXh0Q29udGVudCA9IHJlc291cmNlcy5taW5lcmFsLmRlbHRhLnRvU3RyaW5nKCk7XHJcbiAgICBlbmVyZ3lTcGFuX0RlbHRhLnRleHRDb250ZW50ID0gcmVzb3VyY2VzLmVuZXJneS5kZWx0YS50b1N0cmluZygpO1xyXG59IiwiaW1wb3J0IGNsaWVudCBmcm9tICcuLi9jbGllbnRzL2NsaWVudCc7XHJcbmltcG9ydCB7IHNwcml0ZXMgfSBmcm9tICcuLi9Db21tb24vbG9hZGVyRXh0JztcclxuXHJcbmV4cG9ydCBjb25zdCBsb2FkUmVzb3VyY2VzU3ByaXRlcyA9ICgpID0+IHtcclxuICAgIGNvbnN0IHJlc291cmNlcyA9IFsnbW9sJywgJzEnLCAnb28yJyBdO1xyXG4gICAgZm9yKGxldCByZXNvdXJjZSBvZiByZXNvdXJjZXMpIHtcclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChyZXNvdXJjZSkgYXMgSFRNTEltYWdlRWxlbWVudDtcclxuICAgICAgICBjb25zdCBmaWxlTmFtZSA9IHNwcml0ZXNbcmVzb3VyY2VdO1xyXG4gICAgICAgIGNvbnRhaW5lci5zcmMgPSBmaWxlTmFtZTtcclxuICAgICAgICBjb25zdCBzaXplID0gNDg7XHJcbiAgICAgICAgY29udGFpbmVyLmhlaWdodCA9IHNpemU7XHJcbiAgICAgICAgY29udGFpbmVyLndpZHRoID0gc2l6ZTtcclxuICAgIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBsb2FkUG9ydHJhaXRTcHJpdGUgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCBmcmFjdGlvbiA9IGF3YWl0IGNsaWVudC5nZXRGcmFjdGlvbigpO1xyXG4gICAgICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9ydHJhaXRcIikgYXMgSFRNTEltYWdlRWxlbWVudDtcclxuICAgICAgICBjb25zdCBmaWxlTmFtZSA9IHNwcml0ZXNbZnJhY3Rpb25dO1xyXG4gICAgICAgIGltZy5zcmMgPSBmaWxlTmFtZTtcclxuICAgICAgICBjb25zdCBzaXplID0gNDUwO1xyXG4gICAgICAgIGltZy5oZWlnaHQgPSBzaXplO1xyXG4gICAgICAgIGltZy53aWR0aCA9IHNpemU7XHJcbn07IiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIjZmFicmljVGFibGUgIHRkIHtcXHJcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcclxcbn1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG4iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9mYWJyaWNUYWJsZS5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vZmFicmljVGFibGUuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9mYWJyaWNUYWJsZS5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJpbXBvcnQgJy4vZmFicmljVGFibGUuY3NzJztcclxuaW1wb3J0IHsgc3ByaXRlcyB9IGZyb20gJy4uLy4uL0NvbW1vbi9sb2FkZXJFeHQnO1xyXG5pbXBvcnQgeyBBdmFsaWFibGVGYWN0b3J5LCBBdmFsaWFibGVGYWN0b3J5cyB9IGZyb20gJy4uLy4uL3R5cGluZ3MnO1xyXG5cclxuY29uc3QgZmFicmljVGFibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmFicmljVGFibGUnKTtcclxuXHJcbmNvbnN0IHRvU3RyaW5nID0gb2JqID0+IE9iamVjdC5rZXlzKG9iailcclxuICAgIC5maWx0ZXIoa2V5ID0+IG9ialtrZXldKVxyXG4gICAgLnJlZHVjZSgoYWNjLCBrKSA9PiBhY2MuY29uY2F0KGAke2t9OiAke29ialtrXX07XFxuYCksIFwiXCIpXHJcblxyXG5leHBvcnQgY29uc3QgcmVuZGVyVGFibGUgPSAoZmFjdG9yeXM6IEF2YWxpYWJsZUZhY3RvcnlzLCBvbkNsaWNrOiAodjogQXZhbGlhYmxlRmFjdG9yeSkgPT4gKCkgPT4gdm9pZCkgPT4ge1xyXG4gICAgbGV0IGluZCA9IDA7XHJcbiAgICBjb25zdCB0cmlhZHMgPSBmYWN0b3J5cy5pbmZvcy5yZWR1Y2UoKGFjYywgY3VycmVudCkgPT4ge1xyXG4gICAgICAgIGlmIChpbmQrKyA+IDIpIHtcclxuICAgICAgICAgICAgaW5kID0gMDtcclxuICAgICAgICAgICAgYWNjLnB1c2goW10pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhY2NbYWNjLmxlbmd0aCAtIDFdLnB1c2goY3VycmVudCk7XHJcbiAgICAgICAgcmV0dXJuIGFjYztcclxuICAgIH0sIFtbXV0gYXMgQXZhbGlhYmxlRmFjdG9yeVtdW10pO1xyXG5cclxuICAgIGNvbnN0IHRhYmxlID0gZmFicmljVGFibGUuZmlyc3RFbGVtZW50Q2hpbGQ7XHJcbiAgICB0YWJsZS5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgZm9yIChsZXQgdHJpYWQgb2YgdHJpYWRzKSB7XHJcbiAgICAgICAgY29uc3QgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xyXG4gICAgICAgIGZvciAobGV0IHZhcmlhbnQgb2YgdHJpYWQpIHtcclxuICAgICAgICAgICAgY29uc3QgdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG4gICAgICAgICAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgICAgICAgICAgaW1nLnNyYyA9IHNwcml0ZXNbdmFyaWFudC5zcHJpdGVdO1xyXG4gICAgICAgICAgICB0ZC50aXRsZSA9IGBcXHRDb3N0OiBcXG4ke3RvU3RyaW5nKHZhcmlhbnQuY29zdCl9XFx0UHJvZHVjZXM6IFxcbiR7dG9TdHJpbmcodmFyaWFudC5wcm9kdWNlcyl9YDtcclxuICAgICAgICAgICAgdGQuYXBwZW5kQ2hpbGQoaW1nKTtcclxuICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGQpO1xyXG4gICAgICAgICAgICB0ZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uQ2xpY2sodmFyaWFudCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0YWJsZS5hcHBlbmRDaGlsZCh0cik7XHJcbiAgICB9XHJcbn0iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5yZXNvdXJjZXMge1xcclxcbiAgICBwYWRkaW5nOiAzMHB4IDUwcHg7XFxyXFxufVxcclxcbi5yZXNvdXJjZXMgPiAuaGVhZGVyICB7XFxyXFxuICAgIGZvbnQtc2l6ZTogMjVweDtcXHJcXG4gICAgbWFyZ2luLWJvdHRvbTogMTVweDtcXHJcXG59XFxyXFxuXFxyXFxuLnJlc291cmNlcz4uZ3JvdXB7XFxyXFxuICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XFxyXFxufVxcclxcbi5yZXNvdXJjZXM+Lmdyb3VwPmltZ3tcXHJcXG4gICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcclxcbn1cXHJcXG4ucmVzb3VyY2VzPi5ub21hcmdpbiB7XFxyXFxuICAgIG1hcmdpbi1ib3R0b206IDA7XFxyXFxufVxcclxcblxcclxcbi5ncm91cD5kaXYge1xcclxcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxyXFxuICAgIG1pbi13aWR0aDogMTM1cHg7XFxyXFxufVxcclxcblxcclxcbi5yZXNvdXJjZSB7XFxyXFxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXHJcXG4gICAgbWluLXdpZHRoOiA2MHB4O1xcclxcbn1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG4iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9yZXNvdXJjZXMuY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL3Jlc291cmNlcy5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL3Jlc291cmNlcy5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5wb3J0cmFpdCB7XFxyXFxuICAgIG1pbi1oZWlnaHQ6IDM1MHB4O1xcclxcbn1cXHJcXG5cXHJcXG4ucGxheWVyLXBvcnRyYWl0IHtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzM2MzMzMDtcXHJcXG4gICAgYm9yZGVyOiBzb2xpZCAzcHggeWVsbG93O1xcclxcbn1cXHJcXG5cXHJcXG4jcG9ydHJhaXQge1xcclxcbiAgICBkaXNwbGF5OiBibG9jaztcXHJcXG59XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vcG9ydHJhaXQuY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL3BvcnRyYWl0LmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vcG9ydHJhaXQuY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJcXHJcXG4ubW9kYWxEaWFsb2cge1xcclxcblxcdHBvc2l0aW9uOiBmaXhlZDtcXHJcXG5cXHRmb250LWZhbWlseTogQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjtcXHJcXG5cXHR0b3A6IDA7XFxyXFxuXFx0cmlnaHQ6IDA7XFxyXFxuXFx0Ym90dG9tOiAwO1xcclxcblxcdGxlZnQ6IDA7XFxyXFxuXFx0YmFja2dyb3VuZDogcmdiYSgwLDAsMCwwLjgpO1xcclxcblxcdHotaW5kZXg6IDk5OTk5O1xcclxcblxcdG9wYWNpdHk6MDtcXHJcXG5cXHQtd2Via2l0LXRyYW5zaXRpb246IG9wYWNpdHkgNDAwbXMgZWFzZS1pbjtcXHJcXG5cXHQtbW96LXRyYW5zaXRpb246IG9wYWNpdHkgNDAwbXMgZWFzZS1pbjtcXHJcXG5cXHR0cmFuc2l0aW9uOiBvcGFjaXR5IDQwMG1zIGVhc2UtaW47XFxyXFxuXFx0cG9pbnRlci1ldmVudHM6IG5vbmU7XFxyXFxufVxcclxcblxcclxcbi5hY3RpdmUge1xcclxcblxcdG9wYWNpdHk6MTtcXHJcXG5cXHRwb2ludGVyLWV2ZW50czogYXV0bztcXHJcXG59XFxyXFxuXFxyXFxuLm1vZGFsRGlhbG9nID4gZGl2IHtcXHJcXG4gICAgZm9udC1mYW1pbHk6IFxcXCJQcmVzcyBTdGFydCAyUFxcXCI7XFxyXFxuXFx0d2lkdGg6IDQwMHB4O1xcclxcblxcdHBvc2l0aW9uOiByZWxhdGl2ZTtcXHJcXG5cXHRtYXJnaW46IDEwJSBhdXRvO1xcclxcblxcdHBhZGRpbmc6IDVweCAyMHB4IDEzcHggMjBweDtcXHJcXG5cXHRib3JkZXItcmFkaXVzOiAxMHB4O1xcclxcblxcdGJhY2tncm91bmQ6ICNmZmY7XFxyXFxuXFx0YmFja2dyb3VuZDogLW1vei1saW5lYXItZ3JhZGllbnQoI2ZmZiwgIzk5OSk7XFxyXFxuXFx0YmFja2dyb3VuZDogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQoI2ZmZiwgIzk5OSk7XFxyXFxuXFx0YmFja2dyb3VuZDogLW8tbGluZWFyLWdyYWRpZW50KCNmZmYsICM5OTkpO1xcclxcbn1cXHJcXG5cXHJcXG4uY2xvc2Uge1xcclxcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxyXFxuXFx0YmFja2dyb3VuZDogIzYwNjA2MTtcXHJcXG5cXHRjb2xvcjogI0ZGRkZGRjtcXHJcXG5cXHRsaW5lLWhlaWdodDogMjVweDtcXHJcXG5cXHRwb3NpdGlvbjogYWJzb2x1dGU7XFxyXFxuXFx0cmlnaHQ6IC0xMnB4O1xcclxcblxcdHRleHQtYWxpZ246IGNlbnRlcjtcXHJcXG5cXHR0b3A6IC0xMHB4O1xcclxcblxcdHdpZHRoOiAyNHB4O1xcclxcblxcdHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXHJcXG5cXHRmb250LXdlaWdodDogYm9sZDtcXHJcXG5cXHQtd2Via2l0LWJvcmRlci1yYWRpdXM6IDEycHg7XFxyXFxuXFx0LW1vei1ib3JkZXItcmFkaXVzOiAxMnB4O1xcclxcblxcdGJvcmRlci1yYWRpdXM6IDEycHg7XFxyXFxuXFx0LW1vei1ib3gtc2hhZG93OiAxcHggMXB4IDNweCAjMDAwO1xcclxcblxcdC13ZWJraXQtYm94LXNoYWRvdzogMXB4IDFweCAzcHggIzAwMDtcXHJcXG5cXHRib3gtc2hhZG93OiAxcHggMXB4IDNweCAjMDAwO1xcclxcbn1cXHJcXG5cXHJcXG4uY2xvc2U6aG92ZXIgeyBiYWNrZ3JvdW5kOiAjMDBkOWZmOyB9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbW9kYWwuY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL21vZGFsLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbW9kYWwuY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiaW1wb3J0ICcuL21vZGFsLmNzcyc7XHJcblxyXG5cclxuY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3Blbk1vZGFsJyk7XHJcbmNvbnN0IG1vZGFsQm9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbEJvZHknKTtcclxuXHJcbmNvbnN0IGhpZGVNb2RhbCA9ICgpID0+IHtcclxuICAgIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG59O1xyXG5cclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3NlTW9kYWwnKVxyXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGlkZU1vZGFsKTtcclxuXHJcbmV4cG9ydCBjb25zdCBzaG93TW9kYWwgPSAodGV4dCkgPT4ge1xyXG4gICAgbW9kYWxCb2R5LnRleHRDb250ZW50ID0gdGV4dDtcclxuICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG59IiwiaW1wb3J0ICogYXMgUElYSSBmcm9tICdwaXhpLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBTcHJpdGVFeHQgZXh0ZW5kcyBQSVhJLlNwcml0ZSB7XHJcbiAgICByZW1vdmUgPSAoKSA9PiB7IHRoaXMudmlzaWJsZSA9IGZhbHNlOyB9XHJcblxyXG4gICAgc2V0Q29vcmRpbmF0ZXMgPSAoeDogbnVtYmVyLCB5OiBudW1iZXIpID0+IHsgdGhpcy54ID0geDsgdGhpcy55ID0geSB9XHJcblxyXG4gICAgc2V0UG9zaXRpb24gPSAoY29sdW1uOiBudW1iZXIsIHJvdzogbnVtYmVyKSA9PiB7IHRoaXMueCA9IDEwMCAqIGNvbHVtbjsgdGhpcy55ID0gMTAwICogcm93IH1cclxuICAgIFxyXG4gICAgbW92ZVRvID0gKGR4OiBudW1iZXIsIGR5OiBudW1iZXIpID0+IHsgdGhpcy54ICs9IGR4LCB0aGlzLnkgKz0gZHkgfVxyXG59IiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFN5bnRhY3RpYyBzdWdhciBmb3IgaW52b2tpbmcgYSBmdW5jdGlvbiBhbmQgZXhwYW5kaW5nIGFuIGFycmF5IGZvciBhcmd1bWVudHMuXG4gKlxuICogQ29tbW9uIHVzZSBjYXNlIHdvdWxkIGJlIHRvIHVzZSBgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5YC5cbiAqXG4gKiAgYGBganNcbiAqICBmdW5jdGlvbiBmKHgsIHksIHopIHt9XG4gKiAgdmFyIGFyZ3MgPSBbMSwgMiwgM107XG4gKiAgZi5hcHBseShudWxsLCBhcmdzKTtcbiAqICBgYGBcbiAqXG4gKiBXaXRoIGBzcHJlYWRgIHRoaXMgZXhhbXBsZSBjYW4gYmUgcmUtd3JpdHRlbi5cbiAqXG4gKiAgYGBganNcbiAqICBzcHJlYWQoZnVuY3Rpb24oeCwgeSwgeikge30pKFsxLCAyLCAzXSk7XG4gKiAgYGBgXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzcHJlYWQoY2FsbGJhY2spIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoYXJyKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KG51bGwsIGFycik7XG4gIH07XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgQ2FuY2VsID0gcmVxdWlyZSgnLi9DYW5jZWwnKTtcblxuLyoqXG4gKiBBIGBDYW5jZWxUb2tlbmAgaXMgYW4gb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgdG8gcmVxdWVzdCBjYW5jZWxsYXRpb24gb2YgYW4gb3BlcmF0aW9uLlxuICpcbiAqIEBjbGFzc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gZXhlY3V0b3IgVGhlIGV4ZWN1dG9yIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBDYW5jZWxUb2tlbihleGVjdXRvcikge1xuICBpZiAodHlwZW9mIGV4ZWN1dG9yICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZXhlY3V0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uLicpO1xuICB9XG5cbiAgdmFyIHJlc29sdmVQcm9taXNlO1xuICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiBwcm9taXNlRXhlY3V0b3IocmVzb2x2ZSkge1xuICAgIHJlc29sdmVQcm9taXNlID0gcmVzb2x2ZTtcbiAgfSk7XG5cbiAgdmFyIHRva2VuID0gdGhpcztcbiAgZXhlY3V0b3IoZnVuY3Rpb24gY2FuY2VsKG1lc3NhZ2UpIHtcbiAgICBpZiAodG9rZW4ucmVhc29uKSB7XG4gICAgICAvLyBDYW5jZWxsYXRpb24gaGFzIGFscmVhZHkgYmVlbiByZXF1ZXN0ZWRcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0b2tlbi5yZWFzb24gPSBuZXcgQ2FuY2VsKG1lc3NhZ2UpO1xuICAgIHJlc29sdmVQcm9taXNlKHRva2VuLnJlYXNvbik7XG4gIH0pO1xufVxuXG4vKipcbiAqIFRocm93cyBhIGBDYW5jZWxgIGlmIGNhbmNlbGxhdGlvbiBoYXMgYmVlbiByZXF1ZXN0ZWQuXG4gKi9cbkNhbmNlbFRva2VuLnByb3RvdHlwZS50aHJvd0lmUmVxdWVzdGVkID0gZnVuY3Rpb24gdGhyb3dJZlJlcXVlc3RlZCgpIHtcbiAgaWYgKHRoaXMucmVhc29uKSB7XG4gICAgdGhyb3cgdGhpcy5yZWFzb247XG4gIH1cbn07XG5cbi8qKlxuICogUmV0dXJucyBhbiBvYmplY3QgdGhhdCBjb250YWlucyBhIG5ldyBgQ2FuY2VsVG9rZW5gIGFuZCBhIGZ1bmN0aW9uIHRoYXQsIHdoZW4gY2FsbGVkLFxuICogY2FuY2VscyB0aGUgYENhbmNlbFRva2VuYC5cbiAqL1xuQ2FuY2VsVG9rZW4uc291cmNlID0gZnVuY3Rpb24gc291cmNlKCkge1xuICB2YXIgY2FuY2VsO1xuICB2YXIgdG9rZW4gPSBuZXcgQ2FuY2VsVG9rZW4oZnVuY3Rpb24gZXhlY3V0b3IoYykge1xuICAgIGNhbmNlbCA9IGM7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIHRva2VuOiB0b2tlbixcbiAgICBjYW5jZWw6IGNhbmNlbFxuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBDYW5jZWxUb2tlbjtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFVSTCBieSBjb21iaW5pbmcgdGhlIHNwZWNpZmllZCBVUkxzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkwgVGhlIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVsYXRpdmVVUkwgVGhlIHJlbGF0aXZlIFVSTFxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGNvbWJpbmVkIFVSTFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNvbWJpbmVVUkxzKGJhc2VVUkwsIHJlbGF0aXZlVVJMKSB7XG4gIHJldHVybiByZWxhdGl2ZVVSTFxuICAgID8gYmFzZVVSTC5yZXBsYWNlKC9cXC8rJC8sICcnKSArICcvJyArIHJlbGF0aXZlVVJMLnJlcGxhY2UoL15cXC8rLywgJycpXG4gICAgOiBiYXNlVVJMO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGVcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBVUkwgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzQWJzb2x1dGVVUkwodXJsKSB7XG4gIC8vIEEgVVJMIGlzIGNvbnNpZGVyZWQgYWJzb2x1dGUgaWYgaXQgYmVnaW5zIHdpdGggXCI8c2NoZW1lPjovL1wiIG9yIFwiLy9cIiAocHJvdG9jb2wtcmVsYXRpdmUgVVJMKS5cbiAgLy8gUkZDIDM5ODYgZGVmaW5lcyBzY2hlbWUgbmFtZSBhcyBhIHNlcXVlbmNlIG9mIGNoYXJhY3RlcnMgYmVnaW5uaW5nIHdpdGggYSBsZXR0ZXIgYW5kIGZvbGxvd2VkXG4gIC8vIGJ5IGFueSBjb21iaW5hdGlvbiBvZiBsZXR0ZXJzLCBkaWdpdHMsIHBsdXMsIHBlcmlvZCwgb3IgaHlwaGVuLlxuICByZXR1cm4gL14oW2Etel1bYS16XFxkXFwrXFwtXFwuXSo6KT9cXC9cXC8vaS50ZXN0KHVybCk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbi8qKlxuICogVHJhbnNmb3JtIHRoZSBkYXRhIGZvciBhIHJlcXVlc3Qgb3IgYSByZXNwb25zZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gZGF0YSBUaGUgZGF0YSB0byBiZSB0cmFuc2Zvcm1lZFxuICogQHBhcmFtIHtBcnJheX0gaGVhZGVycyBUaGUgaGVhZGVycyBmb3IgdGhlIHJlcXVlc3Qgb3IgcmVzcG9uc2VcbiAqIEBwYXJhbSB7QXJyYXl8RnVuY3Rpb259IGZucyBBIHNpbmdsZSBmdW5jdGlvbiBvciBBcnJheSBvZiBmdW5jdGlvbnNcbiAqIEByZXR1cm5zIHsqfSBUaGUgcmVzdWx0aW5nIHRyYW5zZm9ybWVkIGRhdGFcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0cmFuc2Zvcm1EYXRhKGRhdGEsIGhlYWRlcnMsIGZucykge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgdXRpbHMuZm9yRWFjaChmbnMsIGZ1bmN0aW9uIHRyYW5zZm9ybShmbikge1xuICAgIGRhdGEgPSBmbihkYXRhLCBoZWFkZXJzKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGRhdGE7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG52YXIgdHJhbnNmb3JtRGF0YSA9IHJlcXVpcmUoJy4vdHJhbnNmb3JtRGF0YScpO1xudmFyIGlzQ2FuY2VsID0gcmVxdWlyZSgnLi4vY2FuY2VsL2lzQ2FuY2VsJyk7XG52YXIgZGVmYXVsdHMgPSByZXF1aXJlKCcuLi9kZWZhdWx0cycpO1xudmFyIGlzQWJzb2x1dGVVUkwgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTCcpO1xudmFyIGNvbWJpbmVVUkxzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2NvbWJpbmVVUkxzJyk7XG5cbi8qKlxuICogVGhyb3dzIGEgYENhbmNlbGAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAqL1xuZnVuY3Rpb24gdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpIHtcbiAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbikge1xuICAgIGNvbmZpZy5jYW5jZWxUb2tlbi50aHJvd0lmUmVxdWVzdGVkKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNwYXRjaCBhIHJlcXVlc3QgdG8gdGhlIHNlcnZlciB1c2luZyB0aGUgY29uZmlndXJlZCBhZGFwdGVyLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyB0aGF0IGlzIHRvIGJlIHVzZWQgZm9yIHRoZSByZXF1ZXN0XG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gVGhlIFByb21pc2UgdG8gYmUgZnVsZmlsbGVkXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGlzcGF0Y2hSZXF1ZXN0KGNvbmZpZykge1xuICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgLy8gU3VwcG9ydCBiYXNlVVJMIGNvbmZpZ1xuICBpZiAoY29uZmlnLmJhc2VVUkwgJiYgIWlzQWJzb2x1dGVVUkwoY29uZmlnLnVybCkpIHtcbiAgICBjb25maWcudXJsID0gY29tYmluZVVSTHMoY29uZmlnLmJhc2VVUkwsIGNvbmZpZy51cmwpO1xuICB9XG5cbiAgLy8gRW5zdXJlIGhlYWRlcnMgZXhpc3RcbiAgY29uZmlnLmhlYWRlcnMgPSBjb25maWcuaGVhZGVycyB8fCB7fTtcblxuICAvLyBUcmFuc2Zvcm0gcmVxdWVzdCBkYXRhXG4gIGNvbmZpZy5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICBjb25maWcuZGF0YSxcbiAgICBjb25maWcuaGVhZGVycyxcbiAgICBjb25maWcudHJhbnNmb3JtUmVxdWVzdFxuICApO1xuXG4gIC8vIEZsYXR0ZW4gaGVhZGVyc1xuICBjb25maWcuaGVhZGVycyA9IHV0aWxzLm1lcmdlKFxuICAgIGNvbmZpZy5oZWFkZXJzLmNvbW1vbiB8fCB7fSxcbiAgICBjb25maWcuaGVhZGVyc1tjb25maWcubWV0aG9kXSB8fCB7fSxcbiAgICBjb25maWcuaGVhZGVycyB8fCB7fVxuICApO1xuXG4gIHV0aWxzLmZvckVhY2goXG4gICAgWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAncG9zdCcsICdwdXQnLCAncGF0Y2gnLCAnY29tbW9uJ10sXG4gICAgZnVuY3Rpb24gY2xlYW5IZWFkZXJDb25maWcobWV0aG9kKSB7XG4gICAgICBkZWxldGUgY29uZmlnLmhlYWRlcnNbbWV0aG9kXTtcbiAgICB9XG4gICk7XG5cbiAgdmFyIGFkYXB0ZXIgPSBjb25maWcuYWRhcHRlciB8fCBkZWZhdWx0cy5hZGFwdGVyO1xuXG4gIHJldHVybiBhZGFwdGVyKGNvbmZpZykudGhlbihmdW5jdGlvbiBvbkFkYXB0ZXJSZXNvbHV0aW9uKHJlc3BvbnNlKSB7XG4gICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcbiAgICByZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICAgIHJlc3BvbnNlLmRhdGEsXG4gICAgICByZXNwb25zZS5oZWFkZXJzLFxuICAgICAgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlXG4gICAgKTtcblxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfSwgZnVuY3Rpb24gb25BZGFwdGVyUmVqZWN0aW9uKHJlYXNvbikge1xuICAgIGlmICghaXNDYW5jZWwocmVhc29uKSkge1xuICAgICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YVxuICAgICAgaWYgKHJlYXNvbiAmJiByZWFzb24ucmVzcG9uc2UpIHtcbiAgICAgICAgcmVhc29uLnJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1EYXRhKFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhLFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZWFzb24pO1xuICB9KTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gSW50ZXJjZXB0b3JNYW5hZ2VyKCkge1xuICB0aGlzLmhhbmRsZXJzID0gW107XG59XG5cbi8qKlxuICogQWRkIGEgbmV3IGludGVyY2VwdG9yIHRvIHRoZSBzdGFja1xuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bGZpbGxlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGB0aGVuYCBmb3IgYSBgUHJvbWlzZWBcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdGVkIFRoZSBmdW5jdGlvbiB0byBoYW5kbGUgYHJlamVjdGAgZm9yIGEgYFByb21pc2VgXG4gKlxuICogQHJldHVybiB7TnVtYmVyfSBBbiBJRCB1c2VkIHRvIHJlbW92ZSBpbnRlcmNlcHRvciBsYXRlclxuICovXG5JbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLnVzZSA9IGZ1bmN0aW9uIHVzZShmdWxmaWxsZWQsIHJlamVjdGVkKSB7XG4gIHRoaXMuaGFuZGxlcnMucHVzaCh7XG4gICAgZnVsZmlsbGVkOiBmdWxmaWxsZWQsXG4gICAgcmVqZWN0ZWQ6IHJlamVjdGVkXG4gIH0pO1xuICByZXR1cm4gdGhpcy5oYW5kbGVycy5sZW5ndGggLSAxO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYW4gaW50ZXJjZXB0b3IgZnJvbSB0aGUgc3RhY2tcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gaWQgVGhlIElEIHRoYXQgd2FzIHJldHVybmVkIGJ5IGB1c2VgXG4gKi9cbkludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUuZWplY3QgPSBmdW5jdGlvbiBlamVjdChpZCkge1xuICBpZiAodGhpcy5oYW5kbGVyc1tpZF0pIHtcbiAgICB0aGlzLmhhbmRsZXJzW2lkXSA9IG51bGw7XG4gIH1cbn07XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFsbCB0aGUgcmVnaXN0ZXJlZCBpbnRlcmNlcHRvcnNcbiAqXG4gKiBUaGlzIG1ldGhvZCBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIGZvciBza2lwcGluZyBvdmVyIGFueVxuICogaW50ZXJjZXB0b3JzIHRoYXQgbWF5IGhhdmUgYmVjb21lIGBudWxsYCBjYWxsaW5nIGBlamVjdGAuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggaW50ZXJjZXB0b3JcbiAqL1xuSW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gZm9yRWFjaChmbikge1xuICB1dGlscy5mb3JFYWNoKHRoaXMuaGFuZGxlcnMsIGZ1bmN0aW9uIGZvckVhY2hIYW5kbGVyKGgpIHtcbiAgICBpZiAoaCAhPT0gbnVsbCkge1xuICAgICAgZm4oaCk7XG4gICAgfVxuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gSW50ZXJjZXB0b3JNYW5hZ2VyO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gKFxuICB1dGlscy5pc1N0YW5kYXJkQnJvd3NlckVudigpID9cblxuICAvLyBTdGFuZGFyZCBicm93c2VyIGVudnMgc3VwcG9ydCBkb2N1bWVudC5jb29raWVcbiAgKGZ1bmN0aW9uIHN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKG5hbWUsIHZhbHVlLCBleHBpcmVzLCBwYXRoLCBkb21haW4sIHNlY3VyZSkge1xuICAgICAgICB2YXIgY29va2llID0gW107XG4gICAgICAgIGNvb2tpZS5wdXNoKG5hbWUgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpKTtcblxuICAgICAgICBpZiAodXRpbHMuaXNOdW1iZXIoZXhwaXJlcykpIHtcbiAgICAgICAgICBjb29raWUucHVzaCgnZXhwaXJlcz0nICsgbmV3IERhdGUoZXhwaXJlcykudG9HTVRTdHJpbmcoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXRpbHMuaXNTdHJpbmcocGF0aCkpIHtcbiAgICAgICAgICBjb29raWUucHVzaCgncGF0aD0nICsgcGF0aCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXRpbHMuaXNTdHJpbmcoZG9tYWluKSkge1xuICAgICAgICAgIGNvb2tpZS5wdXNoKCdkb21haW49JyArIGRvbWFpbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2VjdXJlID09PSB0cnVlKSB7XG4gICAgICAgICAgY29va2llLnB1c2goJ3NlY3VyZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgZG9jdW1lbnQuY29va2llID0gY29va2llLmpvaW4oJzsgJyk7XG4gICAgICB9LFxuXG4gICAgICByZWFkOiBmdW5jdGlvbiByZWFkKG5hbWUpIHtcbiAgICAgICAgdmFyIG1hdGNoID0gZG9jdW1lbnQuY29va2llLm1hdGNoKG5ldyBSZWdFeHAoJyhefDtcXFxccyopKCcgKyBuYW1lICsgJyk9KFteO10qKScpKTtcbiAgICAgICAgcmV0dXJuIChtYXRjaCA/IGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFszXSkgOiBudWxsKTtcbiAgICAgIH0sXG5cbiAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKG5hbWUpIHtcbiAgICAgICAgdGhpcy53cml0ZShuYW1lLCAnJywgRGF0ZS5ub3coKSAtIDg2NDAwMDAwKTtcbiAgICAgIH1cbiAgICB9O1xuICB9KSgpIDpcblxuICAvLyBOb24gc3RhbmRhcmQgYnJvd3NlciBlbnYgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gIChmdW5jdGlvbiBub25TdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZSgpIHt9LFxuICAgICAgcmVhZDogZnVuY3Rpb24gcmVhZCgpIHsgcmV0dXJuIG51bGw7IH0sXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHt9XG4gICAgfTtcbiAgfSkoKVxuKTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLy8gYnRvYSBwb2x5ZmlsbCBmb3IgSUU8MTAgY291cnRlc3kgaHR0cHM6Ly9naXRodWIuY29tL2RhdmlkY2hhbWJlcnMvQmFzZTY0LmpzXG5cbnZhciBjaGFycyA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSc7XG5cbmZ1bmN0aW9uIEUoKSB7XG4gIHRoaXMubWVzc2FnZSA9ICdTdHJpbmcgY29udGFpbnMgYW4gaW52YWxpZCBjaGFyYWN0ZXInO1xufVxuRS5wcm90b3R5cGUgPSBuZXcgRXJyb3I7XG5FLnByb3RvdHlwZS5jb2RlID0gNTtcbkUucHJvdG90eXBlLm5hbWUgPSAnSW52YWxpZENoYXJhY3RlckVycm9yJztcblxuZnVuY3Rpb24gYnRvYShpbnB1dCkge1xuICB2YXIgc3RyID0gU3RyaW5nKGlucHV0KTtcbiAgdmFyIG91dHB1dCA9ICcnO1xuICBmb3IgKFxuICAgIC8vIGluaXRpYWxpemUgcmVzdWx0IGFuZCBjb3VudGVyXG4gICAgdmFyIGJsb2NrLCBjaGFyQ29kZSwgaWR4ID0gMCwgbWFwID0gY2hhcnM7XG4gICAgLy8gaWYgdGhlIG5leHQgc3RyIGluZGV4IGRvZXMgbm90IGV4aXN0OlxuICAgIC8vICAgY2hhbmdlIHRoZSBtYXBwaW5nIHRhYmxlIHRvIFwiPVwiXG4gICAgLy8gICBjaGVjayBpZiBkIGhhcyBubyBmcmFjdGlvbmFsIGRpZ2l0c1xuICAgIHN0ci5jaGFyQXQoaWR4IHwgMCkgfHwgKG1hcCA9ICc9JywgaWR4ICUgMSk7XG4gICAgLy8gXCI4IC0gaWR4ICUgMSAqIDhcIiBnZW5lcmF0ZXMgdGhlIHNlcXVlbmNlIDIsIDQsIDYsIDhcbiAgICBvdXRwdXQgKz0gbWFwLmNoYXJBdCg2MyAmIGJsb2NrID4+IDggLSBpZHggJSAxICogOClcbiAgKSB7XG4gICAgY2hhckNvZGUgPSBzdHIuY2hhckNvZGVBdChpZHggKz0gMyAvIDQpO1xuICAgIGlmIChjaGFyQ29kZSA+IDB4RkYpIHtcbiAgICAgIHRocm93IG5ldyBFKCk7XG4gICAgfVxuICAgIGJsb2NrID0gYmxvY2sgPDwgOCB8IGNoYXJDb2RlO1xuICB9XG4gIHJldHVybiBvdXRwdXQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYnRvYTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgdXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIGhhdmUgZnVsbCBzdXBwb3J0IG9mIHRoZSBBUElzIG5lZWRlZCB0byB0ZXN0XG4gIC8vIHdoZXRoZXIgdGhlIHJlcXVlc3QgVVJMIGlzIG9mIHRoZSBzYW1lIG9yaWdpbiBhcyBjdXJyZW50IGxvY2F0aW9uLlxuICAoZnVuY3Rpb24gc3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgIHZhciBtc2llID0gLyhtc2llfHRyaWRlbnQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICB2YXIgdXJsUGFyc2luZ05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgdmFyIG9yaWdpblVSTDtcblxuICAgIC8qKlxuICAgICogUGFyc2UgYSBVUkwgdG8gZGlzY292ZXIgaXQncyBjb21wb25lbnRzXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCBUaGUgVVJMIHRvIGJlIHBhcnNlZFxuICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc29sdmVVUkwodXJsKSB7XG4gICAgICB2YXIgaHJlZiA9IHVybDtcblxuICAgICAgaWYgKG1zaWUpIHtcbiAgICAgICAgLy8gSUUgbmVlZHMgYXR0cmlidXRlIHNldCB0d2ljZSB0byBub3JtYWxpemUgcHJvcGVydGllc1xuICAgICAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcbiAgICAgICAgaHJlZiA9IHVybFBhcnNpbmdOb2RlLmhyZWY7XG4gICAgICB9XG5cbiAgICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuXG4gICAgICAvLyB1cmxQYXJzaW5nTm9kZSBwcm92aWRlcyB0aGUgVXJsVXRpbHMgaW50ZXJmYWNlIC0gaHR0cDovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybHV0aWxzXG4gICAgICByZXR1cm4ge1xuICAgICAgICBocmVmOiB1cmxQYXJzaW5nTm9kZS5ocmVmLFxuICAgICAgICBwcm90b2NvbDogdXJsUGFyc2luZ05vZGUucHJvdG9jb2wgPyB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbC5yZXBsYWNlKC86JC8sICcnKSA6ICcnLFxuICAgICAgICBob3N0OiB1cmxQYXJzaW5nTm9kZS5ob3N0LFxuICAgICAgICBzZWFyY2g6IHVybFBhcnNpbmdOb2RlLnNlYXJjaCA/IHVybFBhcnNpbmdOb2RlLnNlYXJjaC5yZXBsYWNlKC9eXFw/LywgJycpIDogJycsXG4gICAgICAgIGhhc2g6IHVybFBhcnNpbmdOb2RlLmhhc2ggPyB1cmxQYXJzaW5nTm9kZS5oYXNoLnJlcGxhY2UoL14jLywgJycpIDogJycsXG4gICAgICAgIGhvc3RuYW1lOiB1cmxQYXJzaW5nTm9kZS5ob3N0bmFtZSxcbiAgICAgICAgcG9ydDogdXJsUGFyc2luZ05vZGUucG9ydCxcbiAgICAgICAgcGF0aG5hbWU6ICh1cmxQYXJzaW5nTm9kZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJykgP1xuICAgICAgICAgICAgICAgICAgdXJsUGFyc2luZ05vZGUucGF0aG5hbWUgOlxuICAgICAgICAgICAgICAgICAgJy8nICsgdXJsUGFyc2luZ05vZGUucGF0aG5hbWVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgb3JpZ2luVVJMID0gcmVzb2x2ZVVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG5cbiAgICAvKipcbiAgICAqIERldGVybWluZSBpZiBhIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luIGFzIHRoZSBjdXJyZW50IGxvY2F0aW9uXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHJlcXVlc3RVUkwgVGhlIFVSTCB0byB0ZXN0XG4gICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBVUkwgc2hhcmVzIHRoZSBzYW1lIG9yaWdpbiwgb3RoZXJ3aXNlIGZhbHNlXG4gICAgKi9cbiAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKHJlcXVlc3RVUkwpIHtcbiAgICAgIHZhciBwYXJzZWQgPSAodXRpbHMuaXNTdHJpbmcocmVxdWVzdFVSTCkpID8gcmVzb2x2ZVVSTChyZXF1ZXN0VVJMKSA6IHJlcXVlc3RVUkw7XG4gICAgICByZXR1cm4gKHBhcnNlZC5wcm90b2NvbCA9PT0gb3JpZ2luVVJMLnByb3RvY29sICYmXG4gICAgICAgICAgICBwYXJzZWQuaG9zdCA9PT0gb3JpZ2luVVJMLmhvc3QpO1xuICAgIH07XG4gIH0pKCkgOlxuXG4gIC8vIE5vbiBzdGFuZGFyZCBicm93c2VyIGVudnMgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gIChmdW5jdGlvbiBub25TdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGlzVVJMU2FtZU9yaWdpbigpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gIH0pKClcbik7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuLy8gSGVhZGVycyB3aG9zZSBkdXBsaWNhdGVzIGFyZSBpZ25vcmVkIGJ5IG5vZGVcbi8vIGMuZi4gaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9odHRwLmh0bWwjaHR0cF9tZXNzYWdlX2hlYWRlcnNcbnZhciBpZ25vcmVEdXBsaWNhdGVPZiA9IFtcbiAgJ2FnZScsICdhdXRob3JpemF0aW9uJywgJ2NvbnRlbnQtbGVuZ3RoJywgJ2NvbnRlbnQtdHlwZScsICdldGFnJyxcbiAgJ2V4cGlyZXMnLCAnZnJvbScsICdob3N0JywgJ2lmLW1vZGlmaWVkLXNpbmNlJywgJ2lmLXVubW9kaWZpZWQtc2luY2UnLFxuICAnbGFzdC1tb2RpZmllZCcsICdsb2NhdGlvbicsICdtYXgtZm9yd2FyZHMnLCAncHJveHktYXV0aG9yaXphdGlvbicsXG4gICdyZWZlcmVyJywgJ3JldHJ5LWFmdGVyJywgJ3VzZXItYWdlbnQnXG5dO1xuXG4vKipcbiAqIFBhcnNlIGhlYWRlcnMgaW50byBhbiBvYmplY3RcbiAqXG4gKiBgYGBcbiAqIERhdGU6IFdlZCwgMjcgQXVnIDIwMTQgMDg6NTg6NDkgR01UXG4gKiBDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb25cbiAqIENvbm5lY3Rpb246IGtlZXAtYWxpdmVcbiAqIFRyYW5zZmVyLUVuY29kaW5nOiBjaHVua2VkXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gaGVhZGVycyBIZWFkZXJzIG5lZWRpbmcgdG8gYmUgcGFyc2VkXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBIZWFkZXJzIHBhcnNlZCBpbnRvIGFuIG9iamVjdFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHBhcnNlSGVhZGVycyhoZWFkZXJzKSB7XG4gIHZhciBwYXJzZWQgPSB7fTtcbiAgdmFyIGtleTtcbiAgdmFyIHZhbDtcbiAgdmFyIGk7XG5cbiAgaWYgKCFoZWFkZXJzKSB7IHJldHVybiBwYXJzZWQ7IH1cblxuICB1dGlscy5mb3JFYWNoKGhlYWRlcnMuc3BsaXQoJ1xcbicpLCBmdW5jdGlvbiBwYXJzZXIobGluZSkge1xuICAgIGkgPSBsaW5lLmluZGV4T2YoJzonKTtcbiAgICBrZXkgPSB1dGlscy50cmltKGxpbmUuc3Vic3RyKDAsIGkpKS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhbCA9IHV0aWxzLnRyaW0obGluZS5zdWJzdHIoaSArIDEpKTtcblxuICAgIGlmIChrZXkpIHtcbiAgICAgIGlmIChwYXJzZWRba2V5XSAmJiBpZ25vcmVEdXBsaWNhdGVPZi5pbmRleE9mKGtleSkgPj0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoa2V5ID09PSAnc2V0LWNvb2tpZScpIHtcbiAgICAgICAgcGFyc2VkW2tleV0gPSAocGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSA6IFtdKS5jb25jYXQoW3ZhbF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyc2VkW2tleV0gPSBwYXJzZWRba2V5XSA/IHBhcnNlZFtrZXldICsgJywgJyArIHZhbCA6IHZhbDtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBwYXJzZWQ7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIGVuY29kZSh2YWwpIHtcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh2YWwpLlxuICAgIHJlcGxhY2UoLyU0MC9naSwgJ0AnKS5cbiAgICByZXBsYWNlKC8lM0EvZ2ksICc6JykuXG4gICAgcmVwbGFjZSgvJTI0L2csICckJykuXG4gICAgcmVwbGFjZSgvJTJDL2dpLCAnLCcpLlxuICAgIHJlcGxhY2UoLyUyMC9nLCAnKycpLlxuICAgIHJlcGxhY2UoLyU1Qi9naSwgJ1snKS5cbiAgICByZXBsYWNlKC8lNUQvZ2ksICddJyk7XG59XG5cbi8qKlxuICogQnVpbGQgYSBVUkwgYnkgYXBwZW5kaW5nIHBhcmFtcyB0byB0aGUgZW5kXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgYmFzZSBvZiB0aGUgdXJsIChlLmcuLCBodHRwOi8vd3d3Lmdvb2dsZS5jb20pXG4gKiBAcGFyYW0ge29iamVjdH0gW3BhcmFtc10gVGhlIHBhcmFtcyB0byBiZSBhcHBlbmRlZFxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGZvcm1hdHRlZCB1cmxcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBidWlsZFVSTCh1cmwsIHBhcmFtcywgcGFyYW1zU2VyaWFsaXplcikge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgaWYgKCFwYXJhbXMpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9XG5cbiAgdmFyIHNlcmlhbGl6ZWRQYXJhbXM7XG4gIGlmIChwYXJhbXNTZXJpYWxpemVyKSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHBhcmFtc1NlcmlhbGl6ZXIocGFyYW1zKTtcbiAgfSBlbHNlIGlmICh1dGlscy5pc1VSTFNlYXJjaFBhcmFtcyhwYXJhbXMpKSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHBhcmFtcy50b1N0cmluZygpO1xuICB9IGVsc2Uge1xuICAgIHZhciBwYXJ0cyA9IFtdO1xuXG4gICAgdXRpbHMuZm9yRWFjaChwYXJhbXMsIGZ1bmN0aW9uIHNlcmlhbGl6ZSh2YWwsIGtleSkge1xuICAgICAgaWYgKHZhbCA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh1dGlscy5pc0FycmF5KHZhbCkpIHtcbiAgICAgICAga2V5ID0ga2V5ICsgJ1tdJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbCA9IFt2YWxdO1xuICAgICAgfVxuXG4gICAgICB1dGlscy5mb3JFYWNoKHZhbCwgZnVuY3Rpb24gcGFyc2VWYWx1ZSh2KSB7XG4gICAgICAgIGlmICh1dGlscy5pc0RhdGUodikpIHtcbiAgICAgICAgICB2ID0gdi50b0lTT1N0cmluZygpO1xuICAgICAgICB9IGVsc2UgaWYgKHV0aWxzLmlzT2JqZWN0KHYpKSB7XG4gICAgICAgICAgdiA9IEpTT04uc3RyaW5naWZ5KHYpO1xuICAgICAgICB9XG4gICAgICAgIHBhcnRzLnB1c2goZW5jb2RlKGtleSkgKyAnPScgKyBlbmNvZGUodikpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFydHMuam9pbignJicpO1xuICB9XG5cbiAgaWYgKHNlcmlhbGl6ZWRQYXJhbXMpIHtcbiAgICB1cmwgKz0gKHVybC5pbmRleE9mKCc/JykgPT09IC0xID8gJz8nIDogJyYnKSArIHNlcmlhbGl6ZWRQYXJhbXM7XG4gIH1cblxuICByZXR1cm4gdXJsO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBVcGRhdGUgYW4gRXJyb3Igd2l0aCB0aGUgc3BlY2lmaWVkIGNvbmZpZywgZXJyb3IgY29kZSwgYW5kIHJlc3BvbnNlLlxuICpcbiAqIEBwYXJhbSB7RXJyb3J9IGVycm9yIFRoZSBlcnJvciB0byB1cGRhdGUuXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2NvZGVdIFRoZSBlcnJvciBjb2RlIChmb3IgZXhhbXBsZSwgJ0VDT05OQUJPUlRFRCcpLlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXF1ZXN0XSBUaGUgcmVxdWVzdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVzcG9uc2VdIFRoZSByZXNwb25zZS5cbiAqIEByZXR1cm5zIHtFcnJvcn0gVGhlIGVycm9yLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGVuaGFuY2VFcnJvcihlcnJvciwgY29uZmlnLCBjb2RlLCByZXF1ZXN0LCByZXNwb25zZSkge1xuICBlcnJvci5jb25maWcgPSBjb25maWc7XG4gIGlmIChjb2RlKSB7XG4gICAgZXJyb3IuY29kZSA9IGNvZGU7XG4gIH1cbiAgZXJyb3IucmVxdWVzdCA9IHJlcXVlc3Q7XG4gIGVycm9yLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gIHJldHVybiBlcnJvcjtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBjcmVhdGVFcnJvciA9IHJlcXVpcmUoJy4vY3JlYXRlRXJyb3InKTtcblxuLyoqXG4gKiBSZXNvbHZlIG9yIHJlamVjdCBhIFByb21pc2UgYmFzZWQgb24gcmVzcG9uc2Ugc3RhdHVzLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlc29sdmUgQSBmdW5jdGlvbiB0aGF0IHJlc29sdmVzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0IEEgZnVuY3Rpb24gdGhhdCByZWplY3RzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtvYmplY3R9IHJlc3BvbnNlIFRoZSByZXNwb25zZS5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCByZXNwb25zZSkge1xuICB2YXIgdmFsaWRhdGVTdGF0dXMgPSByZXNwb25zZS5jb25maWcudmFsaWRhdGVTdGF0dXM7XG4gIC8vIE5vdGU6IHN0YXR1cyBpcyBub3QgZXhwb3NlZCBieSBYRG9tYWluUmVxdWVzdFxuICBpZiAoIXJlc3BvbnNlLnN0YXR1cyB8fCAhdmFsaWRhdGVTdGF0dXMgfHwgdmFsaWRhdGVTdGF0dXMocmVzcG9uc2Uuc3RhdHVzKSkge1xuICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICB9IGVsc2Uge1xuICAgIHJlamVjdChjcmVhdGVFcnJvcihcbiAgICAgICdSZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlICcgKyByZXNwb25zZS5zdGF0dXMsXG4gICAgICByZXNwb25zZS5jb25maWcsXG4gICAgICBudWxsLFxuICAgICAgcmVzcG9uc2UucmVxdWVzdCxcbiAgICAgIHJlc3BvbnNlXG4gICAgKSk7XG4gIH1cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbm9ybWFsaXplSGVhZGVyTmFtZShoZWFkZXJzLCBub3JtYWxpemVkTmFtZSkge1xuICB1dGlscy5mb3JFYWNoKGhlYWRlcnMsIGZ1bmN0aW9uIHByb2Nlc3NIZWFkZXIodmFsdWUsIG5hbWUpIHtcbiAgICBpZiAobmFtZSAhPT0gbm9ybWFsaXplZE5hbWUgJiYgbmFtZS50b1VwcGVyQ2FzZSgpID09PSBub3JtYWxpemVkTmFtZS50b1VwcGVyQ2FzZSgpKSB7XG4gICAgICBoZWFkZXJzW25vcm1hbGl6ZWROYW1lXSA9IHZhbHVlO1xuICAgICAgZGVsZXRlIGhlYWRlcnNbbmFtZV07XG4gICAgfVxuICB9KTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBkZWZhdWx0cyA9IHJlcXVpcmUoJy4vLi4vZGVmYXVsdHMnKTtcbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcbnZhciBJbnRlcmNlcHRvck1hbmFnZXIgPSByZXF1aXJlKCcuL0ludGVyY2VwdG9yTWFuYWdlcicpO1xudmFyIGRpc3BhdGNoUmVxdWVzdCA9IHJlcXVpcmUoJy4vZGlzcGF0Y2hSZXF1ZXN0Jyk7XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlQ29uZmlnIFRoZSBkZWZhdWx0IGNvbmZpZyBmb3IgdGhlIGluc3RhbmNlXG4gKi9cbmZ1bmN0aW9uIEF4aW9zKGluc3RhbmNlQ29uZmlnKSB7XG4gIHRoaXMuZGVmYXVsdHMgPSBpbnN0YW5jZUNvbmZpZztcbiAgdGhpcy5pbnRlcmNlcHRvcnMgPSB7XG4gICAgcmVxdWVzdDogbmV3IEludGVyY2VwdG9yTWFuYWdlcigpLFxuICAgIHJlc3BvbnNlOiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKClcbiAgfTtcbn1cblxuLyoqXG4gKiBEaXNwYXRjaCBhIHJlcXVlc3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcgc3BlY2lmaWMgZm9yIHRoaXMgcmVxdWVzdCAobWVyZ2VkIHdpdGggdGhpcy5kZWZhdWx0cylcbiAqL1xuQXhpb3MucHJvdG90eXBlLnJlcXVlc3QgPSBmdW5jdGlvbiByZXF1ZXN0KGNvbmZpZykge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgLy8gQWxsb3cgZm9yIGF4aW9zKCdleGFtcGxlL3VybCdbLCBjb25maWddKSBhIGxhIGZldGNoIEFQSVxuICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICBjb25maWcgPSB1dGlscy5tZXJnZSh7XG4gICAgICB1cmw6IGFyZ3VtZW50c1swXVxuICAgIH0sIGFyZ3VtZW50c1sxXSk7XG4gIH1cblxuICBjb25maWcgPSB1dGlscy5tZXJnZShkZWZhdWx0cywge21ldGhvZDogJ2dldCd9LCB0aGlzLmRlZmF1bHRzLCBjb25maWcpO1xuICBjb25maWcubWV0aG9kID0gY29uZmlnLm1ldGhvZC50b0xvd2VyQ2FzZSgpO1xuXG4gIC8vIEhvb2sgdXAgaW50ZXJjZXB0b3JzIG1pZGRsZXdhcmVcbiAgdmFyIGNoYWluID0gW2Rpc3BhdGNoUmVxdWVzdCwgdW5kZWZpbmVkXTtcbiAgdmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoY29uZmlnKTtcblxuICB0aGlzLmludGVyY2VwdG9ycy5yZXF1ZXN0LmZvckVhY2goZnVuY3Rpb24gdW5zaGlmdFJlcXVlc3RJbnRlcmNlcHRvcnMoaW50ZXJjZXB0b3IpIHtcbiAgICBjaGFpbi51bnNoaWZ0KGludGVyY2VwdG9yLmZ1bGZpbGxlZCwgaW50ZXJjZXB0b3IucmVqZWN0ZWQpO1xuICB9KTtcblxuICB0aGlzLmludGVyY2VwdG9ycy5yZXNwb25zZS5mb3JFYWNoKGZ1bmN0aW9uIHB1c2hSZXNwb25zZUludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgIGNoYWluLnB1c2goaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gIH0pO1xuXG4gIHdoaWxlIChjaGFpbi5sZW5ndGgpIHtcbiAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKGNoYWluLnNoaWZ0KCksIGNoYWluLnNoaWZ0KCkpO1xuICB9XG5cbiAgcmV0dXJuIHByb21pc2U7XG59O1xuXG4vLyBQcm92aWRlIGFsaWFzZXMgZm9yIHN1cHBvcnRlZCByZXF1ZXN0IG1ldGhvZHNcbnV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAnb3B0aW9ucyddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kTm9EYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1dGlscy5tZXJnZShjb25maWcgfHwge30sIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgdXJsOiB1cmxcbiAgICB9KSk7XG4gIH07XG59KTtcblxudXRpbHMuZm9yRWFjaChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2RXaXRoRGF0YShtZXRob2QpIHtcbiAgLyplc2xpbnQgZnVuYy1uYW1lczowKi9cbiAgQXhpb3MucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbih1cmwsIGRhdGEsIGNvbmZpZykge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QodXRpbHMubWVyZ2UoY29uZmlnIHx8IHt9LCB7XG4gICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIHVybDogdXJsLFxuICAgICAgZGF0YTogZGF0YVxuICAgIH0pKTtcbiAgfTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEF4aW9zO1xuIiwiLyohXG4gKiBEZXRlcm1pbmUgaWYgYW4gb2JqZWN0IGlzIGEgQnVmZmVyXG4gKlxuICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHBzOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xuXG4vLyBUaGUgX2lzQnVmZmVyIGNoZWNrIGlzIGZvciBTYWZhcmkgNS03IHN1cHBvcnQsIGJlY2F1c2UgaXQncyBtaXNzaW5nXG4vLyBPYmplY3QucHJvdG90eXBlLmNvbnN0cnVjdG9yLiBSZW1vdmUgdGhpcyBldmVudHVhbGx5XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIG9iaiAhPSBudWxsICYmIChpc0J1ZmZlcihvYmopIHx8IGlzU2xvd0J1ZmZlcihvYmopIHx8ICEhb2JqLl9pc0J1ZmZlcilcbn1cblxuZnVuY3Rpb24gaXNCdWZmZXIgKG9iaikge1xuICByZXR1cm4gISFvYmouY29uc3RydWN0b3IgJiYgdHlwZW9mIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlciA9PT0gJ2Z1bmN0aW9uJyAmJiBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIob2JqKVxufVxuXG4vLyBGb3IgTm9kZSB2MC4xMCBzdXBwb3J0LiBSZW1vdmUgdGhpcyBldmVudHVhbGx5LlxuZnVuY3Rpb24gaXNTbG93QnVmZmVyIChvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmoucmVhZEZsb2F0TEUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIG9iai5zbGljZSA9PT0gJ2Z1bmN0aW9uJyAmJiBpc0J1ZmZlcihvYmouc2xpY2UoMCwgMCkpXG59XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcbnZhciBiaW5kID0gcmVxdWlyZSgnLi9oZWxwZXJzL2JpbmQnKTtcbnZhciBBeGlvcyA9IHJlcXVpcmUoJy4vY29yZS9BeGlvcycpO1xudmFyIGRlZmF1bHRzID0gcmVxdWlyZSgnLi9kZWZhdWx0cycpO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiBBeGlvc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBkZWZhdWx0Q29uZmlnIFRoZSBkZWZhdWx0IGNvbmZpZyBmb3IgdGhlIGluc3RhbmNlXG4gKiBAcmV0dXJuIHtBeGlvc30gQSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2UoZGVmYXVsdENvbmZpZykge1xuICB2YXIgY29udGV4dCA9IG5ldyBBeGlvcyhkZWZhdWx0Q29uZmlnKTtcbiAgdmFyIGluc3RhbmNlID0gYmluZChBeGlvcy5wcm90b3R5cGUucmVxdWVzdCwgY29udGV4dCk7XG5cbiAgLy8gQ29weSBheGlvcy5wcm90b3R5cGUgdG8gaW5zdGFuY2VcbiAgdXRpbHMuZXh0ZW5kKGluc3RhbmNlLCBBeGlvcy5wcm90b3R5cGUsIGNvbnRleHQpO1xuXG4gIC8vIENvcHkgY29udGV4dCB0byBpbnN0YW5jZVxuICB1dGlscy5leHRlbmQoaW5zdGFuY2UsIGNvbnRleHQpO1xuXG4gIHJldHVybiBpbnN0YW5jZTtcbn1cblxuLy8gQ3JlYXRlIHRoZSBkZWZhdWx0IGluc3RhbmNlIHRvIGJlIGV4cG9ydGVkXG52YXIgYXhpb3MgPSBjcmVhdGVJbnN0YW5jZShkZWZhdWx0cyk7XG5cbi8vIEV4cG9zZSBBeGlvcyBjbGFzcyB0byBhbGxvdyBjbGFzcyBpbmhlcml0YW5jZVxuYXhpb3MuQXhpb3MgPSBBeGlvcztcblxuLy8gRmFjdG9yeSBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlc1xuYXhpb3MuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKGluc3RhbmNlQ29uZmlnKSB7XG4gIHJldHVybiBjcmVhdGVJbnN0YW5jZSh1dGlscy5tZXJnZShkZWZhdWx0cywgaW5zdGFuY2VDb25maWcpKTtcbn07XG5cbi8vIEV4cG9zZSBDYW5jZWwgJiBDYW5jZWxUb2tlblxuYXhpb3MuQ2FuY2VsID0gcmVxdWlyZSgnLi9jYW5jZWwvQ2FuY2VsJyk7XG5heGlvcy5DYW5jZWxUb2tlbiA9IHJlcXVpcmUoJy4vY2FuY2VsL0NhbmNlbFRva2VuJyk7XG5heGlvcy5pc0NhbmNlbCA9IHJlcXVpcmUoJy4vY2FuY2VsL2lzQ2FuY2VsJyk7XG5cbi8vIEV4cG9zZSBhbGwvc3ByZWFkXG5heGlvcy5hbGwgPSBmdW5jdGlvbiBhbGwocHJvbWlzZXMpIHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTtcbn07XG5heGlvcy5zcHJlYWQgPSByZXF1aXJlKCcuL2hlbHBlcnMvc3ByZWFkJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gYXhpb3M7XG5cbi8vIEFsbG93IHVzZSBvZiBkZWZhdWx0IGltcG9ydCBzeW50YXggaW4gVHlwZVNjcmlwdFxubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IGF4aW9zO1xuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2xpYi9heGlvcycpOyIsIlxuLyoqXG4gKiBXaGVuIHNvdXJjZSBtYXBzIGFyZSBlbmFibGVkLCBgc3R5bGUtbG9hZGVyYCB1c2VzIGEgbGluayBlbGVtZW50IHdpdGggYSBkYXRhLXVyaSB0b1xuICogZW1iZWQgdGhlIGNzcyBvbiB0aGUgcGFnZS4gVGhpcyBicmVha3MgYWxsIHJlbGF0aXZlIHVybHMgYmVjYXVzZSBub3cgdGhleSBhcmUgcmVsYXRpdmUgdG8gYVxuICogYnVuZGxlIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgcGFnZS5cbiAqXG4gKiBPbmUgc29sdXRpb24gaXMgdG8gb25seSB1c2UgZnVsbCB1cmxzLCBidXQgdGhhdCBtYXkgYmUgaW1wb3NzaWJsZS5cbiAqXG4gKiBJbnN0ZWFkLCB0aGlzIGZ1bmN0aW9uIFwiZml4ZXNcIiB0aGUgcmVsYXRpdmUgdXJscyB0byBiZSBhYnNvbHV0ZSBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgcGFnZSBsb2NhdGlvbi5cbiAqXG4gKiBBIHJ1ZGltZW50YXJ5IHRlc3Qgc3VpdGUgaXMgbG9jYXRlZCBhdCBgdGVzdC9maXhVcmxzLmpzYCBhbmQgY2FuIGJlIHJ1biB2aWEgdGhlIGBucG0gdGVzdGAgY29tbWFuZC5cbiAqXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzKSB7XG4gIC8vIGdldCBjdXJyZW50IGxvY2F0aW9uXG4gIHZhciBsb2NhdGlvbiA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmxvY2F0aW9uO1xuXG4gIGlmICghbG9jYXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJmaXhVcmxzIHJlcXVpcmVzIHdpbmRvdy5sb2NhdGlvblwiKTtcbiAgfVxuXG5cdC8vIGJsYW5rIG9yIG51bGw/XG5cdGlmICghY3NzIHx8IHR5cGVvZiBjc3MgIT09IFwic3RyaW5nXCIpIHtcblx0ICByZXR1cm4gY3NzO1xuICB9XG5cbiAgdmFyIGJhc2VVcmwgPSBsb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIGxvY2F0aW9uLmhvc3Q7XG4gIHZhciBjdXJyZW50RGlyID0gYmFzZVVybCArIGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL1xcL1teXFwvXSokLywgXCIvXCIpO1xuXG5cdC8vIGNvbnZlcnQgZWFjaCB1cmwoLi4uKVxuXHQvKlxuXHRUaGlzIHJlZ3VsYXIgZXhwcmVzc2lvbiBpcyBqdXN0IGEgd2F5IHRvIHJlY3Vyc2l2ZWx5IG1hdGNoIGJyYWNrZXRzIHdpdGhpblxuXHRhIHN0cmluZy5cblxuXHQgL3VybFxccypcXCggID0gTWF0Y2ggb24gdGhlIHdvcmQgXCJ1cmxcIiB3aXRoIGFueSB3aGl0ZXNwYWNlIGFmdGVyIGl0IGFuZCB0aGVuIGEgcGFyZW5zXG5cdCAgICggID0gU3RhcnQgYSBjYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAoPzogID0gU3RhcnQgYSBub24tY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgICAgIFteKShdICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAoPzogID0gU3RhcnQgYW5vdGhlciBub24tY2FwdHVyaW5nIGdyb3Vwc1xuXHQgICAgICAgICAgICAgICAgIFteKShdKyAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICAgICAgW14pKF0qICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIFxcKSAgPSBNYXRjaCBhIGVuZCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKSAgPSBFbmQgR3JvdXBcbiAgICAgICAgICAgICAgKlxcKSA9IE1hdGNoIGFueXRoaW5nIGFuZCB0aGVuIGEgY2xvc2UgcGFyZW5zXG4gICAgICAgICAgKSAgPSBDbG9zZSBub24tY2FwdHVyaW5nIGdyb3VwXG4gICAgICAgICAgKiAgPSBNYXRjaCBhbnl0aGluZ1xuICAgICAgICkgID0gQ2xvc2UgY2FwdHVyaW5nIGdyb3VwXG5cdCBcXCkgID0gTWF0Y2ggYSBjbG9zZSBwYXJlbnNcblxuXHQgL2dpICA9IEdldCBhbGwgbWF0Y2hlcywgbm90IHRoZSBmaXJzdC4gIEJlIGNhc2UgaW5zZW5zaXRpdmUuXG5cdCAqL1xuXHR2YXIgZml4ZWRDc3MgPSBjc3MucmVwbGFjZSgvdXJsXFxzKlxcKCgoPzpbXikoXXxcXCgoPzpbXikoXSt8XFwoW14pKF0qXFwpKSpcXCkpKilcXCkvZ2ksIGZ1bmN0aW9uKGZ1bGxNYXRjaCwgb3JpZ1VybCkge1xuXHRcdC8vIHN0cmlwIHF1b3RlcyAoaWYgdGhleSBleGlzdClcblx0XHR2YXIgdW5xdW90ZWRPcmlnVXJsID0gb3JpZ1VybFxuXHRcdFx0LnRyaW0oKVxuXHRcdFx0LnJlcGxhY2UoL15cIiguKilcIiQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSlcblx0XHRcdC5yZXBsYWNlKC9eJyguKiknJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KTtcblxuXHRcdC8vIGFscmVhZHkgYSBmdWxsIHVybD8gbm8gY2hhbmdlXG5cdFx0aWYgKC9eKCN8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfGZpbGU6XFwvXFwvXFwvfFxccyokKS9pLnRlc3QodW5xdW90ZWRPcmlnVXJsKSkge1xuXHRcdCAgcmV0dXJuIGZ1bGxNYXRjaDtcblx0XHR9XG5cblx0XHQvLyBjb252ZXJ0IHRoZSB1cmwgdG8gYSBmdWxsIHVybFxuXHRcdHZhciBuZXdVcmw7XG5cblx0XHRpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvL1wiKSA9PT0gMCkge1xuXHRcdCAgXHQvL1RPRE86IHNob3VsZCB3ZSBhZGQgcHJvdG9jb2w/XG5cdFx0XHRuZXdVcmwgPSB1bnF1b3RlZE9yaWdVcmw7XG5cdFx0fSBlbHNlIGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi9cIikgPT09IDApIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBiYXNlIHVybFxuXHRcdFx0bmV3VXJsID0gYmFzZVVybCArIHVucXVvdGVkT3JpZ1VybDsgLy8gYWxyZWFkeSBzdGFydHMgd2l0aCAnLydcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gY3VycmVudCBkaXJlY3Rvcnlcblx0XHRcdG5ld1VybCA9IGN1cnJlbnREaXIgKyB1bnF1b3RlZE9yaWdVcmwucmVwbGFjZSgvXlxcLlxcLy8sIFwiXCIpOyAvLyBTdHJpcCBsZWFkaW5nICcuLydcblx0XHR9XG5cblx0XHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIHVybCguLi4pXG5cdFx0cmV0dXJuIFwidXJsKFwiICsgSlNPTi5zdHJpbmdpZnkobmV3VXJsKSArIFwiKVwiO1xuXHR9KTtcblxuXHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIGNzc1xuXHRyZXR1cm4gZml4ZWRDc3M7XG59O1xuIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIjaHRtbC1jb250YWluZXIge1xcclxcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxyXFxufVxcclxcblxcclxcbmJvZHkge1xcclxcbiAgICBmb250LWZhbWlseTogJ1ByZXNzIFN0YXJ0IDJQJztcXHJcXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcXHJcXG59XFxyXFxuXFxyXFxuYXNpZGUge1xcclxcbiAgICBwb3NpdGlvbjogZml4ZWQ7XFxyXFxuICAgIHJpZ2h0OiAwO1xcclxcbiAgICB0b3A6IDA7XFxyXFxuICAgIHBhZGRpbmc6IDIwcHggNTBweDtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzM2MzMzMDtcXHJcXG4gICAgaGVpZ2h0OiAxMDAlO1xcclxcbiAgICBib3JkZXItcmFkaXVzOiAyMHB4O1xcclxcbn1cXHJcXG5cXHJcXG5hc2lkZT4qIHtcXHJcXG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2FlYTlhMztcXHJcXG4gICAgYm9yZGVyOiBzb2xpZCA1cHggIzAwODhjYztcXHJcXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xcclxcbn1cXHJcXG5cXHJcXG4ucG9ydHJhaXQge1xcclxcbiAgICBtaW4taGVpZ2h0OiA0NTBweDtcXHJcXG59XFxyXFxuXFxyXFxuLmhpZGRlbiB7XFxyXFxuICAgIGRpc3BsYXk6IG5vbmU7XFxyXFxufVxcclxcblxcclxcbi5tYWtlVHVybkJ1dHRvbiB7XFxyXFxuICAgIGZvbnQtZmFtaWx5OiAnUHJlc3MgU3RhcnQgMlAnO1xcclxcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxyXFxuICAgIGZvbnQtc2l6ZTogMzBweDtcXHJcXG4gICAgbWluLWhlaWdodDogMTIwcHg7XFxyXFxuICAgIG1pbi13aWR0aDogNDYwcHg7XFxyXFxuICAgIGJvcmRlci1yYWRpdXM6IDI1cHg7XFxyXFxufVxcclxcblxcclxcbi5tYWtlVHVybkJ1dHRvbjplbmFibGVkOmFjdGl2ZSB7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6ICMzZThlNDE7XFxyXFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSg0cHgpO1xcclxcbn1cXHJcXG5cXHJcXG4jZmFicmljVGFibGUge1xcclxcbiAgICBwYWRkaW5nLXRvcDogMTAlO1xcclxcbiAgICBwYWRkaW5nLWxlZnQ6IDMwcHg7XFxyXFxufVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL2FwcC5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vYXBwLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vYXBwLmNzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFRpbWVMaW1pdGVyIGxpbWl0cyB0aGUgbnVtYmVyIG9mIGl0ZW1zIGhhbmRsZWQgYnkgYSB7QGxpbmsgUElYSS5CYXNlUHJlcGFyZX0gdG8gYSBzcGVjaWZpZWRcbiAqIG51bWJlciBvZiBtaWxsaXNlY29uZHMgcGVyIGZyYW1lLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRpbWVMaW1pdGVyID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1heE1pbGxpc2Vjb25kcyAtIFRoZSBtYXhpbXVtIG1pbGxpc2Vjb25kcyB0aGF0IGNhbiBiZSBzcGVudCBwcmVwYXJpbmcgaXRlbXMgZWFjaCBmcmFtZS5cbiAgICovXG4gIGZ1bmN0aW9uIFRpbWVMaW1pdGVyKG1heE1pbGxpc2Vjb25kcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUaW1lTGltaXRlcik7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSBtaWxsaXNlY29uZHMgdGhhdCBjYW4gYmUgc3BlbnQgcHJlcGFyaW5nIGl0ZW1zIGVhY2ggZnJhbWUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLm1heE1pbGxpc2Vjb25kcyA9IG1heE1pbGxpc2Vjb25kcztcbiAgICAvKipcbiAgICAgKiBUaGUgc3RhcnQgdGltZSBvZiB0aGUgY3VycmVudCBmcmFtZS5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5mcmFtZVN0YXJ0ID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldHMgYW55IGNvdW50aW5nIHByb3BlcnRpZXMgdG8gc3RhcnQgZnJlc2ggb24gYSBuZXcgZnJhbWUuXG4gICAqL1xuXG5cbiAgVGltZUxpbWl0ZXIucHJvdG90eXBlLmJlZ2luRnJhbWUgPSBmdW5jdGlvbiBiZWdpbkZyYW1lKCkge1xuICAgIHRoaXMuZnJhbWVTdGFydCA9IERhdGUubm93KCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrcyB0byBzZWUgaWYgYW5vdGhlciBpdGVtIGNhbiBiZSB1cGxvYWRlZC4gVGhpcyBzaG91bGQgb25seSBiZSBjYWxsZWQgb25jZSBwZXIgaXRlbS5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gSWYgdGhlIGl0ZW0gaXMgYWxsb3dlZCB0byBiZSB1cGxvYWRlZC5cbiAgICovXG5cblxuICBUaW1lTGltaXRlci5wcm90b3R5cGUuYWxsb3dlZFRvVXBsb2FkID0gZnVuY3Rpb24gYWxsb3dlZFRvVXBsb2FkKCkge1xuICAgIHJldHVybiBEYXRlLm5vdygpIC0gdGhpcy5mcmFtZVN0YXJ0IDwgdGhpcy5tYXhNaWxsaXNlY29uZHM7XG4gIH07XG5cbiAgcmV0dXJuIFRpbWVMaW1pdGVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUaW1lTGltaXRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbWVMaW1pdGVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9CYXNlUHJlcGFyZTIgPSByZXF1aXJlKCcuLi9CYXNlUHJlcGFyZScpO1xuXG52YXIgX0Jhc2VQcmVwYXJlMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Jhc2VQcmVwYXJlMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIENBTlZBU19TVEFSVF9TSVpFID0gMTY7XG5cbi8qKlxuICogVGhlIHByZXBhcmUgbWFuYWdlciBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIHVwbG9hZCBjb250ZW50IHRvIHRoZSBHUFVcbiAqIFRoaXMgY2Fubm90IGJlIGRvbmUgZGlyZWN0bHkgZm9yIENhbnZhcyBsaWtlIGluIFdlYkdMLCBidXQgdGhlIGVmZmVjdCBjYW4gYmUgYWNoaWV2ZWQgYnkgZHJhd2luZ1xuICogdGV4dHVyZXMgdG8gYW4gb2ZmbGluZSBjYW52YXMuXG4gKiBUaGlzIGRyYXcgY2FsbCB3aWxsIGZvcmNlIHRoZSB0ZXh0dXJlIHRvIGJlIG1vdmVkIG9udG8gdGhlIEdQVS5cbiAqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBieSBkZWZhdWx0LCBhbmQgY2FuIGJlIGZvdW5kIGF0IHJlbmRlcmVyLnBsdWdpbnMucHJlcGFyZVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5wcmVwYXJlLkJhc2VQcmVwYXJlXG4gKiBAbWVtYmVyb2YgUElYSS5wcmVwYXJlXG4gKi9cblxudmFyIENhbnZhc1ByZXBhcmUgPSBmdW5jdGlvbiAoX0Jhc2VQcmVwYXJlKSB7XG4gICAgX2luaGVyaXRzKENhbnZhc1ByZXBhcmUsIF9CYXNlUHJlcGFyZSk7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDYW52YXNQcmVwYXJlKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYW52YXNQcmVwYXJlKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQmFzZVByZXBhcmUuY2FsbCh0aGlzLCByZW5kZXJlcikpO1xuXG4gICAgICAgIF90aGlzLnVwbG9hZEhvb2tIZWxwZXIgPSBfdGhpcztcblxuICAgICAgICAvKipcbiAgICAgICAgKiBBbiBvZmZsaW5lIGNhbnZhcyB0byByZW5kZXIgdGV4dHVyZXMgdG9cbiAgICAgICAgKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgICogQHByaXZhdGVcbiAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIF90aGlzLmNhbnZhcy53aWR0aCA9IENBTlZBU19TVEFSVF9TSVpFO1xuICAgICAgICBfdGhpcy5jYW52YXMuaGVpZ2h0ID0gQ0FOVkFTX1NUQVJUX1NJWkU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb250ZXh0IHRvIHRoZSBjYW52YXNcbiAgICAgICAgKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICovXG4gICAgICAgIF90aGlzLmN0eCA9IF90aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICAgIC8vIEFkZCB0ZXh0dXJlcyB0byB1cGxvYWRcbiAgICAgICAgX3RoaXMucmVnaXN0ZXJVcGxvYWRIb29rKHVwbG9hZEJhc2VUZXh0dXJlcyk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgcGx1Z2luLCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBDYW52YXNQcmVwYXJlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgX0Jhc2VQcmVwYXJlLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuY3R4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jYW52YXMgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gQ2FudmFzUHJlcGFyZTtcbn0oX0Jhc2VQcmVwYXJlMy5kZWZhdWx0KTtcblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIHVwbG9hZCBQSVhJLlRleHR1cmUgb2JqZWN0cyB0byB0aGUgR1BVLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHByZXBhcmUgLSBJbnN0YW5jZSBvZiBDYW52YXNQcmVwYXJlXG4gKiBAcGFyYW0geyp9IGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuXG5cbmV4cG9ydHMuZGVmYXVsdCA9IENhbnZhc1ByZXBhcmU7XG5mdW5jdGlvbiB1cGxvYWRCYXNlVGV4dHVyZXMocHJlcGFyZSwgaXRlbSkge1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgY29yZS5CYXNlVGV4dHVyZSkge1xuICAgICAgICB2YXIgaW1hZ2UgPSBpdGVtLnNvdXJjZTtcblxuICAgICAgICAvLyBTb21ldGltZXMgaW1hZ2VzIChsaWtlIGF0bGFzIGltYWdlcykgcmVwb3J0IGEgc2l6ZSBvZiB6ZXJvLCBjYXVzaW5nIGVycm9ycyBvbiB3aW5kb3dzIHBob25lLlxuICAgICAgICAvLyBTbyBpZiB0aGUgd2lkdGggb3IgaGVpZ2h0IGlzIGVxdWFsIHRvIHplcm8gdGhlbiB1c2UgdGhlIGNhbnZhcyBzaXplXG4gICAgICAgIC8vIE90aGVyd2lzZSB1c2Ugd2hhdGV2ZXIgaXMgc21hbGxlciwgdGhlIGltYWdlIGRpbWVuc2lvbnMgb3IgdGhlIGNhbnZhcyBkaW1lbnNpb25zLlxuICAgICAgICB2YXIgaW1hZ2VXaWR0aCA9IGltYWdlLndpZHRoID09PSAwID8gcHJlcGFyZS5jYW52YXMud2lkdGggOiBNYXRoLm1pbihwcmVwYXJlLmNhbnZhcy53aWR0aCwgaW1hZ2Uud2lkdGgpO1xuICAgICAgICB2YXIgaW1hZ2VIZWlnaHQgPSBpbWFnZS5oZWlnaHQgPT09IDAgPyBwcmVwYXJlLmNhbnZhcy5oZWlnaHQgOiBNYXRoLm1pbihwcmVwYXJlLmNhbnZhcy5oZWlnaHQsIGltYWdlLmhlaWdodCk7XG5cbiAgICAgICAgLy8gT25seSBhIHNtYWxsIHN1YnNlY3Rpb25zIGlzIHJlcXVpcmVkIHRvIGJlIGRyYXduIHRvIGhhdmUgdGhlIHdob2xlIHRleHR1cmUgdXBsb2FkZWQgdG8gdGhlIEdQVVxuICAgICAgICAvLyBBIHNtYWxsZXIgZHJhdyBjYW4gYmUgZmFzdGVyLlxuICAgICAgICBwcmVwYXJlLmN0eC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDAsIGltYWdlV2lkdGgsIGltYWdlSGVpZ2h0LCAwLCAwLCBwcmVwYXJlLmNhbnZhcy53aWR0aCwgcHJlcGFyZS5jYW52YXMuaGVpZ2h0KTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmNvcmUuQ2FudmFzUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ3ByZXBhcmUnLCBDYW52YXNQcmVwYXJlKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhbnZhc1ByZXBhcmUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX0Jhc2VQcmVwYXJlMiA9IHJlcXVpcmUoJy4uL0Jhc2VQcmVwYXJlJyk7XG5cbnZhciBfQmFzZVByZXBhcmUzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmFzZVByZXBhcmUyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFRoZSBwcmVwYXJlIG1hbmFnZXIgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSB0byB1cGxvYWQgY29udGVudCB0byB0aGUgR1BVLlxuICpcbiAqIEFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIGJ5IGRlZmF1bHQsIGFuZCBjYW4gYmUgZm91bmQgYXQgcmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnByZXBhcmUuQmFzZVByZXBhcmVcbiAqIEBtZW1iZXJvZiBQSVhJLnByZXBhcmVcbiAqL1xudmFyIFdlYkdMUHJlcGFyZSA9IGZ1bmN0aW9uIChfQmFzZVByZXBhcmUpIHtcbiAgICBfaW5oZXJpdHMoV2ViR0xQcmVwYXJlLCBfQmFzZVByZXBhcmUpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBXZWJHTFByZXBhcmUocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFdlYkdMUHJlcGFyZSk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0Jhc2VQcmVwYXJlLmNhbGwodGhpcywgcmVuZGVyZXIpKTtcblxuICAgICAgICBfdGhpcy51cGxvYWRIb29rSGVscGVyID0gX3RoaXMucmVuZGVyZXI7XG5cbiAgICAgICAgLy8gQWRkIHRleHR1cmVzIGFuZCBncmFwaGljcyB0byB1cGxvYWRcbiAgICAgICAgX3RoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kR3JhcGhpY3MpO1xuICAgICAgICBfdGhpcy5yZWdpc3RlclVwbG9hZEhvb2sodXBsb2FkQmFzZVRleHR1cmVzKTtcbiAgICAgICAgX3RoaXMucmVnaXN0ZXJVcGxvYWRIb29rKHVwbG9hZEdyYXBoaWNzKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIHJldHVybiBXZWJHTFByZXBhcmU7XG59KF9CYXNlUHJlcGFyZTMuZGVmYXVsdCk7XG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gdXBsb2FkIFBJWEkuVGV4dHVyZSBvYmplY3RzIHRvIHRoZSBHUFUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIGluc3RhbmNlIG9mIHRoZSB3ZWJnbCByZW5kZXJlclxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuXG5cbmV4cG9ydHMuZGVmYXVsdCA9IFdlYkdMUHJlcGFyZTtcbmZ1bmN0aW9uIHVwbG9hZEJhc2VUZXh0dXJlcyhyZW5kZXJlciwgaXRlbSkge1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgY29yZS5CYXNlVGV4dHVyZSkge1xuICAgICAgICAvLyBpZiB0aGUgdGV4dHVyZSBhbHJlYWR5IGhhcyBhIEdMIHRleHR1cmUsIHRoZW4gdGhlIHRleHR1cmUgaGFzIGJlZW4gcHJlcGFyZWQgb3IgcmVuZGVyZWRcbiAgICAgICAgLy8gYmVmb3JlIG5vdy4gSWYgdGhlIHRleHR1cmUgY2hhbmdlZCwgdGhlbiB0aGUgY2hhbmdlciBzaG91bGQgYmUgY2FsbGluZyB0ZXh0dXJlLnVwZGF0ZSgpIHdoaWNoXG4gICAgICAgIC8vIHJldXBsb2FkcyB0aGUgdGV4dHVyZSB3aXRob3V0IG5lZWQgZm9yIHByZXBhcmluZyBpdCBhZ2FpblxuICAgICAgICBpZiAoIWl0ZW0uX2dsVGV4dHVyZXNbcmVuZGVyZXIuQ09OVEVYVF9VSURdKSB7XG4gICAgICAgICAgICByZW5kZXJlci50ZXh0dXJlTWFuYWdlci51cGRhdGVUZXh0dXJlKGl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gdXBsb2FkIFBJWEkuR3JhcGhpY3MgdG8gdGhlIEdQVS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gaW5zdGFuY2Ugb2YgdGhlIHdlYmdsIHJlbmRlcmVyXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIEl0ZW0gdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIGl0ZW0gd2FzIHVwbG9hZGVkLlxuICovXG5mdW5jdGlvbiB1cGxvYWRHcmFwaGljcyhyZW5kZXJlciwgaXRlbSkge1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgY29yZS5HcmFwaGljcykge1xuICAgICAgICAvLyBpZiB0aGUgaXRlbSBpcyBub3QgZGlydHkgYW5kIGFscmVhZHkgaGFzIHdlYmdsIGRhdGEsIHRoZW4gaXQgZ290IHByZXBhcmVkIG9yIHJlbmRlcmVkXG4gICAgICAgIC8vIGJlZm9yZSBub3cgYW5kIHdlIHNob3VsZG4ndCB3YXN0ZSB0aW1lIHVwZGF0aW5nIGl0IGFnYWluXG4gICAgICAgIGlmIChpdGVtLmRpcnR5IHx8IGl0ZW0uY2xlYXJEaXJ0eSB8fCAhaXRlbS5fd2ViR0xbcmVuZGVyZXIucGx1Z2lucy5ncmFwaGljcy5DT05URVhUX1VJRF0pIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLnBsdWdpbnMuZ3JhcGhpY3MudXBkYXRlR3JhcGhpY3MoaXRlbSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIGdyYXBoaWNzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuR3JhcGhpY3Mgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZEdyYXBoaWNzKGl0ZW0sIHF1ZXVlKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBjb3JlLkdyYXBoaWNzKSB7XG4gICAgICAgIHF1ZXVlLnB1c2goaXRlbSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5jb3JlLldlYkdMUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ3ByZXBhcmUnLCBXZWJHTFByZXBhcmUpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9V2ViR0xQcmVwYXJlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9XZWJHTFByZXBhcmUgPSByZXF1aXJlKCcuL3dlYmdsL1dlYkdMUHJlcGFyZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3dlYmdsJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xQcmVwYXJlKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9DYW52YXNQcmVwYXJlID0gcmVxdWlyZSgnLi9jYW52YXMvQ2FudmFzUHJlcGFyZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2NhbnZhcycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc1ByZXBhcmUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0Jhc2VQcmVwYXJlID0gcmVxdWlyZSgnLi9CYXNlUHJlcGFyZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0Jhc2VQcmVwYXJlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmFzZVByZXBhcmUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0NvdW50TGltaXRlciA9IHJlcXVpcmUoJy4vbGltaXRlcnMvQ291bnRMaW1pdGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQ291bnRMaW1pdGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ291bnRMaW1pdGVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9UaW1lTGltaXRlciA9IHJlcXVpcmUoJy4vbGltaXRlcnMvVGltZUxpbWl0ZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdUaW1lTGltaXRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RpbWVMaW1pdGVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9waXhpR2xDb3JlID0gcmVxdWlyZSgncGl4aS1nbC1jb3JlJyk7XG5cbnZhciBfcGl4aUdsQ29yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9waXhpR2xDb3JlKTtcblxudmFyIF9jcmVhdGVJbmRpY2VzRm9yUXVhZHMgPSByZXF1aXJlKCcuLi8uLi9jb3JlL3V0aWxzL2NyZWF0ZUluZGljZXNGb3JRdWFkcycpO1xuXG52YXIgX2NyZWF0ZUluZGljZXNGb3JRdWFkczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVJbmRpY2VzRm9yUXVhZHMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEBhdXRob3IgTWF0IEdyb3Zlc1xuICpcbiAqIEJpZyB0aGFua3MgdG8gdGhlIHZlcnkgY2xldmVyIE1hdHQgRGVzTGF1cmllcnMgPG1hdHRkZXNsPiBodHRwczovL2dpdGh1Yi5jb20vbWF0dGRlc2wvXG4gKiBmb3IgY3JlYXRpbmcgdGhlIG9yaWdpbmFsIFBpeGlKUyB2ZXJzaW9uIVxuICogQWxzbyBhIHRoYW5rcyB0byBodHRwczovL2dpdGh1Yi5jb20vYmNoZXZhbGllciBmb3IgdHdlYWtpbmcgdGhlIHRpbnQgYW5kIGFscGhhIHNvIHRoYXRcbiAqIHRoZXkgbm93IHNoYXJlIDQgYnl0ZXMgb24gdGhlIHZlcnRleCBidWZmZXJcbiAqXG4gKiBIZWF2aWx5IGluc3BpcmVkIGJ5IExpYkdEWCdzIFBhcnRpY2xlQnVmZmVyOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2xpYmdkeC9saWJnZHgvYmxvYi9tYXN0ZXIvZ2R4L3NyYy9jb20vYmFkbG9naWMvZ2R4L2dyYXBoaWNzL2cyZC9QYXJ0aWNsZUJ1ZmZlci5qYXZhXG4gKi9cblxuLyoqXG4gKiBUaGUgcGFydGljbGUgYnVmZmVyIG1hbmFnZXMgdGhlIHN0YXRpYyBhbmQgZHluYW1pYyBidWZmZXJzIGZvciBhIHBhcnRpY2xlIGNvbnRhaW5lci5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUGFydGljbGVCdWZmZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIHJlbmRlcmluZyBjb250ZXh0LlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wZXJ0aWVzIC0gVGhlIHByb3BlcnRpZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbltdfSBkeW5hbWljUHJvcGVydHlGbGFncyAtIEZsYWdzIGZvciB3aGljaCBwcm9wZXJ0aWVzIGFyZSBkeW5hbWljLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIC0gVGhlIHNpemUgb2YgdGhlIGJhdGNoLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBhcnRpY2xlQnVmZmVyKGdsLCBwcm9wZXJ0aWVzLCBkeW5hbWljUHJvcGVydHlGbGFncywgc2l6ZSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGFydGljbGVCdWZmZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBXZWJHTCBkcmF3aW5nIGNvbnRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2wgPSBnbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG51bWJlciBvZiBwYXJ0aWNsZXMgdGhlIGJ1ZmZlciBjYW4gaG9sZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNpemUgPSBzaXplO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGxpc3Qgb2YgdGhlIHByb3BlcnRpZXMgdGhhdCBhcmUgZHluYW1pYy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0W119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbGlzdCBvZiB0aGUgcHJvcGVydGllcyB0aGF0IGFyZSBzdGF0aWMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdFtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wZXJ0aWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW2ldO1xuXG4gICAgICAgICAgICAvLyBNYWtlIGNvcHkgb2YgcHJvcGVydGllcyBvYmplY3Qgc28gdGhhdCB3aGVuIHdlIGVkaXQgdGhlIG9mZnNldCBpdCBkb2Vzbid0XG4gICAgICAgICAgICAvLyBjaGFuZ2UgYWxsIG90aGVyIGluc3RhbmNlcyBvZiB0aGUgb2JqZWN0IGxpdGVyYWxcbiAgICAgICAgICAgIHByb3BlcnR5ID0ge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTogcHJvcGVydHkuYXR0cmlidXRlLFxuICAgICAgICAgICAgICAgIHNpemU6IHByb3BlcnR5LnNpemUsXG4gICAgICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IHByb3BlcnR5LnVwbG9hZEZ1bmN0aW9uLFxuICAgICAgICAgICAgICAgIHVuc2lnbmVkQnl0ZTogcHJvcGVydHkudW5zaWduZWRCeXRlLFxuICAgICAgICAgICAgICAgIG9mZnNldDogcHJvcGVydHkub2Zmc2V0XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAoZHluYW1pY1Byb3BlcnR5RmxhZ3NbaV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLnB1c2gocHJvcGVydHkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRpY1Byb3BlcnRpZXMucHVzaChwcm9wZXJ0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0YXRpY1N0cmlkZSA9IDA7XG4gICAgICAgIHRoaXMuc3RhdGljQnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhVWludDMyID0gbnVsbDtcblxuICAgICAgICB0aGlzLmR5bmFtaWNTdHJpZGUgPSAwO1xuICAgICAgICB0aGlzLmR5bmFtaWNCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5keW5hbWljRGF0YVVpbnQzMiA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlSUQgPSAwO1xuXG4gICAgICAgIHRoaXMuaW5pdEJ1ZmZlcnMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSByZW5kZXJlciBjb250ZXh0IGFuZCBuZWNlc3NhcnkgYnVmZmVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlQnVmZmVyLnByb3RvdHlwZS5pbml0QnVmZmVycyA9IGZ1bmN0aW9uIGluaXRCdWZmZXJzKCkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgZHluYW1pY09mZnNldCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhvbGRzIHRoZSBpbmRpY2VzIG9mIHRoZSBnZW9tZXRyeSAocXVhZHMpIHRvIGRyYXdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7VWludDE2QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmluZGljZXMgPSAoMCwgX2NyZWF0ZUluZGljZXNGb3JRdWFkczIuZGVmYXVsdCkodGhpcy5zaXplKTtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IF9waXhpR2xDb3JlMi5kZWZhdWx0LkdMQnVmZmVyLmNyZWF0ZUluZGV4QnVmZmVyKGdsLCB0aGlzLmluZGljZXMsIGdsLlNUQVRJQ19EUkFXKTtcblxuICAgICAgICB0aGlzLmR5bmFtaWNTdHJpZGUgPSAwO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gdGhpcy5keW5hbWljUHJvcGVydGllc1tpXTtcblxuICAgICAgICAgICAgcHJvcGVydHkub2Zmc2V0ID0gZHluYW1pY09mZnNldDtcbiAgICAgICAgICAgIGR5bmFtaWNPZmZzZXQgKz0gcHJvcGVydHkuc2l6ZTtcbiAgICAgICAgICAgIHRoaXMuZHluYW1pY1N0cmlkZSArPSBwcm9wZXJ0eS5zaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGR5bkJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0aGlzLnNpemUgKiB0aGlzLmR5bmFtaWNTdHJpZGUgKiA0ICogNCk7XG5cbiAgICAgICAgdGhpcy5keW5hbWljRGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoZHluQnVmZmVyKTtcbiAgICAgICAgdGhpcy5keW5hbWljRGF0YVVpbnQzMiA9IG5ldyBVaW50MzJBcnJheShkeW5CdWZmZXIpO1xuICAgICAgICB0aGlzLmR5bmFtaWNCdWZmZXIgPSBfcGl4aUdsQ29yZTIuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVWZXJ0ZXhCdWZmZXIoZ2wsIGR5bkJ1ZmZlciwgZ2wuU1RSRUFNX0RSQVcpO1xuXG4gICAgICAgIC8vIHN0YXRpYyAvL1xuICAgICAgICB2YXIgc3RhdGljT2Zmc2V0ID0gMDtcblxuICAgICAgICB0aGlzLnN0YXRpY1N0cmlkZSA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHRoaXMuc3RhdGljUHJvcGVydGllcy5sZW5ndGg7ICsrX2kpIHtcbiAgICAgICAgICAgIHZhciBfcHJvcGVydHkgPSB0aGlzLnN0YXRpY1Byb3BlcnRpZXNbX2ldO1xuXG4gICAgICAgICAgICBfcHJvcGVydHkub2Zmc2V0ID0gc3RhdGljT2Zmc2V0O1xuICAgICAgICAgICAgc3RhdGljT2Zmc2V0ICs9IF9wcm9wZXJ0eS5zaXplO1xuICAgICAgICAgICAgdGhpcy5zdGF0aWNTdHJpZGUgKz0gX3Byb3BlcnR5LnNpemU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3RhdEJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0aGlzLnNpemUgKiB0aGlzLnN0YXRpY1N0cmlkZSAqIDQgKiA0KTtcblxuICAgICAgICB0aGlzLnN0YXRpY0RhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHN0YXRCdWZmZXIpO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGFVaW50MzIgPSBuZXcgVWludDMyQXJyYXkoc3RhdEJ1ZmZlcik7XG4gICAgICAgIHRoaXMuc3RhdGljQnVmZmVyID0gX3BpeGlHbENvcmUyLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlVmVydGV4QnVmZmVyKGdsLCBzdGF0QnVmZmVyLCBnbC5TVEFUSUNfRFJBVyk7XG5cbiAgICAgICAgdGhpcy52YW8gPSBuZXcgX3BpeGlHbENvcmUyLmRlZmF1bHQuVmVydGV4QXJyYXlPYmplY3QoZ2wpLmFkZEluZGV4KHRoaXMuaW5kZXhCdWZmZXIpO1xuXG4gICAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoOyArK19pMikge1xuICAgICAgICAgICAgdmFyIF9wcm9wZXJ0eTIgPSB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW19pMl07XG5cbiAgICAgICAgICAgIGlmIChfcHJvcGVydHkyLnVuc2lnbmVkQnl0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudmFvLmFkZEF0dHJpYnV0ZSh0aGlzLmR5bmFtaWNCdWZmZXIsIF9wcm9wZXJ0eTIuYXR0cmlidXRlLCBnbC5VTlNJR05FRF9CWVRFLCB0cnVlLCB0aGlzLmR5bmFtaWNTdHJpZGUgKiA0LCBfcHJvcGVydHkyLm9mZnNldCAqIDQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhby5hZGRBdHRyaWJ1dGUodGhpcy5keW5hbWljQnVmZmVyLCBfcHJvcGVydHkyLmF0dHJpYnV0ZSwgZ2wuRkxPQVQsIGZhbHNlLCB0aGlzLmR5bmFtaWNTdHJpZGUgKiA0LCBfcHJvcGVydHkyLm9mZnNldCAqIDQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgX2kzID0gMDsgX2kzIDwgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLmxlbmd0aDsgKytfaTMpIHtcbiAgICAgICAgICAgIHZhciBfcHJvcGVydHkzID0gdGhpcy5zdGF0aWNQcm9wZXJ0aWVzW19pM107XG5cbiAgICAgICAgICAgIGlmIChfcHJvcGVydHkzLnVuc2lnbmVkQnl0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudmFvLmFkZEF0dHJpYnV0ZSh0aGlzLnN0YXRpY0J1ZmZlciwgX3Byb3BlcnR5My5hdHRyaWJ1dGUsIGdsLlVOU0lHTkVEX0JZVEUsIHRydWUsIHRoaXMuc3RhdGljU3RyaWRlICogNCwgX3Byb3BlcnR5My5vZmZzZXQgKiA0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YW8uYWRkQXR0cmlidXRlKHRoaXMuc3RhdGljQnVmZmVyLCBfcHJvcGVydHkzLmF0dHJpYnV0ZSwgZ2wuRkxPQVQsIGZhbHNlLCB0aGlzLnN0YXRpY1N0cmlkZSAqIDQsIF9wcm9wZXJ0eTMub2Zmc2V0ICogNCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgZHluYW1pYyBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSBUaGUgY2hpbGRyZW4gdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gVGhlIGluZGV4IHRvIHN0YXJ0IGF0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBUaGUgbnVtYmVyIHRvIHVwbG9hZC5cbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVCdWZmZXIucHJvdG90eXBlLnVwbG9hZER5bmFtaWMgPSBmdW5jdGlvbiB1cGxvYWREeW5hbWljKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcHJvcGVydHkgPSB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW2ldO1xuXG4gICAgICAgICAgICBwcm9wZXJ0eS51cGxvYWRGdW5jdGlvbihjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBwcm9wZXJ0eS51bnNpZ25lZEJ5dGUgPyB0aGlzLmR5bmFtaWNEYXRhVWludDMyIDogdGhpcy5keW5hbWljRGF0YSwgdGhpcy5keW5hbWljU3RyaWRlLCBwcm9wZXJ0eS5vZmZzZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5keW5hbWljQnVmZmVyLnVwbG9hZCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSBzdGF0aWMgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gVGhlIGNoaWxkcmVuIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIFRoZSBpbmRleCB0byBzdGFydCBhdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gVGhlIG51bWJlciB0byB1cGxvYWQuXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlQnVmZmVyLnByb3RvdHlwZS51cGxvYWRTdGF0aWMgPSBmdW5jdGlvbiB1cGxvYWRTdGF0aWMoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RhdGljUHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gdGhpcy5zdGF0aWNQcm9wZXJ0aWVzW2ldO1xuXG4gICAgICAgICAgICBwcm9wZXJ0eS51cGxvYWRGdW5jdGlvbihjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBwcm9wZXJ0eS51bnNpZ25lZEJ5dGUgPyB0aGlzLnN0YXRpY0RhdGFVaW50MzIgOiB0aGlzLnN0YXRpY0RhdGEsIHRoaXMuc3RhdGljU3RyaWRlLCBwcm9wZXJ0eS5vZmZzZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdGF0aWNCdWZmZXIudXBsb2FkKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBQYXJ0aWNsZUJ1ZmZlci5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZUJ1ZmZlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuZHluYW1pY1Byb3BlcnRpZXMgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNCdWZmZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmR5bmFtaWNCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5keW5hbWljRGF0YVVpbnQzMiA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0aWNCdWZmZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLnN0YXRpY0J1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGljRGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGljRGF0YVVpbnQzMiA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBQYXJ0aWNsZUJ1ZmZlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUGFydGljbGVCdWZmZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QYXJ0aWNsZUJ1ZmZlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfU2hhZGVyMiA9IHJlcXVpcmUoJy4uLy4uL2NvcmUvU2hhZGVyJyk7XG5cbnZhciBfU2hhZGVyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NoYWRlcjIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlNoYWRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBhcnRpY2xlU2hhZGVyID0gZnVuY3Rpb24gKF9TaGFkZXIpIHtcbiAgICBfaW5oZXJpdHMoUGFydGljbGVTaGFkZXIsIF9TaGFkZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlNoYWRlcn0gZ2wgLSBUaGUgd2ViZ2wgc2hhZGVyIG1hbmFnZXIgdGhpcyBzaGFkZXIgd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBhcnRpY2xlU2hhZGVyKGdsKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQYXJ0aWNsZVNoYWRlcik7XG5cbiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9TaGFkZXIuY2FsbCh0aGlzLCBnbCxcbiAgICAgICAgLy8gdmVydGV4IHNoYWRlclxuICAgICAgICBbJ2F0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjsnLCAnYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDsnLCAnYXR0cmlidXRlIHZlYzQgYUNvbG9yOycsICdhdHRyaWJ1dGUgdmVjMiBhUG9zaXRpb25Db29yZDsnLCAnYXR0cmlidXRlIGZsb2F0IGFSb3RhdGlvbjsnLCAndW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7JywgJ3VuaWZvcm0gdmVjNCB1Q29sb3I7JywgJ3ZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkOycsICd2YXJ5aW5nIHZlYzQgdkNvbG9yOycsICd2b2lkIG1haW4odm9pZCl7JywgJyAgIGZsb2F0IHggPSAoYVZlcnRleFBvc2l0aW9uLngpICogY29zKGFSb3RhdGlvbikgLSAoYVZlcnRleFBvc2l0aW9uLnkpICogc2luKGFSb3RhdGlvbik7JywgJyAgIGZsb2F0IHkgPSAoYVZlcnRleFBvc2l0aW9uLngpICogc2luKGFSb3RhdGlvbikgKyAoYVZlcnRleFBvc2l0aW9uLnkpICogY29zKGFSb3RhdGlvbik7JywgJyAgIHZlYzIgdiA9IHZlYzIoeCwgeSk7JywgJyAgIHYgPSB2ICsgYVBvc2l0aW9uQ29vcmQ7JywgJyAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzModiwgMS4wKSkueHksIDAuMCwgMS4wKTsnLCAnICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7JywgJyAgIHZDb2xvciA9IGFDb2xvciAqIHVDb2xvcjsnLCAnfSddLmpvaW4oJ1xcbicpLFxuICAgICAgICAvLyBoZWxsb1xuICAgICAgICBbJ3ZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkOycsICd2YXJ5aW5nIHZlYzQgdkNvbG9yOycsICd1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjsnLCAndm9pZCBtYWluKHZvaWQpeycsICcgIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpICogdkNvbG9yOycsICcgIGdsX0ZyYWdDb2xvciA9IGNvbG9yOycsICd9J10uam9pbignXFxuJykpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUGFydGljbGVTaGFkZXI7XG59KF9TaGFkZXIzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBQYXJ0aWNsZVNoYWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBhcnRpY2xlU2hhZGVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF9QYXJ0aWNsZVNoYWRlciA9IHJlcXVpcmUoJy4vUGFydGljbGVTaGFkZXInKTtcblxudmFyIF9QYXJ0aWNsZVNoYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QYXJ0aWNsZVNoYWRlcik7XG5cbnZhciBfUGFydGljbGVCdWZmZXIgPSByZXF1aXJlKCcuL1BhcnRpY2xlQnVmZmVyJyk7XG5cbnZhciBfUGFydGljbGVCdWZmZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGFydGljbGVCdWZmZXIpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vLi4vY29yZS91dGlscycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogQGF1dGhvciBNYXQgR3JvdmVzXG4gKlxuICogQmlnIHRoYW5rcyB0byB0aGUgdmVyeSBjbGV2ZXIgTWF0dCBEZXNMYXVyaWVycyA8bWF0dGRlc2w+IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXR0ZGVzbC9cbiAqIGZvciBjcmVhdGluZyB0aGUgb3JpZ2luYWwgUGl4aUpTIHZlcnNpb24hXG4gKiBBbHNvIGEgdGhhbmtzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9iY2hldmFsaWVyIGZvciB0d2Vha2luZyB0aGUgdGludCBhbmQgYWxwaGEgc28gdGhhdCB0aGV5IG5vd1xuICogc2hhcmUgNCBieXRlcyBvbiB0aGUgdmVydGV4IGJ1ZmZlclxuICpcbiAqIEhlYXZpbHkgaW5zcGlyZWQgYnkgTGliR0RYJ3MgUGFydGljbGVSZW5kZXJlcjpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9saWJnZHgvbGliZ2R4L2Jsb2IvbWFzdGVyL2dkeC9zcmMvY29tL2JhZGxvZ2ljL2dkeC9ncmFwaGljcy9nMmQvUGFydGljbGVSZW5kZXJlci5qYXZhXG4gKi9cblxuLyoqXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBhcnRpY2xlUmVuZGVyZXIgPSBmdW5jdGlvbiAoX2NvcmUkT2JqZWN0UmVuZGVyZXIpIHtcbiAgICBfaW5oZXJpdHMoUGFydGljbGVSZW5kZXJlciwgX2NvcmUkT2JqZWN0UmVuZGVyZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgc3ByaXRlIGJhdGNoIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQYXJ0aWNsZVJlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQYXJ0aWNsZVJlbmRlcmVyKTtcblxuICAgICAgICAvLyA2NTUzNSBpcyBtYXggdmVydGV4IGluZGV4IGluIHRoZSBpbmRleCBidWZmZXIgKHNlZSBQYXJ0aWNsZVJlbmRlcmVyKVxuICAgICAgICAvLyBzbyBtYXggbnVtYmVyIG9mIHBhcnRpY2xlcyBpcyA2NTUzNiAvIDQgPSAxNjM4NFxuICAgICAgICAvLyBhbmQgbWF4IG51bWJlciBvZiBlbGVtZW50IGluIHRoZSBpbmRleCBidWZmZXIgaXMgMTYzODQgKiA2ID0gOTgzMDRcbiAgICAgICAgLy8gQ3JlYXRpbmcgYSBmdWxsIGluZGV4IGJ1ZmZlciwgb3ZlcmhlYWQgaXMgOTgzMDQgKiAyID0gMTk2S29cbiAgICAgICAgLy8gbGV0IG51bUluZGljZXMgPSA5ODMwNDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgc2hhZGVyIHRoYXQgaXMgdXNlZCBpZiBhIHNwcml0ZSBkb2Vzbid0IGhhdmUgYSBtb3JlIHNwZWNpZmljIG9uZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfY29yZSRPYmplY3RSZW5kZXJlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSk7XG5cbiAgICAgICAgX3RoaXMuc2hhZGVyID0gbnVsbDtcblxuICAgICAgICBfdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMucHJvcGVydGllcyA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMudGVtcE1hdHJpeCA9IG5ldyBjb3JlLk1hdHJpeCgpO1xuXG4gICAgICAgIF90aGlzLkNPTlRFWFRfVUlEID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlcmUgaXMgYSBXZWJHTCBjb250ZXh0IGNoYW5nZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUub25Db250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gb25Db250ZXh0Q2hhbmdlKCkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuXG4gICAgICAgIHRoaXMuQ09OVEVYVF9VSUQgPSB0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEO1xuXG4gICAgICAgIC8vIHNldHVwIGRlZmF1bHQgc2hhZGVyXG4gICAgICAgIHRoaXMuc2hhZGVyID0gbmV3IF9QYXJ0aWNsZVNoYWRlcjIuZGVmYXVsdChnbCk7XG5cbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzID0gW1xuICAgICAgICAvLyB2ZXJ0aWNlc0RhdGFcbiAgICAgICAge1xuICAgICAgICAgICAgYXR0cmlidXRlOiB0aGlzLnNoYWRlci5hdHRyaWJ1dGVzLmFWZXJ0ZXhQb3NpdGlvbixcbiAgICAgICAgICAgIHNpemU6IDIsXG4gICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogdGhpcy51cGxvYWRWZXJ0aWNlcyxcbiAgICAgICAgICAgIG9mZnNldDogMFxuICAgICAgICB9LFxuICAgICAgICAvLyBwb3NpdGlvbkRhdGFcbiAgICAgICAge1xuICAgICAgICAgICAgYXR0cmlidXRlOiB0aGlzLnNoYWRlci5hdHRyaWJ1dGVzLmFQb3NpdGlvbkNvb3JkLFxuICAgICAgICAgICAgc2l6ZTogMixcbiAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiB0aGlzLnVwbG9hZFBvc2l0aW9uLFxuICAgICAgICAgICAgb2Zmc2V0OiAwXG4gICAgICAgIH0sXG4gICAgICAgIC8vIHJvdGF0aW9uRGF0YVxuICAgICAgICB7XG4gICAgICAgICAgICBhdHRyaWJ1dGU6IHRoaXMuc2hhZGVyLmF0dHJpYnV0ZXMuYVJvdGF0aW9uLFxuICAgICAgICAgICAgc2l6ZTogMSxcbiAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiB0aGlzLnVwbG9hZFJvdGF0aW9uLFxuICAgICAgICAgICAgb2Zmc2V0OiAwXG4gICAgICAgIH0sXG4gICAgICAgIC8vIHV2c0RhdGFcbiAgICAgICAge1xuICAgICAgICAgICAgYXR0cmlidXRlOiB0aGlzLnNoYWRlci5hdHRyaWJ1dGVzLmFUZXh0dXJlQ29vcmQsXG4gICAgICAgICAgICBzaXplOiAyLFxuICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IHRoaXMudXBsb2FkVXZzLFxuICAgICAgICAgICAgb2Zmc2V0OiAwXG4gICAgICAgIH0sXG4gICAgICAgIC8vIHRpbnREYXRhXG4gICAgICAgIHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZTogdGhpcy5zaGFkZXIuYXR0cmlidXRlcy5hQ29sb3IsXG4gICAgICAgICAgICBzaXplOiAxLFxuICAgICAgICAgICAgdW5zaWduZWRCeXRlOiB0cnVlLFxuICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IHRoaXMudXBsb2FkVGludCxcbiAgICAgICAgICAgIG9mZnNldDogMFxuICAgICAgICB9XTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3RhcnRzIGEgbmV3IHBhcnRpY2xlIGJhdGNoLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuYmluZFNoYWRlcih0aGlzLnNoYWRlcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIHBhcnRpY2xlIGNvbnRhaW5lciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUGFydGljbGVDb250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgdG8gcmVuZGVyIHVzaW5nIHRoaXMgUGFydGljbGVSZW5kZXJlclxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoY29udGFpbmVyKSB7XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IGNvbnRhaW5lci5jaGlsZHJlbjtcbiAgICAgICAgdmFyIG1heFNpemUgPSBjb250YWluZXIuX21heFNpemU7XG4gICAgICAgIHZhciBiYXRjaFNpemUgPSBjb250YWluZXIuX2JhdGNoU2l6ZTtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIHRvdGFsQ2hpbGRyZW4gPSBjaGlsZHJlbi5sZW5ndGg7XG5cbiAgICAgICAgaWYgKHRvdGFsQ2hpbGRyZW4gPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmICh0b3RhbENoaWxkcmVuID4gbWF4U2l6ZSkge1xuICAgICAgICAgICAgdG90YWxDaGlsZHJlbiA9IG1heFNpemU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYnVmZmVycyA9IGNvbnRhaW5lci5fZ2xCdWZmZXJzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICBpZiAoIWJ1ZmZlcnMpIHtcbiAgICAgICAgICAgIGJ1ZmZlcnMgPSBjb250YWluZXIuX2dsQnVmZmVyc1tyZW5kZXJlci5DT05URVhUX1VJRF0gPSB0aGlzLmdlbmVyYXRlQnVmZmVycyhjb250YWluZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gY2hpbGRyZW5bMF0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgLy8gaWYgdGhlIHV2cyBoYXZlIG5vdCB1cGRhdGVkIHRoZW4gbm8gcG9pbnQgcmVuZGVyaW5nIGp1c3QgeWV0IVxuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldEJsZW5kTW9kZShjb3JlLnV0aWxzLmNvcnJlY3RCbGVuZE1vZGUoY29udGFpbmVyLmJsZW5kTW9kZSwgYmFzZVRleHR1cmUucHJlbXVsdGlwbGllZEFscGhhKSk7XG5cbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgdmFyIG0gPSBjb250YWluZXIud29ybGRUcmFuc2Zvcm0uY29weSh0aGlzLnRlbXBNYXRyaXgpO1xuXG4gICAgICAgIG0ucHJlcGVuZChyZW5kZXJlci5fYWN0aXZlUmVuZGVyVGFyZ2V0LnByb2plY3Rpb25NYXRyaXgpO1xuXG4gICAgICAgIHRoaXMuc2hhZGVyLnVuaWZvcm1zLnByb2plY3Rpb25NYXRyaXggPSBtLnRvQXJyYXkodHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5zaGFkZXIudW5pZm9ybXMudUNvbG9yID0gY29yZS51dGlscy5wcmVtdWx0aXBseVJnYmEoY29udGFpbmVyLnRpbnRSZ2IsIGNvbnRhaW5lci53b3JsZEFscGhhLCB0aGlzLnNoYWRlci51bmlmb3Jtcy51Q29sb3IsIGJhc2VUZXh0dXJlLnByZW11bHRpcGxpZWRBbHBoYSk7XG5cbiAgICAgICAgLy8gbWFrZSBzdXJlIHRoZSB0ZXh0dXJlIGlzIGJvdW5kLi5cbiAgICAgICAgdGhpcy5zaGFkZXIudW5pZm9ybXMudVNhbXBsZXIgPSByZW5kZXJlci5iaW5kVGV4dHVyZShiYXNlVGV4dHVyZSk7XG5cbiAgICAgICAgdmFyIHVwZGF0ZVN0YXRpYyA9IGZhbHNlO1xuXG4gICAgICAgIC8vIG5vdyBsZXRzIHVwbG9hZCBhbmQgcmVuZGVyIHRoZSBidWZmZXJzLi5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSAwOyBpIDwgdG90YWxDaGlsZHJlbjsgaSArPSBiYXRjaFNpemUsIGogKz0gMSkge1xuICAgICAgICAgICAgdmFyIGFtb3VudCA9IHRvdGFsQ2hpbGRyZW4gLSBpO1xuXG4gICAgICAgICAgICBpZiAoYW1vdW50ID4gYmF0Y2hTaXplKSB7XG4gICAgICAgICAgICAgICAgYW1vdW50ID0gYmF0Y2hTaXplO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaiA+PSBidWZmZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGlmICghY29udGFpbmVyLmF1dG9SZXNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJ1ZmZlcnMucHVzaCh0aGlzLl9nZW5lcmF0ZU9uZU1vcmVCdWZmZXIoY29udGFpbmVyKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBidWZmZXIgPSBidWZmZXJzW2pdO1xuXG4gICAgICAgICAgICAvLyB3ZSBhbHdheXMgdXBsb2FkIHRoZSBkeW5hbWljXG4gICAgICAgICAgICBidWZmZXIudXBsb2FkRHluYW1pYyhjaGlsZHJlbiwgaSwgYW1vdW50KTtcblxuICAgICAgICAgICAgdmFyIGJpZCA9IGNvbnRhaW5lci5fYnVmZmVyVXBkYXRlSURzW2ldIHx8IDA7XG5cbiAgICAgICAgICAgIHVwZGF0ZVN0YXRpYyA9IHVwZGF0ZVN0YXRpYyB8fCBidWZmZXIuX3VwZGF0ZUlEIDwgYmlkO1xuICAgICAgICAgICAgLy8gd2Ugb25seSB1cGxvYWQgdGhlIHN0YXRpYyBjb250ZW50IHdoZW4gd2UgaGF2ZSB0byFcbiAgICAgICAgICAgIGlmICh1cGRhdGVTdGF0aWMpIHtcbiAgICAgICAgICAgICAgICBidWZmZXIuX3VwZGF0ZUlEID0gY29udGFpbmVyLl91cGRhdGVJRDtcbiAgICAgICAgICAgICAgICBidWZmZXIudXBsb2FkU3RhdGljKGNoaWxkcmVuLCBpLCBhbW91bnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBiaW5kIHRoZSBidWZmZXJcbiAgICAgICAgICAgIHJlbmRlcmVyLmJpbmRWYW8oYnVmZmVyLnZhbyk7XG4gICAgICAgICAgICBidWZmZXIudmFvLmRyYXcoZ2wuVFJJQU5HTEVTLCBhbW91bnQgKiA2KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIG9uZSBwYXJ0aWNsZSBidWZmZXIgZm9yIGVhY2ggY2hpbGQgaW4gdGhlIGNvbnRhaW5lciB3ZSB3YW50IHRvIHJlbmRlciBhbmQgdXBkYXRlcyBpbnRlcm5hbCBwcm9wZXJ0aWVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUGFydGljbGVDb250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgdG8gcmVuZGVyIHVzaW5nIHRoaXMgUGFydGljbGVSZW5kZXJlclxuICAgICAqIEByZXR1cm4ge1BJWEkuUGFydGljbGVCdWZmZXJbXX0gVGhlIGJ1ZmZlcnNcbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUuZ2VuZXJhdGVCdWZmZXJzID0gZnVuY3Rpb24gZ2VuZXJhdGVCdWZmZXJzKGNvbnRhaW5lcikge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgYnVmZmVycyA9IFtdO1xuICAgICAgICB2YXIgc2l6ZSA9IGNvbnRhaW5lci5fbWF4U2l6ZTtcbiAgICAgICAgdmFyIGJhdGNoU2l6ZSA9IGNvbnRhaW5lci5fYmF0Y2hTaXplO1xuICAgICAgICB2YXIgZHluYW1pY1Byb3BlcnR5RmxhZ3MgPSBjb250YWluZXIuX3Byb3BlcnRpZXM7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpICs9IGJhdGNoU2l6ZSkge1xuICAgICAgICAgICAgYnVmZmVycy5wdXNoKG5ldyBfUGFydGljbGVCdWZmZXIyLmRlZmF1bHQoZ2wsIHRoaXMucHJvcGVydGllcywgZHluYW1pY1Byb3BlcnR5RmxhZ3MsIGJhdGNoU2l6ZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJ1ZmZlcnM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgb25lIG1vcmUgcGFydGljbGUgYnVmZmVyLCBiZWNhdXNlIGNvbnRhaW5lciBoYXMgYXV0b1Jlc2l6ZSBmZWF0dXJlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUGFydGljbGVDb250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgdG8gcmVuZGVyIHVzaW5nIHRoaXMgUGFydGljbGVSZW5kZXJlclxuICAgICAqIEByZXR1cm4ge1BJWEkuUGFydGljbGVCdWZmZXJ9IGdlbmVyYXRlZCBidWZmZXJcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS5fZ2VuZXJhdGVPbmVNb3JlQnVmZmVyID0gZnVuY3Rpb24gX2dlbmVyYXRlT25lTW9yZUJ1ZmZlcihjb250YWluZXIpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgdmFyIGJhdGNoU2l6ZSA9IGNvbnRhaW5lci5fYmF0Y2hTaXplO1xuICAgICAgICB2YXIgZHluYW1pY1Byb3BlcnR5RmxhZ3MgPSBjb250YWluZXIuX3Byb3BlcnRpZXM7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBfUGFydGljbGVCdWZmZXIyLmRlZmF1bHQoZ2wsIHRoaXMucHJvcGVydGllcywgZHluYW1pY1Byb3BlcnR5RmxhZ3MsIGJhdGNoU2l6ZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHZlcnRpY2llcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHZlcnRpY2VzIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUudXBsb2FkVmVydGljZXMgPSBmdW5jdGlvbiB1cGxvYWRWZXJ0aWNlcyhjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpIHtcbiAgICAgICAgdmFyIHcwID0gMDtcbiAgICAgICAgdmFyIHcxID0gMDtcbiAgICAgICAgdmFyIGgwID0gMDtcbiAgICAgICAgdmFyIGgxID0gMDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgc3ByaXRlID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldO1xuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBzcHJpdGUuX3RleHR1cmU7XG4gICAgICAgICAgICB2YXIgc3ggPSBzcHJpdGUuc2NhbGUueDtcbiAgICAgICAgICAgIHZhciBzeSA9IHNwcml0ZS5zY2FsZS55O1xuICAgICAgICAgICAgdmFyIHRyaW0gPSB0ZXh0dXJlLnRyaW07XG4gICAgICAgICAgICB2YXIgb3JpZyA9IHRleHR1cmUub3JpZztcblxuICAgICAgICAgICAgaWYgKHRyaW0pIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgc3ByaXRlIGlzIHRyaW1tZWQgYW5kIGlzIG5vdCBhIHRpbGluZ3Nwcml0ZSB0aGVuIHdlIG5lZWQgdG8gYWRkIHRoZVxuICAgICAgICAgICAgICAgIC8vIGV4dHJhIHNwYWNlIGJlZm9yZSB0cmFuc2Zvcm1pbmcgdGhlIHNwcml0ZSBjb29yZHMuLlxuICAgICAgICAgICAgICAgIHcxID0gdHJpbS54IC0gc3ByaXRlLmFuY2hvci54ICogb3JpZy53aWR0aDtcbiAgICAgICAgICAgICAgICB3MCA9IHcxICsgdHJpbS53aWR0aDtcblxuICAgICAgICAgICAgICAgIGgxID0gdHJpbS55IC0gc3ByaXRlLmFuY2hvci55ICogb3JpZy5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgaDAgPSBoMSArIHRyaW0uaGVpZ2h0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB3MCA9IG9yaWcud2lkdGggKiAoMSAtIHNwcml0ZS5hbmNob3IueCk7XG4gICAgICAgICAgICAgICAgdzEgPSBvcmlnLndpZHRoICogLXNwcml0ZS5hbmNob3IueDtcblxuICAgICAgICAgICAgICAgIGgwID0gb3JpZy5oZWlnaHQgKiAoMSAtIHNwcml0ZS5hbmNob3IueSk7XG4gICAgICAgICAgICAgICAgaDEgPSBvcmlnLmhlaWdodCAqIC1zcHJpdGUuYW5jaG9yLnk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSB3MSAqIHN4O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSBoMSAqIHN5O1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gdzAgKiBzeDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSArIDFdID0gaDEgKiBzeTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMl0gPSB3MCAqIHN4O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMiArIDFdID0gaDAgKiBzeTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogM10gPSB3MSAqIHN4O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMyArIDFdID0gaDAgKiBzeTtcblxuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIHRoZSBhcnJheSBvZiBkaXNwbGF5IG9iamVjdHMgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSB0aGUgaW5kZXggdG8gc3RhcnQgZnJvbSBpbiB0aGUgY2hpbGRyZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdGhlIGFtb3VudCBvZiBjaGlsZHJlbiB0aGF0IHdpbGwgaGF2ZSB0aGVpciBwb3NpdGlvbnMgdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS51cGxvYWRQb3NpdGlvbiA9IGZ1bmN0aW9uIHVwbG9hZFBvc2l0aW9uKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc3ByaXRlUG9zaXRpb24gPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV0ucG9zaXRpb247XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gc3ByaXRlUG9zaXRpb24ueDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSArIDFdID0gc3ByaXRlUG9zaXRpb24ueTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMl0gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMiArIDFdID0gc3ByaXRlUG9zaXRpb24ueTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogM10gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMyArIDFdID0gc3ByaXRlUG9zaXRpb24ueTtcblxuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIHRoZSBhcnJheSBvZiBkaXNwbGF5IG9iamVjdHMgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSB0aGUgaW5kZXggdG8gc3RhcnQgZnJvbSBpbiB0aGUgY2hpbGRyZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdGhlIGFtb3VudCBvZiBjaGlsZHJlbiB0aGF0IHdpbGwgaGF2ZSB0aGVpciByb3RhdGlvbiB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFJvdGF0aW9uID0gZnVuY3Rpb24gdXBsb2FkUm90YXRpb24oY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgYXJyYXksIHN0cmlkZSwgb2Zmc2V0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGVSb3RhdGlvbiA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXS5yb3RhdGlvbjtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IHNwcml0ZVJvdGF0aW9uO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHNwcml0ZVJvdGF0aW9uO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMl0gPSBzcHJpdGVSb3RhdGlvbjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDNdID0gc3ByaXRlUm90YXRpb247XG5cbiAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgcm90YXRpb24gdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS51cGxvYWRVdnMgPSBmdW5jdGlvbiB1cGxvYWRVdnMoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgYXJyYXksIHN0cmlkZSwgb2Zmc2V0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyArK2kpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlVXZzID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldLl90ZXh0dXJlLl91dnM7XG5cbiAgICAgICAgICAgIGlmICh0ZXh0dXJlVXZzKSB7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IHRleHR1cmVVdnMueDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSB0ZXh0dXJlVXZzLnkwO1xuXG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHRleHR1cmVVdnMueDE7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSB0ZXh0dXJlVXZzLnkxO1xuXG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMl0gPSB0ZXh0dXJlVXZzLngyO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDIgKyAxXSA9IHRleHR1cmVVdnMueTI7XG5cbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAzXSA9IHRleHR1cmVVdnMueDM7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMyArIDFdID0gdGV4dHVyZVV2cy55MztcblxuICAgICAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIHlvdSBrbm93IHRoaXMgY2FuIGJlIGVhc2llciFcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IDA7XG5cbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IDA7XG5cbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAyXSA9IDA7XG4gICAgICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICogMiArIDFdID0gMDtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDNdID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKiAzICsgMV0gPSAwO1xuXG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIHRoZSBhcnJheSBvZiBkaXNwbGF5IG9iamVjdHMgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSB0aGUgaW5kZXggdG8gc3RhcnQgZnJvbSBpbiB0aGUgY2hpbGRyZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdGhlIGFtb3VudCBvZiBjaGlsZHJlbiB0aGF0IHdpbGwgaGF2ZSB0aGVpciByb3RhdGlvbiB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFRpbnQgPSBmdW5jdGlvbiB1cGxvYWRUaW50KGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgc3ByaXRlID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldO1xuICAgICAgICAgICAgdmFyIHByZW11bHRpcGxpZWQgPSBzcHJpdGUuX3RleHR1cmUuYmFzZVRleHR1cmUucHJlbXVsdGlwbGllZEFscGhhO1xuICAgICAgICAgICAgdmFyIGFscGhhID0gc3ByaXRlLmFscGhhO1xuICAgICAgICAgICAgLy8gd2UgZG9udCBjYWxsIGV4dHJhIGZ1bmN0aW9uIGlmIGFscGhhIGlzIDEuMCwgdGhhdCdzIGZhc3RlclxuICAgICAgICAgICAgdmFyIGFyZ2IgPSBhbHBoYSA8IDEuMCAmJiBwcmVtdWx0aXBsaWVkID8gKDAsIF91dGlscy5wcmVtdWx0aXBseVRpbnQpKHNwcml0ZS5fdGludFJHQiwgYWxwaGEpIDogc3ByaXRlLl90aW50UkdCICsgKGFscGhhICogMjU1IDw8IDI0KTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IGFyZ2I7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gYXJnYjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDJdID0gYXJnYjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSAqIDNdID0gYXJnYjtcblxuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIFBhcnRpY2xlUmVuZGVyZXIuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVyLmdsKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmdsLmRlbGV0ZUJ1ZmZlcih0aGlzLmluZGV4QnVmZmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9jb3JlJE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG5cbiAgICAgICAgdGhpcy5zaGFkZXIuZGVzdHJveSgpO1xuXG4gICAgICAgIHRoaXMuaW5kaWNlcyA9IG51bGw7XG4gICAgICAgIHRoaXMudGVtcE1hdHJpeCA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBQYXJ0aWNsZVJlbmRlcmVyO1xufShjb3JlLk9iamVjdFJlbmRlcmVyKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUGFydGljbGVSZW5kZXJlcjtcblxuXG5jb3JlLldlYkdMUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ3BhcnRpY2xlJywgUGFydGljbGVSZW5kZXJlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QYXJ0aWNsZVJlbmRlcmVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL2NvcmUvdXRpbHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFRoZSBQYXJ0aWNsZUNvbnRhaW5lciBjbGFzcyBpcyBhIHJlYWxseSBmYXN0IHZlcnNpb24gb2YgdGhlIENvbnRhaW5lciBidWlsdCBzb2xlbHkgZm9yIHNwZWVkLFxuICogc28gdXNlIHdoZW4geW91IG5lZWQgYSBsb3Qgb2Ygc3ByaXRlcyBvciBwYXJ0aWNsZXMuIFRoZSB0cmFkZW9mZiBvZiB0aGUgUGFydGljbGVDb250YWluZXIgaXMgdGhhdCBtb3N0IGFkdmFuY2VkXG4gKiBmdW5jdGlvbmFsaXR5IHdpbGwgbm90IHdvcmsuIFBhcnRpY2xlQ29udGFpbmVyIGltcGxlbWVudHMgdGhlIGJhc2ljIG9iamVjdCB0cmFuc2Zvcm0gKHBvc2l0aW9uLCBzY2FsZSwgcm90YXRpb24pXG4gKiBhbmQgc29tZSBhZHZhbmNlZCBmdW5jdGlvbmFsaXR5IGxpa2UgdGludCAoYXMgb2YgdjQuNS42KS5cbiAqIE90aGVyIG1vcmUgYWR2YW5jZWQgZnVuY3Rpb25hbGl0eSBsaWtlIG1hc2tpbmcsIGNoaWxkcmVuLCBmaWx0ZXJzLCBldGMgd2lsbCBub3Qgd29yayBvbiBzcHJpdGVzIGluIHRoaXMgYmF0Y2guXG4gKlxuICogSXQncyBleHRyZW1lbHkgZWFzeSB0byB1c2UgOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgY29udGFpbmVyID0gbmV3IFBhcnRpY2xlQ29udGFpbmVyKCk7XG4gKlxuICogZm9yIChsZXQgaSA9IDA7IGkgPCAxMDA7ICsraSlcbiAqIHtcbiAqICAgICBsZXQgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlLmZyb21JbWFnZShcIm15SW1hZ2UucG5nXCIpO1xuICogICAgIGNvbnRhaW5lci5hZGRDaGlsZChzcHJpdGUpO1xuICogfVxuICogYGBgXG4gKlxuICogQW5kIGhlcmUgeW91IGhhdmUgYSBodW5kcmVkIHNwcml0ZXMgdGhhdCB3aWxsIGJlIHJlbmRlcmVkIGF0IHRoZSBzcGVlZCBvZiBsaWdodC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAbWVtYmVyb2YgUElYSS5wYXJ0aWNsZXNcbiAqL1xudmFyIFBhcnRpY2xlQ29udGFpbmVyID0gZnVuY3Rpb24gKF9jb3JlJENvbnRhaW5lcikge1xuICAgIF9pbmhlcml0cyhQYXJ0aWNsZUNvbnRhaW5lciwgX2NvcmUkQ29udGFpbmVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbWF4U2l6ZT0xNTAwXSAtIFRoZSBtYXhpbXVtIG51bWJlciBvZiBwYXJ0aWNsZXMgdGhhdCBjYW4gYmUgcmVuZGVyZWQgYnkgdGhlIGNvbnRhaW5lci5cbiAgICAgKiAgQWZmZWN0cyBzaXplIG9mIGFsbG9jYXRlZCBidWZmZXJzLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbcHJvcGVydGllc10gLSBUaGUgcHJvcGVydGllcyBvZiBjaGlsZHJlbiB0aGF0IHNob3VsZCBiZSB1cGxvYWRlZCB0byB0aGUgZ3B1IGFuZCBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BlcnRpZXMudmVydGljZXM9ZmFsc2VdIC0gV2hlbiB0cnVlLCB2ZXJ0aWNlcyBiZSB1cGxvYWRlZCBhbmQgYXBwbGllZC5cbiAgICAgKiAgICAgICAgICAgICAgICAgIGlmIHNwcml0ZSdzIGAgc2NhbGUvYW5jaG9yL3RyaW0vZnJhbWUvb3JpZ2AgaXMgZHluYW1pYywgcGxlYXNlIHNldCBgdHJ1ZWAuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy5wb3NpdGlvbj10cnVlXSAtIFdoZW4gdHJ1ZSwgcG9zaXRpb24gYmUgdXBsb2FkZWQgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy5yb3RhdGlvbj1mYWxzZV0gLSBXaGVuIHRydWUsIHJvdGF0aW9uIGJlIHVwbG9hZGVkIGFuZCBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BlcnRpZXMudXZzPWZhbHNlXSAtIFdoZW4gdHJ1ZSwgdXZzIGJlIHVwbG9hZGVkIGFuZCBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BlcnRpZXMudGludD1mYWxzZV0gLSBXaGVuIHRydWUsIGFscGhhIGFuZCB0aW50IGJlIHVwbG9hZGVkIGFuZCBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYmF0Y2hTaXplPTE2Mzg0XSAtIE51bWJlciBvZiBwYXJ0aWNsZXMgcGVyIGJhdGNoLiBJZiBsZXNzIHRoYW4gbWF4U2l6ZSwgaXQgdXNlcyBtYXhTaXplIGluc3RlYWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYXV0b1Jlc2l6ZT1mYWxzZV0gSWYgdHJ1ZSwgY29udGFpbmVyIGFsbG9jYXRlcyBtb3JlIGJhdGNoZXMgaW4gY2FzZVxuICAgICAqICB0aGVyZSBhcmUgbW9yZSB0aGFuIGBtYXhTaXplYCBwYXJ0aWNsZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUGFydGljbGVDb250YWluZXIoKSB7XG4gICAgICAgIHZhciBtYXhTaXplID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAxNTAwO1xuICAgICAgICB2YXIgcHJvcGVydGllcyA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgdmFyIGJhdGNoU2l6ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMTYzODQ7XG4gICAgICAgIHZhciBhdXRvUmVzaXplID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBmYWxzZTtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGFydGljbGVDb250YWluZXIpO1xuXG4gICAgICAgIC8vIE1ha2luZyBzdXJlIHRoZSBiYXRjaCBzaXplIGlzIHZhbGlkXG4gICAgICAgIC8vIDY1NTM1IGlzIG1heCB2ZXJ0ZXggaW5kZXggaW4gdGhlIGluZGV4IGJ1ZmZlciAoc2VlIFBhcnRpY2xlUmVuZGVyZXIpXG4gICAgICAgIC8vIHNvIG1heCBudW1iZXIgb2YgcGFydGljbGVzIGlzIDY1NTM2IC8gNCA9IDE2Mzg0XG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJENvbnRhaW5lci5jYWxsKHRoaXMpKTtcblxuICAgICAgICB2YXIgbWF4QmF0Y2hTaXplID0gMTYzODQ7XG5cbiAgICAgICAgaWYgKGJhdGNoU2l6ZSA+IG1heEJhdGNoU2l6ZSkge1xuICAgICAgICAgICAgYmF0Y2hTaXplID0gbWF4QmF0Y2hTaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJhdGNoU2l6ZSA+IG1heFNpemUpIHtcbiAgICAgICAgICAgIGJhdGNoU2l6ZSA9IG1heFNpemU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHByb3BlcnRpZXMgdG8gYmUgZHluYW1pYyAodHJ1ZSkgLyBzdGF0aWMgKGZhbHNlKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFuW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fcHJvcGVydGllcyA9IFtmYWxzZSwgdHJ1ZSwgZmFsc2UsIGZhbHNlLCBmYWxzZV07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9tYXhTaXplID0gbWF4U2l6ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2JhdGNoU2l6ZSA9IGJhdGNoU2l6ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0PG51bWJlciwgV2ViR0xCdWZmZXI+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2dsQnVmZmVycyA9IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBmb3IgZXZlcnkgYmF0Y2ggc3RvcmVzIF91cGRhdGVJRCBjb3JyZXNwb25kaW5nIHRvIHRoZSBsYXN0IGNoYW5nZSBpbiB0aGF0IGJhdGNoXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2J1ZmZlclVwZGF0ZUlEcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB3aGVuIGNoaWxkIGluc2VydGVkLCByZW1vdmVkIG9yIGNoYW5nZXMgcG9zaXRpb24gdGhpcyBudW1iZXIgZ29lcyB1cFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl91cGRhdGVJRCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gQXBwbHkgYSB2YWx1ZSBvZiBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgXG4gICAgICAgICAqIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICAgICAqIEBzZWUgUElYSS5CTEVORF9NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYmxlbmRNb2RlID0gY29yZS5CTEVORF9NT0RFUy5OT1JNQUw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRydWUsIGNvbnRhaW5lciBhbGxvY2F0ZXMgbW9yZSBiYXRjaGVzIGluIGNhc2UgdGhlcmUgYXJlIG1vcmUgdGhhbiBgbWF4U2l6ZWAgcGFydGljbGVzLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYXV0b1Jlc2l6ZSA9IGF1dG9SZXNpemU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgZm9yIGNhbnZhcyByZW5kZXJlcmluZy4gSWYgdHJ1ZSB0aGVuIHRoZSBlbGVtZW50cyB3aWxsIGJlIHBvc2l0aW9uZWQgYXQgdGhlXG4gICAgICAgICAqIG5lYXJlc3QgcGl4ZWwuIFRoaXMgcHJvdmlkZXMgYSBuaWNlIHNwZWVkIGJvb3N0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlO1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucm91bmRQaXhlbHMgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dHVyZSB1c2VkIHRvIHJlbmRlciB0aGUgY2hpbGRyZW4uXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtCYXNlVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmJhc2VUZXh0dXJlID0gbnVsbDtcblxuICAgICAgICBfdGhpcy5zZXRQcm9wZXJ0aWVzKHByb3BlcnRpZXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBjb250YWluZXIuXG4gICAgICAgICAqIFRoaXMgaXMgYSBoZXggdmFsdWUuIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGludCA9IDA7XG4gICAgICAgIF90aGlzLnRpbnRSZ2IgPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICAgICAgICBfdGhpcy50aW50ID0gMHhGRkZGRkY7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwcml2YXRlIHByb3BlcnRpZXMgYXJyYXkgdG8gZHluYW1pYyAvIHN0YXRpYyBiYXNlZCBvbiB0aGUgcGFzc2VkIHByb3BlcnRpZXMgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcHJvcGVydGllcyAtIFRoZSBwcm9wZXJ0aWVzIHRvIGJlIHVwbG9hZGVkXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzID0gZnVuY3Rpb24gc2V0UHJvcGVydGllcyhwcm9wZXJ0aWVzKSB7XG4gICAgICAgIGlmIChwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzBdID0gJ3ZlcnRpY2VzJyBpbiBwcm9wZXJ0aWVzIHx8ICdzY2FsZScgaW4gcHJvcGVydGllcyA/ICEhcHJvcGVydGllcy52ZXJ0aWNlcyB8fCAhIXByb3BlcnRpZXMuc2NhbGUgOiB0aGlzLl9wcm9wZXJ0aWVzWzBdO1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1sxXSA9ICdwb3NpdGlvbicgaW4gcHJvcGVydGllcyA/ICEhcHJvcGVydGllcy5wb3NpdGlvbiA6IHRoaXMuX3Byb3BlcnRpZXNbMV07XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzJdID0gJ3JvdGF0aW9uJyBpbiBwcm9wZXJ0aWVzID8gISFwcm9wZXJ0aWVzLnJvdGF0aW9uIDogdGhpcy5fcHJvcGVydGllc1syXTtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbM10gPSAndXZzJyBpbiBwcm9wZXJ0aWVzID8gISFwcm9wZXJ0aWVzLnV2cyA6IHRoaXMuX3Byb3BlcnRpZXNbM107XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzRdID0gJ3RpbnQnIGluIHByb3BlcnRpZXMgfHwgJ2FscGhhJyBpbiBwcm9wZXJ0aWVzID8gISFwcm9wZXJ0aWVzLnRpbnQgfHwgISFwcm9wZXJ0aWVzLmFscGhhIDogdGhpcy5fcHJvcGVydGllc1s0XTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBvYmplY3QgdHJhbnNmb3JtIGZvciByZW5kZXJpbmdcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiB1cGRhdGVUcmFuc2Zvcm0oKSB7XG4gICAgICAgIC8vIFRPRE8gZG9uJ3QgbmVlZCB0byFcbiAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIC8vICBQSVhJLkNvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtLmNhbGwoIHRoaXMgKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgY29udGFpbmVyLiBUaGlzIGlzIGEgaGV4IHZhbHVlLlxuICAgICAqIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAqKiBJTVBPUlRBTlQ6IFRoaXMgaXMgYSB3ZWJHTCBvbmx5IGZlYXR1cmUgYW5kIHdpbGwgYmUgaWdub3JlZCBieSB0aGUgY2FudmFzIHJlbmRlcmVyLlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAqL1xuXG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBjb250YWluZXIgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSB3ZWJnbCByZW5kZXJlclxuICAgICAqL1xuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIHJlbmRlcldlYkdMKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLmNoaWxkcmVuLmxlbmd0aCB8fCAhdGhpcy5yZW5kZXJhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuYmFzZVRleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSB0aGlzLmNoaWxkcmVuWzBdLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmJhc2VUZXh0dXJlLmhhc0xvYWRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUub25jZSgndXBkYXRlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLm9uQ2hpbGRyZW5DaGFuZ2UoMCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlci5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zLnBhcnRpY2xlKTtcbiAgICAgICAgcmVuZGVyZXIucGx1Z2lucy5wYXJ0aWNsZS5yZW5kZXIodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgZmxhZyB0aGF0IHN0YXRpYyBkYXRhIHNob3VsZCBiZSB1cGRhdGVkIHRvIHRydWVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNtYWxsZXN0Q2hpbGRJbmRleCAtIFRoZSBzbWFsbGVzdCBjaGlsZCBpbmRleFxuICAgICAqL1xuXG5cbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUub25DaGlsZHJlbkNoYW5nZSA9IGZ1bmN0aW9uIG9uQ2hpbGRyZW5DaGFuZ2Uoc21hbGxlc3RDaGlsZEluZGV4KSB7XG4gICAgICAgIHZhciBidWZmZXJJbmRleCA9IE1hdGguZmxvb3Ioc21hbGxlc3RDaGlsZEluZGV4IC8gdGhpcy5fYmF0Y2hTaXplKTtcblxuICAgICAgICB3aGlsZSAodGhpcy5fYnVmZmVyVXBkYXRlSURzLmxlbmd0aCA8IGJ1ZmZlckluZGV4KSB7XG4gICAgICAgICAgICB0aGlzLl9idWZmZXJVcGRhdGVJRHMucHVzaCgwKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9idWZmZXJVcGRhdGVJRHNbYnVmZmVySW5kZXhdID0gKyt0aGlzLl91cGRhdGVJRDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBDYW52YXMgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSBjYW52YXMgcmVuZGVyZXJcbiAgICAgKi9cblxuXG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLnJlbmRlckNhbnZhcyA9IGZ1bmN0aW9uIHJlbmRlckNhbnZhcyhyZW5kZXJlcikge1xuICAgICAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5jaGlsZHJlbi5sZW5ndGggfHwgIXRoaXMucmVuZGVyYWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNvbnRleHQgPSByZW5kZXJlci5jb250ZXh0O1xuICAgICAgICB2YXIgdHJhbnNmb3JtID0gdGhpcy53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIGlzUm90YXRlZCA9IHRydWU7XG5cbiAgICAgICAgdmFyIHBvc2l0aW9uWCA9IDA7XG4gICAgICAgIHZhciBwb3NpdGlvblkgPSAwO1xuXG4gICAgICAgIHZhciBmaW5hbFdpZHRoID0gMDtcbiAgICAgICAgdmFyIGZpbmFsSGVpZ2h0ID0gMDtcblxuICAgICAgICByZW5kZXJlci5zZXRCbGVuZE1vZGUodGhpcy5ibGVuZE1vZGUpO1xuXG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG5cbiAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuXG4gICAgICAgICAgICBpZiAoIWNoaWxkLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGZyYW1lID0gY2hpbGQuX3RleHR1cmUuZnJhbWU7XG5cbiAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSB0aGlzLndvcmxkQWxwaGEgKiBjaGlsZC5hbHBoYTtcblxuICAgICAgICAgICAgaWYgKGNoaWxkLnJvdGF0aW9uICUgKE1hdGguUEkgKiAyKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgdGhlIGZhc3Rlc3QgIHdheSB0byBvcHRpbWlzZSEgLSBpZiByb3RhdGlvbiBpcyAwIHRoZW4gd2UgY2FuIGF2b2lkIGFueSBraW5kIG9mIHNldFRyYW5zZm9ybSBjYWxsXG4gICAgICAgICAgICAgICAgaWYgKGlzUm90YXRlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybSh0cmFuc2Zvcm0uYSwgdHJhbnNmb3JtLmIsIHRyYW5zZm9ybS5jLCB0cmFuc2Zvcm0uZCwgdHJhbnNmb3JtLnR4ICogcmVuZGVyZXIucmVzb2x1dGlvbiwgdHJhbnNmb3JtLnR5ICogcmVuZGVyZXIucmVzb2x1dGlvbik7XG5cbiAgICAgICAgICAgICAgICAgICAgaXNSb3RhdGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcG9zaXRpb25YID0gY2hpbGQuYW5jaG9yLnggKiAoLWZyYW1lLndpZHRoICogY2hpbGQuc2NhbGUueCkgKyBjaGlsZC5wb3NpdGlvbi54ICsgMC41O1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uWSA9IGNoaWxkLmFuY2hvci55ICogKC1mcmFtZS5oZWlnaHQgKiBjaGlsZC5zY2FsZS55KSArIGNoaWxkLnBvc2l0aW9uLnkgKyAwLjU7XG5cbiAgICAgICAgICAgICAgICBmaW5hbFdpZHRoID0gZnJhbWUud2lkdGggKiBjaGlsZC5zY2FsZS54O1xuICAgICAgICAgICAgICAgIGZpbmFsSGVpZ2h0ID0gZnJhbWUuaGVpZ2h0ICogY2hpbGQuc2NhbGUueTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1JvdGF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNSb3RhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjaGlsZC5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRUcmFuc2Zvcm0gPSBjaGlsZC53b3JsZFRyYW5zZm9ybTtcblxuICAgICAgICAgICAgICAgIGlmIChyZW5kZXJlci5yb3VuZFBpeGVscykge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybShjaGlsZFRyYW5zZm9ybS5hLCBjaGlsZFRyYW5zZm9ybS5iLCBjaGlsZFRyYW5zZm9ybS5jLCBjaGlsZFRyYW5zZm9ybS5kLCBjaGlsZFRyYW5zZm9ybS50eCAqIHJlbmRlcmVyLnJlc29sdXRpb24gfCAwLCBjaGlsZFRyYW5zZm9ybS50eSAqIHJlbmRlcmVyLnJlc29sdXRpb24gfCAwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybShjaGlsZFRyYW5zZm9ybS5hLCBjaGlsZFRyYW5zZm9ybS5iLCBjaGlsZFRyYW5zZm9ybS5jLCBjaGlsZFRyYW5zZm9ybS5kLCBjaGlsZFRyYW5zZm9ybS50eCAqIHJlbmRlcmVyLnJlc29sdXRpb24sIGNoaWxkVHJhbnNmb3JtLnR5ICogcmVuZGVyZXIucmVzb2x1dGlvbik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcG9zaXRpb25YID0gY2hpbGQuYW5jaG9yLnggKiAtZnJhbWUud2lkdGggKyAwLjU7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25ZID0gY2hpbGQuYW5jaG9yLnkgKiAtZnJhbWUuaGVpZ2h0ICsgMC41O1xuXG4gICAgICAgICAgICAgICAgZmluYWxXaWR0aCA9IGZyYW1lLndpZHRoO1xuICAgICAgICAgICAgICAgIGZpbmFsSGVpZ2h0ID0gZnJhbWUuaGVpZ2h0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IGNoaWxkLl90ZXh0dXJlLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG5cbiAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGNoaWxkLl90ZXh0dXJlLmJhc2VUZXh0dXJlLnNvdXJjZSwgZnJhbWUueCAqIHJlc29sdXRpb24sIGZyYW1lLnkgKiByZXNvbHV0aW9uLCBmcmFtZS53aWR0aCAqIHJlc29sdXRpb24sIGZyYW1lLmhlaWdodCAqIHJlc29sdXRpb24sIHBvc2l0aW9uWCAqIHJlbmRlcmVyLnJlc29sdXRpb24sIHBvc2l0aW9uWSAqIHJlbmRlcmVyLnJlc29sdXRpb24sIGZpbmFsV2lkdGggKiByZW5kZXJlci5yZXNvbHV0aW9uLCBmaW5hbEhlaWdodCAqIHJlbmRlcmVyLnJlc29sdXRpb24pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBjb250YWluZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXJcbiAgICAgKiAgZGVzdHJveSBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICovXG5cblxuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveShvcHRpb25zKSB7XG4gICAgICAgIF9jb3JlJENvbnRhaW5lci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmICh0aGlzLl9idWZmZXJzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2J1ZmZlcnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9idWZmZXJzW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Byb3BlcnRpZXMgPSBudWxsO1xuICAgICAgICB0aGlzLl9idWZmZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYnVmZmVyVXBkYXRlSURzID0gbnVsbDtcbiAgICB9O1xuXG4gICAgX2NyZWF0ZUNsYXNzKFBhcnRpY2xlQ29udGFpbmVyLCBbe1xuICAgICAgICBrZXk6ICd0aW50JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGludDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl90aW50ID0gdmFsdWU7XG4gICAgICAgICAgICAoMCwgX3V0aWxzLmhleDJyZ2IpKHZhbHVlLCB0aGlzLnRpbnRSZ2IpO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFBhcnRpY2xlQ29udGFpbmVyO1xufShjb3JlLkNvbnRhaW5lcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFBhcnRpY2xlQ29udGFpbmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGFydGljbGVDb250YWluZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1BhcnRpY2xlQ29udGFpbmVyID0gcmVxdWlyZSgnLi9QYXJ0aWNsZUNvbnRhaW5lcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1BhcnRpY2xlQ29udGFpbmVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGFydGljbGVDb250YWluZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1BhcnRpY2xlUmVuZGVyZXIgPSByZXF1aXJlKCcuL3dlYmdsL1BhcnRpY2xlUmVuZGVyZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdQYXJ0aWNsZVJlbmRlcmVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGFydGljbGVSZW5kZXJlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfTWVzaDIgPSByZXF1aXJlKCcuL01lc2gnKTtcblxudmFyIF9NZXNoMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01lc2gyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFRoZSByb3BlIGFsbG93cyB5b3UgdG8gZHJhdyBhIHRleHR1cmUgYWNyb3NzIHNldmVyYWwgcG9pbnRzIGFuZCB0aGVtIG1hbmlwdWxhdGUgdGhlc2UgcG9pbnRzXG4gKlxuICpgYGBqc1xuICogZm9yIChsZXQgaSA9IDA7IGkgPCAyMDsgaSsrKSB7XG4gKiAgICAgcG9pbnRzLnB1c2gobmV3IFBJWEkuUG9pbnQoaSAqIDUwLCAwKSk7XG4gKiB9O1xuICogbGV0IHJvcGUgPSBuZXcgUElYSS5Sb3BlKFBJWEkuVGV4dHVyZS5mcm9tSW1hZ2UoXCJzbmFrZS5wbmdcIiksIHBvaW50cyk7XG4gKiAgYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLm1lc2guTWVzaFxuICogQG1lbWJlcm9mIFBJWEkubWVzaFxuICpcbiAqL1xudmFyIFJvcGUgPSBmdW5jdGlvbiAoX01lc2gpIHtcbiAgICBfaW5oZXJpdHMoUm9wZSwgX01lc2gpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgdGV4dHVyZSB0byB1c2Ugb24gdGhlIHJvcGUuXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50W119IHBvaW50cyAtIEFuIGFycmF5IG9mIHtAbGluayBQSVhJLlBvaW50fSBvYmplY3RzIHRvIGNvbnN0cnVjdCB0aGlzIHJvcGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUm9wZSh0ZXh0dXJlLCBwb2ludHMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJvcGUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiBwb2ludHMgdGhhdCBkZXRlcm1pbmUgdGhlIHJvcGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludFtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX01lc2guY2FsbCh0aGlzLCB0ZXh0dXJlKSk7XG5cbiAgICAgICAgX3RoaXMucG9pbnRzID0gcG9pbnRzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiB2ZXJ0aWNlcyB1c2VkIHRvIGNvbnN0cnVjdCB0aGlzIHJvcGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnZlcnRpY2VzID0gbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBXZWJHTCBVdnMgb2YgdGhlIHJvcGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnV2cyA9IG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBjb250YWluaW5nIHRoZSBjb2xvciBjb21wb25lbnRzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvbG9ycyA9IG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBjb250YWluaW5nIHRoZSBpbmRpY2VzIG9mIHRoZSB2ZXJ0aWNlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtVaW50MTZBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmluZGljZXMgPSBuZXcgVWludDE2QXJyYXkocG9pbnRzLmxlbmd0aCAqIDIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZWZyZXNoZXMgdmVydGljZXMgb24gZXZlcnkgdXBkYXRlVHJhbnNmb3JtXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1dG9VcGRhdGUgPSB0cnVlO1xuXG4gICAgICAgIF90aGlzLnJlZnJlc2goKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlZnJlc2hlc1xuICAgICAqXG4gICAgICovXG5cblxuICAgIFJvcGUucHJvdG90eXBlLl9yZWZyZXNoID0gZnVuY3Rpb24gX3JlZnJlc2goKSB7XG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLnBvaW50cztcblxuICAgICAgICAvLyBpZiB0b28gbGl0dGxlIHBvaW50cywgb3IgdGV4dHVyZSBoYXNuJ3QgZ290IFVWcyBzZXQgeWV0IGp1c3QgbW92ZSBvbi5cbiAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPCAxIHx8ICF0aGlzLl90ZXh0dXJlLl91dnMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoZSBudW1iZXIgb2YgcG9pbnRzIGhhcyBjaGFuZ2VkIHdlIHdpbGwgbmVlZCB0byByZWNyZWF0ZSB0aGUgYXJyYXlidWZmZXJzXG4gICAgICAgIGlmICh0aGlzLnZlcnRpY2VzLmxlbmd0aCAvIDQgIT09IHBvaW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMudmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KHBvaW50cy5sZW5ndGggKiA0KTtcbiAgICAgICAgICAgIHRoaXMudXZzID0gbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCk7XG4gICAgICAgICAgICB0aGlzLmNvbG9ycyA9IG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDIpO1xuICAgICAgICAgICAgdGhpcy5pbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KHBvaW50cy5sZW5ndGggKiAyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB1dnMgPSB0aGlzLnV2cztcblxuICAgICAgICB2YXIgaW5kaWNlcyA9IHRoaXMuaW5kaWNlcztcbiAgICAgICAgdmFyIGNvbG9ycyA9IHRoaXMuY29sb3JzO1xuXG4gICAgICAgIHV2c1swXSA9IDA7XG4gICAgICAgIHV2c1sxXSA9IDA7XG4gICAgICAgIHV2c1syXSA9IDA7XG4gICAgICAgIHV2c1szXSA9IDE7XG5cbiAgICAgICAgY29sb3JzWzBdID0gMTtcbiAgICAgICAgY29sb3JzWzFdID0gMTtcblxuICAgICAgICBpbmRpY2VzWzBdID0gMDtcbiAgICAgICAgaW5kaWNlc1sxXSA9IDE7XG5cbiAgICAgICAgdmFyIHRvdGFsID0gcG9pbnRzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IHRvdGFsOyBpKyspIHtcbiAgICAgICAgICAgIC8vIHRpbWUgdG8gZG8gc29tZSBzbWFydCBkcmF3aW5nIVxuICAgICAgICAgICAgdmFyIGluZGV4ID0gaSAqIDQ7XG4gICAgICAgICAgICB2YXIgYW1vdW50ID0gaSAvICh0b3RhbCAtIDEpO1xuXG4gICAgICAgICAgICB1dnNbaW5kZXhdID0gYW1vdW50O1xuICAgICAgICAgICAgdXZzW2luZGV4ICsgMV0gPSAwO1xuXG4gICAgICAgICAgICB1dnNbaW5kZXggKyAyXSA9IGFtb3VudDtcbiAgICAgICAgICAgIHV2c1tpbmRleCArIDNdID0gMTtcblxuICAgICAgICAgICAgaW5kZXggPSBpICogMjtcbiAgICAgICAgICAgIGNvbG9yc1tpbmRleF0gPSAxO1xuICAgICAgICAgICAgY29sb3JzW2luZGV4ICsgMV0gPSAxO1xuXG4gICAgICAgICAgICBpbmRleCA9IGkgKiAyO1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleF0gPSBpbmRleDtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXggKyAxXSA9IGluZGV4ICsgMTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGVuc3VyZSB0aGF0IHRoZSBjaGFuZ2VzIGFyZSB1cGxvYWRlZFxuICAgICAgICB0aGlzLmRpcnR5Kys7XG4gICAgICAgIHRoaXMuaW5kZXhEaXJ0eSsrO1xuXG4gICAgICAgIHRoaXMubXVsdGlwbHlVdnMoKTtcbiAgICAgICAgdGhpcy5yZWZyZXNoVmVydGljZXMoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogcmVmcmVzaGVzIHZlcnRpY2VzIG9mIFJvcGUgbWVzaFxuICAgICAqL1xuXG5cbiAgICBSb3BlLnByb3RvdHlwZS5yZWZyZXNoVmVydGljZXMgPSBmdW5jdGlvbiByZWZyZXNoVmVydGljZXMoKSB7XG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLnBvaW50cztcblxuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsYXN0UG9pbnQgPSBwb2ludHNbMF07XG4gICAgICAgIHZhciBuZXh0UG9pbnQgPSB2b2lkIDA7XG4gICAgICAgIHZhciBwZXJwWCA9IDA7XG4gICAgICAgIHZhciBwZXJwWSA9IDA7XG5cbiAgICAgICAgLy8gdGhpcy5jb3VudCAtPSAwLjI7XG5cbiAgICAgICAgdmFyIHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlcztcbiAgICAgICAgdmFyIHRvdGFsID0gcG9pbnRzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwb2ludCA9IHBvaW50c1tpXTtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGkgKiA0O1xuXG4gICAgICAgICAgICBpZiAoaSA8IHBvaW50cy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgbmV4dFBvaW50ID0gcG9pbnRzW2kgKyAxXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV4dFBvaW50ID0gcG9pbnQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBlcnBZID0gLShuZXh0UG9pbnQueCAtIGxhc3RQb2ludC54KTtcbiAgICAgICAgICAgIHBlcnBYID0gbmV4dFBvaW50LnkgLSBsYXN0UG9pbnQueTtcblxuICAgICAgICAgICAgdmFyIHJhdGlvID0gKDEgLSBpIC8gKHRvdGFsIC0gMSkpICogMTA7XG5cbiAgICAgICAgICAgIGlmIChyYXRpbyA+IDEpIHtcbiAgICAgICAgICAgICAgICByYXRpbyA9IDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBwZXJwTGVuZ3RoID0gTWF0aC5zcXJ0KHBlcnBYICogcGVycFggKyBwZXJwWSAqIHBlcnBZKTtcbiAgICAgICAgICAgIHZhciBudW0gPSB0aGlzLl90ZXh0dXJlLmhlaWdodCAvIDI7IC8vICgyMCArIE1hdGguYWJzKE1hdGguc2luKChpICsgdGhpcy5jb3VudCkgKiAwLjMpICogNTApICkqIHJhdGlvO1xuXG4gICAgICAgICAgICBwZXJwWCAvPSBwZXJwTGVuZ3RoO1xuICAgICAgICAgICAgcGVycFkgLz0gcGVycExlbmd0aDtcblxuICAgICAgICAgICAgcGVycFggKj0gbnVtO1xuICAgICAgICAgICAgcGVycFkgKj0gbnVtO1xuXG4gICAgICAgICAgICB2ZXJ0aWNlc1tpbmRleF0gPSBwb2ludC54ICsgcGVycFg7XG4gICAgICAgICAgICB2ZXJ0aWNlc1tpbmRleCArIDFdID0gcG9pbnQueSArIHBlcnBZO1xuICAgICAgICAgICAgdmVydGljZXNbaW5kZXggKyAyXSA9IHBvaW50LnggLSBwZXJwWDtcbiAgICAgICAgICAgIHZlcnRpY2VzW2luZGV4ICsgM10gPSBwb2ludC55IC0gcGVycFk7XG5cbiAgICAgICAgICAgIGxhc3RQb2ludCA9IHBvaW50O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG9iamVjdCB0cmFuc2Zvcm0gZm9yIHJlbmRlcmluZ1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgUm9wZS5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtKCkge1xuICAgICAgICBpZiAodGhpcy5hdXRvVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hWZXJ0aWNlcygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgfTtcblxuICAgIHJldHVybiBSb3BlO1xufShfTWVzaDMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFJvcGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Sb3BlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9QbGFuZTIgPSByZXF1aXJlKCcuL1BsYW5lJyk7XG5cbnZhciBfUGxhbmUzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGxhbmUyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgREVGQVVMVF9CT1JERVJfU0laRSA9IDEwO1xuXG4vKipcbiAqIFRoZSBOaW5lU2xpY2VQbGFuZSBhbGxvd3MgeW91IHRvIHN0cmV0Y2ggYSB0ZXh0dXJlIHVzaW5nIDktc2xpY2Ugc2NhbGluZy4gVGhlIGNvcm5lcnMgd2lsbCByZW1haW4gdW5zY2FsZWQgKHVzZWZ1bFxuICogZm9yIGJ1dHRvbnMgd2l0aCByb3VuZGVkIGNvcm5lcnMgZm9yIGV4YW1wbGUpIGFuZCB0aGUgb3RoZXIgYXJlYXMgd2lsbCBiZSBzY2FsZWQgaG9yaXpvbnRhbGx5IGFuZCBvciB2ZXJ0aWNhbGx5XG4gKlxuICpgYGBqc1xuICogbGV0IFBsYW5lOSA9IG5ldyBQSVhJLk5pbmVTbGljZVBsYW5lKFBJWEkuVGV4dHVyZS5mcm9tSW1hZ2UoJ0JveFdpdGhSb3VuZGVkQ29ybmVycy5wbmcnKSwgMTUsIDE1LCAxNSwgMTUpO1xuICogIGBgYFxuICogPHByZT5cbiAqICAgICAgQSAgICAgICAgICAgICAgICAgICAgICAgICAgQlxuICogICAgKy0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tKy0tLStcbiAqICBDIHwgMSB8ICAgICAgICAgIDIgICAgICAgICAgIHwgMyB8XG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuICogICAgfCAgIHwgICAgICAgICAgICAgICAgICAgICAgfCAgIHxcbiAqICAgIHwgNCB8ICAgICAgICAgIDUgICAgICAgICAgIHwgNiB8XG4gKiAgICB8ICAgfCAgICAgICAgICAgICAgICAgICAgICB8ICAgfFxuICogICAgKy0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tKy0tLStcbiAqICBEIHwgNyB8ICAgICAgICAgIDggICAgICAgICAgIHwgOSB8XG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuXG4gKiAgV2hlbiBjaGFuZ2luZyB0aGlzIG9iamVjdHMgd2lkdGggYW5kL29yIGhlaWdodDpcbiAqICAgICBhcmVhcyAxIDMgNyBhbmQgOSB3aWxsIHJlbWFpbiB1bnNjYWxlZC5cbiAqICAgICBhcmVhcyAyIGFuZCA4IHdpbGwgYmUgc3RyZXRjaGVkIGhvcml6b250YWxseVxuICogICAgIGFyZWFzIDQgYW5kIDYgd2lsbCBiZSBzdHJldGNoZWQgdmVydGljYWxseVxuICogICAgIGFyZWEgNSB3aWxsIGJlIHN0cmV0Y2hlZCBib3RoIGhvcml6b250YWxseSBhbmQgdmVydGljYWxseVxuICogPC9wcmU+XG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLm1lc2guUGxhbmVcbiAqIEBtZW1iZXJvZiBQSVhJLm1lc2hcbiAqXG4gKi9cblxudmFyIE5pbmVTbGljZVBsYW5lID0gZnVuY3Rpb24gKF9QbGFuZSkge1xuICAgIF9pbmhlcml0cyhOaW5lU2xpY2VQbGFuZSwgX1BsYW5lKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgdG8gdXNlIG9uIHRoZSBOaW5lU2xpY2VQbGFuZS5cbiAgICAgKiBAcGFyYW0ge2ludH0gW2xlZnRXaWR0aD0xMF0gc2l6ZSBvZiB0aGUgbGVmdCB2ZXJ0aWNhbCBiYXIgKEEpXG4gICAgICogQHBhcmFtIHtpbnR9IFt0b3BIZWlnaHQ9MTBdIHNpemUgb2YgdGhlIHRvcCBob3Jpem9udGFsIGJhciAoQylcbiAgICAgKiBAcGFyYW0ge2ludH0gW3JpZ2h0V2lkdGg9MTBdIHNpemUgb2YgdGhlIHJpZ2h0IHZlcnRpY2FsIGJhciAoQilcbiAgICAgKiBAcGFyYW0ge2ludH0gW2JvdHRvbUhlaWdodD0xMF0gc2l6ZSBvZiB0aGUgYm90dG9tIGhvcml6b250YWwgYmFyIChEKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE5pbmVTbGljZVBsYW5lKHRleHR1cmUsIGxlZnRXaWR0aCwgdG9wSGVpZ2h0LCByaWdodFdpZHRoLCBib3R0b21IZWlnaHQpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5pbmVTbGljZVBsYW5lKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUGxhbmUuY2FsbCh0aGlzLCB0ZXh0dXJlLCA0LCA0KSk7XG5cbiAgICAgICAgX3RoaXMuX29yaWdXaWR0aCA9IHRleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgX3RoaXMuX29yaWdIZWlnaHQgPSB0ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIE5pbmVTbGljZVBsYW5lLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHZlcnRpY2VzIGFuZCBVVidzIG9mIHRoaXMgcGxhbmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5OaW5lU2xpY2VQbGFuZSNcbiAgICAgICAgICogQG92ZXJyaWRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fd2lkdGggPSBfdGhpcy5fb3JpZ1dpZHRoO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBOaW5lU2xpY2VQbGFuZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSB2ZXJ0aWNlcyBhbmQgVVYncyBvZiB0aGlzIHBsYW5lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuTmluZVNsaWNlUGxhbmUjXG4gICAgICAgICAqIEBvdmVycmlkZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2hlaWdodCA9IF90aGlzLl9vcmlnSGVpZ2h0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIGxlZnQgY29sdW1uIChhKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLk5pbmVTbGljZVBsYW5lI1xuICAgICAgICAgKiBAb3ZlcnJpZGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmxlZnRXaWR0aCA9IHR5cGVvZiBsZWZ0V2lkdGggIT09ICd1bmRlZmluZWQnID8gbGVmdFdpZHRoIDogREVGQVVMVF9CT1JERVJfU0laRTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSByaWdodCBjb2x1bW4gKGIpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuTmluZVNsaWNlUGxhbmUjXG4gICAgICAgICAqIEBvdmVycmlkZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmlnaHRXaWR0aCA9IHR5cGVvZiByaWdodFdpZHRoICE9PSAndW5kZWZpbmVkJyA/IHJpZ2h0V2lkdGggOiBERUZBVUxUX0JPUkRFUl9TSVpFO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSB0b3Agcm93IChjKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLk5pbmVTbGljZVBsYW5lI1xuICAgICAgICAgKiBAb3ZlcnJpZGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRvcEhlaWdodCA9IHR5cGVvZiB0b3BIZWlnaHQgIT09ICd1bmRlZmluZWQnID8gdG9wSGVpZ2h0IDogREVGQVVMVF9CT1JERVJfU0laRTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgYm90dG9tIHJvdyAoZClcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5OaW5lU2xpY2VQbGFuZSNcbiAgICAgICAgICogQG92ZXJyaWRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ib3R0b21IZWlnaHQgPSB0eXBlb2YgYm90dG9tSGVpZ2h0ICE9PSAndW5kZWZpbmVkJyA/IGJvdHRvbUhlaWdodCA6IERFRkFVTFRfQk9SREVSX1NJWkU7XG5cbiAgICAgICAgX3RoaXMucmVmcmVzaCh0cnVlKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGhvcml6b250YWwgdmVydGljZXMuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLnVwZGF0ZUhvcml6b250YWxWZXJ0aWNlcyA9IGZ1bmN0aW9uIHVwZGF0ZUhvcml6b250YWxWZXJ0aWNlcygpIHtcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlcztcblxuICAgICAgICB2ZXJ0aWNlc1s5XSA9IHZlcnRpY2VzWzExXSA9IHZlcnRpY2VzWzEzXSA9IHZlcnRpY2VzWzE1XSA9IHRoaXMuX3RvcEhlaWdodDtcbiAgICAgICAgdmVydGljZXNbMTddID0gdmVydGljZXNbMTldID0gdmVydGljZXNbMjFdID0gdmVydGljZXNbMjNdID0gdGhpcy5faGVpZ2h0IC0gdGhpcy5fYm90dG9tSGVpZ2h0O1xuICAgICAgICB2ZXJ0aWNlc1syNV0gPSB2ZXJ0aWNlc1syN10gPSB2ZXJ0aWNlc1syOV0gPSB2ZXJ0aWNlc1szMV0gPSB0aGlzLl9oZWlnaHQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHZlcnRpY2FsIHZlcnRpY2VzLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZS51cGRhdGVWZXJ0aWNhbFZlcnRpY2VzID0gZnVuY3Rpb24gdXBkYXRlVmVydGljYWxWZXJ0aWNlcygpIHtcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlcztcblxuICAgICAgICB2ZXJ0aWNlc1syXSA9IHZlcnRpY2VzWzEwXSA9IHZlcnRpY2VzWzE4XSA9IHZlcnRpY2VzWzI2XSA9IHRoaXMuX2xlZnRXaWR0aDtcbiAgICAgICAgdmVydGljZXNbNF0gPSB2ZXJ0aWNlc1sxMl0gPSB2ZXJ0aWNlc1syMF0gPSB2ZXJ0aWNlc1syOF0gPSB0aGlzLl93aWR0aCAtIHRoaXMuX3JpZ2h0V2lkdGg7XG4gICAgICAgIHZlcnRpY2VzWzZdID0gdmVydGljZXNbMTRdID0gdmVydGljZXNbMjJdID0gdmVydGljZXNbMzBdID0gdGhpcy5fd2lkdGg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgQ2FudmFzIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgY2FudmFzIHJlbmRlcmVyIHRvIHJlbmRlciB3aXRoLlxuICAgICAqL1xuXG5cbiAgICBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUuX3JlbmRlckNhbnZhcyA9IGZ1bmN0aW9uIF9yZW5kZXJDYW52YXMocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSByZW5kZXJlci5jb250ZXh0O1xuXG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG4gICAgICAgIHJlbmRlcmVyLnNldEJsZW5kTW9kZSh0aGlzLmJsZW5kTW9kZSk7XG5cbiAgICAgICAgdmFyIHRyYW5zZm9ybSA9IHRoaXMud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciByZXMgPSByZW5kZXJlci5yZXNvbHV0aW9uO1xuXG4gICAgICAgIGlmIChyZW5kZXJlci5yb3VuZFBpeGVscykge1xuICAgICAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0odHJhbnNmb3JtLmEgKiByZXMsIHRyYW5zZm9ybS5iICogcmVzLCB0cmFuc2Zvcm0uYyAqIHJlcywgdHJhbnNmb3JtLmQgKiByZXMsIHRyYW5zZm9ybS50eCAqIHJlcyB8IDAsIHRyYW5zZm9ybS50eSAqIHJlcyB8IDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0odHJhbnNmb3JtLmEgKiByZXMsIHRyYW5zZm9ybS5iICogcmVzLCB0cmFuc2Zvcm0uYyAqIHJlcywgdHJhbnNmb3JtLmQgKiByZXMsIHRyYW5zZm9ybS50eCAqIHJlcywgdHJhbnNmb3JtLnR5ICogcmVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBiYXNlID0gdGhpcy5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgdmFyIHRleHR1cmVTb3VyY2UgPSBiYXNlLnNvdXJjZTtcbiAgICAgICAgdmFyIHcgPSBiYXNlLndpZHRoICogYmFzZS5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgaCA9IGJhc2UuaGVpZ2h0ICogYmFzZS5yZXNvbHV0aW9uO1xuXG4gICAgICAgIHRoaXMuZHJhd1NlZ21lbnQoY29udGV4dCwgdGV4dHVyZVNvdXJjZSwgdywgaCwgMCwgMSwgMTAsIDExKTtcbiAgICAgICAgdGhpcy5kcmF3U2VnbWVudChjb250ZXh0LCB0ZXh0dXJlU291cmNlLCB3LCBoLCAyLCAzLCAxMiwgMTMpO1xuICAgICAgICB0aGlzLmRyYXdTZWdtZW50KGNvbnRleHQsIHRleHR1cmVTb3VyY2UsIHcsIGgsIDQsIDUsIDE0LCAxNSk7XG4gICAgICAgIHRoaXMuZHJhd1NlZ21lbnQoY29udGV4dCwgdGV4dHVyZVNvdXJjZSwgdywgaCwgOCwgOSwgMTgsIDE5KTtcbiAgICAgICAgdGhpcy5kcmF3U2VnbWVudChjb250ZXh0LCB0ZXh0dXJlU291cmNlLCB3LCBoLCAxMCwgMTEsIDIwLCAyMSk7XG4gICAgICAgIHRoaXMuZHJhd1NlZ21lbnQoY29udGV4dCwgdGV4dHVyZVNvdXJjZSwgdywgaCwgMTIsIDEzLCAyMiwgMjMpO1xuICAgICAgICB0aGlzLmRyYXdTZWdtZW50KGNvbnRleHQsIHRleHR1cmVTb3VyY2UsIHcsIGgsIDE2LCAxNywgMjYsIDI3KTtcbiAgICAgICAgdGhpcy5kcmF3U2VnbWVudChjb250ZXh0LCB0ZXh0dXJlU291cmNlLCB3LCBoLCAxOCwgMTksIDI4LCAyOSk7XG4gICAgICAgIHRoaXMuZHJhd1NlZ21lbnQoY29udGV4dCwgdGV4dHVyZVNvdXJjZSwgdywgaCwgMjAsIDIxLCAzMCwgMzEpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIG9uZSBzZWdtZW50IG9mIHRoZSBwbGFuZS5cbiAgICAgKiB0byBtaW1pYyB0aGUgZXhhY3QgZHJhd2luZyBiZWhhdmlvciBvZiBzdHJldGNoaW5nIHRoZSBpbWFnZSBsaWtlIFdlYkdMIGRvZXMsIHdlIG5lZWQgdG8gbWFrZSBzdXJlXG4gICAgICogdGhhdCB0aGUgc291cmNlIGFyZWEgaXMgYXQgbGVhc3QgMSBwaXhlbCBpbiBzaXplLCBvdGhlcndpc2Ugbm90aGluZyBnZXRzIGRyYXduIHdoZW4gYSBzbGljZSBzaXplIG9mIDAgaXMgdXNlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgLSBUaGUgY29udGV4dCB0byBkcmF3IHdpdGguXG4gICAgICogQHBhcmFtIHtDYW52YXNJbWFnZVNvdXJjZX0gdGV4dHVyZVNvdXJjZSAtIFRoZSBzb3VyY2UgdG8gZHJhdy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdyAtIHdpZHRoIG9mIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGggLSBoZWlnaHQgb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDEgLSB4IGluZGV4IDFcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTEgLSB5IGluZGV4IDFcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDIgLSB4IGluZGV4IDJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTIgLSB5IGluZGV4IDJcbiAgICAgKi9cblxuXG4gICAgTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLmRyYXdTZWdtZW50ID0gZnVuY3Rpb24gZHJhd1NlZ21lbnQoY29udGV4dCwgdGV4dHVyZVNvdXJjZSwgdywgaCwgeDEsIHkxLCB4MiwgeTIpIHtcbiAgICAgICAgLy8gb3RoZXJ3aXNlIHlvdSBnZXQgd2VpcmQgcmVzdWx0cyB3aGVuIHVzaW5nIHNsaWNlcyBvZiB0aGF0IGFyZSAwIHdpZGUgb3IgaGlnaC5cbiAgICAgICAgdmFyIHV2cyA9IHRoaXMudXZzO1xuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuXG4gICAgICAgIHZhciBzdyA9ICh1dnNbeDJdIC0gdXZzW3gxXSkgKiB3O1xuICAgICAgICB2YXIgc2ggPSAodXZzW3kyXSAtIHV2c1t5MV0pICogaDtcbiAgICAgICAgdmFyIGR3ID0gdmVydGljZXNbeDJdIC0gdmVydGljZXNbeDFdO1xuICAgICAgICB2YXIgZGggPSB2ZXJ0aWNlc1t5Ml0gLSB2ZXJ0aWNlc1t5MV07XG5cbiAgICAgICAgLy8gbWFrZSBzdXJlIHRoZSBzb3VyY2UgaXMgYXQgbGVhc3QgMSBwaXhlbCB3aWRlIGFuZCBoaWdoLCBvdGhlcndpc2Ugbm90aGluZyB3aWxsIGJlIGRyYXduLlxuICAgICAgICBpZiAoc3cgPCAxKSB7XG4gICAgICAgICAgICBzdyA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2ggPCAxKSB7XG4gICAgICAgICAgICBzaCA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtYWtlIHN1cmUgZGVzdGluYXRpb24gaXMgYXQgbGVhc3QgMSBwaXhlbCB3aWRlIGFuZCBoaWdoLCBvdGhlcndpc2UgeW91IGdldFxuICAgICAgICAvLyBsaW5lcyB3aGVuIHJlbmRlcmluZyBjbG9zZSB0byBvcmlnaW5hbCBzaXplLlxuICAgICAgICBpZiAoZHcgPCAxKSB7XG4gICAgICAgICAgICBkdyA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGggPCAxKSB7XG4gICAgICAgICAgICBkaCA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZSh0ZXh0dXJlU291cmNlLCB1dnNbeDFdICogdywgdXZzW3kxXSAqIGgsIHN3LCBzaCwgdmVydGljZXNbeDFdLCB2ZXJ0aWNlc1t5MV0sIGR3LCBkaCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG5cbiAgICAvKipcbiAgICAgKiBSZWZyZXNoZXMgTmluZVNsaWNlUGxhbmUgY29vcmRzLiBBbGwgb2YgdGhlbS5cbiAgICAgKi9cbiAgICBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUuX3JlZnJlc2ggPSBmdW5jdGlvbiBfcmVmcmVzaCgpIHtcbiAgICAgICAgX1BsYW5lLnByb3RvdHlwZS5fcmVmcmVzaC5jYWxsKHRoaXMpO1xuXG4gICAgICAgIHZhciB1dnMgPSB0aGlzLnV2cztcbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuXG4gICAgICAgIHRoaXMuX29yaWdXaWR0aCA9IHRleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgdGhpcy5fb3JpZ0hlaWdodCA9IHRleHR1cmUub3JpZy5oZWlnaHQ7XG5cbiAgICAgICAgdmFyIF91dncgPSAxLjAgLyB0aGlzLl9vcmlnV2lkdGg7XG4gICAgICAgIHZhciBfdXZoID0gMS4wIC8gdGhpcy5fb3JpZ0hlaWdodDtcblxuICAgICAgICB1dnNbMF0gPSB1dnNbOF0gPSB1dnNbMTZdID0gdXZzWzI0XSA9IDA7XG4gICAgICAgIHV2c1sxXSA9IHV2c1szXSA9IHV2c1s1XSA9IHV2c1s3XSA9IDA7XG4gICAgICAgIHV2c1s2XSA9IHV2c1sxNF0gPSB1dnNbMjJdID0gdXZzWzMwXSA9IDE7XG4gICAgICAgIHV2c1syNV0gPSB1dnNbMjddID0gdXZzWzI5XSA9IHV2c1szMV0gPSAxO1xuXG4gICAgICAgIHV2c1syXSA9IHV2c1sxMF0gPSB1dnNbMThdID0gdXZzWzI2XSA9IF91dncgKiB0aGlzLl9sZWZ0V2lkdGg7XG4gICAgICAgIHV2c1s0XSA9IHV2c1sxMl0gPSB1dnNbMjBdID0gdXZzWzI4XSA9IDEgLSBfdXZ3ICogdGhpcy5fcmlnaHRXaWR0aDtcbiAgICAgICAgdXZzWzldID0gdXZzWzExXSA9IHV2c1sxM10gPSB1dnNbMTVdID0gX3V2aCAqIHRoaXMuX3RvcEhlaWdodDtcbiAgICAgICAgdXZzWzE3XSA9IHV2c1sxOV0gPSB1dnNbMjFdID0gdXZzWzIzXSA9IDEgLSBfdXZoICogdGhpcy5fYm90dG9tSGVpZ2h0O1xuXG4gICAgICAgIHRoaXMudXBkYXRlSG9yaXpvbnRhbFZlcnRpY2VzKCk7XG4gICAgICAgIHRoaXMudXBkYXRlVmVydGljYWxWZXJ0aWNlcygpO1xuXG4gICAgICAgIHRoaXMuZGlydHkrKztcblxuICAgICAgICB0aGlzLm11bHRpcGx5VXZzKCk7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhOaW5lU2xpY2VQbGFuZSwgW3tcbiAgICAgICAga2V5OiAnd2lkdGgnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIE5pbmVTbGljZVBsYW5lLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHZlcnRpY2VzIGFuZCBVVidzIG9mIHRoaXMgcGxhbmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaGVpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgbGVmdCBjb2x1bW5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnbGVmdFdpZHRoJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGVmdFdpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2xlZnRXaWR0aCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgcmlnaHQgY29sdW1uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JpZ2h0V2lkdGgnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yaWdodFdpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3JpZ2h0V2lkdGggPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSB0b3Agcm93XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RvcEhlaWdodCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RvcEhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl90b3BIZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBib3R0b20gcm93XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2JvdHRvbUhlaWdodCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JvdHRvbUhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9ib3R0b21IZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBOaW5lU2xpY2VQbGFuZTtcbn0oX1BsYW5lMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gTmluZVNsaWNlUGxhbmU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1OaW5lU2xpY2VQbGFuZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfTWVzaCA9IHJlcXVpcmUoJy4uL01lc2gnKTtcblxudmFyIF9NZXNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01lc2gpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFJlbmRlcmVyIGRlZGljYXRlZCB0byBtZXNoZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE1lc2hTcHJpdGVSZW5kZXJlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgZG93bnBvcnQgd29ya3MgZm9yXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWVzaFNwcml0ZVJlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNZXNoU3ByaXRlUmVuZGVyZXIpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBNZXNoXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkubWVzaC5NZXNofSBtZXNoIC0gdGhlIE1lc2ggdG8gcmVuZGVyXG4gICAgICovXG5cblxuICAgIE1lc2hTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKG1lc2gpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIGNvbnRleHQgPSByZW5kZXJlci5jb250ZXh0O1xuXG4gICAgICAgIHZhciB0cmFuc2Zvcm0gPSBtZXNoLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgcmVzID0gcmVuZGVyZXIucmVzb2x1dGlvbjtcblxuICAgICAgICBpZiAocmVuZGVyZXIucm91bmRQaXhlbHMpIHtcbiAgICAgICAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKHRyYW5zZm9ybS5hICogcmVzLCB0cmFuc2Zvcm0uYiAqIHJlcywgdHJhbnNmb3JtLmMgKiByZXMsIHRyYW5zZm9ybS5kICogcmVzLCB0cmFuc2Zvcm0udHggKiByZXMgfCAwLCB0cmFuc2Zvcm0udHkgKiByZXMgfCAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKHRyYW5zZm9ybS5hICogcmVzLCB0cmFuc2Zvcm0uYiAqIHJlcywgdHJhbnNmb3JtLmMgKiByZXMsIHRyYW5zZm9ybS5kICogcmVzLCB0cmFuc2Zvcm0udHggKiByZXMsIHRyYW5zZm9ybS50eSAqIHJlcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlci5jb250ZXh0Lmdsb2JhbEFscGhhID0gbWVzaC53b3JsZEFscGhhO1xuICAgICAgICByZW5kZXJlci5zZXRCbGVuZE1vZGUobWVzaC5ibGVuZE1vZGUpO1xuXG4gICAgICAgIGlmIChtZXNoLmRyYXdNb2RlID09PSBfTWVzaDIuZGVmYXVsdC5EUkFXX01PREVTLlRSSUFOR0xFX01FU0gpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclRyaWFuZ2xlTWVzaChtZXNoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclRyaWFuZ2xlcyhtZXNoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyB0aGUgb2JqZWN0IGluIFRyaWFuZ2xlIE1lc2ggbW9kZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkubWVzaC5NZXNofSBtZXNoIC0gdGhlIE1lc2ggdG8gcmVuZGVyXG4gICAgICovXG5cblxuICAgIE1lc2hTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUuX3JlbmRlclRyaWFuZ2xlTWVzaCA9IGZ1bmN0aW9uIF9yZW5kZXJUcmlhbmdsZU1lc2gobWVzaCkge1xuICAgICAgICAvLyBkcmF3IHRyaWFuZ2xlcyEhXG4gICAgICAgIHZhciBsZW5ndGggPSBtZXNoLnZlcnRpY2VzLmxlbmd0aCAvIDI7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGggLSAyOyBpKyspIHtcbiAgICAgICAgICAgIC8vIGRyYXcgc29tZSB0cmlhbmdsZXMhXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBpICogMjtcblxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyRHJhd1RyaWFuZ2xlKG1lc2gsIGluZGV4LCBpbmRleCArIDIsIGluZGV4ICsgNCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgdGhlIG9iamVjdCBpbiB0cmlhbmdsZSBtb2RlIHVzaW5nIGNhbnZhc1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkubWVzaC5NZXNofSBtZXNoIC0gdGhlIGN1cnJlbnQgbWVzaFxuICAgICAqL1xuXG5cbiAgICBNZXNoU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLl9yZW5kZXJUcmlhbmdsZXMgPSBmdW5jdGlvbiBfcmVuZGVyVHJpYW5nbGVzKG1lc2gpIHtcbiAgICAgICAgLy8gZHJhdyB0cmlhbmdsZXMhIVxuICAgICAgICB2YXIgaW5kaWNlcyA9IG1lc2guaW5kaWNlcztcbiAgICAgICAgdmFyIGxlbmd0aCA9IGluZGljZXMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgICAgICAgIC8vIGRyYXcgc29tZSB0cmlhbmdsZXMhXG4gICAgICAgICAgICB2YXIgaW5kZXgwID0gaW5kaWNlc1tpXSAqIDI7XG4gICAgICAgICAgICB2YXIgaW5kZXgxID0gaW5kaWNlc1tpICsgMV0gKiAyO1xuICAgICAgICAgICAgdmFyIGluZGV4MiA9IGluZGljZXNbaSArIDJdICogMjtcblxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyRHJhd1RyaWFuZ2xlKG1lc2gsIGluZGV4MCwgaW5kZXgxLCBpbmRleDIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIG9uZSBvZiB0aGUgdHJpYW5nbGVzIHRoYXQgZnJvbSB0aGUgTWVzaFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkubWVzaC5NZXNofSBtZXNoIC0gdGhlIGN1cnJlbnQgbWVzaFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleDAgLSB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IHZlcnRleFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleDEgLSB0aGUgaW5kZXggb2YgdGhlIHNlY29uZCB2ZXJ0ZXhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXgyIC0gdGhlIGluZGV4IG9mIHRoZSB0aGlyZCB2ZXJ0ZXhcbiAgICAgKi9cblxuXG4gICAgTWVzaFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5fcmVuZGVyRHJhd1RyaWFuZ2xlID0gZnVuY3Rpb24gX3JlbmRlckRyYXdUcmlhbmdsZShtZXNoLCBpbmRleDAsIGluZGV4MSwgaW5kZXgyKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5yZW5kZXJlci5jb250ZXh0O1xuICAgICAgICB2YXIgdXZzID0gbWVzaC51dnM7XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IG1lc2gudmVydGljZXM7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gbWVzaC5fdGV4dHVyZTtcblxuICAgICAgICBpZiAoIXRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBiYXNlID0gdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgdmFyIHRleHR1cmVTb3VyY2UgPSBiYXNlLnNvdXJjZTtcbiAgICAgICAgdmFyIHRleHR1cmVXaWR0aCA9IGJhc2Uud2lkdGg7XG4gICAgICAgIHZhciB0ZXh0dXJlSGVpZ2h0ID0gYmFzZS5oZWlnaHQ7XG5cbiAgICAgICAgdmFyIHUwID0gdm9pZCAwO1xuICAgICAgICB2YXIgdTEgPSB2b2lkIDA7XG4gICAgICAgIHZhciB1MiA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHYwID0gdm9pZCAwO1xuICAgICAgICB2YXIgdjEgPSB2b2lkIDA7XG4gICAgICAgIHZhciB2MiA9IHZvaWQgMDtcblxuICAgICAgICBpZiAobWVzaC51cGxvYWRVdlRyYW5zZm9ybSkge1xuICAgICAgICAgICAgdmFyIHV0ID0gbWVzaC5fdXZUcmFuc2Zvcm0ubWFwQ29vcmQ7XG5cbiAgICAgICAgICAgIHUwID0gKHV2c1tpbmRleDBdICogdXQuYSArIHV2c1tpbmRleDAgKyAxXSAqIHV0LmMgKyB1dC50eCkgKiBiYXNlLndpZHRoO1xuICAgICAgICAgICAgdTEgPSAodXZzW2luZGV4MV0gKiB1dC5hICsgdXZzW2luZGV4MSArIDFdICogdXQuYyArIHV0LnR4KSAqIGJhc2Uud2lkdGg7XG4gICAgICAgICAgICB1MiA9ICh1dnNbaW5kZXgyXSAqIHV0LmEgKyB1dnNbaW5kZXgyICsgMV0gKiB1dC5jICsgdXQudHgpICogYmFzZS53aWR0aDtcbiAgICAgICAgICAgIHYwID0gKHV2c1tpbmRleDBdICogdXQuYiArIHV2c1tpbmRleDAgKyAxXSAqIHV0LmQgKyB1dC50eSkgKiBiYXNlLmhlaWdodDtcbiAgICAgICAgICAgIHYxID0gKHV2c1tpbmRleDFdICogdXQuYiArIHV2c1tpbmRleDEgKyAxXSAqIHV0LmQgKyB1dC50eSkgKiBiYXNlLmhlaWdodDtcbiAgICAgICAgICAgIHYyID0gKHV2c1tpbmRleDJdICogdXQuYiArIHV2c1tpbmRleDIgKyAxXSAqIHV0LmQgKyB1dC50eSkgKiBiYXNlLmhlaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHUwID0gdXZzW2luZGV4MF0gKiBiYXNlLndpZHRoO1xuICAgICAgICAgICAgdTEgPSB1dnNbaW5kZXgxXSAqIGJhc2Uud2lkdGg7XG4gICAgICAgICAgICB1MiA9IHV2c1tpbmRleDJdICogYmFzZS53aWR0aDtcbiAgICAgICAgICAgIHYwID0gdXZzW2luZGV4MCArIDFdICogYmFzZS5oZWlnaHQ7XG4gICAgICAgICAgICB2MSA9IHV2c1tpbmRleDEgKyAxXSAqIGJhc2UuaGVpZ2h0O1xuICAgICAgICAgICAgdjIgPSB1dnNbaW5kZXgyICsgMV0gKiBiYXNlLmhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB4MCA9IHZlcnRpY2VzW2luZGV4MF07XG4gICAgICAgIHZhciB4MSA9IHZlcnRpY2VzW2luZGV4MV07XG4gICAgICAgIHZhciB4MiA9IHZlcnRpY2VzW2luZGV4Ml07XG4gICAgICAgIHZhciB5MCA9IHZlcnRpY2VzW2luZGV4MCArIDFdO1xuICAgICAgICB2YXIgeTEgPSB2ZXJ0aWNlc1tpbmRleDEgKyAxXTtcbiAgICAgICAgdmFyIHkyID0gdmVydGljZXNbaW5kZXgyICsgMV07XG5cbiAgICAgICAgdmFyIGNhbnZhc1BhZGRpbmcgPSBtZXNoLmNhbnZhc1BhZGRpbmcgLyB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb247XG5cbiAgICAgICAgaWYgKGNhbnZhc1BhZGRpbmcgPiAwKSB7XG4gICAgICAgICAgICB2YXIgcGFkZGluZ1ggPSBjYW52YXNQYWRkaW5nIC8gTWF0aC5hYnMobWVzaC53b3JsZFRyYW5zZm9ybS5hKTtcbiAgICAgICAgICAgIHZhciBwYWRkaW5nWSA9IGNhbnZhc1BhZGRpbmcgLyBNYXRoLmFicyhtZXNoLndvcmxkVHJhbnNmb3JtLmQpO1xuICAgICAgICAgICAgdmFyIGNlbnRlclggPSAoeDAgKyB4MSArIHgyKSAvIDM7XG4gICAgICAgICAgICB2YXIgY2VudGVyWSA9ICh5MCArIHkxICsgeTIpIC8gMztcblxuICAgICAgICAgICAgdmFyIG5vcm1YID0geDAgLSBjZW50ZXJYO1xuICAgICAgICAgICAgdmFyIG5vcm1ZID0geTAgLSBjZW50ZXJZO1xuXG4gICAgICAgICAgICB2YXIgZGlzdCA9IE1hdGguc3FydChub3JtWCAqIG5vcm1YICsgbm9ybVkgKiBub3JtWSk7XG5cbiAgICAgICAgICAgIHgwID0gY2VudGVyWCArIG5vcm1YIC8gZGlzdCAqIChkaXN0ICsgcGFkZGluZ1gpO1xuICAgICAgICAgICAgeTAgPSBjZW50ZXJZICsgbm9ybVkgLyBkaXN0ICogKGRpc3QgKyBwYWRkaW5nWSk7XG5cbiAgICAgICAgICAgIC8vXG5cbiAgICAgICAgICAgIG5vcm1YID0geDEgLSBjZW50ZXJYO1xuICAgICAgICAgICAgbm9ybVkgPSB5MSAtIGNlbnRlclk7XG5cbiAgICAgICAgICAgIGRpc3QgPSBNYXRoLnNxcnQobm9ybVggKiBub3JtWCArIG5vcm1ZICogbm9ybVkpO1xuICAgICAgICAgICAgeDEgPSBjZW50ZXJYICsgbm9ybVggLyBkaXN0ICogKGRpc3QgKyBwYWRkaW5nWCk7XG4gICAgICAgICAgICB5MSA9IGNlbnRlclkgKyBub3JtWSAvIGRpc3QgKiAoZGlzdCArIHBhZGRpbmdZKTtcblxuICAgICAgICAgICAgbm9ybVggPSB4MiAtIGNlbnRlclg7XG4gICAgICAgICAgICBub3JtWSA9IHkyIC0gY2VudGVyWTtcblxuICAgICAgICAgICAgZGlzdCA9IE1hdGguc3FydChub3JtWCAqIG5vcm1YICsgbm9ybVkgKiBub3JtWSk7XG4gICAgICAgICAgICB4MiA9IGNlbnRlclggKyBub3JtWCAvIGRpc3QgKiAoZGlzdCArIHBhZGRpbmdYKTtcbiAgICAgICAgICAgIHkyID0gY2VudGVyWSArIG5vcm1ZIC8gZGlzdCAqIChkaXN0ICsgcGFkZGluZ1kpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgY29udGV4dC5tb3ZlVG8oeDAsIHkwKTtcbiAgICAgICAgY29udGV4dC5saW5lVG8oeDEsIHkxKTtcbiAgICAgICAgY29udGV4dC5saW5lVG8oeDIsIHkyKTtcblxuICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuXG4gICAgICAgIGNvbnRleHQuY2xpcCgpO1xuXG4gICAgICAgIC8vIENvbXB1dGUgbWF0cml4IHRyYW5zZm9ybVxuICAgICAgICB2YXIgZGVsdGEgPSB1MCAqIHYxICsgdjAgKiB1MiArIHUxICogdjIgLSB2MSAqIHUyIC0gdjAgKiB1MSAtIHUwICogdjI7XG4gICAgICAgIHZhciBkZWx0YUEgPSB4MCAqIHYxICsgdjAgKiB4MiArIHgxICogdjIgLSB2MSAqIHgyIC0gdjAgKiB4MSAtIHgwICogdjI7XG4gICAgICAgIHZhciBkZWx0YUIgPSB1MCAqIHgxICsgeDAgKiB1MiArIHUxICogeDIgLSB4MSAqIHUyIC0geDAgKiB1MSAtIHUwICogeDI7XG4gICAgICAgIHZhciBkZWx0YUMgPSB1MCAqIHYxICogeDIgKyB2MCAqIHgxICogdTIgKyB4MCAqIHUxICogdjIgLSB4MCAqIHYxICogdTIgLSB2MCAqIHUxICogeDIgLSB1MCAqIHgxICogdjI7XG4gICAgICAgIHZhciBkZWx0YUQgPSB5MCAqIHYxICsgdjAgKiB5MiArIHkxICogdjIgLSB2MSAqIHkyIC0gdjAgKiB5MSAtIHkwICogdjI7XG4gICAgICAgIHZhciBkZWx0YUUgPSB1MCAqIHkxICsgeTAgKiB1MiArIHUxICogeTIgLSB5MSAqIHUyIC0geTAgKiB1MSAtIHUwICogeTI7XG4gICAgICAgIHZhciBkZWx0YUYgPSB1MCAqIHYxICogeTIgKyB2MCAqIHkxICogdTIgKyB5MCAqIHUxICogdjIgLSB5MCAqIHYxICogdTIgLSB2MCAqIHUxICogeTIgLSB1MCAqIHkxICogdjI7XG5cbiAgICAgICAgY29udGV4dC50cmFuc2Zvcm0oZGVsdGFBIC8gZGVsdGEsIGRlbHRhRCAvIGRlbHRhLCBkZWx0YUIgLyBkZWx0YSwgZGVsdGFFIC8gZGVsdGEsIGRlbHRhQyAvIGRlbHRhLCBkZWx0YUYgLyBkZWx0YSk7XG5cbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGV4dHVyZVNvdXJjZSwgMCwgMCwgdGV4dHVyZVdpZHRoICogYmFzZS5yZXNvbHV0aW9uLCB0ZXh0dXJlSGVpZ2h0ICogYmFzZS5yZXNvbHV0aW9uLCAwLCAwLCB0ZXh0dXJlV2lkdGgsIHRleHR1cmVIZWlnaHQpO1xuXG4gICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmludmFsaWRhdGVCbGVuZE1vZGUoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBhIGZsYXQgTWVzaFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkubWVzaC5NZXNofSBtZXNoIC0gVGhlIE1lc2ggdG8gcmVuZGVyXG4gICAgICovXG5cblxuICAgIE1lc2hTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyTWVzaEZsYXQgPSBmdW5jdGlvbiByZW5kZXJNZXNoRmxhdChtZXNoKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5yZW5kZXJlci5jb250ZXh0O1xuICAgICAgICB2YXIgdmVydGljZXMgPSBtZXNoLnZlcnRpY2VzO1xuICAgICAgICB2YXIgbGVuZ3RoID0gdmVydGljZXMubGVuZ3RoIC8gMjtcblxuICAgICAgICAvLyB0aGlzLmNvdW50Kys7XG5cbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbmd0aCAtIDI7ICsraSkge1xuICAgICAgICAgICAgLy8gZHJhdyBzb21lIHRyaWFuZ2xlcyFcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGkgKiAyO1xuXG4gICAgICAgICAgICB2YXIgeDAgPSB2ZXJ0aWNlc1tpbmRleF07XG4gICAgICAgICAgICB2YXIgeTAgPSB2ZXJ0aWNlc1tpbmRleCArIDFdO1xuXG4gICAgICAgICAgICB2YXIgeDEgPSB2ZXJ0aWNlc1tpbmRleCArIDJdO1xuICAgICAgICAgICAgdmFyIHkxID0gdmVydGljZXNbaW5kZXggKyAzXTtcblxuICAgICAgICAgICAgdmFyIHgyID0gdmVydGljZXNbaW5kZXggKyA0XTtcbiAgICAgICAgICAgIHZhciB5MiA9IHZlcnRpY2VzW2luZGV4ICsgNV07XG5cbiAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHgwLCB5MCk7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh4MSwgeTEpO1xuICAgICAgICAgICAgY29udGV4dC5saW5lVG8oeDIsIHkyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyNGRjAwMDAnO1xuICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogZGVzdHJveSB0aGUgdGhlIHJlbmRlcmVyLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIE1lc2hTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gTWVzaFNwcml0ZVJlbmRlcmVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBNZXNoU3ByaXRlUmVuZGVyZXI7XG5cblxuY29yZS5DYW52YXNSZW5kZXJlci5yZWdpc3RlclBsdWdpbignbWVzaCcsIE1lc2hTcHJpdGVSZW5kZXJlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYW52YXNNZXNoUmVuZGVyZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX3BpeGlHbENvcmUgPSByZXF1aXJlKCdwaXhpLWdsLWNvcmUnKTtcblxudmFyIF9waXhpR2xDb3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BpeGlHbENvcmUpO1xuXG52YXIgX01lc2ggPSByZXF1aXJlKCcuLi9NZXNoJyk7XG5cbnZhciBfTWVzaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NZXNoKTtcblxudmFyIF9wYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBtYXRyaXhJZGVudGl0eSA9IGNvcmUuTWF0cml4LklERU5USVRZO1xuXG4vKipcbiAqIFdlYkdMIHJlbmRlcmVyIHBsdWdpbiBmb3IgdGlsaW5nIHNwcml0ZXNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLk9iamVjdFJlbmRlcmVyXG4gKi9cblxudmFyIE1lc2hSZW5kZXJlciA9IGZ1bmN0aW9uIChfY29yZSRPYmplY3RSZW5kZXJlcikge1xuICAgIF9pbmhlcml0cyhNZXNoUmVuZGVyZXIsIF9jb3JlJE9iamVjdFJlbmRlcmVyKTtcblxuICAgIC8qKlxuICAgICAqIGNvbnN0cnVjdG9yIGZvciByZW5kZXJlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmVyfSByZW5kZXJlciBUaGUgcmVuZGVyZXIgdGhpcyB0aWxpbmcgYXdlc29tZW5lc3Mgd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1lc2hSZW5kZXJlcihyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWVzaFJlbmRlcmVyKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfY29yZSRPYmplY3RSZW5kZXJlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSk7XG5cbiAgICAgICAgX3RoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgTWVzaFJlbmRlcmVyLnByb3RvdHlwZS5vbkNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiBvbkNvbnRleHRDaGFuZ2UoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgdGhpcy5zaGFkZXIgPSBuZXcgY29yZS5TaGFkZXIoZ2wsICdhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdHJhbnNsYXRpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHVUcmFuc2Zvcm07XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICB2VGV4dHVyZUNvb3JkID0gKHVUcmFuc2Zvcm0gKiB2ZWMzKGFUZXh0dXJlQ29vcmQsIDEuMCkpLnh5O1xcbn1cXG4nLCAndmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudW5pZm9ybSB2ZWM0IHVDb2xvcjtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCkgKiB1Q29sb3I7XFxufVxcbicpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiByZW5kZXJzIG1lc2hcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5tZXNoLk1lc2h9IG1lc2ggbWVzaCBpbnN0YW5jZVxuICAgICAqL1xuXG5cbiAgICBNZXNoUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcihtZXNoKSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgdGV4dHVyZSA9IG1lc2guX3RleHR1cmU7XG5cbiAgICAgICAgaWYgKCF0ZXh0dXJlLnZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZ2xEYXRhID0gbWVzaC5fZ2xEYXRhc1tyZW5kZXJlci5DT05URVhUX1VJRF07XG5cbiAgICAgICAgaWYgKCFnbERhdGEpIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLmJpbmRWYW8obnVsbCk7XG5cbiAgICAgICAgICAgIGdsRGF0YSA9IHtcbiAgICAgICAgICAgICAgICBzaGFkZXI6IHRoaXMuc2hhZGVyLFxuICAgICAgICAgICAgICAgIHZlcnRleEJ1ZmZlcjogX3BpeGlHbENvcmUyLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlVmVydGV4QnVmZmVyKGdsLCBtZXNoLnZlcnRpY2VzLCBnbC5TVFJFQU1fRFJBVyksXG4gICAgICAgICAgICAgICAgdXZCdWZmZXI6IF9waXhpR2xDb3JlMi5kZWZhdWx0LkdMQnVmZmVyLmNyZWF0ZVZlcnRleEJ1ZmZlcihnbCwgbWVzaC51dnMsIGdsLlNUUkVBTV9EUkFXKSxcbiAgICAgICAgICAgICAgICBpbmRleEJ1ZmZlcjogX3BpeGlHbENvcmUyLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlSW5kZXhCdWZmZXIoZ2wsIG1lc2guaW5kaWNlcywgZ2wuU1RBVElDX0RSQVcpLFxuICAgICAgICAgICAgICAgIC8vIGJ1aWxkIHRoZSB2YW8gb2JqZWN0IHRoYXQgd2lsbCByZW5kZXIuLlxuICAgICAgICAgICAgICAgIHZhbzogbnVsbCxcbiAgICAgICAgICAgICAgICBkaXJ0eTogbWVzaC5kaXJ0eSxcbiAgICAgICAgICAgICAgICBpbmRleERpcnR5OiBtZXNoLmluZGV4RGlydHlcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIGJ1aWxkIHRoZSB2YW8gb2JqZWN0IHRoYXQgd2lsbCByZW5kZXIuLlxuICAgICAgICAgICAgZ2xEYXRhLnZhbyA9IG5ldyBfcGl4aUdsQ29yZTIuZGVmYXVsdC5WZXJ0ZXhBcnJheU9iamVjdChnbCkuYWRkSW5kZXgoZ2xEYXRhLmluZGV4QnVmZmVyKS5hZGRBdHRyaWJ1dGUoZ2xEYXRhLnZlcnRleEJ1ZmZlciwgZ2xEYXRhLnNoYWRlci5hdHRyaWJ1dGVzLmFWZXJ0ZXhQb3NpdGlvbiwgZ2wuRkxPQVQsIGZhbHNlLCAyICogNCwgMCkuYWRkQXR0cmlidXRlKGdsRGF0YS51dkJ1ZmZlciwgZ2xEYXRhLnNoYWRlci5hdHRyaWJ1dGVzLmFUZXh0dXJlQ29vcmQsIGdsLkZMT0FULCBmYWxzZSwgMiAqIDQsIDApO1xuXG4gICAgICAgICAgICBtZXNoLl9nbERhdGFzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXSA9IGdsRGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLmJpbmRWYW8oZ2xEYXRhLnZhbyk7XG5cbiAgICAgICAgaWYgKG1lc2guZGlydHkgIT09IGdsRGF0YS5kaXJ0eSkge1xuICAgICAgICAgICAgZ2xEYXRhLmRpcnR5ID0gbWVzaC5kaXJ0eTtcbiAgICAgICAgICAgIGdsRGF0YS51dkJ1ZmZlci51cGxvYWQobWVzaC51dnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1lc2guaW5kZXhEaXJ0eSAhPT0gZ2xEYXRhLmluZGV4RGlydHkpIHtcbiAgICAgICAgICAgIGdsRGF0YS5pbmRleERpcnR5ID0gbWVzaC5pbmRleERpcnR5O1xuICAgICAgICAgICAgZ2xEYXRhLmluZGV4QnVmZmVyLnVwbG9hZChtZXNoLmluZGljZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2xEYXRhLnZlcnRleEJ1ZmZlci51cGxvYWQobWVzaC52ZXJ0aWNlcyk7XG5cbiAgICAgICAgcmVuZGVyZXIuYmluZFNoYWRlcihnbERhdGEuc2hhZGVyKTtcblxuICAgICAgICBnbERhdGEuc2hhZGVyLnVuaWZvcm1zLnVTYW1wbGVyID0gcmVuZGVyZXIuYmluZFRleHR1cmUodGV4dHVyZSk7XG5cbiAgICAgICAgcmVuZGVyZXIuc3RhdGUuc2V0QmxlbmRNb2RlKGNvcmUudXRpbHMuY29ycmVjdEJsZW5kTW9kZShtZXNoLmJsZW5kTW9kZSwgdGV4dHVyZS5iYXNlVGV4dHVyZS5wcmVtdWx0aXBsaWVkQWxwaGEpKTtcblxuICAgICAgICBpZiAoZ2xEYXRhLnNoYWRlci51bmlmb3Jtcy51VHJhbnNmb3JtKSB7XG4gICAgICAgICAgICBpZiAobWVzaC51cGxvYWRVdlRyYW5zZm9ybSkge1xuICAgICAgICAgICAgICAgIGdsRGF0YS5zaGFkZXIudW5pZm9ybXMudVRyYW5zZm9ybSA9IG1lc2guX3V2VHJhbnNmb3JtLm1hcENvb3JkLnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGdsRGF0YS5zaGFkZXIudW5pZm9ybXMudVRyYW5zZm9ybSA9IG1hdHJpeElkZW50aXR5LnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZ2xEYXRhLnNoYWRlci51bmlmb3Jtcy50cmFuc2xhdGlvbk1hdHJpeCA9IG1lc2gud29ybGRUcmFuc2Zvcm0udG9BcnJheSh0cnVlKTtcblxuICAgICAgICBnbERhdGEuc2hhZGVyLnVuaWZvcm1zLnVDb2xvciA9IGNvcmUudXRpbHMucHJlbXVsdGlwbHlSZ2JhKG1lc2gudGludFJnYiwgbWVzaC53b3JsZEFscGhhLCBnbERhdGEuc2hhZGVyLnVuaWZvcm1zLnVDb2xvciwgdGV4dHVyZS5iYXNlVGV4dHVyZS5wcmVtdWx0aXBsaWVkQWxwaGEpO1xuXG4gICAgICAgIHZhciBkcmF3TW9kZSA9IG1lc2guZHJhd01vZGUgPT09IF9NZXNoMi5kZWZhdWx0LkRSQVdfTU9ERVMuVFJJQU5HTEVfTUVTSCA/IGdsLlRSSUFOR0xFX1NUUklQIDogZ2wuVFJJQU5HTEVTO1xuXG4gICAgICAgIGdsRGF0YS52YW8uZHJhdyhkcmF3TW9kZSwgbWVzaC5pbmRpY2VzLmxlbmd0aCwgMCk7XG4gICAgfTtcblxuICAgIHJldHVybiBNZXNoUmVuZGVyZXI7XG59KGNvcmUuT2JqZWN0UmVuZGVyZXIpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBNZXNoUmVuZGVyZXI7XG5cblxuY29yZS5XZWJHTFJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdtZXNoJywgTWVzaFJlbmRlcmVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1lc2hSZW5kZXJlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfTWVzaCA9IHJlcXVpcmUoJy4vTWVzaCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ01lc2gnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NZXNoKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9NZXNoUmVuZGVyZXIgPSByZXF1aXJlKCcuL3dlYmdsL01lc2hSZW5kZXJlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ01lc2hSZW5kZXJlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01lc2hSZW5kZXJlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQ2FudmFzTWVzaFJlbmRlcmVyID0gcmVxdWlyZSgnLi9jYW52YXMvQ2FudmFzTWVzaFJlbmRlcmVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQ2FudmFzTWVzaFJlbmRlcmVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzTWVzaFJlbmRlcmVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9QbGFuZSA9IHJlcXVpcmUoJy4vUGxhbmUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdQbGFuZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BsYW5lKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9OaW5lU2xpY2VQbGFuZSA9IHJlcXVpcmUoJy4vTmluZVNsaWNlUGxhbmUnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdOaW5lU2xpY2VQbGFuZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX05pbmVTbGljZVBsYW5lKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9Sb3BlID0gcmVxdWlyZSgnLi9Sb3BlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnUm9wZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JvcGUpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbmV4cG9ydHMuYmxvYk1pZGRsZXdhcmVGYWN0b3J5ID0gYmxvYk1pZGRsZXdhcmVGYWN0b3J5O1xuXG52YXIgX1Jlc291cmNlID0gcmVxdWlyZSgnLi4vLi4vUmVzb3VyY2UnKTtcblxudmFyIF9SZXNvdXJjZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZXNvdXJjZSk7XG5cbnZhciBfYiA9IHJlcXVpcmUoJy4uLy4uL2I2NCcpO1xuXG52YXIgX2IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBVcmwgPSB3aW5kb3cuVVJMIHx8IHdpbmRvdy53ZWJraXRVUkw7XG5cbi8vIGEgbWlkZGxld2FyZSBmb3IgdHJhbnNmb3JtaW5nIFhIUiBsb2FkZWQgQmxvYnMgaW50byBtb3JlIHVzZWZ1bCBvYmplY3RzXG5mdW5jdGlvbiBibG9iTWlkZGxld2FyZUZhY3RvcnkoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGJsb2JNaWRkbGV3YXJlKHJlc291cmNlLCBuZXh0KSB7XG4gICAgICAgIGlmICghcmVzb3VyY2UuZGF0YSkge1xuICAgICAgICAgICAgbmV4dCgpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGlzIHdhcyBhbiBYSFIgbG9hZCBvZiBhIGJsb2JcbiAgICAgICAgaWYgKHJlc291cmNlLnhociAmJiByZXNvdXJjZS54aHJUeXBlID09PSBfUmVzb3VyY2UyLmRlZmF1bHQuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQikge1xuICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gYmxvYiBzdXBwb3J0IHdlIHByb2JhYmx5IGdvdCBhIGJpbmFyeSBzdHJpbmcgYmFja1xuICAgICAgICAgICAgaWYgKCF3aW5kb3cuQmxvYiB8fCB0eXBlb2YgcmVzb3VyY2UuZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IHJlc291cmNlLnhoci5nZXRSZXNwb25zZUhlYWRlcignY29udGVudC10eXBlJyk7XG5cbiAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIGFuIGltYWdlLCBjb252ZXJ0IHRoZSBiaW5hcnkgc3RyaW5nIGludG8gYSBkYXRhIHVybFxuICAgICAgICAgICAgICAgIGlmICh0eXBlICYmIHR5cGUuaW5kZXhPZignaW1hZ2UnKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5kYXRhID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEuc3JjID0gJ2RhdGE6JyArIHR5cGUgKyAnO2Jhc2U2NCwnICsgX2IyLmRlZmF1bHQuZW5jb2RlQmluYXJ5KHJlc291cmNlLnhoci5yZXNwb25zZVRleHQpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlLnR5cGUgPSBfUmVzb3VyY2UyLmRlZmF1bHQuVFlQRS5JTUFHRTtcblxuICAgICAgICAgICAgICAgICAgICAvLyB3YWl0IHVudGlsIHRoZSBpbWFnZSBsb2FkcyBhbmQgdGhlbiBjYWxsYmFja1xuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5kYXRhLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEub25sb2FkID0gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIG5leHQgd2lsbCBiZSBjYWxsZWQgb24gbG9hZFxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgY29udGVudCB0eXBlIHNheXMgdGhpcyBpcyBhbiBpbWFnZSwgdGhlbiB3ZSBzaG91bGQgdHJhbnNmb3JtIHRoZSBibG9iIGludG8gYW4gSW1hZ2Ugb2JqZWN0XG4gICAgICAgICAgICBlbHNlIGlmIChyZXNvdXJjZS5kYXRhLnR5cGUuaW5kZXhPZignaW1hZ2UnKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3JldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcmMgPSBVcmwuY3JlYXRlT2JqZWN0VVJMKHJlc291cmNlLmRhdGEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5ibG9iID0gcmVzb3VyY2UuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEuc3JjID0gc3JjO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS50eXBlID0gX1Jlc291cmNlMi5kZWZhdWx0LlRZUEUuSU1BR0U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNsZWFudXAgdGhlIG5vIGxvbmdlciB1c2VkIGJsb2IgYWZ0ZXIgdGhlIGltYWdlIGxvYWRzXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBJcyB0aGlzIGNvcnJlY3Q/IFdpbGwgdGhlIGltYWdlIGJlIGludmFsaWQgYWZ0ZXIgcmV2b2tpbmc/XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5kYXRhLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBVcmwucmV2b2tlT2JqZWN0VVJMKHNyYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuZGF0YS5vbmxvYWQgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbmV4dCB3aWxsIGJlIGNhbGxlZCBvbiBsb2FkLlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2OiB2b2lkIDBcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0oKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoKHR5cGVvZiBfcmV0ID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihfcmV0KSkgPT09IFwib2JqZWN0XCIpIHJldHVybiBfcmV0LnY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbmV4dCgpO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ibG9iLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9yZXNvdXJjZUxvYWRlciA9IHJlcXVpcmUoJ3Jlc291cmNlLWxvYWRlcicpO1xuXG52YXIgX3Jlc291cmNlTG9hZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Jlc291cmNlTG9hZGVyKTtcblxudmFyIF9ibG9iID0gcmVxdWlyZSgncmVzb3VyY2UtbG9hZGVyL2xpYi9taWRkbGV3YXJlcy9wYXJzaW5nL2Jsb2InKTtcblxudmFyIF9ldmVudGVtaXR0ZXIgPSByZXF1aXJlKCdldmVudGVtaXR0ZXIzJyk7XG5cbnZhciBfZXZlbnRlbWl0dGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V2ZW50ZW1pdHRlcik7XG5cbnZhciBfdGV4dHVyZVBhcnNlciA9IHJlcXVpcmUoJy4vdGV4dHVyZVBhcnNlcicpO1xuXG52YXIgX3RleHR1cmVQYXJzZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGV4dHVyZVBhcnNlcik7XG5cbnZhciBfc3ByaXRlc2hlZXRQYXJzZXIgPSByZXF1aXJlKCcuL3Nwcml0ZXNoZWV0UGFyc2VyJyk7XG5cbnZhciBfc3ByaXRlc2hlZXRQYXJzZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3ByaXRlc2hlZXRQYXJzZXIpO1xuXG52YXIgX2JpdG1hcEZvbnRQYXJzZXIgPSByZXF1aXJlKCcuL2JpdG1hcEZvbnRQYXJzZXInKTtcblxudmFyIF9iaXRtYXBGb250UGFyc2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JpdG1hcEZvbnRQYXJzZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICpcbiAqIFRoZSBuZXcgbG9hZGVyLCBleHRlbmRzIFJlc291cmNlIExvYWRlciBieSBDaGFkIEVuZ2xlcjogaHR0cHM6Ly9naXRodWIuY29tL2VuZ2xlcmNqL3Jlc291cmNlLWxvYWRlclxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBsb2FkZXIgPSBQSVhJLmxvYWRlcjsgLy8gUGl4aUpTIGV4cG9zZXMgYSBwcmVtYWRlIGluc3RhbmNlIGZvciB5b3UgdG8gdXNlLlxuICogLy9vclxuICogY29uc3QgbG9hZGVyID0gbmV3IFBJWEkubG9hZGVycy5Mb2FkZXIoKTsgLy8geW91IGNhbiBhbHNvIGNyZWF0ZSB5b3VyIG93biBpZiB5b3Ugd2FudFxuICpcbiAqIGNvbnN0IHNwcml0ZXMgPSB7fTtcbiAqXG4gKiAvLyBDaGFpbmFibGUgYGFkZGAgdG8gZW5xdWV1ZSBhIHJlc291cmNlXG4gKiBsb2FkZXIuYWRkKCdidW5ueScsICdkYXRhL2J1bm55LnBuZycpXG4gKiAgICAgICAuYWRkKCdzcGFjZXNoaXAnLCAnYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb24nKTtcbiAqIGxvYWRlci5hZGQoJ3Njb3JlRm9udCcsICdhc3NldHMvc2NvcmUuZm50Jyk7XG4gKlxuICogLy8gQ2hhaW5hYmxlIGBwcmVgIHRvIGFkZCBhIG1pZGRsZXdhcmUgdGhhdCBydW5zIGZvciBlYWNoIHJlc291cmNlLCAqYmVmb3JlKiBsb2FkaW5nIHRoYXQgcmVzb3VyY2UuXG4gKiAvLyBUaGlzIGlzIHVzZWZ1bCB0byBpbXBsZW1lbnQgY3VzdG9tIGNhY2hpbmcgbW9kdWxlcyAodXNpbmcgZmlsZXN5c3RlbSwgaW5kZXhlZGRiLCBtZW1vcnksIGV0YykuXG4gKiBsb2FkZXIucHJlKGNhY2hpbmdNaWRkbGV3YXJlKTtcbiAqXG4gKiAvLyBDaGFpbmFibGUgYHVzZWAgdG8gYWRkIGEgbWlkZGxld2FyZSB0aGF0IHJ1bnMgZm9yIGVhY2ggcmVzb3VyY2UsICphZnRlciogbG9hZGluZyB0aGF0IHJlc291cmNlLlxuICogLy8gVGhpcyBpcyB1c2VmdWwgdG8gaW1wbGVtZW50IGN1c3RvbSBwYXJzaW5nIG1vZHVsZXMgKGxpa2Ugc3ByaXRlc2hlZXQgcGFyc2Vycywgc3BpbmUgcGFyc2VyLCBldGMpLlxuICogbG9hZGVyLnVzZShwYXJzaW5nTWlkZGxld2FyZSk7XG4gKlxuICogLy8gVGhlIGBsb2FkYCBtZXRob2QgbG9hZHMgdGhlIHF1ZXVlIG9mIHJlc291cmNlcywgYW5kIGNhbGxzIHRoZSBwYXNzZWQgaW4gY2FsbGJhY2sgY2FsbGVkIG9uY2UgYWxsXG4gKiAvLyByZXNvdXJjZXMgaGF2ZSBsb2FkZWQuXG4gKiBsb2FkZXIubG9hZCgobG9hZGVyLCByZXNvdXJjZXMpID0+IHtcbiAqICAgICAvLyByZXNvdXJjZXMgaXMgYW4gb2JqZWN0IHdoZXJlIHRoZSBrZXkgaXMgdGhlIG5hbWUgb2YgdGhlIHJlc291cmNlIGxvYWRlZCBhbmQgdGhlIHZhbHVlIGlzIHRoZSByZXNvdXJjZSBvYmplY3QuXG4gKiAgICAgLy8gVGhleSBoYXZlIGEgY291cGxlIGRlZmF1bHQgcHJvcGVydGllczpcbiAqICAgICAvLyAtIGB1cmxgOiBUaGUgVVJMIHRoYXQgdGhlIHJlc291cmNlIHdhcyBsb2FkZWQgZnJvbVxuICogICAgIC8vIC0gYGVycm9yYDogVGhlIGVycm9yIHRoYXQgaGFwcGVuZWQgd2hlbiB0cnlpbmcgdG8gbG9hZCAoaWYgYW55KVxuICogICAgIC8vIC0gYGRhdGFgOiBUaGUgcmF3IGRhdGEgdGhhdCB3YXMgbG9hZGVkXG4gKiAgICAgLy8gYWxzbyBtYXkgY29udGFpbiBvdGhlciBwcm9wZXJ0aWVzIGJhc2VkIG9uIHRoZSBtaWRkbGV3YXJlIHRoYXQgcnVucy5cbiAqICAgICBzcHJpdGVzLmJ1bm55ID0gbmV3IFBJWEkuVGlsaW5nU3ByaXRlKHJlc291cmNlcy5idW5ueS50ZXh0dXJlKTtcbiAqICAgICBzcHJpdGVzLnNwYWNlc2hpcCA9IG5ldyBQSVhJLlRpbGluZ1Nwcml0ZShyZXNvdXJjZXMuc3BhY2VzaGlwLnRleHR1cmUpO1xuICogICAgIHNwcml0ZXMuc2NvcmVGb250ID0gbmV3IFBJWEkuVGlsaW5nU3ByaXRlKHJlc291cmNlcy5zY29yZUZvbnQudGV4dHVyZSk7XG4gKiB9KTtcbiAqXG4gKiAvLyB0aHJvdWdob3V0IHRoZSBwcm9jZXNzIG11bHRpcGxlIHNpZ25hbHMgY2FuIGJlIGRpc3BhdGNoZWQuXG4gKiBsb2FkZXIub25Qcm9ncmVzcy5hZGQoKCkgPT4ge30pOyAvLyBjYWxsZWQgb25jZSBwZXIgbG9hZGVkL2Vycm9yZWQgZmlsZVxuICogbG9hZGVyLm9uRXJyb3IuYWRkKCgpID0+IHt9KTsgLy8gY2FsbGVkIG9uY2UgcGVyIGVycm9yZWQgZmlsZVxuICogbG9hZGVyLm9uTG9hZC5hZGQoKCkgPT4ge30pOyAvLyBjYWxsZWQgb25jZSBwZXIgbG9hZGVkIGZpbGVcbiAqIGxvYWRlci5vbkNvbXBsZXRlLmFkZCgoKSA9PiB7fSk7IC8vIGNhbGxlZCBvbmNlIHdoZW4gdGhlIHF1ZXVlZCByZXNvdXJjZXMgYWxsIGxvYWQuXG4gKiBgYGBcbiAqXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lbmdsZXJjai9yZXNvdXJjZS1sb2FkZXJcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIG1vZHVsZTpyZXNvdXJjZS1sb2FkZXIuUmVzb3VyY2VMb2FkZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmxvYWRlcnNcbiAqL1xudmFyIExvYWRlciA9IGZ1bmN0aW9uIChfUmVzb3VyY2VMb2FkZXIpIHtcbiAgICBfaW5oZXJpdHMoTG9hZGVyLCBfUmVzb3VyY2VMb2FkZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtiYXNlVXJsPScnXSAtIFRoZSBiYXNlIHVybCBmb3IgYWxsIHJlc291cmNlcyBsb2FkZWQgYnkgdGhpcyBsb2FkZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjb25jdXJyZW5jeT0xMF0gLSBUaGUgbnVtYmVyIG9mIHJlc291cmNlcyB0byBsb2FkIGNvbmN1cnJlbnRseS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMb2FkZXIoYmFzZVVybCwgY29uY3VycmVuY3kpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExvYWRlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1Jlc291cmNlTG9hZGVyLmNhbGwodGhpcywgYmFzZVVybCwgY29uY3VycmVuY3kpKTtcblxuICAgICAgICBfZXZlbnRlbWl0dGVyMi5kZWZhdWx0LmNhbGwoX3RoaXMpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTG9hZGVyLl9waXhpTWlkZGxld2FyZS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgX3RoaXMudXNlKExvYWRlci5fcGl4aU1pZGRsZXdhcmVbaV0oKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb21wYXQgbGF5ZXIsIHRyYW5zbGF0ZSB0aGUgbmV3IHYyIHNpZ25hbHMgaW50byBvbGQgdjEgZXZlbnRzLlxuICAgICAgICBfdGhpcy5vblN0YXJ0LmFkZChmdW5jdGlvbiAobCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmVtaXQoJ3N0YXJ0JywgbCk7XG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpcy5vblByb2dyZXNzLmFkZChmdW5jdGlvbiAobCwgcikge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmVtaXQoJ3Byb2dyZXNzJywgbCwgcik7XG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpcy5vbkVycm9yLmFkZChmdW5jdGlvbiAoZSwgbCwgcikge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmVtaXQoJ2Vycm9yJywgZSwgbCwgcik7XG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpcy5vbkxvYWQuYWRkKGZ1bmN0aW9uIChsLCByKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuZW1pdCgnbG9hZCcsIGwsIHIpO1xuICAgICAgICB9KTtcbiAgICAgICAgX3RoaXMub25Db21wbGV0ZS5hZGQoZnVuY3Rpb24gKGwsIHIpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5lbWl0KCdjb21wbGV0ZScsIGwsIHIpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBkZWZhdWx0IG1pZGRsZXdhcmUgdG8gdGhlIFBpeGlKUyBsb2FkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbWlkZGxld2FyZSB0byBhZGQuXG4gICAgICovXG5cblxuICAgIExvYWRlci5hZGRQaXhpTWlkZGxld2FyZSA9IGZ1bmN0aW9uIGFkZFBpeGlNaWRkbGV3YXJlKGZuKSB7XG4gICAgICAgIExvYWRlci5fcGl4aU1pZGRsZXdhcmUucHVzaChmbik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhlIGxvYWRlciwgcmVtb3ZlcyByZWZlcmVuY2VzLlxuICAgICAqL1xuXG5cbiAgICBMb2FkZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfTtcblxuICAgIHJldHVybiBMb2FkZXI7XG59KF9yZXNvdXJjZUxvYWRlcjIuZGVmYXVsdCk7XG5cbi8vIENvcHkgRUUzIHByb3RvdHlwZSAobWl4aW4pXG5cblxuZXhwb3J0cy5kZWZhdWx0ID0gTG9hZGVyO1xuZm9yICh2YXIgayBpbiBfZXZlbnRlbWl0dGVyMi5kZWZhdWx0LnByb3RvdHlwZSkge1xuICAgIExvYWRlci5wcm90b3R5cGVba10gPSBfZXZlbnRlbWl0dGVyMi5kZWZhdWx0LnByb3RvdHlwZVtrXTtcbn1cblxuTG9hZGVyLl9waXhpTWlkZGxld2FyZSA9IFtcbi8vIHBhcnNlIGFueSBibG9iIGludG8gbW9yZSB1c2FibGUgb2JqZWN0cyAoZS5nLiBJbWFnZSlcbl9ibG9iLmJsb2JNaWRkbGV3YXJlRmFjdG9yeSxcbi8vIHBhcnNlIGFueSBJbWFnZSBvYmplY3RzIGludG8gdGV4dHVyZXNcbl90ZXh0dXJlUGFyc2VyMi5kZWZhdWx0LFxuLy8gcGFyc2UgYW55IHNwcml0ZXNoZWV0IGRhdGEgaW50byBtdWx0aXBsZSB0ZXh0dXJlc1xuX3Nwcml0ZXNoZWV0UGFyc2VyMi5kZWZhdWx0LFxuLy8gcGFyc2UgYml0bWFwIGZvbnQgZGF0YSBpbnRvIG11bHRpcGxlIHRleHR1cmVzXG5fYml0bWFwRm9udFBhcnNlcjIuZGVmYXVsdF07XG5cbi8vIEFkZCBjdXN0b20gZXh0ZW50aW9uc1xudmFyIFJlc291cmNlID0gX3Jlc291cmNlTG9hZGVyMi5kZWZhdWx0LlJlc291cmNlO1xuXG5SZXNvdXJjZS5zZXRFeHRlbnNpb25YaHJUeXBlKCdmbnQnLCBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2FkZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfbWluaVNpZ25hbHMgPSByZXF1aXJlKCdtaW5pLXNpZ25hbHMnKTtcblxudmFyIF9taW5pU2lnbmFsczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9taW5pU2lnbmFscyk7XG5cbnZhciBfcGFyc2VVcmkgPSByZXF1aXJlKCdwYXJzZS11cmknKTtcblxudmFyIF9wYXJzZVVyaTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wYXJzZVVyaSk7XG5cbnZhciBfYXN5bmMgPSByZXF1aXJlKCcuL2FzeW5jJyk7XG5cbnZhciBhc3luYyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9hc3luYyk7XG5cbnZhciBfUmVzb3VyY2UgPSByZXF1aXJlKCcuL1Jlc291cmNlJyk7XG5cbnZhciBfUmVzb3VyY2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmVzb3VyY2UpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vLyBzb21lIGNvbnN0YW50c1xudmFyIE1BWF9QUk9HUkVTUyA9IDEwMDtcbnZhciByZ3hFeHRyYWN0VXJsSGFzaCA9IC8oI1tcXHctXSspPyQvO1xuXG4vKipcbiAqIE1hbmFnZXMgdGhlIHN0YXRlIGFuZCBsb2FkaW5nIG9mIG11bHRpcGxlIHJlc291cmNlcyB0byBsb2FkLlxuICpcbiAqIEBjbGFzc1xuICovXG5cbnZhciBMb2FkZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtiYXNlVXJsPScnXSAtIFRoZSBiYXNlIHVybCBmb3IgYWxsIHJlc291cmNlcyBsb2FkZWQgYnkgdGhpcyBsb2FkZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjb25jdXJyZW5jeT0xMF0gLSBUaGUgbnVtYmVyIG9mIHJlc291cmNlcyB0byBsb2FkIGNvbmN1cnJlbnRseS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMb2FkZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGJhc2VVcmwgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xuICAgICAgICB2YXIgY29uY3VycmVuY3kgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDEwO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMb2FkZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFzZSB1cmwgZm9yIGFsbCByZXNvdXJjZXMgbG9hZGVkIGJ5IHRoaXMgbG9hZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJhc2VVcmwgPSBiYXNlVXJsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcHJvZ3Jlc3MgcGVyY2VudCBvZiB0aGUgbG9hZGVyIGdvaW5nIHRocm91Z2ggdGhlIHF1ZXVlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTG9hZGluZyBzdGF0ZSBvZiB0aGUgbG9hZGVyLCB0cnVlIGlmIGl0IGlzIGN1cnJlbnRseSBsb2FkaW5nIHJlc291cmNlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHF1ZXJ5c3RyaW5nIHRvIGFwcGVuZCB0byBldmVyeSBVUkwgYWRkZWQgdG8gdGhlIGxvYWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBzaG91bGQgYmUgYSB2YWxpZCBxdWVyeSBzdHJpbmcgKndpdGhvdXQqIHRoZSBxdWVzdGlvbi1tYXJrIChgP2ApLiBUaGUgbG9hZGVyIHdpbGxcbiAgICAgICAgICogYWxzbyAqbm90KiBlc2NhcGUgdmFsdWVzIGZvciB5b3UuIE1ha2Ugc3VyZSB0byBlc2NhcGUgeW91ciBwYXJhbWV0ZXJzIHdpdGhcbiAgICAgICAgICogW2BlbmNvZGVVUklDb21wb25lbnRgXShodHRwczovL21kbi5pby9lbmNvZGVVUklDb21wb25lbnQpIGJlZm9yZSBhc3NpZ25pbmcgdGhpcyBwcm9wZXJ0eS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogY29uc3QgbG9hZGVyID0gbmV3IExvYWRlcigpO1xuICAgICAgICAgKlxuICAgICAgICAgKiBsb2FkZXIuZGVmYXVsdFF1ZXJ5U3RyaW5nID0gJ3VzZXI9bWUmcGFzc3dvcmQ9c2VjcmV0JztcbiAgICAgICAgICpcbiAgICAgICAgICogLy8gVGhpcyB3aWxsIHJlcXVlc3QgJ2ltYWdlLnBuZz91c2VyPW1lJnBhc3N3b3JkPXNlY3JldCdcbiAgICAgICAgICogbG9hZGVyLmFkZCgnaW1hZ2UucG5nJykubG9hZCgpO1xuICAgICAgICAgKlxuICAgICAgICAgKiBsb2FkZXIucmVzZXQoKTtcbiAgICAgICAgICpcbiAgICAgICAgICogLy8gVGhpcyB3aWxsIHJlcXVlc3QgJ2ltYWdlLnBuZz92PTEmdXNlcj1tZSZwYXNzd29yZD1zZWNyZXQnXG4gICAgICAgICAqIGxvYWRlci5hZGQoJ2lhbWdlLnBuZz92PTEnKS5sb2FkKCk7XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlZmF1bHRRdWVyeVN0cmluZyA9ICcnO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWlkZGxld2FyZSB0byBydW4gYmVmb3JlIGxvYWRpbmcgZWFjaCByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb25bXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JlZm9yZU1pZGRsZXdhcmUgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1pZGRsZXdhcmUgdG8gcnVuIGFmdGVyIGxvYWRpbmcgZWFjaCByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb25bXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2FmdGVyTWlkZGxld2FyZSA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHJhY2tzIHRoZSByZXNvdXJjZXMgd2UgYXJlIGN1cnJlbnRseSBjb21wbGV0aW5nIHBhcnNpbmcgZm9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcmVzb3VyY2VzUGFyc2luZyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYF9sb2FkUmVzb3VyY2VgIGZ1bmN0aW9uIGJvdW5kIHdpdGggdGhpcyBvYmplY3QgY29udGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqIEBwYXJhbSB7UmVzb3VyY2V9IHIgLSBUaGUgcmVzb3VyY2UgdG8gbG9hZFxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBkIC0gVGhlIGRlcXVldWUgZnVuY3Rpb25cbiAgICAgICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm91bmRMb2FkUmVzb3VyY2UgPSBmdW5jdGlvbiAociwgZCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9sb2FkUmVzb3VyY2UociwgZCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvdXJjZXMgd2FpdGluZyB0byBiZSBsb2FkZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1Jlc291cmNlW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9xdWV1ZSA9IGFzeW5jLnF1ZXVlKHRoaXMuX2JvdW5kTG9hZFJlc291cmNlLCBjb25jdXJyZW5jeSk7XG5cbiAgICAgICAgdGhpcy5fcXVldWUucGF1c2UoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQWxsIHRoZSByZXNvdXJjZXMgZm9yIHRoaXMgbG9hZGVyIGtleWVkIGJ5IG5hbWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdDxzdHJpbmcsIFJlc291cmNlPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb3VyY2VzID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgb25jZSBwZXIgbG9hZGVkIG9yIGVycm9yZWQgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25Qcm9ncmVzc1NpZ25hbH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1NpZ25hbH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Qcm9ncmVzcyA9IG5ldyBfbWluaVNpZ25hbHMyLmRlZmF1bHQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGF0Y2hlZCBvbmNlIHBlciBlcnJvcmVkIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uRXJyb3JTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWx9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uRXJyb3IgPSBuZXcgX21pbmlTaWduYWxzMi5kZWZhdWx0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgb25jZSBwZXIgbG9hZGVkIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uTG9hZFNpZ25hbH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1NpZ25hbH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Mb2FkID0gbmV3IF9taW5pU2lnbmFsczIuZGVmYXVsdCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNwYXRjaGVkIHdoZW4gdGhlIGxvYWRlciBiZWdpbnMgdG8gcHJvY2VzcyB0aGUgcXVldWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25TdGFydFNpZ25hbH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1NpZ25hbH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25TdGFydCA9IG5ldyBfbWluaVNpZ25hbHMyLmRlZmF1bHQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGF0Y2hlZCB3aGVuIHRoZSBxdWV1ZWQgcmVzb3VyY2VzIGFsbCBsb2FkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uQ29tcGxldGVTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWx9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uQ29tcGxldGUgPSBuZXcgX21pbmlTaWduYWxzMi5kZWZhdWx0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gdGhlIHByb2dyZXNzIGNoYW5nZXMgdGhlIGxvYWRlciBhbmQgcmVzb3VyY2UgYXJlIGRpc2FwdGNoZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXJvZiBMb2FkZXJcbiAgICAgICAgICogQGNhbGxiYWNrIE9uUHJvZ3Jlc3NTaWduYWxcbiAgICAgICAgICogQHBhcmFtIHtMb2FkZXJ9IGxvYWRlciAtIFRoZSBsb2FkZXIgdGhlIHByb2dyZXNzIGlzIGFkdmFuY2luZyBvbi5cbiAgICAgICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCBoYXMgY29tcGxldGVkIG9yIGZhaWxlZCB0byBjYXVzZSB0aGUgcHJvZ3Jlc3MgdG8gYWR2YW5jZS5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gYW4gZXJyb3Igb2NjdXJycyB0aGUgbG9hZGVyIGFuZCByZXNvdXJjZSBhcmUgZGlzYXB0Y2hlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlcm9mIExvYWRlclxuICAgICAgICAgKiBAY2FsbGJhY2sgT25FcnJvclNpZ25hbFxuICAgICAgICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGUgZXJyb3IgaGFwcGVuZWQgaW4uXG4gICAgICAgICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgY2F1c2VkIHRoZSBlcnJvci5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gYSBsb2FkIGNvbXBsZXRlcyB0aGUgbG9hZGVyIGFuZCByZXNvdXJjZSBhcmUgZGlzYXB0Y2hlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlcm9mIExvYWRlclxuICAgICAgICAgKiBAY2FsbGJhY2sgT25Mb2FkU2lnbmFsXG4gICAgICAgICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoYXQgbGFvZGVkIHRoZSByZXNvdXJjZS5cbiAgICAgICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCBoYXMgY29tcGxldGVkIGxvYWRpbmcuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHRoZSBsb2FkZXIgc3RhcnRzIGxvYWRpbmcgcmVzb3VyY2VzIGl0IGRpc3BhdGNoZXMgdGhpcyBjYWxsYmFjay5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlcm9mIExvYWRlclxuICAgICAgICAgKiBAY2FsbGJhY2sgT25TdGFydFNpZ25hbFxuICAgICAgICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGF0IGhhcyBzdGFydGVkIGxvYWRpbmcgcmVzb3VyY2VzLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiB0aGUgbG9hZGVyIGNvbXBsZXRlcyBsb2FkaW5nIHJlc291cmNlcyBpdCBkaXNwYXRjaGVzIHRoaXMgY2FsbGJhY2suXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXJvZiBMb2FkZXJcbiAgICAgICAgICogQGNhbGxiYWNrIE9uQ29tcGxldGVTaWduYWxcbiAgICAgICAgICogQHBhcmFtIHtMb2FkZXJ9IGxvYWRlciAtIFRoZSBsb2FkZXIgdGhhdCBoYXMgZmluaXNoZWQgbG9hZGluZyByZXNvdXJjZXMuXG4gICAgICAgICAqL1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSByZXNvdXJjZSAob3IgbXVsdGlwbGUgcmVzb3VyY2VzKSB0byB0aGUgbG9hZGVyIHF1ZXVlLlxuICAgICAqXG4gICAgICogVGhpcyBmdW5jdGlvbiBjYW4gdGFrZSBhIHdpZGUgdmFyaWV0eSBvZiBkaWZmZXJlbnQgcGFyYW1ldGVycy4gVGhlIG9ubHkgdGhpbmcgdGhhdCBpcyBhbHdheXNcbiAgICAgKiByZXF1aXJlZCB0aGUgdXJsIHRvIGxvYWQuIEFsbCB0aGUgZm9sbG93aW5nIHdpbGwgd29yazpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogbG9hZGVyXG4gICAgICogICAgIC8vIG5vcm1hbCBwYXJhbSBzeW50YXhcbiAgICAgKiAgICAgLmFkZCgna2V5JywgJ2h0dHA6Ly8uLi4nLCBmdW5jdGlvbiAoKSB7fSlcbiAgICAgKiAgICAgLmFkZCgnaHR0cDovLy4uLicsIGZ1bmN0aW9uICgpIHt9KVxuICAgICAqICAgICAuYWRkKCdodHRwOi8vLi4uJylcbiAgICAgKlxuICAgICAqICAgICAvLyBvYmplY3Qgc3ludGF4XG4gICAgICogICAgIC5hZGQoe1xuICAgICAqICAgICAgICAgbmFtZTogJ2tleTInLFxuICAgICAqICAgICAgICAgdXJsOiAnaHR0cDovLy4uLidcbiAgICAgKiAgICAgfSwgZnVuY3Rpb24gKCkge30pXG4gICAgICogICAgIC5hZGQoe1xuICAgICAqICAgICAgICAgdXJsOiAnaHR0cDovLy4uLidcbiAgICAgKiAgICAgfSwgZnVuY3Rpb24gKCkge30pXG4gICAgICogICAgIC5hZGQoe1xuICAgICAqICAgICAgICAgbmFtZTogJ2tleTMnLFxuICAgICAqICAgICAgICAgdXJsOiAnaHR0cDovLy4uLidcbiAgICAgKiAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHt9XG4gICAgICogICAgIH0pXG4gICAgICogICAgIC5hZGQoe1xuICAgICAqICAgICAgICAgdXJsOiAnaHR0cHM6Ly8uLi4nLFxuICAgICAqICAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24gKCkge30sXG4gICAgICogICAgICAgICBjcm9zc09yaWdpbjogdHJ1ZVxuICAgICAqICAgICB9KVxuICAgICAqXG4gICAgICogICAgIC8vIHlvdSBjYW4gYWxzbyBwYXNzIGFuIGFycmF5IG9mIG9iamVjdHMgb3IgdXJscyBvciBib3RoXG4gICAgICogICAgIC5hZGQoW1xuICAgICAqICAgICAgICAgeyBuYW1lOiAna2V5NCcsIHVybDogJ2h0dHA6Ly8uLi4nLCBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7fSB9LFxuICAgICAqICAgICAgICAgeyB1cmw6ICdodHRwOi8vLi4uJywgb25Db21wbGV0ZTogZnVuY3Rpb24gKCkge30gfSxcbiAgICAgKiAgICAgICAgICdodHRwOi8vLi4uJ1xuICAgICAqICAgICBdKVxuICAgICAqXG4gICAgICogICAgIC8vIGFuZCB5b3UgY2FuIHVzZSBib3RoIHBhcmFtcyBhbmQgb3B0aW9uc1xuICAgICAqICAgICAuYWRkKCdrZXknLCAnaHR0cDovLy4uLicsIHsgY3Jvc3NPcmlnaW46IHRydWUgfSwgZnVuY3Rpb24gKCkge30pXG4gICAgICogICAgIC5hZGQoJ2h0dHA6Ly8uLi4nLCB7IGNyb3NzT3JpZ2luOiB0cnVlIH0sIGZ1bmN0aW9uICgpIHt9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZV0gLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZCwgaWYgbm90IHBhc3NlZCB0aGUgdXJsIGlzIHVzZWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt1cmxdIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgcmVsYXRpdmUgdG8gdGhlIGJhc2VVcmwgb2YgdGhpcyBsb2FkZXIuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25zIGZvciB0aGUgbG9hZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNyb3NzT3JpZ2luXSAtIElzIHRoaXMgcmVxdWVzdCBjcm9zcy1vcmlnaW4/IERlZmF1bHQgaXMgdG8gZGV0ZXJtaW5lIGF1dG9tYXRpY2FsbHkuXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5MT0FEX1RZUEV9IFtvcHRpb25zLmxvYWRUeXBlPVJlc291cmNlLkxPQURfVFlQRS5YSFJdIC0gSG93IHNob3VsZCB0aGlzIHJlc291cmNlIGJlIGxvYWRlZD9cbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSBbb3B0aW9ucy54aHJUeXBlPVJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRFRkFVTFRdIC0gSG93IHNob3VsZFxuICAgICAqICAgICAgdGhlIGRhdGEgYmVpbmcgbG9hZGVkIGJlIGludGVycHJldGVkIHdoZW4gdXNpbmcgWEhSP1xuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9ucy5tZXRhZGF0YV0gLSBFeHRyYSBjb25maWd1cmF0aW9uIGZvciBtaWRkbGV3YXJlIGFuZCB0aGUgUmVzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQXVkaW9FbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IFtvcHRpb25zLm1ldGFkYXRhLmxvYWRFbGVtZW50PW51bGxdIC0gVGhlXG4gICAgICogICAgICBlbGVtZW50IHRvIHVzZSBmb3IgbG9hZGluZywgaW5zdGVhZCBvZiBjcmVhdGluZyBvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5tZXRhZGF0YS5za2lwU291cmNlPWZhbHNlXSAtIFNraXBzIGFkZGluZyBzb3VyY2UocykgdG8gdGhlIGxvYWQgZWxlbWVudC4gVGhpc1xuICAgICAqICAgICAgaXMgdXNlZnVsIGlmIHlvdSB3YW50IHRvIHBhc3MgaW4gYSBgbG9hZEVsZW1lbnRgIHRoYXQgeW91IGFscmVhZHkgYWRkZWQgbG9hZCBzb3VyY2VzIHRvLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYl0gLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBzcGVjaWZpYyByZXNvdXJjZSBjb21wbGV0ZXMgbG9hZGluZy5cbiAgICAgKiBAcmV0dXJuIHtMb2FkZXJ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuXG5cbiAgICBMb2FkZXIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIGFkZChuYW1lLCB1cmwsIG9wdGlvbnMsIGNiKSB7XG4gICAgICAgIC8vIHNwZWNpYWwgY2FzZSBvZiBhbiBhcnJheSBvZiBvYmplY3RzIG9yIHVybHNcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobmFtZSkpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmFtZS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkKG5hbWVbaV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIGFuIG9iamVjdCBpcyBwYXNzZWQgaW5zdGVhZCBvZiBwYXJhbXNcbiAgICAgICAgaWYgKCh0eXBlb2YgbmFtZSA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YobmFtZSkpID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgY2IgPSB1cmwgfHwgbmFtZS5jYWxsYmFjayB8fCBuYW1lLm9uQ29tcGxldGU7XG4gICAgICAgICAgICBvcHRpb25zID0gbmFtZTtcbiAgICAgICAgICAgIHVybCA9IG5hbWUudXJsO1xuICAgICAgICAgICAgbmFtZSA9IG5hbWUubmFtZSB8fCBuYW1lLmtleSB8fCBuYW1lLnVybDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNhc2Ugd2hlcmUgbm8gbmFtZSBpcyBwYXNzZWQgc2hpZnQgYWxsIGFyZ3Mgb3ZlciBieSBvbmUuXG4gICAgICAgIGlmICh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY2IgPSBvcHRpb25zO1xuICAgICAgICAgICAgb3B0aW9ucyA9IHVybDtcbiAgICAgICAgICAgIHVybCA9IG5hbWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBub3cgdGhhdCB3ZSBzaGlmdGVkIG1ha2Ugc3VyZSB3ZSBoYXZlIGEgcHJvcGVyIHVybC5cbiAgICAgICAgaWYgKHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHVybCBwYXNzZWQgdG8gYWRkIHJlc291cmNlIHRvIGxvYWRlci4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG9wdGlvbnMgYXJlIG9wdGlvbmFsIHNvIHBlb3BsZSBtaWdodCBwYXNzIGEgZnVuY3Rpb24gYW5kIG5vIG9wdGlvbnNcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYiA9IG9wdGlvbnM7XG4gICAgICAgICAgICBvcHRpb25zID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIGxvYWRpbmcgYWxyZWFkeSB5b3UgY2FuIG9ubHkgYWRkIHJlc291cmNlcyB0aGF0IGhhdmUgYSBwYXJlbnQuXG4gICAgICAgIGlmICh0aGlzLmxvYWRpbmcgJiYgKCFvcHRpb25zIHx8ICFvcHRpb25zLnBhcmVudFJlc291cmNlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgYWRkIHJlc291cmNlcyB3aGlsZSB0aGUgbG9hZGVyIGlzIHJ1bm5pbmcuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjaGVjayBpZiByZXNvdXJjZSBhbHJlYWR5IGV4aXN0cy5cbiAgICAgICAgaWYgKHRoaXMucmVzb3VyY2VzW25hbWVdKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Jlc291cmNlIG5hbWVkIFwiJyArIG5hbWUgKyAnXCIgYWxyZWFkeSBleGlzdHMuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgYmFzZSB1cmwgaWYgdGhpcyBpc24ndCBhbiBhYnNvbHV0ZSB1cmxcbiAgICAgICAgdXJsID0gdGhpcy5fcHJlcGFyZVVybCh1cmwpO1xuXG4gICAgICAgIC8vIGNyZWF0ZSB0aGUgc3RvcmUgdGhlIHJlc291cmNlXG4gICAgICAgIHRoaXMucmVzb3VyY2VzW25hbWVdID0gbmV3IF9SZXNvdXJjZTIuZGVmYXVsdChuYW1lLCB1cmwsIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMucmVzb3VyY2VzW25hbWVdLm9uQWZ0ZXJNaWRkbGV3YXJlLm9uY2UoY2IpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgYWN0aXZlbHkgbG9hZGluZywgbWFrZSBzdXJlIHRvIGFkanVzdCBwcm9ncmVzcyBjaHVua3MgZm9yIHRoYXQgcGFyZW50IGFuZCBpdHMgY2hpbGRyZW5cbiAgICAgICAgaWYgKHRoaXMubG9hZGluZykge1xuICAgICAgICAgICAgdmFyIHBhcmVudCA9IG9wdGlvbnMucGFyZW50UmVzb3VyY2U7XG4gICAgICAgICAgICB2YXIgaW5jb21wbGV0ZUNoaWxkcmVuID0gW107XG5cbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBwYXJlbnQuY2hpbGRyZW4ubGVuZ3RoOyArK19pKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFwYXJlbnQuY2hpbGRyZW5bX2ldLmlzQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5jb21wbGV0ZUNoaWxkcmVuLnB1c2gocGFyZW50LmNoaWxkcmVuW19pXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgZnVsbENodW5rID0gcGFyZW50LnByb2dyZXNzQ2h1bmsgKiAoaW5jb21wbGV0ZUNoaWxkcmVuLmxlbmd0aCArIDEpOyAvLyArMSBmb3IgcGFyZW50XG4gICAgICAgICAgICB2YXIgZWFjaENodW5rID0gZnVsbENodW5rIC8gKGluY29tcGxldGVDaGlsZHJlbi5sZW5ndGggKyAyKTsgLy8gKzIgZm9yIHBhcmVudCAmIG5ldyBjaGlsZFxuXG4gICAgICAgICAgICBwYXJlbnQuY2hpbGRyZW4ucHVzaCh0aGlzLnJlc291cmNlc1tuYW1lXSk7XG4gICAgICAgICAgICBwYXJlbnQucHJvZ3Jlc3NDaHVuayA9IGVhY2hDaHVuaztcblxuICAgICAgICAgICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgaW5jb21wbGV0ZUNoaWxkcmVuLmxlbmd0aDsgKytfaTIpIHtcbiAgICAgICAgICAgICAgICBpbmNvbXBsZXRlQ2hpbGRyZW5bX2kyXS5wcm9ncmVzc0NodW5rID0gZWFjaENodW5rO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnJlc291cmNlc1tuYW1lXS5wcm9ncmVzc0NodW5rID0gZWFjaENodW5rO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIHRoZSByZXNvdXJjZSB0byB0aGUgcXVldWVcbiAgICAgICAgdGhpcy5fcXVldWUucHVzaCh0aGlzLnJlc291cmNlc1tuYW1lXSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgYSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRoYXQgd2lsbCBydW4gKmJlZm9yZSogdGhlXG4gICAgICogcmVzb3VyY2UgaXMgbG9hZGVkLlxuICAgICAqXG4gICAgICogQG1ldGhvZCBiZWZvcmVcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIFRoZSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRvIHJlZ2lzdGVyLlxuICAgICAqIEByZXR1cm4ge0xvYWRlcn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIExvYWRlci5wcm90b3R5cGUucHJlID0gZnVuY3Rpb24gcHJlKGZuKSB7XG4gICAgICAgIHRoaXMuX2JlZm9yZU1pZGRsZXdhcmUucHVzaChmbik7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgYSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRoYXQgd2lsbCBydW4gKmFmdGVyKiB0aGVcbiAgICAgKiByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAYWxpYXMgdXNlXG4gICAgICogQG1ldGhvZCBhZnRlclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcmVnaXN0ZXIuXG4gICAgICogQHJldHVybiB7TG9hZGVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgTG9hZGVyLnByb3RvdHlwZS51c2UgPSBmdW5jdGlvbiB1c2UoZm4pIHtcbiAgICAgICAgdGhpcy5fYWZ0ZXJNaWRkbGV3YXJlLnB1c2goZm4pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhlIHF1ZXVlIG9mIHRoZSBsb2FkZXIgdG8gcHJlcGFyZSBmb3IgYSBuZXcgbG9hZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0xvYWRlcn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIExvYWRlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX3F1ZXVlLmtpbGwoKTtcbiAgICAgICAgdGhpcy5fcXVldWUucGF1c2UoKTtcblxuICAgICAgICAvLyBhYm9ydCBhbGwgcmVzb3VyY2UgbG9hZHNcbiAgICAgICAgZm9yICh2YXIgayBpbiB0aGlzLnJlc291cmNlcykge1xuICAgICAgICAgICAgdmFyIHJlcyA9IHRoaXMucmVzb3VyY2VzW2tdO1xuXG4gICAgICAgICAgICBpZiAocmVzLl9vbkxvYWRCaW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgcmVzLl9vbkxvYWRCaW5kaW5nLmRldGFjaCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocmVzLmlzTG9hZGluZykge1xuICAgICAgICAgICAgICAgIHJlcy5hYm9ydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZXNvdXJjZXMgPSB7fTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3RhcnRzIGxvYWRpbmcgdGhlIHF1ZXVlZCByZXNvdXJjZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2JdIC0gT3B0aW9uYWwgY2FsbGJhY2sgdGhhdCB3aWxsIGJlIGJvdW5kIHRvIHRoZSBgY29tcGxldGVgIGV2ZW50LlxuICAgICAqIEByZXR1cm4ge0xvYWRlcn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIExvYWRlci5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIGxvYWQoY2IpIHtcbiAgICAgICAgLy8gcmVnaXN0ZXIgY29tcGxldGUgY2FsbGJhY2sgaWYgdGhleSBwYXNzIG9uZVxuICAgICAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLm9uQ29tcGxldGUub25jZShjYik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGUgcXVldWUgaGFzIGFscmVhZHkgc3RhcnRlZCB3ZSBhcmUgZG9uZSBoZXJlXG4gICAgICAgIGlmICh0aGlzLmxvYWRpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3F1ZXVlLmlkbGUoKSkge1xuICAgICAgICAgICAgdGhpcy5fb25TdGFydCgpO1xuICAgICAgICAgICAgdGhpcy5fb25Db21wbGV0ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gZGlzdHJpYnV0ZSBwcm9ncmVzcyBjaHVua3NcbiAgICAgICAgICAgIHZhciBudW1UYXNrcyA9IHRoaXMuX3F1ZXVlLl90YXNrcy5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgY2h1bmsgPSAxMDAgLyBudW1UYXNrcztcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9xdWV1ZS5fdGFza3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9xdWV1ZS5fdGFza3NbaV0uZGF0YS5wcm9ncmVzc0NodW5rID0gY2h1bms7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG5vdGlmeSB3ZSBhcmUgc3RhcnRpbmdcbiAgICAgICAgICAgIHRoaXMuX29uU3RhcnQoKTtcblxuICAgICAgICAgICAgLy8gc3RhcnQgbG9hZGluZ1xuICAgICAgICAgICAgdGhpcy5fcXVldWUucmVzdW1lKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiByZXNvdXJjZXMgdG8gbG9hZCBjb25jdXJyZW50bHkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMTBcbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogUHJlcGFyZXMgYSB1cmwgZm9yIHVzYWdlIGJhc2VkIG9uIHRoZSBjb25maWd1cmF0aW9uIG9mIHRoaXMgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIHRvIHByZXBhcmUuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgcHJlcGFyZWQgdXJsLlxuICAgICAqL1xuICAgIExvYWRlci5wcm90b3R5cGUuX3ByZXBhcmVVcmwgPSBmdW5jdGlvbiBfcHJlcGFyZVVybCh1cmwpIHtcbiAgICAgICAgdmFyIHBhcnNlZFVybCA9ICgwLCBfcGFyc2VVcmkyLmRlZmF1bHQpKHVybCwgeyBzdHJpY3RNb2RlOiB0cnVlIH0pO1xuICAgICAgICB2YXIgcmVzdWx0ID0gdm9pZCAwO1xuXG4gICAgICAgIC8vIGFic29sdXRlIHVybCwganVzdCB1c2UgaXQgYXMgaXMuXG4gICAgICAgIGlmIChwYXJzZWRVcmwucHJvdG9jb2wgfHwgIXBhcnNlZFVybC5wYXRoIHx8IHVybC5pbmRleE9mKCcvLycpID09PSAwKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB1cmw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgYmFzZVVybCBkb2Vzbid0IGVuZCBpbiBzbGFzaCBhbmQgdXJsIGRvZXNuJ3Qgc3RhcnQgd2l0aCBzbGFzaCwgdGhlbiBhZGQgYSBzbGFzaCBpbmJldHdlZW5cbiAgICAgICAgZWxzZSBpZiAodGhpcy5iYXNlVXJsLmxlbmd0aCAmJiB0aGlzLmJhc2VVcmwubGFzdEluZGV4T2YoJy8nKSAhPT0gdGhpcy5iYXNlVXJsLmxlbmd0aCAtIDEgJiYgdXJsLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5iYXNlVXJsICsgJy8nICsgdXJsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLmJhc2VVcmwgKyB1cmw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgd2UgbmVlZCB0byBhZGQgYSBkZWZhdWx0IHF1ZXJ5c3RyaW5nLCB0aGVyZSBpcyBhIGJpdCBtb3JlIHdvcmtcbiAgICAgICAgaWYgKHRoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgICAgICB2YXIgaGFzaCA9IHJneEV4dHJhY3RVcmxIYXNoLmV4ZWMocmVzdWx0KVswXTtcblxuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnN1YnN0cigwLCByZXN1bHQubGVuZ3RoIC0gaGFzaC5sZW5ndGgpO1xuXG4gICAgICAgICAgICBpZiAocmVzdWx0LmluZGV4T2YoJz8nKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gJyYnICsgdGhpcy5kZWZhdWx0UXVlcnlTdHJpbmc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnPycgKyB0aGlzLmRlZmF1bHRRdWVyeVN0cmluZztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVzdWx0ICs9IGhhc2g7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBMb2FkcyBhIHNpbmdsZSByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdG8gbG9hZC5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBkZXF1ZXVlIC0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB3ZSBuZWVkIHRvIGRlcXVldWUgdGhpcyBpdGVtLlxuICAgICAqL1xuXG5cbiAgICBMb2FkZXIucHJvdG90eXBlLl9sb2FkUmVzb3VyY2UgPSBmdW5jdGlvbiBfbG9hZFJlc291cmNlKHJlc291cmNlLCBkZXF1ZXVlKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHJlc291cmNlLl9kZXF1ZXVlID0gZGVxdWV1ZTtcblxuICAgICAgICAvLyBydW4gYmVmb3JlIG1pZGRsZXdhcmVcbiAgICAgICAgYXN5bmMuZWFjaFNlcmllcyh0aGlzLl9iZWZvcmVNaWRkbGV3YXJlLCBmdW5jdGlvbiAoZm4sIG5leHQpIHtcbiAgICAgICAgICAgIGZuLmNhbGwoX3RoaXMyLCByZXNvdXJjZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBiZWZvcmUgbWlkZGxld2FyZSBtYXJrcyB0aGUgcmVzb3VyY2UgYXMgY29tcGxldGUsXG4gICAgICAgICAgICAgICAgLy8gYnJlYWsgYW5kIGRvbid0IHByb2Nlc3MgYW55IG1vcmUgYmVmb3JlIG1pZGRsZXdhcmVcbiAgICAgICAgICAgICAgICBuZXh0KHJlc291cmNlLmlzQ29tcGxldGUgPyB7fSA6IG51bGwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChyZXNvdXJjZS5pc0NvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMyLl9vbkxvYWQocmVzb3VyY2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS5fb25Mb2FkQmluZGluZyA9IHJlc291cmNlLm9uQ29tcGxldGUub25jZShfdGhpczIuX29uTG9hZCwgX3RoaXMyKTtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS5sb2FkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRydWUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgb25jZSBsb2FkaW5nIGhhcyBzdGFydGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgTG9hZGVyLnByb3RvdHlwZS5fb25TdGFydCA9IGZ1bmN0aW9uIF9vblN0YXJ0KCkge1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5vblN0YXJ0LmRpc3BhdGNoKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgb25jZSBlYWNoIHJlc291cmNlIGhhcyBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBMb2FkZXIucHJvdG90eXBlLl9vbkNvbXBsZXRlID0gZnVuY3Rpb24gX29uQ29tcGxldGUoKSB7XG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSBNQVhfUFJPR1JFU1M7XG4gICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLm9uQ29tcGxldGUuZGlzcGF0Y2godGhpcywgdGhpcy5yZXNvdXJjZXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgZWFjaCB0aW1lIGEgcmVzb3VyY2VzIGlzIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCB3YXMgbG9hZGVkXG4gICAgICovXG5cblxuICAgIExvYWRlci5wcm90b3R5cGUuX29uTG9hZCA9IGZ1bmN0aW9uIF9vbkxvYWQocmVzb3VyY2UpIHtcbiAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgcmVzb3VyY2UuX29uTG9hZEJpbmRpbmcgPSBudWxsO1xuXG4gICAgICAgIC8vIHJlbW92ZSB0aGlzIHJlc291cmNlIGZyb20gdGhlIGFzeW5jIHF1ZXVlLCBhbmQgYWRkIGl0IHRvIG91ciBsaXN0IG9mIHJlc291cmNlcyB0aGF0IGFyZSBiZWluZyBwYXJzZWRcbiAgICAgICAgdGhpcy5fcmVzb3VyY2VzUGFyc2luZy5wdXNoKHJlc291cmNlKTtcbiAgICAgICAgcmVzb3VyY2UuX2RlcXVldWUoKTtcblxuICAgICAgICAvLyBydW4gYWxsIHRoZSBhZnRlciBtaWRkbGV3YXJlIGZvciB0aGlzIHJlc291cmNlXG4gICAgICAgIGFzeW5jLmVhY2hTZXJpZXModGhpcy5fYWZ0ZXJNaWRkbGV3YXJlLCBmdW5jdGlvbiAoZm4sIG5leHQpIHtcbiAgICAgICAgICAgIGZuLmNhbGwoX3RoaXMzLCByZXNvdXJjZSwgbmV4dCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJlc291cmNlLm9uQWZ0ZXJNaWRkbGV3YXJlLmRpc3BhdGNoKHJlc291cmNlKTtcblxuICAgICAgICAgICAgX3RoaXMzLnByb2dyZXNzICs9IHJlc291cmNlLnByb2dyZXNzQ2h1bms7XG4gICAgICAgICAgICBfdGhpczMub25Qcm9ncmVzcy5kaXNwYXRjaChfdGhpczMsIHJlc291cmNlKTtcblxuICAgICAgICAgICAgaWYgKHJlc291cmNlLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMzLm9uRXJyb3IuZGlzcGF0Y2gocmVzb3VyY2UuZXJyb3IsIF90aGlzMywgcmVzb3VyY2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBfdGhpczMub25Mb2FkLmRpc3BhdGNoKF90aGlzMywgcmVzb3VyY2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfdGhpczMuX3Jlc291cmNlc1BhcnNpbmcuc3BsaWNlKF90aGlzMy5fcmVzb3VyY2VzUGFyc2luZy5pbmRleE9mKHJlc291cmNlKSwgMSk7XG5cbiAgICAgICAgICAgIC8vIGRvIGNvbXBsZXRpb24gY2hlY2tcbiAgICAgICAgICAgIGlmIChfdGhpczMuX3F1ZXVlLmlkbGUoKSAmJiBfdGhpczMuX3Jlc291cmNlc1BhcnNpbmcubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMzLl9vbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRydWUpO1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoTG9hZGVyLCBbe1xuICAgICAgICBrZXk6ICdjb25jdXJyZW5jeScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3F1ZXVlLmNvbmN1cnJlbmN5O1xuICAgICAgICB9XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgICxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoY29uY3VycmVuY3kpIHtcbiAgICAgICAgICAgIHRoaXMuX3F1ZXVlLmNvbmN1cnJlbmN5ID0gY29uY3VycmVuY3k7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gTG9hZGVyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBMb2FkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Mb2FkZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5zaGFyZWQgPSBleHBvcnRzLlJlc291cmNlID0gZXhwb3J0cy50ZXh0dXJlUGFyc2VyID0gZXhwb3J0cy5nZXRSZXNvdXJjZVBhdGggPSBleHBvcnRzLnNwcml0ZXNoZWV0UGFyc2VyID0gZXhwb3J0cy5wYXJzZUJpdG1hcEZvbnREYXRhID0gZXhwb3J0cy5iaXRtYXBGb250UGFyc2VyID0gZXhwb3J0cy5Mb2FkZXIgPSB1bmRlZmluZWQ7XG5cbnZhciBfYml0bWFwRm9udFBhcnNlciA9IHJlcXVpcmUoJy4vYml0bWFwRm9udFBhcnNlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2JpdG1hcEZvbnRQYXJzZXInLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JpdG1hcEZvbnRQYXJzZXIpLmRlZmF1bHQ7XG4gICAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3BhcnNlQml0bWFwRm9udERhdGEnLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9iaXRtYXBGb250UGFyc2VyLnBhcnNlO1xuICAgIH1cbn0pO1xuXG52YXIgX3Nwcml0ZXNoZWV0UGFyc2VyID0gcmVxdWlyZSgnLi9zcHJpdGVzaGVldFBhcnNlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3Nwcml0ZXNoZWV0UGFyc2VyJywge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zcHJpdGVzaGVldFBhcnNlcikuZGVmYXVsdDtcbiAgICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnZ2V0UmVzb3VyY2VQYXRoJywge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfc3ByaXRlc2hlZXRQYXJzZXIuZ2V0UmVzb3VyY2VQYXRoO1xuICAgIH1cbn0pO1xuXG52YXIgX3RleHR1cmVQYXJzZXIgPSByZXF1aXJlKCcuL3RleHR1cmVQYXJzZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICd0ZXh0dXJlUGFyc2VyJywge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90ZXh0dXJlUGFyc2VyKS5kZWZhdWx0O1xuICAgIH1cbn0pO1xuXG52YXIgX3Jlc291cmNlTG9hZGVyID0gcmVxdWlyZSgncmVzb3VyY2UtbG9hZGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnUmVzb3VyY2UnLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9yZXNvdXJjZUxvYWRlci5SZXNvdXJjZTtcbiAgICB9XG59KTtcblxudmFyIF9BcHBsaWNhdGlvbiA9IHJlcXVpcmUoJy4uL2NvcmUvQXBwbGljYXRpb24nKTtcblxudmFyIF9BcHBsaWNhdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9BcHBsaWNhdGlvbik7XG5cbnZhciBfbG9hZGVyID0gcmVxdWlyZSgnLi9sb2FkZXInKTtcblxudmFyIF9sb2FkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9hZGVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBUaGlzIG5hbWVzcGFjZSBjb250YWlucyBBUElzIHdoaWNoIGV4dGVuZHMgdGhlIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vZW5nbGVyY2ovcmVzb3VyY2UtbG9hZGVyIHJlc291cmNlLWxvYWRlcn0gbW9kdWxlXG4gKiBmb3IgbG9hZGluZyBhc3NldHMsIGRhdGEsIGFuZCBvdGhlciByZXNvdXJjZXMgZHluYW1pY2FsbHkuXG4gKiBAZXhhbXBsZVxuICogY29uc3QgbG9hZGVyID0gbmV3IFBJWEkubG9hZGVycy5Mb2FkZXIoKTtcbiAqIGxvYWRlci5hZGQoJ2J1bm55JywgJ2RhdGEvYnVubnkucG5nJylcbiAqICAgICAgIC5hZGQoJ3NwYWNlc2hpcCcsICdhc3NldHMvc3ByaXRlc2hlZXQuanNvbicpO1xuICogbG9hZGVyLmxvYWQoKGxvYWRlciwgcmVzb3VyY2VzKSA9PiB7XG4gKiAgICAvLyByZXNvdXJjZXMuYnVubnlcbiAqICAgIC8vIHJlc291cmNlcy5zcGFjZXNoaXBcbiAqIH0pO1xuICogQG5hbWVzcGFjZSBQSVhJLmxvYWRlcnNcbiAqL1xuZXhwb3J0cy5Mb2FkZXIgPSBfbG9hZGVyMi5kZWZhdWx0O1xuXG5cbi8qKlxuICogQSBwcmVtYWRlIGluc3RhbmNlIG9mIHRoZSBsb2FkZXIgdGhhdCBjYW4gYmUgdXNlZCB0byBsb2FkIHJlc291cmNlcy5cbiAqIEBuYW1lIHNoYXJlZFxuICogQG1lbWJlcm9mIFBJWEkubG9hZGVyc1xuICogQHR5cGUge1BJWEkubG9hZGVycy5Mb2FkZXJ9XG4gKi9cbnZhciBzaGFyZWQgPSBuZXcgX2xvYWRlcjIuZGVmYXVsdCgpO1xuXG5zaGFyZWQuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBwcm90ZWN0IGRlc3Ryb3lpbmcgc2hhcmVkIGxvYWRlclxufTtcblxuZXhwb3J0cy5zaGFyZWQgPSBzaGFyZWQ7XG5cbi8vIE1peGluIHRoZSBsb2FkZXIgY29uc3RydWN0aW9uXG5cbnZhciBBcHBQcm90b3R5cGUgPSBfQXBwbGljYXRpb24yLmRlZmF1bHQucHJvdG90eXBlO1xuXG5BcHBQcm90b3R5cGUuX2xvYWRlciA9IG51bGw7XG5cbi8qKlxuICogTG9hZGVyIGluc3RhbmNlIHRvIGhlbHAgd2l0aCBhc3NldCBsb2FkaW5nLlxuICogQG5hbWUgUElYSS5BcHBsaWNhdGlvbiNsb2FkZXJcbiAqIEB0eXBlIHtQSVhJLmxvYWRlcnMuTG9hZGVyfVxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQXBwUHJvdG90eXBlLCAnbG9hZGVyJywge1xuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICBpZiAoIXRoaXMuX2xvYWRlcikge1xuICAgICAgICAgICAgdmFyIHNoYXJlZExvYWRlciA9IHRoaXMuX29wdGlvbnMuc2hhcmVkTG9hZGVyO1xuXG4gICAgICAgICAgICB0aGlzLl9sb2FkZXIgPSBzaGFyZWRMb2FkZXIgPyBzaGFyZWQgOiBuZXcgX2xvYWRlcjIuZGVmYXVsdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWRlcjtcbiAgICB9XG59KTtcblxuLy8gT3ZlcnJpZGUgdGhlIGRlc3Ryb3kgZnVuY3Rpb25cbi8vIG1ha2luZyBzdXJlIHRvIGRlc3Ryb3kgdGhlIGN1cnJlbnQgTG9hZGVyXG5BcHBQcm90b3R5cGUuX3BhcmVudERlc3Ryb3kgPSBBcHBQcm90b3R5cGUuZGVzdHJveTtcbkFwcFByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveShyZW1vdmVWaWV3KSB7XG4gICAgaWYgKHRoaXMuX2xvYWRlcikge1xuICAgICAgICB0aGlzLl9sb2FkZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLl9sb2FkZXIgPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLl9wYXJlbnREZXN0cm95KHJlbW92ZVZpZXcpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX0ludGVyYWN0aW9uRGF0YSA9IHJlcXVpcmUoJy4vSW50ZXJhY3Rpb25EYXRhJyk7XG5cbnZhciBfSW50ZXJhY3Rpb25EYXRhMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ludGVyYWN0aW9uRGF0YSk7XG5cbnZhciBfSW50ZXJhY3Rpb25FdmVudCA9IHJlcXVpcmUoJy4vSW50ZXJhY3Rpb25FdmVudCcpO1xuXG52YXIgX0ludGVyYWN0aW9uRXZlbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW50ZXJhY3Rpb25FdmVudCk7XG5cbnZhciBfSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEgPSByZXF1aXJlKCcuL0ludGVyYWN0aW9uVHJhY2tpbmdEYXRhJyk7XG5cbnZhciBfSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEpO1xuXG52YXIgX2V2ZW50ZW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50ZW1pdHRlcjMnKTtcblxudmFyIF9ldmVudGVtaXR0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXZlbnRlbWl0dGVyKTtcblxudmFyIF9pbnRlcmFjdGl2ZVRhcmdldCA9IHJlcXVpcmUoJy4vaW50ZXJhY3RpdmVUYXJnZXQnKTtcblxudmFyIF9pbnRlcmFjdGl2ZVRhcmdldDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnRlcmFjdGl2ZVRhcmdldCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLy8gTWl4IGludGVyYWN0aXZlVGFyZ2V0IGludG8gY29yZS5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgYWZ0ZXIgZGVwcmVjYXRpb24gaGFzIGJlZW4gaGFuZGxlZFxuY29yZS51dGlscy5taXhpbnMuZGVsYXlNaXhpbihjb3JlLkRpc3BsYXlPYmplY3QucHJvdG90eXBlLCBfaW50ZXJhY3RpdmVUYXJnZXQyLmRlZmF1bHQpO1xuXG52YXIgTU9VU0VfUE9JTlRFUl9JRCA9IDE7XG5cbi8vIGhlbHBlcnMgZm9yIGhpdFRlc3QoKSAtIG9ubHkgdXNlZCBpbnNpZGUgaGl0VGVzdCgpXG52YXIgaGl0VGVzdEV2ZW50ID0ge1xuICAgIHRhcmdldDogbnVsbCxcbiAgICBkYXRhOiB7XG4gICAgICAgIGdsb2JhbDogbnVsbFxuICAgIH1cbn07XG5cbi8qKlxuICogVGhlIGludGVyYWN0aW9uIG1hbmFnZXIgZGVhbHMgd2l0aCBtb3VzZSwgdG91Y2ggYW5kIHBvaW50ZXIgZXZlbnRzLiBBbnkgRGlzcGxheU9iamVjdCBjYW4gYmUgaW50ZXJhY3RpdmVcbiAqIGlmIGl0cyBpbnRlcmFjdGl2ZSBwYXJhbWV0ZXIgaXMgc2V0IHRvIHRydWVcbiAqIFRoaXMgbWFuYWdlciBhbHNvIHN1cHBvcnRzIG11bHRpdG91Y2guXG4gKlxuICogQW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgYnkgZGVmYXVsdCwgYW5kIGNhbiBiZSBmb3VuZCBhdCByZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBFdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uXG4gKi9cblxudmFyIEludGVyYWN0aW9uTWFuYWdlciA9IGZ1bmN0aW9uIChfRXZlbnRFbWl0dGVyKSB7XG4gICAgX2luaGVyaXRzKEludGVyYWN0aW9uTWFuYWdlciwgX0V2ZW50RW1pdHRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2FudmFzUmVuZGVyZXJ8UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25zIGZvciB0aGUgbWFuYWdlci5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9QcmV2ZW50RGVmYXVsdD10cnVlXSAtIFNob3VsZCB0aGUgbWFuYWdlciBhdXRvbWF0aWNhbGx5IHByZXZlbnQgZGVmYXVsdCBicm93c2VyIGFjdGlvbnMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmludGVyYWN0aW9uRnJlcXVlbmN5PTEwXSAtIEZyZXF1ZW5jeSBpbmNyZWFzZXMgdGhlIGludGVyYWN0aW9uIGV2ZW50cyB3aWxsIGJlIGNoZWNrZWQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gSW50ZXJhY3Rpb25NYW5hZ2VyKHJlbmRlcmVyLCBvcHRpb25zKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbnRlcmFjdGlvbk1hbmFnZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEVtaXR0ZXIuY2FsbCh0aGlzKSk7XG5cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZW5kZXJlciB0aGlzIGludGVyYWN0aW9uIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN5c3RlbVJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2hvdWxkIGRlZmF1bHQgYnJvd3NlciBhY3Rpb25zIGF1dG9tYXRpY2FsbHkgYmUgcHJldmVudGVkLlxuICAgICAgICAgKiBEb2VzIG5vdCBhcHBseSB0byBwb2ludGVyIGV2ZW50cyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgICAgICAgICogcHJldmVudERlZmF1bHQgb24gcG9pbnRlciBldmVudHMgc3RvcHMgbW91c2UgZXZlbnRzIGZyb20gZmlyaW5nXG4gICAgICAgICAqIFRodXMsIGZvciBldmVyeSBwb2ludGVyIGV2ZW50LCB0aGVyZSB3aWxsIGFsd2F5cyBiZSBlaXRoZXIgYSBtb3VzZSBvZiB0b3VjaCBldmVudCBhbG9uZ3NpZGUgaXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1dG9QcmV2ZW50RGVmYXVsdCA9IG9wdGlvbnMuYXV0b1ByZXZlbnREZWZhdWx0ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmF1dG9QcmV2ZW50RGVmYXVsdCA6IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZyZXF1ZW5jeSBpbiBtaWxsaXNlY29uZHMgdGhhdCB0aGUgbW91c2Vtb3ZlLCBtb3Zlb3ZlciAmIG1vdXNlb3V0IGludGVyYWN0aW9uIGV2ZW50cyB3aWxsIGJlIGNoZWNrZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTBcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmludGVyYWN0aW9uRnJlcXVlbmN5ID0gb3B0aW9ucy5pbnRlcmFjdGlvbkZyZXF1ZW5jeSB8fCAxMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1vdXNlIGRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkRhdGF9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tb3VzZSA9IG5ldyBfSW50ZXJhY3Rpb25EYXRhMi5kZWZhdWx0KCk7XG4gICAgICAgIF90aGlzLm1vdXNlLmlkZW50aWZpZXIgPSBNT1VTRV9QT0lOVEVSX0lEO1xuXG4gICAgICAgIC8vIHNldHRpbmcgdGhlIG1vdXNlIHRvIHN0YXJ0IG9mZiBmYXIgb2ZmIHNjcmVlbiB3aWxsIG1lYW4gdGhhdCBtb3VzZSBvdmVyIGRvZXNcbiAgICAgICAgLy8gIG5vdCBnZXQgY2FsbGVkIGJlZm9yZSB3ZSBldmVuIG1vdmUgdGhlIG1vdXNlLlxuICAgICAgICBfdGhpcy5tb3VzZS5nbG9iYWwuc2V0KC05OTk5OTkpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBY3RpdmVseSB0cmFja2VkIEludGVyYWN0aW9uRGF0YVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3QuPG51bWJlcixQSVhJLmludGVyYXRpb24uSW50ZXJhY3Rpb25EYXRhPn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YSA9IHt9O1xuICAgICAgICBfdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbTU9VU0VfUE9JTlRFUl9JRF0gPSBfdGhpcy5tb3VzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiB1bnVzZWQgSW50ZXJhY3Rpb25EYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuaW50ZXJhdGlvbi5JbnRlcmFjdGlvbkRhdGFbXX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmludGVyYWN0aW9uRGF0YVBvb2wgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gZXZlbnQgZGF0YSBvYmplY3QgdG8gaGFuZGxlIGFsbCB0aGUgZXZlbnQgdHJhY2tpbmcvZGlzcGF0Y2hpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZXZlbnREYXRhID0gbmV3IF9JbnRlcmFjdGlvbkV2ZW50Mi5kZWZhdWx0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBET00gZWxlbWVudCB0byBiaW5kIHRvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtIVE1MRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgcHJvcGVydHkgZGV0ZXJtaW5lcyBpZiBtb3VzZW1vdmUgYW5kIHRvdWNobW92ZSBldmVudHMgYXJlIGZpcmVkIG9ubHkgd2hlbiB0aGUgY3Vyc29yXG4gICAgICAgICAqIGlzIG92ZXIgdGhlIG9iamVjdC5cbiAgICAgICAgICogU2V0dGluZyB0byB0cnVlIHdpbGwgbWFrZSB0aGluZ3Mgd29yayBtb3JlIGluIGxpbmUgd2l0aCBob3cgdGhlIERPTSB2ZXJpc29uIHdvcmtzLlxuICAgICAgICAgKiBTZXR0aW5nIHRvIGZhbHNlIGNhbiBtYWtlIHRoaW5ncyBlYXNpZXIgZm9yIHRoaW5ncyBsaWtlIGRyYWdnaW5nXG4gICAgICAgICAqIEl0IGlzIGN1cnJlbnRseSBzZXQgdG8gZmFsc2UgYXMgdGhpcyBpcyBob3cgUGl4aUpTIHVzZWQgdG8gd29yay4gVGhpcyB3aWxsIGJlIHNldCB0byB0cnVlIGluXG4gICAgICAgICAqIGZ1dHVyZSB2ZXJzaW9ucyBvZiBwaXhpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubW92ZVdoZW5JbnNpZGUgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSGF2ZSBldmVudHMgYmVlbiBhdHRhY2hlZCB0byB0aGUgZG9tIGVsZW1lbnQ/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ldmVudHNBZGRlZCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJcyB0aGUgbW91c2UgaG92ZXJpbmcgb3ZlciB0aGUgcmVuZGVyZXI/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5tb3VzZU92ZXJSZW5kZXJlciA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb2VzIHRoZSBkZXZpY2Ugc3VwcG9ydCB0b3VjaCBldmVudHNcbiAgICAgICAgICogaHR0cHM6Ly93d3cudzMub3JnL1RSL3RvdWNoLWV2ZW50cy9cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzID0gJ29udG91Y2hzdGFydCcgaW4gd2luZG93O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb2VzIHRoZSBkZXZpY2Ugc3VwcG9ydCBwb2ludGVyIGV2ZW50c1xuICAgICAgICAgKiBodHRwczovL3d3dy53My5vcmcvU3VibWlzc2lvbi9wb2ludGVyLWV2ZW50cy9cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMgPSAhIXdpbmRvdy5Qb2ludGVyRXZlbnQ7XG5cbiAgICAgICAgLy8gdGhpcyB3aWxsIG1ha2UgaXQgc28gdGhhdCB5b3UgZG9uJ3QgaGF2ZSB0byBjYWxsIGJpbmQgYWxsIHRoZSB0aW1lXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Qb2ludGVyVXAgPSBfdGhpcy5vblBvaW50ZXJVcC5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMucHJvY2Vzc1BvaW50ZXJVcCA9IF90aGlzLnByb2Nlc3NQb2ludGVyVXAuYmluZChfdGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Qb2ludGVyQ2FuY2VsID0gX3RoaXMub25Qb2ludGVyQ2FuY2VsLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5wcm9jZXNzUG9pbnRlckNhbmNlbCA9IF90aGlzLnByb2Nlc3NQb2ludGVyQ2FuY2VsLmJpbmQoX3RoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm9uUG9pbnRlckRvd24gPSBfdGhpcy5vblBvaW50ZXJEb3duLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5wcm9jZXNzUG9pbnRlckRvd24gPSBfdGhpcy5wcm9jZXNzUG9pbnRlckRvd24uYmluZChfdGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25Qb2ludGVyTW92ZSA9IF90aGlzLm9uUG9pbnRlck1vdmUuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLnByb2Nlc3NQb2ludGVyTW92ZSA9IF90aGlzLnByb2Nlc3NQb2ludGVyTW92ZS5iaW5kKF90aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vblBvaW50ZXJPdXQgPSBfdGhpcy5vblBvaW50ZXJPdXQuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCA9IF90aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dC5iaW5kKF90aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vblBvaW50ZXJPdmVyID0gX3RoaXMub25Qb2ludGVyT3Zlci5iaW5kKF90aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGljdGlvbmFyeSBvZiBob3cgZGlmZmVyZW50IGN1cnNvciBtb2RlcyBhcmUgaGFuZGxlZC4gU3RyaW5ncyBhcmUgaGFuZGxlZCBhcyBDU1MgY3Vyc29yXG4gICAgICAgICAqIHZhbHVlcywgb2JqZWN0cyBhcmUgaGFuZGxlZCBhcyBkaWN0aW9uYXJpZXMgb2YgQ1NTIHZhbHVlcyBmb3IgaW50ZXJhY3Rpb25ET01FbGVtZW50LFxuICAgICAgICAgKiBhbmQgZnVuY3Rpb25zIGFyZSBjYWxsZWQgaW5zdGVhZCBvZiBjaGFuZ2luZyB0aGUgQ1NTLlxuICAgICAgICAgKiBEZWZhdWx0IENTUyBjdXJzb3IgdmFsdWVzIGFyZSBwcm92aWRlZCBmb3IgJ2RlZmF1bHQnIGFuZCAncG9pbnRlcicgbW9kZXMuXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdC48c3RyaW5nLCAoc3RyaW5nfEZ1bmN0aW9ufE9iamVjdC48c3RyaW5nLCBzdHJpbmc+KT59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jdXJzb3JTdHlsZXMgPSB7XG4gICAgICAgICAgICBkZWZhdWx0OiAnaW5oZXJpdCcsXG4gICAgICAgICAgICBwb2ludGVyOiAncG9pbnRlcidcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1vZGUgb2YgdGhlIGN1cnNvciB0aGF0IGlzIGJlaW5nIHVzZWQuXG4gICAgICAgICAqIFRoZSB2YWx1ZSBvZiB0aGlzIGlzIGEga2V5IGZyb20gdGhlIGN1cnNvclN0eWxlcyBkaWN0aW9uYXJ5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jdXJyZW50Q3Vyc29yTW9kZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIGNhY2hlZCBsZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmN1cnNvciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIGNhY2hlZCBsZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGVtcFBvaW50ID0gbmV3IGNvcmUuUG9pbnQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpby5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZXNvbHV0aW9uID0gMTtcblxuICAgICAgICBfdGhpcy5zZXRUYXJnZXRFbGVtZW50KF90aGlzLnJlbmRlcmVyLnZpZXcsIF90aGlzLnJlbmRlcmVyLnJlc29sdXRpb24pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHByZXNzZWQgb24gdGhlIGRpc3BsYXlcbiAgICAgICAgICogb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2Vkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNyaWdodGRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcmVsZWFzZWQgb3ZlciB0aGUgZGlzcGxheVxuICAgICAgICAgKiBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZXVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcmVsZWFzZWRcbiAgICAgICAgICogb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNyaWdodHVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIG9uXG4gICAgICAgICAqIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2NsaWNrXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBhbmQgcmVsZWFzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcmlnaHRjbGlja1xuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyByZWxlYXNlZCBvdXRzaWRlIHRoZVxuICAgICAgICAgKiBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseSByZWdpc3RlcmVkIGFcbiAgICAgICAgICogW21vdXNlZG93bl17QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6bW91c2Vkb3dufS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNldXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcmVsZWFzZWRcbiAgICAgICAgICogb3V0c2lkZSB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHkgcmVnaXN0ZXJlZCBhXG4gICAgICAgICAqIFtyaWdodGRvd25de0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50OnJpZ2h0ZG93bn0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNyaWdodHVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIHdoaWxlIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZW1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCBvbnRvIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2VvdmVyXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgb2ZmIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2VvdXRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcHJlc3NlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVyZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyByZWxlYXNlZCBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJ1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBjYW5jZWxzIGEgcG9pbnRlciBldmVudFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcmNhbmNlbFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVydGFwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHJlbGVhc2VkIG91dHNpZGUgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5XG4gICAgICAgICAqIHJlZ2lzdGVyZWQgYSBbcG9pbnRlcmRvd25de0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50OnBvaW50ZXJkb3dufS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJ1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCB3aGlsZSBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcm1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCBvbnRvIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcm92ZXJcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCBvZmYgdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVyb3V0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcGxhY2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNoc3RhcnRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyByZW1vdmVkIGZyb20gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2hlbmRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIG9wZXJhdGluZyBzeXN0ZW0gY2FuY2VscyBhIHRvdWNoXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaGNhbmNlbFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHBsYWNlZCBhbmQgcmVtb3ZlZCBmcm9tIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3RhcFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHJlbW92ZWQgb3V0c2lkZSBvZiB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHlcbiAgICAgICAgICogcmVnaXN0ZXJlZCBhIFt0b3VjaHN0YXJ0XXtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNldmVudDp0b3VjaHN0YXJ0fS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNoZW5kb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIG1vdmVkIGFsb25nIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNobW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyBwcmVzc2VkIG9uIHRoZSBkaXNwbGF5LlxuICAgICAgICAgKiBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNlZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHByZXNzZWRcbiAgICAgICAgICogb24gdGhlIGRpc3BsYXkgb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyaWdodGRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcmVsZWFzZWQgb3ZlciB0aGUgZGlzcGxheVxuICAgICAgICAgKiBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNldXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyByZWxlYXNlZFxuICAgICAgICAgKiBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmlnaHR1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBvblxuICAgICAgICAgKiB0aGUgZGlzcGxheSBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I2NsaWNrXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBhbmQgcmVsZWFzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyaWdodGNsaWNrXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHJlbGVhc2VkIG91dHNpZGUgdGhlXG4gICAgICAgICAqIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5IHJlZ2lzdGVyZWQgYVxuICAgICAgICAgKiBbbW91c2Vkb3duXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZXZlbnQ6bW91c2Vkb3dufS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2V1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyByZWxlYXNlZFxuICAgICAgICAgKiBvdXRzaWRlIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseSByZWdpc3RlcmVkIGFcbiAgICAgICAgICogW3JpZ2h0ZG93bl17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2V2ZW50OnJpZ2h0ZG93bn0uXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JpZ2h0dXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgd2hpbGUgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNlbW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIG9udG8gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZW92ZXJcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCBvZmYgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZW91dFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyBwcmVzc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcmRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcmVsZWFzZWQgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJ1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBjYW5jZWxzIGEgcG9pbnRlciBldmVudC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcmNhbmNlbFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJ0YXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcmVsZWFzZWQgb3V0c2lkZSB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHlcbiAgICAgICAgICogcmVnaXN0ZXJlZCBhIFtwb2ludGVyZG93bl17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2V2ZW50OnBvaW50ZXJkb3dufS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcnVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIHdoaWxlIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVybW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9udG8gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVyb3ZlclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9mZiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJvdXRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBwbGFjZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaHN0YXJ0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2hlbmRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIG9wZXJhdGluZyBzeXN0ZW0gY2FuY2VscyBhIHRvdWNoLlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaGNhbmNlbFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHBsYWNlZCBhbmQgcmVtb3ZlZCBmcm9tIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdGFwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcmVtb3ZlZCBvdXRzaWRlIG9mIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseVxuICAgICAgICAgKiByZWdpc3RlcmVkIGEgW3RvdWNoc3RhcnRde0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNldmVudDp0b3VjaHN0YXJ0fS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2hlbmRvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgbW92ZWQgYWxvbmcgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaG1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIaXQgdGVzdHMgYSBwb2ludCBhZ2FpbnN0IHRoZSBkaXNwbGF5IHRyZWUsIHJldHVybmluZyB0aGUgZmlyc3QgaW50ZXJhY3RpdmUgb2JqZWN0IHRoYXQgaXMgaGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBnbG9iYWxQb2ludCAtIEEgcG9pbnQgdG8gaGl0IHRlc3Qgd2l0aCwgaW4gZ2xvYmFsIHNwYWNlLlxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IFtyb290XSAtIFRoZSByb290IGRpc3BsYXkgb2JqZWN0IHRvIHN0YXJ0IGZyb20uIElmIG9taXR0ZWQsIGRlZmF1bHRzXG4gICAgICogdG8gdGhlIGxhc3QgcmVuZGVyZWQgcm9vdCBvZiB0aGUgYXNzb2NpYXRlZCByZW5kZXJlci5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBoaXQgZGlzcGxheSBvYmplY3QsIGlmIGFueS5cbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5oaXRUZXN0ID0gZnVuY3Rpb24gaGl0VGVzdChnbG9iYWxQb2ludCwgcm9vdCkge1xuICAgICAgICAvLyBjbGVhciB0aGUgdGFyZ2V0IGZvciBvdXIgaGl0IHRlc3RcbiAgICAgICAgaGl0VGVzdEV2ZW50LnRhcmdldCA9IG51bGw7XG4gICAgICAgIC8vIGFzc2lnbiB0aGUgZ2xvYmFsIHBvaW50XG4gICAgICAgIGhpdFRlc3RFdmVudC5kYXRhLmdsb2JhbCA9IGdsb2JhbFBvaW50O1xuICAgICAgICAvLyBlbnN1cmUgc2FmZXR5IG9mIHRoZSByb290XG4gICAgICAgIGlmICghcm9vdCkge1xuICAgICAgICAgICAgcm9vdCA9IHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBydW4gdGhlIGhpdCB0ZXN0XG4gICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGhpdFRlc3RFdmVudCwgcm9vdCwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgIC8vIHJldHVybiBvdXIgZm91bmQgb2JqZWN0IC0gaXQnbGwgYmUgbnVsbCBpZiB3ZSBkaWRuJ3QgaGl0IGFueXRoaW5nXG5cbiAgICAgICAgcmV0dXJuIGhpdFRlc3RFdmVudC50YXJnZXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIERPTSBlbGVtZW50IHdoaWNoIHdpbGwgcmVjZWl2ZSBtb3VzZS90b3VjaCBldmVudHMuIFRoaXMgaXMgdXNlZnVsIGZvciB3aGVuIHlvdSBoYXZlXG4gICAgICogb3RoZXIgRE9NIGVsZW1lbnRzIG9uIHRvcCBvZiB0aGUgcmVuZGVyZXJzIENhbnZhcyBlbGVtZW50LiBXaXRoIHRoaXMgeW91J2xsIGJlIGJhbGUgdG8gZGVsZXRlZ2F0ZVxuICAgICAqIGFub3RoZXIgRE9NIGVsZW1lbnQgdG8gcmVjZWl2ZSB0aG9zZSBldmVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBlbGVtZW50IC0gdGhlIERPTSBlbGVtZW50IHdoaWNoIHdpbGwgcmVjZWl2ZSBtb3VzZSBhbmQgdG91Y2ggZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSBuZXcgZWxlbWVudCAocmVsYXRpdmUgdG8gdGhlIGNhbnZhcykuXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuc2V0VGFyZ2V0RWxlbWVudCA9IGZ1bmN0aW9uIHNldFRhcmdldEVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMTtcblxuICAgICAgICB0aGlzLnJlbW92ZUV2ZW50cygpO1xuXG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID0gZWxlbWVudDtcblxuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuXG4gICAgICAgIHRoaXMuYWRkRXZlbnRzKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhbGwgdGhlIERPTSBldmVudHNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuYWRkRXZlbnRzID0gZnVuY3Rpb24gYWRkRXZlbnRzKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb3JlLnRpY2tlci5zaGFyZWQuYWRkKHRoaXMudXBkYXRlLCB0aGlzLCBjb3JlLlVQREFURV9QUklPUklUWS5JTlRFUkFDVElPTik7XG5cbiAgICAgICAgaWYgKHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGVbJy1tcy1jb250ZW50LXpvb21pbmcnXSA9ICdub25lJztcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlWyctbXMtdG91Y2gtYWN0aW9uJ10gPSAnbm9uZSc7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlWyd0b3VjaC1hY3Rpb24nXSA9ICdub25lJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGVzZSBldmVudHMgYXJlIGFkZGVkIGZpcnN0LCBzbyB0aGF0IGlmIHBvaW50ZXIgZXZlbnRzIGFyZSBub3JtYWxpc2VkLCB0aGV5IGFyZSBmaXJlZFxuICAgICAgICAgKiBpbiB0aGUgc2FtZSBvcmRlciBhcyBub24tbm9ybWFsaXNlZCBldmVudHMuIGllLiBwb2ludGVyIGV2ZW50IDFzdCwgbW91c2UgLyB0b3VjaCAybmRcbiAgICAgICAgICovXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cykge1xuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIC8vIHBvaW50ZXJvdXQgaXMgZmlyZWQgaW4gYWRkaXRpb24gdG8gcG9pbnRlcnVwIChmb3IgdG91Y2ggZXZlbnRzKSBhbmQgcG9pbnRlcmNhbmNlbFxuICAgICAgICAgICAgLy8gd2UgYWxyZWFkeSBoYW5kbGUgdGhvc2UsIHNvIGZvciB0aGUgcHVycG9zZXMgb2Ygd2hhdCB3ZSBkbyBpbiBvblBvaW50ZXJPdXQsIHdlIG9ubHlcbiAgICAgICAgICAgIC8vIGNhcmUgYWJvdXQgdGhlIHBvaW50ZXJsZWF2ZSBldmVudFxuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxlYXZlJywgdGhpcy5vblBvaW50ZXJPdXQsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm92ZXInLCB0aGlzLm9uUG9pbnRlck92ZXIsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJjYW5jZWwnLCB0aGlzLm9uUG9pbnRlckNhbmNlbCwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIHRoaXMub25Qb2ludGVyT3V0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMub25Qb2ludGVyT3ZlciwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWx3YXlzIGxvb2sgZGlyZWN0bHkgZm9yIHRvdWNoIGV2ZW50cyBzbyB0aGF0IHdlIGNhbiBwcm92aWRlIG9yaWdpbmFsIGRhdGFcbiAgICAgICAgLy8gSW4gYSBmdXR1cmUgdmVyc2lvbiB3ZSBzaG91bGQgY2hhbmdlIHRoaXMgdG8gYmVpbmcganVzdCBhIGZhbGxiYWNrIGFuZCByZWx5IHNvbGVseSBvblxuICAgICAgICAvLyBQb2ludGVyRXZlbnRzIHdoZW5ldmVyIGF2YWlsYWJsZVxuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzKSB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgdGhpcy5vblBvaW50ZXJDYW5jZWwsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmV2ZW50c0FkZGVkID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgdGhlIERPTSBldmVudHMgdGhhdCB3ZXJlIHByZXZpb3VzbHkgcmVnaXN0ZXJlZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5yZW1vdmVFdmVudHMgPSBmdW5jdGlvbiByZW1vdmVFdmVudHMoKSB7XG4gICAgICAgIGlmICghdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvcmUudGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuXG4gICAgICAgIGlmICh3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlWyctbXMtY29udGVudC16b29taW5nJ10gPSAnJztcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlWyctbXMtdG91Y2gtYWN0aW9uJ10gPSAnJztcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cykge1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGVbJ3RvdWNoLWFjdGlvbiddID0gJyc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpIHtcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVybGVhdmUnLCB0aGlzLm9uUG9pbnRlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyb3ZlcicsIHRoaXMub25Qb2ludGVyT3ZlciwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmNhbmNlbCcsIHRoaXMub25Qb2ludGVyQ2FuY2VsLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5vblBvaW50ZXJPdXQsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5vblBvaW50ZXJPdmVyLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzKSB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgdGhpcy5vblBvaW50ZXJDYW5jZWwsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5ldmVudHNBZGRlZCA9IGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBzdGF0ZSBvZiBpbnRlcmFjdGl2ZSBvYmplY3RzLlxuICAgICAqIEludm9rZWQgYnkgYSB0aHJvdHRsZWQgdGlja2VyIHVwZGF0ZSBmcm9tIHtAbGluayBQSVhJLnRpY2tlci5zaGFyZWR9LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhVGltZSAtIHRpbWUgZGVsdGEgc2luY2UgbGFzdCB0aWNrXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKGRlbHRhVGltZSkge1xuICAgICAgICB0aGlzLl9kZWx0YVRpbWUgKz0gZGVsdGFUaW1lO1xuXG4gICAgICAgIGlmICh0aGlzLl9kZWx0YVRpbWUgPCB0aGlzLmludGVyYWN0aW9uRnJlcXVlbmN5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9kZWx0YVRpbWUgPSAwO1xuXG4gICAgICAgIGlmICghdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoZSB1c2VyIG1vdmUgdGhlIG1vdXNlIHRoaXMgY2hlY2sgaGFzIGFscmVhZHkgYmVlbiBkb25lIHVzaW5nIHRoZSBtb3VzZSBtb3ZlIVxuICAgICAgICBpZiAodGhpcy5kaWRNb3ZlKSB7XG4gICAgICAgICAgICB0aGlzLmRpZE1vdmUgPSBmYWxzZTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jdXJzb3IgPSBudWxsO1xuXG4gICAgICAgIC8vIFJlc2V0cyB0aGUgZmxhZyBhcyBzZXQgYnkgYSBzdG9wUHJvcGFnYXRpb24gY2FsbC4gVGhpcyBmbGFnIGlzIHVzdWFsbHkgcmVzZXQgYnkgYSB1c2VyIGludGVyYWN0aW9uIG9mIGFueSBraW5kLFxuICAgICAgICAvLyBidXQgdGhlcmUgd2FzIGEgc2NlbmFyaW8gb2YgYSBkaXNwbGF5IG9iamVjdCBtb3ZpbmcgdW5kZXIgYSBzdGF0aWMgbW91c2UgY3Vyc29yLlxuICAgICAgICAvLyBJbiB0aGlzIGNhc2UsIG1vdXNlb3ZlciBhbmQgbW91c2VldmVudHMgd291bGQgbm90IHBhc3MgdGhlIGZsYWcgdGVzdCBpbiBkaXNwYXRjaEV2ZW50IGZ1bmN0aW9uXG4gICAgICAgIGZvciAodmFyIGsgaW4gdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGEpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnNcbiAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YS5oYXNPd25Qcm9wZXJ0eShrKSkge1xuICAgICAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtrXTtcblxuICAgICAgICAgICAgICAgIGlmIChpbnRlcmFjdGlvbkRhdGEub3JpZ2luYWxFdmVudCAmJiBpbnRlcmFjdGlvbkRhdGEucG9pbnRlclR5cGUgIT09ICd0b3VjaCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgaW50ZXJhY3Rpb25EYXRhLm9yaWdpbmFsRXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgdGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkLCB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRDdXJzb3JNb2RlKHRoaXMuY3Vyc29yKTtcblxuICAgICAgICAvLyBUT0RPXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGN1cnJlbnQgY3Vyc29yIG1vZGUsIGhhbmRsaW5nIGFueSBjYWxsYmFja3Mgb3IgQ1NTIHN0eWxlIGNoYW5nZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbW9kZSAtIGN1cnNvciBtb2RlLCBhIGtleSBmcm9tIHRoZSBjdXJzb3JTdHlsZXMgZGljdGlvbmFyeVxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnNldEN1cnNvck1vZGUgPSBmdW5jdGlvbiBzZXRDdXJzb3JNb2RlKG1vZGUpIHtcbiAgICAgICAgbW9kZSA9IG1vZGUgfHwgJ2RlZmF1bHQnO1xuICAgICAgICAvLyBpZiB0aGUgbW9kZSBkaWRuJ3QgYWN0dWFsbHkgY2hhbmdlLCBiYWlsIGVhcmx5XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRDdXJzb3JNb2RlID09PSBtb2RlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50Q3Vyc29yTW9kZSA9IG1vZGU7XG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuY3Vyc29yU3R5bGVzW21vZGVdO1xuXG4gICAgICAgIC8vIG9ubHkgZG8gdGhpbmdzIGlmIHRoZXJlIGlzIGEgY3Vyc29yIHN0eWxlIGZvciBpdFxuICAgICAgICBpZiAoc3R5bGUpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHN0eWxlID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihzdHlsZSkpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgICAgICAvLyBzdHJpbmcgc3R5bGVzIGFyZSBoYW5kbGVkIGFzIGN1cnNvciBDU1NcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGUuY3Vyc29yID0gc3R5bGU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICAgICAgICAgICAgLy8gZnVuY3Rpb25zIGFyZSBqdXN0IGNhbGxlZCwgYW5kIHBhc3NlZCB0aGUgY3Vyc29yIG1vZGVcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUobW9kZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0IGlzIGFuIG9iamVjdCwgYXNzdW1lIHRoYXQgaXQgaXMgYSBkaWN0aW9uYXJ5IG9mIENTUyBzdHlsZXMsXG4gICAgICAgICAgICAgICAgICAgIC8vIGFwcGx5IGl0IHRvIHRoZSBpbnRlcmFjdGlvbkRPTUVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZSwgc3R5bGUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kZSA9PT0gJ3N0cmluZycgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmN1cnNvclN0eWxlcywgbW9kZSkpIHtcbiAgICAgICAgICAgIC8vIGlmIGl0IG1vZGUgaXMgYSBzdHJpbmcgKG5vdCBhIFN5bWJvbCkgYW5kIGN1cnNvclN0eWxlcyBkb2Vzbid0IGhhdmUgYW55IGVudHJ5XG4gICAgICAgICAgICAvLyBmb3IgdGhlIG1vZGUsIHRoZW4gYXNzdW1lIHRoYXQgdGhlIGRldiB3YW50cyBpdCB0byBiZSBDU1MgZm9yIHRoZSBjdXJzb3IuXG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZS5jdXJzb3IgPSBtb2RlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZXMgYW4gZXZlbnQgb24gdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIGludGVyYWN0ZWQgd2l0aFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSB0aGUgZGlzcGxheSBvYmplY3QgaW4gcXVlc3Rpb25cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRTdHJpbmcgLSB0aGUgbmFtZSBvZiB0aGUgZXZlbnQgKGUuZywgbW91c2Vkb3duKVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudERhdGEgLSB0aGUgZXZlbnQgZGF0YSBvYmplY3RcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQgPSBmdW5jdGlvbiBkaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsIGV2ZW50U3RyaW5nLCBldmVudERhdGEpIHtcbiAgICAgICAgaWYgKCFldmVudERhdGEuc3RvcHBlZCkge1xuICAgICAgICAgICAgZXZlbnREYXRhLmN1cnJlbnRUYXJnZXQgPSBkaXNwbGF5T2JqZWN0O1xuICAgICAgICAgICAgZXZlbnREYXRhLnR5cGUgPSBldmVudFN0cmluZztcblxuICAgICAgICAgICAgZGlzcGxheU9iamVjdC5lbWl0KGV2ZW50U3RyaW5nLCBldmVudERhdGEpO1xuXG4gICAgICAgICAgICBpZiAoZGlzcGxheU9iamVjdFtldmVudFN0cmluZ10pIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0W2V2ZW50U3RyaW5nXShldmVudERhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1hcHMgeCBhbmQgeSBjb29yZHMgZnJvbSBhIERPTSBvYmplY3QgYW5kIG1hcHMgdGhlbSBjb3JyZWN0bHkgdG8gdGhlIFBpeGlKUyB2aWV3LiBUaGVcbiAgICAgKiByZXN1bHRpbmcgdmFsdWUgaXMgc3RvcmVkIGluIHRoZSBwb2ludC4gVGhpcyB0YWtlcyBpbnRvIGFjY291bnQgdGhlIGZhY3QgdGhhdCB0aGUgRE9NXG4gICAgICogZWxlbWVudCBjb3VsZCBiZSBzY2FsZWQgYW5kIHBvc2l0aW9uZWQgYW55d2hlcmUgb24gdGhlIHNjcmVlbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge1BJWEkuUG9pbnR9IHBvaW50IC0gdGhlIHBvaW50IHRoYXQgdGhlIHJlc3VsdCB3aWxsIGJlIHN0b3JlZCBpblxuICAgICAqIEBwYXJhbSAge251bWJlcn0geCAtIHRoZSB4IGNvb3JkIG9mIHRoZSBwb3NpdGlvbiB0byBtYXBcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IHkgLSB0aGUgeSBjb29yZCBvZiB0aGUgcG9zaXRpb24gdG8gbWFwXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUubWFwUG9zaXRpb25Ub1BvaW50ID0gZnVuY3Rpb24gbWFwUG9zaXRpb25Ub1BvaW50KHBvaW50LCB4LCB5KSB7XG4gICAgICAgIHZhciByZWN0ID0gdm9pZCAwO1xuXG4gICAgICAgIC8vIElFIDExIGZpeFxuICAgICAgICBpZiAoIXRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJlY3QgPSB7IHg6IDAsIHk6IDAsIHdpZHRoOiAwLCBoZWlnaHQ6IDAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlY3QgPSB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZXNvbHV0aW9uTXVsdGlwbGllciA9IG5hdmlnYXRvci5pc0NvY29vbkpTID8gdGhpcy5yZXNvbHV0aW9uIDogMS4wIC8gdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgICAgIHBvaW50LnggPSAoeCAtIHJlY3QubGVmdCkgKiAodGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQud2lkdGggLyByZWN0LndpZHRoKSAqIHJlc29sdXRpb25NdWx0aXBsaWVyO1xuICAgICAgICBwb2ludC55ID0gKHkgLSByZWN0LnRvcCkgKiAodGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuaGVpZ2h0IC8gcmVjdC5oZWlnaHQpICogcmVzb2x1dGlvbk11bHRpcGxpZXI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgcHJvdmlkZXMgYSBuZWF0IHdheSBvZiBjcmF3bGluZyB0aHJvdWdoIHRoZSBzY2VuZSBncmFwaCBhbmQgcnVubmluZyBhXG4gICAgICogc3BlY2lmaWVkIGZ1bmN0aW9uIG9uIGFsbCBpbnRlcmFjdGl2ZSBvYmplY3RzIGl0IGZpbmRzLiBJdCB3aWxsIGFsc28gdGFrZSBjYXJlIG9mIGhpdFxuICAgICAqIHRlc3RpbmcgdGhlIGludGVyYWN0aXZlIG9iamVjdHMgYW5kIHBhc3NlcyB0aGUgaGl0IGFjcm9zcyBpbiB0aGUgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gZXZlbnQgY29udGFpbmluZyB0aGUgcG9pbnQgdGhhdFxuICAgICAqICBpcyB0ZXN0ZWQgZm9yIGNvbGxpc2lvblxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5leHRyYXMuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXlPYmplY3RcbiAgICAgKiAgdGhhdCB3aWxsIGJlIGhpdCB0ZXN0IChyZWN1cnNpdmVseSBjcmF3bHMgaXRzIGNoaWxkcmVuKVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtmdW5jXSAtIHRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIG9uIGVhY2ggaW50ZXJhY3RpdmUgb2JqZWN0LiBUaGVcbiAgICAgKiAgaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCBhbmQgaGl0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2hpdFRlc3RdIC0gdGhpcyBpbmRpY2F0ZXMgaWYgdGhlIG9iamVjdHMgaW5zaWRlIHNob3VsZCBiZSBoaXQgdGVzdCBhZ2FpbnN0IHRoZSBwb2ludFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2ludGVyYWN0aXZlXSAtIFdoZXRoZXIgdGhlIGRpc3BsYXlPYmplY3QgaXMgaW50ZXJhY3RpdmVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSByZXR1cm5zIHRydWUgaWYgdGhlIGRpc3BsYXlPYmplY3QgaGl0IHRoZSBwb2ludFxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NJbnRlcmFjdGl2ZSA9IGZ1bmN0aW9uIHByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBmdW5jLCBoaXRUZXN0LCBpbnRlcmFjdGl2ZSkge1xuICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QgfHwgIWRpc3BsYXlPYmplY3QudmlzaWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBvaW50ID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmdsb2JhbDtcblxuICAgICAgICAvLyBUb29rIGEgbGl0dGxlIHdoaWxlIHRvIHJld29yayB0aGlzIGZ1bmN0aW9uIGNvcnJlY3RseSEgQnV0IG5vdyBpdCBpcyBkb25lIGFuZCBuaWNlIGFuZCBvcHRpbWlzZWQuIF5fXlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGlzIGZ1bmN0aW9uIHdpbGwgbm93IGxvb3AgdGhyb3VnaCBhbGwgb2JqZWN0cyBhbmQgdGhlbiBvbmx5IGhpdCB0ZXN0IHRoZSBvYmplY3RzIGl0IEhBU1xuICAgICAgICAvLyB0bywgbm90IGFsbCBvZiB0aGVtLiBNVUNIIGZhc3Rlci4uXG4gICAgICAgIC8vIEFuIG9iamVjdCB3aWxsIGJlIGhpdCB0ZXN0IGlmIHRoZSBmb2xsb3dpbmcgaXMgdHJ1ZTpcbiAgICAgICAgLy9cbiAgICAgICAgLy8gMTogSXQgaXMgaW50ZXJhY3RpdmUuXG4gICAgICAgIC8vIDI6IEl0IGJlbG9uZ3MgdG8gYSBwYXJlbnQgdGhhdCBpcyBpbnRlcmFjdGl2ZSBBTkQgb25lIG9mIHRoZSBwYXJlbnRzIGNoaWxkcmVuIGhhdmUgbm90IGFscmVhZHkgYmVlbiBoaXQuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEFzIGFub3RoZXIgbGl0dGxlIG9wdGltaXNhdGlvbiBvbmNlIGFuIGludGVyYWN0aXZlIG9iamVjdCBoYXMgYmVlbiBoaXQgd2UgY2FuIGNhcnJ5IG9uXG4gICAgICAgIC8vIHRocm91Z2ggdGhlIHNjZW5lZ3JhcGgsIGJ1dCB3ZSBrbm93IHRoYXQgdGhlcmUgd2lsbCBiZSBubyBtb3JlIGhpdHMhIFNvIHdlIGNhbiBhdm9pZCBleHRyYSBoaXQgdGVzdHNcbiAgICAgICAgLy8gQSBmaW5hbCBvcHRpbWlzYXRpb24gaXMgdGhhdCBhbiBvYmplY3QgaXMgbm90IGhpdCB0ZXN0IGRpcmVjdGx5IGlmIGEgY2hpbGQgaGFzIGFscmVhZHkgYmVlbiBoaXQuXG5cbiAgICAgICAgaW50ZXJhY3RpdmUgPSBkaXNwbGF5T2JqZWN0LmludGVyYWN0aXZlIHx8IGludGVyYWN0aXZlO1xuXG4gICAgICAgIHZhciBoaXQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGludGVyYWN0aXZlUGFyZW50ID0gaW50ZXJhY3RpdmU7XG5cbiAgICAgICAgLy8gRmxhZyBoZXJlIGNhbiBzZXQgdG8gZmFsc2UgaWYgdGhlIGV2ZW50IGlzIG91dHNpZGUgdGhlIHBhcmVudHMgaGl0QXJlYSBvciBtYXNrXG4gICAgICAgIHZhciBoaXRUZXN0Q2hpbGRyZW4gPSB0cnVlO1xuXG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGEgaGl0QXJlYSwgbm8gbmVlZCB0byB0ZXN0IGFnYWluc3QgYW55dGhpbmcgZWxzZSBpZiB0aGUgcG9pbnRlciBpcyBub3Qgd2l0aGluIHRoZSBoaXRBcmVhXG4gICAgICAgIC8vIFRoZXJlIGlzIGFsc28gbm8gbG9uZ2VyIGEgbmVlZCB0byBoaXRUZXN0IGNoaWxkcmVuLlxuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5oaXRBcmVhKSB7XG4gICAgICAgICAgICBpZiAoaGl0VGVzdCkge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3Qud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0aGlzLl90ZW1wUG9pbnQpO1xuICAgICAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC5oaXRBcmVhLmNvbnRhaW5zKHRoaXMuX3RlbXBQb2ludC54LCB0aGlzLl90ZW1wUG9pbnQueSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0VGVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBoaXRUZXN0Q2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBoaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGludGVyYWN0aXZlUGFyZW50ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSBtYXNrLCBubyBuZWVkIHRvIHRlc3QgYWdhaW5zdCBhbnl0aGluZyBlbHNlIGlmIHRoZSBwb2ludGVyIGlzIG5vdCB3aXRoaW4gdGhlIG1hc2tcbiAgICAgICAgZWxzZSBpZiAoZGlzcGxheU9iamVjdC5fbWFzaykge1xuICAgICAgICAgICAgICAgIGlmIChoaXRUZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC5fbWFzay5jb250YWluc1BvaW50KHBvaW50KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGl0VGVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGl0VGVzdENoaWxkcmVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgLy8gKiogRlJFRSBUSVAgKiohIElmIGFuIG9iamVjdCBpcyBub3QgaW50ZXJhY3RpdmUgb3IgaGFzIG5vIGJ1dHRvbnMgaW4gaXRcbiAgICAgICAgLy8gKHN1Y2ggYXMgYSBnYW1lIHNjZW5lISkgc2V0IGludGVyYWN0aXZlQ2hpbGRyZW4gdG8gZmFsc2UgZm9yIHRoYXQgZGlzcGxheU9iamVjdC5cbiAgICAgICAgLy8gVGhpcyB3aWxsIGFsbG93IFBpeGlKUyB0byBjb21wbGV0ZWx5IGlnbm9yZSBhbmQgYnlwYXNzIGNoZWNraW5nIHRoZSBkaXNwbGF5T2JqZWN0cyBjaGlsZHJlbi5cbiAgICAgICAgaWYgKGhpdFRlc3RDaGlsZHJlbiAmJiBkaXNwbGF5T2JqZWN0LmludGVyYWN0aXZlQ2hpbGRyZW4gJiYgZGlzcGxheU9iamVjdC5jaGlsZHJlbikge1xuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gZGlzcGxheU9iamVjdC5jaGlsZHJlbjtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgICAgICAvLyB0aW1lIHRvIGdldCByZWN1cnNpdmUuLiBpZiB0aGlzIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGlmIHNvbWV0aGluZyBpcyBoaXQuLlxuICAgICAgICAgICAgICAgIHZhciBjaGlsZEhpdCA9IHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIGNoaWxkLCBmdW5jLCBoaXRUZXN0LCBpbnRlcmFjdGl2ZVBhcmVudCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoY2hpbGRIaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaXRzIGEgZ29vZCBpZGVhIHRvIGNoZWNrIGlmIGEgY2hpbGQgaGFzIGxvc3QgaXRzIHBhcmVudC5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBtZWFucyBpdCBoYXMgYmVlbiByZW1vdmVkIHdoaWxzdCBsb29waW5nIHNvIGl0cyBiZXN0XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hpbGQucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIG5vIGxvbmdlciBuZWVkIHRvIGhpdCB0ZXN0IGFueSBtb3JlIG9iamVjdHMgaW4gdGhpcyBjb250YWluZXIgYXMgd2Ugd2VcbiAgICAgICAgICAgICAgICAgICAgLy8gbm93IGtub3cgdGhlIHBhcmVudCBoYXMgYmVlbiBoaXRcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3RpdmVQYXJlbnQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgY2hpbGQgaXMgaW50ZXJhY3RpdmUgLCB0aGF0IG1lYW5zIHRoYXQgdGhlIG9iamVjdCBoaXQgd2FzIGFjdHVhbGx5XG4gICAgICAgICAgICAgICAgICAgIC8vIGludGVyYWN0aXZlIGFuZCBub3QganVzdCB0aGUgY2hpbGQgb2YgYW4gaW50ZXJhY3RpdmUgb2JqZWN0LlxuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIG1lYW5zIHdlIG5vIGxvbmdlciBuZWVkIHRvIGhpdCB0ZXN0IGFueXRoaW5nIGVsc2UuIFdlIHN0aWxsIG5lZWQgdG8gcnVuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRocm91Z2ggYWxsIG9iamVjdHMsIGJ1dCB3ZSBkb24ndCBuZWVkIHRvIHBlcmZvcm0gYW55IGhpdCB0ZXN0cy5cblxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRIaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnRlcmFjdGlvbkV2ZW50LnRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdFRlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGhpdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBubyBwb2ludCBydW5uaW5nIHRoaXMgaWYgdGhlIGl0ZW0gaXMgbm90IGludGVyYWN0aXZlIG9yIGRvZXMgbm90IGhhdmUgYW4gaW50ZXJhY3RpdmUgcGFyZW50LlxuICAgICAgICBpZiAoaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgICAgIC8vIGlmIHdlIGFyZSBoaXQgdGVzdGluZyAoYXMgaW4gd2UgaGF2ZSBubyBoaXQgYW55IG9iamVjdHMgeWV0KVxuICAgICAgICAgICAgLy8gV2UgYWxzbyBkb24ndCBuZWVkIHRvIHdvcnJ5IGFib3V0IGhpdCB0ZXN0aW5nIGlmIG9uY2Ugb2YgdGhlIGRpc3BsYXlPYmplY3RzIGNoaWxkcmVuXG4gICAgICAgICAgICAvLyBoYXMgYWxyZWFkeSBiZWVuIGhpdCAtIGJ1dCBvbmx5IGlmIGl0IHdhcyBpbnRlcmFjdGl2ZSwgb3RoZXJ3aXNlIHdlIG5lZWQgdG8ga2VlcFxuICAgICAgICAgICAgLy8gbG9va2luZyBmb3IgYW4gaW50ZXJhY3RpdmUgY2hpbGQsIGp1c3QgaW4gY2FzZSB3ZSBoaXQgb25lXG4gICAgICAgICAgICBpZiAoaGl0VGVzdCAmJiAhaW50ZXJhY3Rpb25FdmVudC50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAvLyBhbHJlYWR5IHRlc3RlZCBhZ2FpbnN0IGhpdEFyZWEgaWYgaXQgaXMgZGVmaW5lZFxuICAgICAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC5oaXRBcmVhICYmIGRpc3BsYXlPYmplY3QuY29udGFpbnNQb2ludCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5jb250YWluc1BvaW50KHBvaW50KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGl0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGl0ICYmICFpbnRlcmFjdGlvbkV2ZW50LnRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LnRhcmdldCA9IGRpc3BsYXlPYmplY3Q7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGZ1bmMpIHtcbiAgICAgICAgICAgICAgICAgICAgZnVuYyhpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCAhIWhpdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGhpdDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgYnV0dG9uIGlzIHByZXNzZWQgZG93biBvbiB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyBwcmVzc2VkIGRvd25cbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJEb3duID0gZnVuY3Rpb24gb25Qb2ludGVyRG93bihvcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIG9yaWdpbmFsRXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHJldHVybjtcblxuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBObyBuZWVkIHRvIHByZXZlbnQgZGVmYXVsdCBvbiBuYXR1cmFsIHBvaW50ZXIgZXZlbnRzLCBhcyB0aGVyZSBhcmUgbm8gc2lkZSBlZmZlY3RzXG4gICAgICAgICAqIE5vcm1hbGl6ZWQgZXZlbnRzLCBob3dldmVyLCBtYXkgaGF2ZSB0aGUgZG91YmxlIG1vdXNlZG93bi90b3VjaHN0YXJ0IGlzc3VlIG9uIHRoZSBuYXRpdmUgYW5kcm9pZCBicm93c2VyLFxuICAgICAgICAgKiBzbyBzdGlsbCBuZWVkIHRvIGJlIHByZXZlbnRlZC5cbiAgICAgICAgICovXG5cbiAgICAgICAgLy8gR3VhcmFudGVlZCB0aGF0IHRoZXJlIHdpbGwgYmUgYXQgbGVhc3Qgb25lIGV2ZW50IGluIGV2ZW50cywgYW5kIGFsbCBldmVudHMgbXVzdCBoYXZlIHRoZSBzYW1lIHBvaW50ZXIgdHlwZVxuXG4gICAgICAgIGlmICh0aGlzLmF1dG9QcmV2ZW50RGVmYXVsdCAmJiBldmVudHNbMF0uaXNOb3JtYWxpemVkKSB7XG4gICAgICAgICAgICBvcmlnaW5hbEV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZXZlbnRMZW4gPSBldmVudHMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRMZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIGV2ZW50ID0gZXZlbnRzW2ldO1xuXG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuXG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcblxuICAgICAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhLm9yaWdpbmFsRXZlbnQgPSBvcmlnaW5hbEV2ZW50O1xuXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQsIHRoaXMucHJvY2Vzc1BvaW50ZXJEb3duLCB0cnVlKTtcblxuICAgICAgICAgICAgdGhpcy5lbWl0KCdwb2ludGVyZG93bicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCd0b3VjaHN0YXJ0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlbWl0IGEgbW91c2UgZXZlbnQgZm9yIFwicGVuXCIgcG9pbnRlcnMsIHRoZSB3YXkgYSBicm93c2VyIHdvdWxkIGVtaXQgYSBmYWxsYmFjayBldmVudFxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpc1JpZ2h0QnV0dG9uID0gZXZlbnQuYnV0dG9uID09PSAyO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0ZG93bicgOiAnbW91c2Vkb3duJywgdGhpcy5ldmVudERhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciBkb3duIGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyB0ZXN0ZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhpdCAtIHRoZSByZXN1bHQgb2YgdGhlIGhpdCB0ZXN0IG9uIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyRG93biA9IGZ1bmN0aW9uIHByb2Nlc3NQb2ludGVyRG93bihpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG4gICAgICAgIHZhciBpZCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5pZGVudGlmaWVyO1xuXG4gICAgICAgIGlmIChoaXQpIHtcbiAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdKSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdID0gbmV3IF9JbnRlcmFjdGlvblRyYWNraW5nRGF0YTIuZGVmYXVsdChpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJkb3duJywgaW50ZXJhY3Rpb25FdmVudCk7XG5cbiAgICAgICAgICAgIGlmIChkYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaHN0YXJ0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXNSaWdodEJ1dHRvbiA9IGRhdGEuYnV0dG9uID09PSAyO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzUmlnaHRCdXR0b24pIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdLnJpZ2h0RG93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdLmxlZnREb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgaXNSaWdodEJ1dHRvbiA/ICdyaWdodGRvd24nIDogJ21vdXNlZG93bicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGJ1dHRvbiBpcyByZWxlYXNlZCBvbiB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyByZWxlYXNlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2FuY2VsbGVkIC0gdHJ1ZSBpZiB0aGUgcG9pbnRlciBpcyBjYW5jZWxsZWRcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIC0gRnVuY3Rpb24gcGFzc2VkIHRvIHtAbGluayBwcm9jZXNzSW50ZXJhY3RpdmV9XG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyQ29tcGxldGUgPSBmdW5jdGlvbiBvblBvaW50ZXJDb21wbGV0ZShvcmlnaW5hbEV2ZW50LCBjYW5jZWxsZWQsIGZ1bmMpIHtcbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICB2YXIgZXZlbnRMZW4gPSBldmVudHMubGVuZ3RoO1xuXG4gICAgICAgIC8vIGlmIHRoZSBldmVudCB3YXNuJ3QgdGFyZ2V0aW5nIG91ciBjYW52YXMsIHRoZW4gY29uc2lkZXIgaXQgdG8gYmUgcG9pbnRlcnVwb3V0c2lkZVxuICAgICAgICAvLyBpbiBhbGwgY2FzZXMgKHVubGVzcyBpdCB3YXMgYSBwb2ludGVyY2FuY2VsKVxuICAgICAgICB2YXIgZXZlbnRBcHBlbmQgPSBvcmlnaW5hbEV2ZW50LnRhcmdldCAhPT0gdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPyAnb3V0c2lkZScgOiAnJztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50TGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBldmVudCA9IGV2ZW50c1tpXTtcblxuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcblxuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG5cbiAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gb3JpZ2luYWxFdmVudDtcblxuICAgICAgICAgICAgLy8gcGVyZm9ybSBoaXQgdGVzdGluZyBmb3IgZXZlbnRzIHRhcmdldGluZyBvdXIgY2FudmFzIG9yIGNhbmNlbCBldmVudHNcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCwgZnVuYywgY2FuY2VsbGVkIHx8ICFldmVudEFwcGVuZCk7XG5cbiAgICAgICAgICAgIHRoaXMuZW1pdChjYW5jZWxsZWQgPyAncG9pbnRlcmNhbmNlbCcgOiAncG9pbnRlcnVwJyArIGV2ZW50QXBwZW5kLCBpbnRlcmFjdGlvbkV2ZW50KTtcblxuICAgICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJykge1xuICAgICAgICAgICAgICAgIHZhciBpc1JpZ2h0QnV0dG9uID0gZXZlbnQuYnV0dG9uID09PSAyO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KGlzUmlnaHRCdXR0b24gPyAncmlnaHR1cCcgKyBldmVudEFwcGVuZCA6ICdtb3VzZXVwJyArIGV2ZW50QXBwZW5kLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoY2FuY2VsbGVkID8gJ3RvdWNoY2FuY2VsJyA6ICd0b3VjaGVuZCcgKyBldmVudEFwcGVuZCwgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50LnBvaW50ZXJJZCwgaW50ZXJhY3Rpb25EYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBidXR0b24gaXMgY2FuY2VsbGVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBldmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyByZWxlYXNlZFxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlckNhbmNlbCA9IGZ1bmN0aW9uIG9uUG9pbnRlckNhbmNlbChldmVudCkge1xuICAgICAgICAvLyBpZiB3ZSBzdXBwb3J0IHRvdWNoIGV2ZW50cywgdGhlbiBvbmx5IHVzZSB0aG9zZSBmb3IgdG91Y2ggZXZlbnRzLCBub3QgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyQ29tcGxldGUoZXZlbnQsIHRydWUsIHRoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWwpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciBjYW5jZWwgY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5leHRyYXMuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyQ2FuY2VsID0gZnVuY3Rpb24gcHJvY2Vzc1BvaW50ZXJDYW5jZWwoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCkge1xuICAgICAgICB2YXIgZGF0YSA9IGludGVyYWN0aW9uRXZlbnQuZGF0YTtcblxuICAgICAgICB2YXIgaWQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuaWRlbnRpZmllcjtcblxuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJjYW5jZWwnLCBpbnRlcmFjdGlvbkV2ZW50KTtcblxuICAgICAgICAgICAgaWYgKGRhdGEucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RvdWNoY2FuY2VsJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgYnV0dG9uIGlzIHJlbGVhc2VkIG9uIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBldmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyByZWxlYXNlZFxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlclVwID0gZnVuY3Rpb24gb25Qb2ludGVyVXAoZXZlbnQpIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHJldHVybjtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlckNvbXBsZXRlKGV2ZW50LCBmYWxzZSwgdGhpcy5wcm9jZXNzUG9pbnRlclVwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgdXAgY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5leHRyYXMuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGl0IC0gdGhlIHJlc3VsdCBvZiB0aGUgaGl0IHRlc3Qgb24gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc1BvaW50ZXJVcCA9IGZ1bmN0aW9uIHByb2Nlc3NQb2ludGVyVXAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KSB7XG4gICAgICAgIHZhciBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuXG4gICAgICAgIHZhciBpZCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5pZGVudGlmaWVyO1xuXG4gICAgICAgIHZhciB0cmFja2luZ0RhdGEgPSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG5cbiAgICAgICAgdmFyIGlzVG91Y2ggPSBkYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnO1xuXG4gICAgICAgIHZhciBpc01vdXNlID0gZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJztcblxuICAgICAgICAvLyBNb3VzZSBvbmx5XG4gICAgICAgIGlmIChpc01vdXNlKSB7XG4gICAgICAgICAgICB2YXIgaXNSaWdodEJ1dHRvbiA9IGRhdGEuYnV0dG9uID09PSAyO1xuXG4gICAgICAgICAgICB2YXIgZmxhZ3MgPSBfSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEyLmRlZmF1bHQuRkxBR1M7XG5cbiAgICAgICAgICAgIHZhciB0ZXN0ID0gaXNSaWdodEJ1dHRvbiA/IGZsYWdzLlJJR0hUX0RPV04gOiBmbGFncy5MRUZUX0RPV047XG5cbiAgICAgICAgICAgIHZhciBpc0Rvd24gPSB0cmFja2luZ0RhdGEgIT09IHVuZGVmaW5lZCAmJiB0cmFja2luZ0RhdGEuZmxhZ3MgJiB0ZXN0O1xuXG4gICAgICAgICAgICBpZiAoaGl0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsIGlzUmlnaHRCdXR0b24gPyAncmlnaHR1cCcgOiAnbW91c2V1cCcsIGludGVyYWN0aW9uRXZlbnQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzRG93bikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgaXNSaWdodEJ1dHRvbiA/ICdyaWdodGNsaWNrJyA6ICdjbGljaycsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNEb3duKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsIGlzUmlnaHRCdXR0b24gPyAncmlnaHR1cG91dHNpZGUnIDogJ21vdXNldXBvdXRzaWRlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIGRvd24gc3RhdGUgb2YgdGhlIHRyYWNraW5nIGRhdGFcbiAgICAgICAgICAgIGlmICh0cmFja2luZ0RhdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNSaWdodEJ1dHRvbikge1xuICAgICAgICAgICAgICAgICAgICB0cmFja2luZ0RhdGEucmlnaHREb3duID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2tpbmdEYXRhLmxlZnREb3duID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUG9pbnRlcnMgYW5kIFRvdWNoZXMsIGFuZCBNb3VzZVxuICAgICAgICBpZiAoaGl0KSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJ1cCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGlzVG91Y2gpIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2hlbmQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcblxuICAgICAgICAgICAgaWYgKHRyYWNraW5nRGF0YSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcnRhcCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIGlmIChpc1RvdWNoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndGFwJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRvdWNoZXMgYXJlIG5vIGxvbmdlciBvdmVyIChpZiB0aGV5IGV2ZXIgd2VyZSkgd2hlbiB3ZSBnZXQgdGhlIHRvdWNoZW5kXG4gICAgICAgICAgICAgICAgICAgIC8vIHNvIHdlIHNob3VsZCBlbnN1cmUgdGhhdCB3ZSBkb24ndCBrZWVwIHByZXRlbmRpbmcgdGhhdCB0aGV5IGFyZVxuICAgICAgICAgICAgICAgICAgICB0cmFja2luZ0RhdGEub3ZlciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0cmFja2luZ0RhdGEpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcnVwb3V0c2lkZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGlzVG91Y2gpIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2hlbmRvdXRzaWRlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gT25seSByZW1vdmUgdGhlIHRyYWNraW5nIGRhdGEgaWYgdGhlcmUgaXMgbm8gb3Zlci9kb3duIHN0YXRlIHN0aWxsIGFzc29jaWF0ZWQgd2l0aCBpdFxuICAgICAgICBpZiAodHJhY2tpbmdEYXRhICYmIHRyYWNraW5nRGF0YS5ub25lKSB7XG4gICAgICAgICAgICBkZWxldGUgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIG1vdmVzIGFjcm9zcyB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIG1vdmluZ1xuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlck1vdmUgPSBmdW5jdGlvbiBvblBvaW50ZXJNb3ZlKG9yaWdpbmFsRXZlbnQpIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgb3JpZ2luYWxFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgcmV0dXJuO1xuXG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG5cbiAgICAgICAgaWYgKGV2ZW50c1swXS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudHNbMF0ucG9pbnRlclR5cGUgPT09ICdwZW4nKSB7XG4gICAgICAgICAgICB0aGlzLmRpZE1vdmUgPSB0cnVlO1xuXG4gICAgICAgICAgICB0aGlzLmN1cnNvciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZXZlbnRMZW4gPSBldmVudHMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRMZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIGV2ZW50ID0gZXZlbnRzW2ldO1xuXG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuXG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcblxuICAgICAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhLm9yaWdpbmFsRXZlbnQgPSBvcmlnaW5hbEV2ZW50O1xuXG4gICAgICAgICAgICB2YXIgaW50ZXJhY3RpdmUgPSBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJyA/IHRoaXMubW92ZVdoZW5JbnNpZGUgOiB0cnVlO1xuXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQsIHRoaXMucHJvY2Vzc1BvaW50ZXJNb3ZlLCBpbnRlcmFjdGl2ZSk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3BvaW50ZXJtb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHRoaXMuZW1pdCgndG91Y2htb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKSB0aGlzLmVtaXQoJ21vdXNlbW92ZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50c1swXS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJykge1xuICAgICAgICAgICAgdGhpcy5zZXRDdXJzb3JNb2RlKHRoaXMuY3Vyc29yKTtcblxuICAgICAgICAgICAgLy8gVE9ETyBCVUcgZm9yIHBhcmVudHMgaW50ZXJhY3RpdmUgb2JqZWN0IChib3JkZXIgb3JkZXIgaXNzdWUpXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgbW92ZSBjaGVjayBhbmQgZGlzcGF0Y2hlcyB0aGUgZXZlbnQgaWYgbmVlZCBiZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBpbnRlcmFjdGlvbiBldmVudCB3cmFwcGluZyB0aGUgRE9NIGV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoaXQgLSB0aGUgcmVzdWx0IG9mIHRoZSBoaXQgdGVzdCBvbiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlck1vdmUgPSBmdW5jdGlvbiBwcm9jZXNzUG9pbnRlck1vdmUoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KSB7XG4gICAgICAgIHZhciBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuXG4gICAgICAgIHZhciBpc1RvdWNoID0gZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJztcblxuICAgICAgICB2YXIgaXNNb3VzZSA9IGRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3Blbic7XG5cbiAgICAgICAgaWYgKGlzTW91c2UpIHtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0KGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGhpdCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMubW92ZVdoZW5JbnNpZGUgfHwgaGl0KSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJtb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoaXNUb3VjaCkgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaG1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChpc01vdXNlKSB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ21vdXNlbW92ZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGlzIG1vdmVkIG91dCBvZiB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJlaW5nIG1vdmVkIG91dFxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlck91dCA9IGZ1bmN0aW9uIG9uUG9pbnRlck91dChvcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIG9yaWdpbmFsRXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHJldHVybjtcblxuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuXG4gICAgICAgIC8vIE9ubHkgbW91c2UgYW5kIHBvaW50ZXIgY2FuIGNhbGwgb25Qb2ludGVyT3V0LCBzbyBldmVudHMgd2lsbCBhbHdheXMgYmUgbGVuZ3RoIDFcbiAgICAgICAgdmFyIGV2ZW50ID0gZXZlbnRzWzBdO1xuXG4gICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJykge1xuICAgICAgICAgICAgdGhpcy5tb3VzZU92ZXJSZW5kZXJlciA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5zZXRDdXJzb3JNb2RlKG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcblxuICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcblxuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IGV2ZW50O1xuXG4gICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCwgdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLmVtaXQoJ3BvaW50ZXJvdXQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJykge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdtb3VzZW91dCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gd2UgY2FuIGdldCB0b3VjaGxlYXZlIGV2ZW50cyBhZnRlciB0b3VjaGVuZCwgc28gd2Ugd2FudCB0byBtYWtlIHN1cmUgd2UgZG9uJ3RcbiAgICAgICAgICAgIC8vIGludHJvZHVjZSBtZW1vcnkgbGVha3NcbiAgICAgICAgICAgIHRoaXMucmVsZWFzZUludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChpbnRlcmFjdGlvbkRhdGEuaWRlbnRpZmllcik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgb3Zlci9vdXQgY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5leHRyYXMuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGl0IC0gdGhlIHJlc3VsdCBvZiB0aGUgaGl0IHRlc3Qgb24gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc1BvaW50ZXJPdmVyT3V0ID0gZnVuY3Rpb24gcHJvY2Vzc1BvaW50ZXJPdmVyT3V0KGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGhpdCkge1xuICAgICAgICB2YXIgZGF0YSA9IGludGVyYWN0aW9uRXZlbnQuZGF0YTtcblxuICAgICAgICB2YXIgaWQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuaWRlbnRpZmllcjtcblxuICAgICAgICB2YXIgaXNNb3VzZSA9IGRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3Blbic7XG5cbiAgICAgICAgdmFyIHRyYWNraW5nRGF0YSA9IGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcblxuICAgICAgICAvLyBpZiB3ZSBqdXN0IG1vdXNlZCBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdCwgdGhlbiB3ZSBuZWVkIHRvIHRyYWNrIHRoYXQgc3RhdGVcbiAgICAgICAgaWYgKGhpdCAmJiAhdHJhY2tpbmdEYXRhKSB7XG4gICAgICAgICAgICB0cmFja2luZ0RhdGEgPSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0gPSBuZXcgX0ludGVyYWN0aW9uVHJhY2tpbmdEYXRhMi5kZWZhdWx0KGlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0cmFja2luZ0RhdGEgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgICAgIGlmIChoaXQgJiYgdGhpcy5tb3VzZU92ZXJSZW5kZXJlcikge1xuICAgICAgICAgICAgaWYgKCF0cmFja2luZ0RhdGEub3Zlcikge1xuICAgICAgICAgICAgICAgIHRyYWNraW5nRGF0YS5vdmVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJvdmVyJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgaWYgKGlzTW91c2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdtb3VzZW92ZXInLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG9ubHkgY2hhbmdlIHRoZSBjdXJzb3IgaWYgaXQgaGFzIG5vdCBhbHJlYWR5IGJlZW4gY2hhbmdlZCAoYnkgc29tZXRoaW5nIGRlZXBlciBpbiB0aGVcbiAgICAgICAgICAgIC8vIGRpc3BsYXkgdHJlZSlcbiAgICAgICAgICAgIGlmIChpc01vdXNlICYmIHRoaXMuY3Vyc29yID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSBkaXNwbGF5T2JqZWN0LmN1cnNvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0cmFja2luZ0RhdGEub3Zlcikge1xuICAgICAgICAgICAgdHJhY2tpbmdEYXRhLm92ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcm91dCcsIHRoaXMuZXZlbnREYXRhKTtcbiAgICAgICAgICAgIGlmIChpc01vdXNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdtb3VzZW91dCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gbW91c2UgZG93biBpbmZvcm1hdGlvbiBmb3IgdGhlIHBvaW50ZXIsIHRoZW4gaXQgaXMgc2FmZSB0byBkZWxldGVcbiAgICAgICAgICAgIGlmICh0cmFja2luZ0RhdGEubm9uZSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgbW92ZWQgaW50byB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyBtb3ZlZCBpbnRvIHRoZSByZW5kZXJlciB2aWV3XG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyT3ZlciA9IGZ1bmN0aW9uIG9uUG9pbnRlck92ZXIob3JpZ2luYWxFdmVudCkge1xuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuXG4gICAgICAgIC8vIE9ubHkgbW91c2UgYW5kIHBvaW50ZXIgY2FuIGNhbGwgb25Qb2ludGVyT3Zlciwgc28gZXZlbnRzIHdpbGwgYWx3YXlzIGJlIGxlbmd0aCAxXG4gICAgICAgIHZhciBldmVudCA9IGV2ZW50c1swXTtcblxuICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuXG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuXG4gICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gZXZlbnQ7XG5cbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnKSB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlT3ZlclJlbmRlcmVyID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZW1pdCgncG9pbnRlcm92ZXInLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJykge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdtb3VzZW92ZXInLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXQgSW50ZXJhY3Rpb25EYXRhIGZvciBhIGdpdmVuIHBvaW50ZXJJZC4gU3RvcmUgdGhhdCBkYXRhIGFzIHdlbGxcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IGV2ZW50IC0gTm9ybWFsaXplZCBwb2ludGVyIGV2ZW50LCBvdXRwdXQgZnJvbSBub3JtYWxpemVUb1BvaW50ZXJEYXRhXG4gICAgICogQHJldHVybiB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkRhdGF9IC0gSW50ZXJhY3Rpb24gZGF0YSBmb3IgdGhlIGdpdmVuIHBvaW50ZXIgaWRlbnRpZmllclxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZCA9IGZ1bmN0aW9uIGdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCkge1xuICAgICAgICB2YXIgcG9pbnRlcklkID0gZXZlbnQucG9pbnRlcklkO1xuXG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB2b2lkIDA7XG5cbiAgICAgICAgaWYgKHBvaW50ZXJJZCA9PT0gTU9VU0VfUE9JTlRFUl9JRCB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJykge1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5tb3VzZTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtwb2ludGVySWRdKSB7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtwb2ludGVySWRdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5pbnRlcmFjdGlvbkRhdGFQb29sLnBvcCgpIHx8IG5ldyBfSW50ZXJhY3Rpb25EYXRhMi5kZWZhdWx0KCk7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEuaWRlbnRpZmllciA9IHBvaW50ZXJJZDtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF0gPSBpbnRlcmFjdGlvbkRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29weSBwcm9wZXJ0aWVzIGZyb20gdGhlIGV2ZW50LCBzbyB0aGF0IHdlIGNhbiBtYWtlIHN1cmUgdGhhdCB0b3VjaC9wb2ludGVyIHNwZWNpZmljXG4gICAgICAgIC8vIGRhdGEgaXMgYXZhaWxhYmxlXG4gICAgICAgIGludGVyYWN0aW9uRGF0YS5jb3B5RXZlbnQoZXZlbnQpO1xuXG4gICAgICAgIHJldHVybiBpbnRlcmFjdGlvbkRhdGE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybiB1bnVzZWQgSW50ZXJhY3Rpb25EYXRhIHRvIHRoZSBwb29sLCBmb3IgYSBnaXZlbiBwb2ludGVySWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBvaW50ZXJJZCAtIElkZW50aWZpZXIgZnJvbSBhIHBvaW50ZXIgZXZlbnRcbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5yZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkID0gZnVuY3Rpb24gcmVsZWFzZUludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChwb2ludGVySWQpIHtcbiAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF07XG5cbiAgICAgICAgaWYgKGludGVyYWN0aW9uRGF0YSkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF07XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25EYXRhUG9vbC5wdXNoKGludGVyYWN0aW9uRGF0YSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29uZmlndXJlIGFuIEludGVyYWN0aW9uRXZlbnQgdG8gd3JhcCBhIERPTSBQb2ludGVyRXZlbnQgYW5kIEludGVyYWN0aW9uRGF0YVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBldmVudCB0byBiZSBjb25maWd1cmVkXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IHBvaW50ZXJFdmVudCAtIFRoZSBET00gZXZlbnQgdGhhdCB3aWxsIGJlIHBhaXJlZCB3aXRoIHRoZSBJbnRlcmFjdGlvbkV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRGF0YX0gaW50ZXJhY3Rpb25EYXRhIC0gVGhlIEludGVyYWN0aW9uRGF0YSB0aGF0IHdpbGwgYmUgcGFpcmVkXG4gICAgICogICAgICAgIHdpdGggdGhlIEludGVyYWN0aW9uRXZlbnRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IHRoZSBpbnRlcmFjdGlvbiBldmVudCB0aGF0IHdhcyBwYXNzZWQgaW5cbiAgICAgKi9cblxuXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQgPSBmdW5jdGlvbiBjb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQoaW50ZXJhY3Rpb25FdmVudCwgcG9pbnRlckV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpIHtcbiAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhID0gaW50ZXJhY3Rpb25EYXRhO1xuXG4gICAgICAgIHRoaXMubWFwUG9zaXRpb25Ub1BvaW50KGludGVyYWN0aW9uRGF0YS5nbG9iYWwsIHBvaW50ZXJFdmVudC5jbGllbnRYLCBwb2ludGVyRXZlbnQuY2xpZW50WSk7XG5cbiAgICAgICAgLy8gVGhpcyBpcyB0aGUgd2F5IEludGVyYWN0aW9uTWFuYWdlciBwcm9jZXNzZWQgdG91Y2ggZXZlbnRzIGJlZm9yZSB0aGUgcmVmYWN0b3JpbmcsIHNvIEkndmUga2VwdFxuICAgICAgICAvLyBpdCBoZXJlLiBCdXQgaXQgZG9lc24ndCBtYWtlIHRoYXQgbXVjaCBzZW5zZSB0byBtZSwgc2luY2UgbWFwUG9zaXRpb25Ub1BvaW50IGFscmVhZHkgZmFjdG9yc1xuICAgICAgICAvLyBpbiB0aGlzLnJlc29sdXRpb24sIHNvIHRoaXMganVzdCBkaXZpZGVzIGJ5IHRoaXMucmVzb2x1dGlvbiB0d2ljZSBmb3IgdG91Y2ggZXZlbnRzLi4uXG4gICAgICAgIGlmIChuYXZpZ2F0b3IuaXNDb2Nvb25KUyAmJiBwb2ludGVyRXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YS5nbG9iYWwueCA9IGludGVyYWN0aW9uRGF0YS5nbG9iYWwueCAvIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YS5nbG9iYWwueSA9IGludGVyYWN0aW9uRGF0YS5nbG9iYWwueSAvIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5vdCByZWFsbHkgc3VyZSB3aHkgdGhpcyBpcyBoYXBwZW5pbmcsIGJ1dCBpdCdzIGhvdyBhIHByZXZpb3VzIHZlcnNpb24gaGFuZGxlZCB0aGluZ3NcbiAgICAgICAgaWYgKHBvaW50ZXJFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykge1xuICAgICAgICAgICAgcG9pbnRlckV2ZW50Lmdsb2JhbFggPSBpbnRlcmFjdGlvbkRhdGEuZ2xvYmFsLng7XG4gICAgICAgICAgICBwb2ludGVyRXZlbnQuZ2xvYmFsWSA9IGludGVyYWN0aW9uRGF0YS5nbG9iYWwueTtcbiAgICAgICAgfVxuXG4gICAgICAgIGludGVyYWN0aW9uRGF0YS5vcmlnaW5hbEV2ZW50ID0gcG9pbnRlckV2ZW50O1xuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LnJlc2V0KCk7XG5cbiAgICAgICAgcmV0dXJuIGludGVyYWN0aW9uRXZlbnQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVuc3VyZXMgdGhhdCB0aGUgb3JpZ2luYWwgZXZlbnQgb2JqZWN0IGNvbnRhaW5zIGFsbCBkYXRhIHRoYXQgYSByZWd1bGFyIHBvaW50ZXIgZXZlbnQgd291bGQgaGF2ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1RvdWNoRXZlbnR8TW91c2VFdmVudHxQb2ludGVyRXZlbnR9IGV2ZW50IC0gVGhlIG9yaWdpbmFsIGV2ZW50IGRhdGEgZnJvbSBhIHRvdWNoIG9yIG1vdXNlIGV2ZW50XG4gICAgICogQHJldHVybiB7UG9pbnRlckV2ZW50W119IEFuIGFycmF5IGNvbnRhaW5pbmcgYSBzaW5nbGUgbm9ybWFsaXplZCBwb2ludGVyIGV2ZW50LCBpbiB0aGUgY2FzZSBvZiBhIHBvaW50ZXJcbiAgICAgKiAgb3IgbW91c2UgZXZlbnQsIG9yIGEgbXVsdGlwbGUgbm9ybWFsaXplZCBwb2ludGVyIGV2ZW50cyBpZiB0aGVyZSBhcmUgbXVsdGlwbGUgY2hhbmdlZCB0b3VjaGVzXG4gICAgICovXG5cblxuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUubm9ybWFsaXplVG9Qb2ludGVyRGF0YSA9IGZ1bmN0aW9uIG5vcm1hbGl6ZVRvUG9pbnRlckRhdGEoZXZlbnQpIHtcbiAgICAgICAgdmFyIG5vcm1hbGl6ZWRFdmVudHMgPSBbXTtcblxuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIGV2ZW50IGluc3RhbmNlb2YgVG91Y2hFdmVudCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxpID0gZXZlbnQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoOyBpIDwgbGk7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciB0b3VjaCA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzW2ldO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5idXR0b24gPT09ICd1bmRlZmluZWQnKSB0b3VjaC5idXR0b24gPSBldmVudC50b3VjaGVzLmxlbmd0aCA/IDEgOiAwO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2guYnV0dG9ucyA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLmJ1dHRvbnMgPSBldmVudC50b3VjaGVzLmxlbmd0aCA/IDEgOiAwO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2guaXNQcmltYXJ5ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICB0b3VjaC5pc1ByaW1hcnkgPSBldmVudC50b3VjaGVzLmxlbmd0aCA9PT0gMSAmJiBldmVudC50eXBlID09PSAndG91Y2hzdGFydCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gud2lkdGggPT09ICd1bmRlZmluZWQnKSB0b3VjaC53aWR0aCA9IHRvdWNoLnJhZGl1c1ggfHwgMTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmhlaWdodCA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLmhlaWdodCA9IHRvdWNoLnJhZGl1c1kgfHwgMTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnRpbHRYID09PSAndW5kZWZpbmVkJykgdG91Y2gudGlsdFggPSAwO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gudGlsdFkgPT09ICd1bmRlZmluZWQnKSB0b3VjaC50aWx0WSA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5wb2ludGVyVHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLnBvaW50ZXJUeXBlID0gJ3RvdWNoJztcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnBvaW50ZXJJZCA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLnBvaW50ZXJJZCA9IHRvdWNoLmlkZW50aWZpZXIgfHwgMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnByZXNzdXJlID09PSAndW5kZWZpbmVkJykgdG91Y2gucHJlc3N1cmUgPSB0b3VjaC5mb3JjZSB8fCAwLjU7XG4gICAgICAgICAgICAgICAgdG91Y2gudHdpc3QgPSAwO1xuICAgICAgICAgICAgICAgIHRvdWNoLnRhbmdlbnRpYWxQcmVzc3VyZSA9IDA7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogUmVtb3ZlIHRoZXNlLCBhcyBsYXllclgvWSBpcyBub3QgYSBzdGFuZGFyZCwgaXMgZGVwcmVjYXRlZCwgaGFzIHVuZXZlblxuICAgICAgICAgICAgICAgIC8vIHN1cHBvcnQsIGFuZCB0aGUgZmlsbCBpbnMgYXJlIG5vdCBxdWl0ZSB0aGUgc2FtZVxuICAgICAgICAgICAgICAgIC8vIG9mZnNldFgvWSBtaWdodCBiZSBva2F5LCBidXQgaXMgbm90IHRoZSBzYW1lIGFzIGNsaWVudFgvWSB3aGVuIHRoZSBjYW52YXMncyB0b3BcbiAgICAgICAgICAgICAgICAvLyBsZWZ0IGlzIG5vdCAwLDAgb24gdGhlIHBhZ2VcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmxheWVyWCA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLmxheWVyWCA9IHRvdWNoLm9mZnNldFggPSB0b3VjaC5jbGllbnRYO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gubGF5ZXJZID09PSAndW5kZWZpbmVkJykgdG91Y2gubGF5ZXJZID0gdG91Y2gub2Zmc2V0WSA9IHRvdWNoLmNsaWVudFk7XG5cbiAgICAgICAgICAgICAgICAvLyBtYXJrIHRoZSB0b3VjaCBhcyBub3JtYWxpemVkLCBqdXN0IHNvIHRoYXQgd2Uga25vdyB3ZSBkaWQgaXRcbiAgICAgICAgICAgICAgICB0b3VjaC5pc05vcm1hbGl6ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZEV2ZW50cy5wdXNoKHRvdWNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBhcHBhcmVudGx5IFBvaW50ZXJFdmVudCBzdWJjbGFzc2VzIE1vdXNlRXZlbnQsIHNvIHlheVxuICAgICAgICBlbHNlIGlmIChldmVudCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQgJiYgKCF0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cyB8fCAhKGV2ZW50IGluc3RhbmNlb2Ygd2luZG93LlBvaW50ZXJFdmVudCkpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC5pc1ByaW1hcnkgPT09ICd1bmRlZmluZWQnKSBldmVudC5pc1ByaW1hcnkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQud2lkdGggPT09ICd1bmRlZmluZWQnKSBldmVudC53aWR0aCA9IDE7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC5oZWlnaHQgPT09ICd1bmRlZmluZWQnKSBldmVudC5oZWlnaHQgPSAxO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQudGlsdFggPT09ICd1bmRlZmluZWQnKSBldmVudC50aWx0WCA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC50aWx0WSA9PT0gJ3VuZGVmaW5lZCcpIGV2ZW50LnRpbHRZID0gMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LnBvaW50ZXJUeXBlID09PSAndW5kZWZpbmVkJykgZXZlbnQucG9pbnRlclR5cGUgPSAnbW91c2UnO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQucG9pbnRlcklkID09PSAndW5kZWZpbmVkJykgZXZlbnQucG9pbnRlcklkID0gTU9VU0VfUE9JTlRFUl9JRDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LnByZXNzdXJlID09PSAndW5kZWZpbmVkJykgZXZlbnQucHJlc3N1cmUgPSAwLjU7XG4gICAgICAgICAgICAgICAgZXZlbnQudHdpc3QgPSAwO1xuICAgICAgICAgICAgICAgIGV2ZW50LnRhbmdlbnRpYWxQcmVzc3VyZSA9IDA7XG5cbiAgICAgICAgICAgICAgICAvLyBtYXJrIHRoZSBtb3VzZSBldmVudCBhcyBub3JtYWxpemVkLCBqdXN0IHNvIHRoYXQgd2Uga25vdyB3ZSBkaWQgaXRcbiAgICAgICAgICAgICAgICBldmVudC5pc05vcm1hbGl6ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZEV2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZEV2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbm9ybWFsaXplZEV2ZW50cztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGludGVyYWN0aW9uIG1hbmFnZXJcbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnJlbW92ZUV2ZW50cygpO1xuXG4gICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5tb3VzZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5ldmVudERhdGEgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlckRvd24gPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyRG93biA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJVcCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJVcCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJDYW5jZWwgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyQ2FuY2VsID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlck1vdmUgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyTW92ZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJPdXQgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJPdmVyID0gbnVsbDtcblxuICAgICAgICB0aGlzLl90ZW1wUG9pbnQgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gSW50ZXJhY3Rpb25NYW5hZ2VyO1xufShfZXZlbnRlbWl0dGVyMi5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gSW50ZXJhY3Rpb25NYW5hZ2VyO1xuXG5cbmNvcmUuV2ViR0xSZW5kZXJlci5yZWdpc3RlclBsdWdpbignaW50ZXJhY3Rpb24nLCBJbnRlcmFjdGlvbk1hbmFnZXIpO1xuY29yZS5DYW52YXNSZW5kZXJlci5yZWdpc3RlclBsdWdpbignaW50ZXJhY3Rpb24nLCBJbnRlcmFjdGlvbk1hbmFnZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW50ZXJhY3Rpb25NYW5hZ2VyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9JbnRlcmFjdGlvbkRhdGEgPSByZXF1aXJlKCcuL0ludGVyYWN0aW9uRGF0YScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0ludGVyYWN0aW9uRGF0YScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ludGVyYWN0aW9uRGF0YSkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfSW50ZXJhY3Rpb25NYW5hZ2VyID0gcmVxdWlyZSgnLi9JbnRlcmFjdGlvbk1hbmFnZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdJbnRlcmFjdGlvbk1hbmFnZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JbnRlcmFjdGlvbk1hbmFnZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2ludGVyYWN0aXZlVGFyZ2V0ID0gcmVxdWlyZSgnLi9pbnRlcmFjdGl2ZVRhcmdldCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2ludGVyYWN0aXZlVGFyZ2V0Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW50ZXJhY3RpdmVUYXJnZXQpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0ludGVyYWN0aW9uVHJhY2tpbmdEYXRhID0gcmVxdWlyZSgnLi9JbnRlcmFjdGlvblRyYWNraW5nRGF0YScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0ludGVyYWN0aW9uVHJhY2tpbmdEYXRhJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0ludGVyYWN0aW9uRXZlbnQgPSByZXF1aXJlKCcuL0ludGVyYWN0aW9uRXZlbnQnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdJbnRlcmFjdGlvbkV2ZW50Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW50ZXJhY3Rpb25FdmVudCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFNpbXBsZXN0IGZpbHRlciAtIGFwcGxpZXMgYWxwaGFcbiAqXG4gKiBVc2UgdGhpcyBpbnN0ZWFkIG9mIENvbnRhaW5lcidzIGFscGhhIHByb3BlcnR5IHRvIGF2b2lkIHZpc3VhbCBsYXllcmluZyBvZiBpbmRpdmlkdWFsIGVsZW1lbnRzLlxuICogQWxwaGFGaWx0ZXIgYXBwbGllcyBhbHBoYSBldmVubHkgYWNyb3NzIHRoZSBlbnRpcmUgZGlzcGxheSBvYmplY3QgYW5kIGFueSBvcGFxdWUgZWxlbWVudHMgaXQgY29udGFpbnMuXG4gKiBJZiBlbGVtZW50cyBhcmUgbm90IG9wYXF1ZSwgdGhleSB3aWxsIGJsZW5kIHdpdGggZWFjaCBvdGhlciBhbnl3YXkuXG4gKlxuICogVmVyeSBoYW5keSBpZiB5b3Ugd2FudCB0byB1c2UgY29tbW9uIGZlYXR1cmVzIG9mIGFsbCBmaWx0ZXJzOlxuICpcbiAqIDEuIEFzc2lnbiBhIGJsZW5kTW9kZSB0byB0aGlzIGZpbHRlciwgYmxlbmQgYWxsIGVsZW1lbnRzIGluc2lkZSBkaXNwbGF5IG9iamVjdCB3aXRoIGJhY2tncm91bmQuXG4gKlxuICogMi4gVG8gdXNlIGNsaXBwaW5nIGluIGRpc3BsYXkgY29vcmRpbmF0ZXMsIGFzc2lnbiBhIGZpbHRlckFyZWEgdG8gdGhlIHNhbWUgY29udGFpbmVyIHRoYXQgaGFzIHRoaXMgZmlsdGVyLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIEFscGhhRmlsdGVyID0gZnVuY3Rpb24gKF9jb3JlJEZpbHRlcikge1xuICAgIF9pbmhlcml0cyhBbHBoYUZpbHRlciwgX2NvcmUkRmlsdGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYWxwaGE9MV0gQW1vdW50IG9mIGFscGhhIGZyb20gMCB0byAxLCB3aGVyZSAwIGlzIHRyYW5zcGFyZW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gQWxwaGFGaWx0ZXIoKSB7XG4gICAgICAgIHZhciBhbHBoYSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMS4wO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBbHBoYUZpbHRlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkRmlsdGVyLmNhbGwodGhpcyxcbiAgICAgICAgLy8gdmVydGV4IHNoYWRlclxuICAgICAgICAnYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxufScsXG4gICAgICAgIC8vIGZyYWdtZW50IHNoYWRlclxuICAgICAgICAndmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBmbG9hdCB1QWxwaGE7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCkgKiB1QWxwaGE7XFxufVxcbicpKTtcblxuICAgICAgICBfdGhpcy5hbHBoYSA9IGFscGhhO1xuICAgICAgICBfdGhpcy5nbFNoYWRlcktleSA9ICdhbHBoYSc7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb2VmZmljaWVudCBmb3IgYWxwaGEgbXVsdGlwbGljYXRpb25cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhBbHBoYUZpbHRlciwgW3tcbiAgICAgICAga2V5OiAnYWxwaGEnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVBbHBoYTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVBbHBoYSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEFscGhhRmlsdGVyO1xufShjb3JlLkZpbHRlcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEFscGhhRmlsdGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QWxwaGFGaWx0ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX3BhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBUaGUgQ29sb3JNYXRyaXhGaWx0ZXIgY2xhc3MgbGV0cyB5b3UgYXBwbHkgYSA1eDQgbWF0cml4IHRyYW5zZm9ybWF0aW9uIG9uIHRoZSBSR0JBXG4gKiBjb2xvciBhbmQgYWxwaGEgdmFsdWVzIG9mIGV2ZXJ5IHBpeGVsIG9uIHlvdXIgZGlzcGxheU9iamVjdCB0byBwcm9kdWNlIGEgcmVzdWx0XG4gKiB3aXRoIGEgbmV3IHNldCBvZiBSR0JBIGNvbG9yIGFuZCBhbHBoYSB2YWx1ZXMuIEl0J3MgcHJldHR5IHBvd2VyZnVsIVxuICpcbiAqIGBgYGpzXG4gKiAgbGV0IGNvbG9yTWF0cml4ID0gbmV3IFBJWEkuZmlsdGVycy5Db2xvck1hdHJpeEZpbHRlcigpO1xuICogIGNvbnRhaW5lci5maWx0ZXJzID0gW2NvbG9yTWF0cml4XTtcbiAqICBjb2xvck1hdHJpeC5jb250cmFzdCgyKTtcbiAqIGBgYFxuICogQGF1dGhvciBDbMOpbWVudCBDaGVuZWJhdWx0IDxjbGVtZW50QGdvb2Rib3lkaWdpdGFsLmNvbT5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIENvbG9yTWF0cml4RmlsdGVyID0gZnVuY3Rpb24gKF9jb3JlJEZpbHRlcikge1xuICAgIF9pbmhlcml0cyhDb2xvck1hdHJpeEZpbHRlciwgX2NvcmUkRmlsdGVyKTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ29sb3JNYXRyaXhGaWx0ZXIoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb2xvck1hdHJpeEZpbHRlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkRmlsdGVyLmNhbGwodGhpcyxcbiAgICAgICAgLy8gdmVydGV4IHNoYWRlclxuICAgICAgICAnYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxufScsXG4gICAgICAgIC8vIGZyYWdtZW50IHNoYWRlclxuICAgICAgICAndmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBmbG9hdCBtWzIwXTtcXG51bmlmb3JtIGZsb2F0IHVBbHBoYTtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIHZlYzQgYyA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxuXFxuICAgIGlmICh1QWxwaGEgPT0gMC4wKSB7XFxuICAgICAgICBnbF9GcmFnQ29sb3IgPSBjO1xcbiAgICAgICAgcmV0dXJuO1xcbiAgICB9XFxuXFxuICAgIC8vIFVuLXByZW11bHRpcGx5IGFscGhhIGJlZm9yZSBhcHBseWluZyB0aGUgY29sb3IgbWF0cml4LiBTZWUgaXNzdWUgIzM1MzkuXFxuICAgIGlmIChjLmEgPiAwLjApIHtcXG4gICAgICBjLnJnYiAvPSBjLmE7XFxuICAgIH1cXG5cXG4gICAgdmVjNCByZXN1bHQ7XFxuXFxuICAgIHJlc3VsdC5yID0gKG1bMF0gKiBjLnIpO1xcbiAgICAgICAgcmVzdWx0LnIgKz0gKG1bMV0gKiBjLmcpO1xcbiAgICAgICAgcmVzdWx0LnIgKz0gKG1bMl0gKiBjLmIpO1xcbiAgICAgICAgcmVzdWx0LnIgKz0gKG1bM10gKiBjLmEpO1xcbiAgICAgICAgcmVzdWx0LnIgKz0gbVs0XTtcXG5cXG4gICAgcmVzdWx0LmcgPSAobVs1XSAqIGMucik7XFxuICAgICAgICByZXN1bHQuZyArPSAobVs2XSAqIGMuZyk7XFxuICAgICAgICByZXN1bHQuZyArPSAobVs3XSAqIGMuYik7XFxuICAgICAgICByZXN1bHQuZyArPSAobVs4XSAqIGMuYSk7XFxuICAgICAgICByZXN1bHQuZyArPSBtWzldO1xcblxcbiAgICByZXN1bHQuYiA9IChtWzEwXSAqIGMucik7XFxuICAgICAgIHJlc3VsdC5iICs9IChtWzExXSAqIGMuZyk7XFxuICAgICAgIHJlc3VsdC5iICs9IChtWzEyXSAqIGMuYik7XFxuICAgICAgIHJlc3VsdC5iICs9IChtWzEzXSAqIGMuYSk7XFxuICAgICAgIHJlc3VsdC5iICs9IG1bMTRdO1xcblxcbiAgICByZXN1bHQuYSA9IChtWzE1XSAqIGMucik7XFxuICAgICAgIHJlc3VsdC5hICs9IChtWzE2XSAqIGMuZyk7XFxuICAgICAgIHJlc3VsdC5hICs9IChtWzE3XSAqIGMuYik7XFxuICAgICAgIHJlc3VsdC5hICs9IChtWzE4XSAqIGMuYSk7XFxuICAgICAgIHJlc3VsdC5hICs9IG1bMTldO1xcblxcbiAgICB2ZWMzIHJnYiA9IG1peChjLnJnYiwgcmVzdWx0LnJnYiwgdUFscGhhKTtcXG5cXG4gICAgLy8gUHJlbXVsdGlwbHkgYWxwaGEgYWdhaW4uXFxuICAgIHJnYiAqPSByZXN1bHQuYTtcXG5cXG4gICAgZ2xfRnJhZ0NvbG9yID0gdmVjNChyZ2IsIHJlc3VsdC5hKTtcXG59XFxuJykpO1xuXG4gICAgICAgIF90aGlzLnVuaWZvcm1zLm0gPSBbMSwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgX3RoaXMuYWxwaGEgPSAxO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtcyBjdXJyZW50IG1hdHJpeCBhbmQgc2V0IHRoZSBuZXcgb25lXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBtYXRyaXggLSA1eDQgbWF0cml4XG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5fbG9hZE1hdHJpeCA9IGZ1bmN0aW9uIF9sb2FkTWF0cml4KG1hdHJpeCkge1xuICAgICAgICB2YXIgbXVsdGlwbHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuXG4gICAgICAgIHZhciBuZXdNYXRyaXggPSBtYXRyaXg7XG5cbiAgICAgICAgaWYgKG11bHRpcGx5KSB7XG4gICAgICAgICAgICB0aGlzLl9tdWx0aXBseShuZXdNYXRyaXgsIHRoaXMudW5pZm9ybXMubSwgbWF0cml4KTtcbiAgICAgICAgICAgIG5ld01hdHJpeCA9IHRoaXMuX2NvbG9yTWF0cml4KG5ld01hdHJpeCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZXQgdGhlIG5ldyBtYXRyaXhcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5tID0gbmV3TWF0cml4O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIHR3byBtYXQ1J3NcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gb3V0IC0gNXg0IG1hdHJpeCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGEgLSA1eDQgbWF0cml4IHRoZSBmaXJzdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYiAtIDV4NCBtYXRyaXggdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHJldHVybnMge251bWJlcltdfSA1eDQgbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5fbXVsdGlwbHkgPSBmdW5jdGlvbiBfbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gICAgICAgIC8vIFJlZCBDaGFubmVsXG4gICAgICAgIG91dFswXSA9IGFbMF0gKiBiWzBdICsgYVsxXSAqIGJbNV0gKyBhWzJdICogYlsxMF0gKyBhWzNdICogYlsxNV07XG4gICAgICAgIG91dFsxXSA9IGFbMF0gKiBiWzFdICsgYVsxXSAqIGJbNl0gKyBhWzJdICogYlsxMV0gKyBhWzNdICogYlsxNl07XG4gICAgICAgIG91dFsyXSA9IGFbMF0gKiBiWzJdICsgYVsxXSAqIGJbN10gKyBhWzJdICogYlsxMl0gKyBhWzNdICogYlsxN107XG4gICAgICAgIG91dFszXSA9IGFbMF0gKiBiWzNdICsgYVsxXSAqIGJbOF0gKyBhWzJdICogYlsxM10gKyBhWzNdICogYlsxOF07XG4gICAgICAgIG91dFs0XSA9IGFbMF0gKiBiWzRdICsgYVsxXSAqIGJbOV0gKyBhWzJdICogYlsxNF0gKyBhWzNdICogYlsxOV0gKyBhWzRdO1xuXG4gICAgICAgIC8vIEdyZWVuIENoYW5uZWxcbiAgICAgICAgb3V0WzVdID0gYVs1XSAqIGJbMF0gKyBhWzZdICogYls1XSArIGFbN10gKiBiWzEwXSArIGFbOF0gKiBiWzE1XTtcbiAgICAgICAgb3V0WzZdID0gYVs1XSAqIGJbMV0gKyBhWzZdICogYls2XSArIGFbN10gKiBiWzExXSArIGFbOF0gKiBiWzE2XTtcbiAgICAgICAgb3V0WzddID0gYVs1XSAqIGJbMl0gKyBhWzZdICogYls3XSArIGFbN10gKiBiWzEyXSArIGFbOF0gKiBiWzE3XTtcbiAgICAgICAgb3V0WzhdID0gYVs1XSAqIGJbM10gKyBhWzZdICogYls4XSArIGFbN10gKiBiWzEzXSArIGFbOF0gKiBiWzE4XTtcbiAgICAgICAgb3V0WzldID0gYVs1XSAqIGJbNF0gKyBhWzZdICogYls5XSArIGFbN10gKiBiWzE0XSArIGFbOF0gKiBiWzE5XSArIGFbOV07XG5cbiAgICAgICAgLy8gQmx1ZSBDaGFubmVsXG4gICAgICAgIG91dFsxMF0gPSBhWzEwXSAqIGJbMF0gKyBhWzExXSAqIGJbNV0gKyBhWzEyXSAqIGJbMTBdICsgYVsxM10gKiBiWzE1XTtcbiAgICAgICAgb3V0WzExXSA9IGFbMTBdICogYlsxXSArIGFbMTFdICogYls2XSArIGFbMTJdICogYlsxMV0gKyBhWzEzXSAqIGJbMTZdO1xuICAgICAgICBvdXRbMTJdID0gYVsxMF0gKiBiWzJdICsgYVsxMV0gKiBiWzddICsgYVsxMl0gKiBiWzEyXSArIGFbMTNdICogYlsxN107XG4gICAgICAgIG91dFsxM10gPSBhWzEwXSAqIGJbM10gKyBhWzExXSAqIGJbOF0gKyBhWzEyXSAqIGJbMTNdICsgYVsxM10gKiBiWzE4XTtcbiAgICAgICAgb3V0WzE0XSA9IGFbMTBdICogYls0XSArIGFbMTFdICogYls5XSArIGFbMTJdICogYlsxNF0gKyBhWzEzXSAqIGJbMTldICsgYVsxNF07XG5cbiAgICAgICAgLy8gQWxwaGEgQ2hhbm5lbFxuICAgICAgICBvdXRbMTVdID0gYVsxNV0gKiBiWzBdICsgYVsxNl0gKiBiWzVdICsgYVsxN10gKiBiWzEwXSArIGFbMThdICogYlsxNV07XG4gICAgICAgIG91dFsxNl0gPSBhWzE1XSAqIGJbMV0gKyBhWzE2XSAqIGJbNl0gKyBhWzE3XSAqIGJbMTFdICsgYVsxOF0gKiBiWzE2XTtcbiAgICAgICAgb3V0WzE3XSA9IGFbMTVdICogYlsyXSArIGFbMTZdICogYls3XSArIGFbMTddICogYlsxMl0gKyBhWzE4XSAqIGJbMTddO1xuICAgICAgICBvdXRbMThdID0gYVsxNV0gKiBiWzNdICsgYVsxNl0gKiBiWzhdICsgYVsxN10gKiBiWzEzXSArIGFbMThdICogYlsxOF07XG4gICAgICAgIG91dFsxOV0gPSBhWzE1XSAqIGJbNF0gKyBhWzE2XSAqIGJbOV0gKyBhWzE3XSAqIGJbMTRdICsgYVsxOF0gKiBiWzE5XSArIGFbMTldO1xuXG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIEZsb2F0MzIgQXJyYXkgYW5kIG5vcm1hbGl6ZSB0aGUgb2Zmc2V0IGNvbXBvbmVudCB0byAwLTFcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gbWF0cml4IC0gNXg0IG1hdHJpeFxuICAgICAqIEByZXR1cm4ge251bWJlcltdfSA1eDQgbWF0cml4IHdpdGggYWxsIHZhbHVlcyBiZXR3ZWVuIDAtMVxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuX2NvbG9yTWF0cml4ID0gZnVuY3Rpb24gX2NvbG9yTWF0cml4KG1hdHJpeCkge1xuICAgICAgICAvLyBDcmVhdGUgYSBGbG9hdDMyIEFycmF5IGFuZCBub3JtYWxpemUgdGhlIG9mZnNldCBjb21wb25lbnQgdG8gMC0xXG4gICAgICAgIHZhciBtID0gbmV3IEZsb2F0MzJBcnJheShtYXRyaXgpO1xuXG4gICAgICAgIG1bNF0gLz0gMjU1O1xuICAgICAgICBtWzldIC89IDI1NTtcbiAgICAgICAgbVsxNF0gLz0gMjU1O1xuICAgICAgICBtWzE5XSAvPSAyNTU7XG5cbiAgICAgICAgcmV0dXJuIG07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkanVzdHMgYnJpZ2h0bmVzc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGIgLSB2YWx1ZSBvZiB0aGUgYnJpZ3RobmVzcyAoMC0xLCB3aGVyZSAwIGlzIGJsYWNrKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuYnJpZ2h0bmVzcyA9IGZ1bmN0aW9uIGJyaWdodG5lc3MoYiwgbXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtiLCAwLCAwLCAwLCAwLCAwLCBiLCAwLCAwLCAwLCAwLCAwLCBiLCAwLCAwLCAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIG1hdHJpY2VzIGluIGdyZXkgc2NhbGVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGUgLSB2YWx1ZSBvZiB0aGUgZ3JleSAoMC0xLCB3aGVyZSAwIGlzIGJsYWNrKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuZ3JleXNjYWxlID0gZnVuY3Rpb24gZ3JleXNjYWxlKHNjYWxlLCBtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gW3NjYWxlLCBzY2FsZSwgc2NhbGUsIDAsIDAsIHNjYWxlLCBzY2FsZSwgc2NhbGUsIDAsIDAsIHNjYWxlLCBzY2FsZSwgc2NhbGUsIDAsIDAsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgYmxhY2sgYW5kIHdoaXRlIG1hdHJpY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmJsYWNrQW5kV2hpdGUgPSBmdW5jdGlvbiBibGFja0FuZFdoaXRlKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbMC4zLCAwLjYsIDAuMSwgMCwgMCwgMC4zLCAwLjYsIDAuMSwgMCwgMCwgMC4zLCAwLjYsIDAuMSwgMCwgMCwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBodWUgcHJvcGVydHkgb2YgdGhlIGNvbG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gLSBpbiBkZWdyZWVzXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5odWUgPSBmdW5jdGlvbiBodWUocm90YXRpb24sIG11bHRpcGx5KSB7XG4gICAgICAgIHJvdGF0aW9uID0gKHJvdGF0aW9uIHx8IDApIC8gMTgwICogTWF0aC5QSTtcblxuICAgICAgICB2YXIgY29zUiA9IE1hdGguY29zKHJvdGF0aW9uKTtcbiAgICAgICAgdmFyIHNpblIgPSBNYXRoLnNpbihyb3RhdGlvbik7XG4gICAgICAgIHZhciBzcXJ0ID0gTWF0aC5zcXJ0O1xuXG4gICAgICAgIC8qIGEgZ29vZCBhcHByb3hpbWF0aW9uIGZvciBodWUgcm90YXRpb25cbiAgICAgICAgIFRoaXMgbWF0cml4IGlzIGZhciBiZXR0ZXIgdGhhbiB0aGUgdmVyc2lvbnMgd2l0aCBtYWdpYyBsdW1pbmFuY2UgY29uc3RhbnRzXG4gICAgICAgICBmb3JtZXJseSB1c2VkIGhlcmUsIGJ1dCBhbHNvIHVzZWQgaW4gdGhlIHN0YXJsaW5nIGZyYW1ld29yayAoZmxhc2gpIGFuZCBrbm93biBmcm9tIHRoaXNcbiAgICAgICAgIG9sZCBwYXJ0IG9mIHRoZSBpbnRlcm5ldDogcXVhc2ltb25kby5jb20vYXJjaGl2ZXMvMDAwNTY1LnBocFxuICAgICAgICAgIFRoaXMgbmV3IG1hdHJpeCBpcyBiYXNlZCBvbiByZ2IgY3ViZSByb3RhdGlvbiBpbiBzcGFjZS4gTG9vayBoZXJlIGZvciBhIG1vcmUgZGVzY3JpcHRpdmVcbiAgICAgICAgIGltcGxlbWVudGF0aW9uIGFzIGEgc2hhZGVyIG5vdCBhIGdlbmVyYWwgbWF0cml4OlxuICAgICAgICAgaHR0cHM6Ly9naXRodWIuY29tL2V2YW53L2dsZnguanMvYmxvYi81ODg0MWMyMzkxOWJkNTk3ODdlZmZjMDMzM2E0ODk3YjQzODM1NDEyL3NyYy9maWx0ZXJzL2FkanVzdC9odWVzYXR1cmF0aW9uLmpzXG4gICAgICAgICAgVGhpcyBpcyB0aGUgc291cmNlIGZvciB0aGUgY29kZTpcbiAgICAgICAgIHNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzg1MDc4ODUvc2hpZnQtaHVlLW9mLWFuLXJnYi1jb2xvci84NTEwNzUxIzg1MTA3NTFcbiAgICAgICAgICovXG5cbiAgICAgICAgdmFyIHcgPSAxIC8gMztcbiAgICAgICAgdmFyIHNxclcgPSBzcXJ0KHcpOyAvLyB3ZWlnaHQgaXNcblxuICAgICAgICB2YXIgYTAwID0gY29zUiArICgxLjAgLSBjb3NSKSAqIHc7XG4gICAgICAgIHZhciBhMDEgPSB3ICogKDEuMCAtIGNvc1IpIC0gc3FyVyAqIHNpblI7XG4gICAgICAgIHZhciBhMDIgPSB3ICogKDEuMCAtIGNvc1IpICsgc3FyVyAqIHNpblI7XG5cbiAgICAgICAgdmFyIGExMCA9IHcgKiAoMS4wIC0gY29zUikgKyBzcXJXICogc2luUjtcbiAgICAgICAgdmFyIGExMSA9IGNvc1IgKyB3ICogKDEuMCAtIGNvc1IpO1xuICAgICAgICB2YXIgYTEyID0gdyAqICgxLjAgLSBjb3NSKSAtIHNxclcgKiBzaW5SO1xuXG4gICAgICAgIHZhciBhMjAgPSB3ICogKDEuMCAtIGNvc1IpIC0gc3FyVyAqIHNpblI7XG4gICAgICAgIHZhciBhMjEgPSB3ICogKDEuMCAtIGNvc1IpICsgc3FyVyAqIHNpblI7XG4gICAgICAgIHZhciBhMjIgPSBjb3NSICsgdyAqICgxLjAgLSBjb3NSKTtcblxuICAgICAgICB2YXIgbWF0cml4ID0gW2EwMCwgYTAxLCBhMDIsIDAsIDAsIGExMCwgYTExLCBhMTIsIDAsIDAsIGEyMCwgYTIxLCBhMjIsIDAsIDAsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY29udHJhc3QgbWF0cml4LCBpbmNyZWFzZSB0aGUgc2VwYXJhdGlvbiBiZXR3ZWVuIGRhcmsgYW5kIGJyaWdodFxuICAgICAqIEluY3JlYXNlIGNvbnRyYXN0IDogc2hhZG93cyBkYXJrZXIgYW5kIGhpZ2hsaWdodHMgYnJpZ2h0ZXJcbiAgICAgKiBEZWNyZWFzZSBjb250cmFzdCA6IGJyaW5nIHRoZSBzaGFkb3dzIHVwIGFuZCB0aGUgaGlnaGxpZ2h0cyBkb3duXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdmFsdWUgb2YgdGhlIGNvbnRyYXN0ICgwLTEpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5jb250cmFzdCA9IGZ1bmN0aW9uIGNvbnRyYXN0KGFtb3VudCwgbXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIHYgPSAoYW1vdW50IHx8IDApICsgMTtcbiAgICAgICAgdmFyIG8gPSAtMC41ICogKHYgLSAxKTtcblxuICAgICAgICB2YXIgbWF0cml4ID0gW3YsIDAsIDAsIDAsIG8sIDAsIHYsIDAsIDAsIG8sIDAsIDAsIHYsIDAsIG8sIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc2F0dXJhdGlvbiBtYXRyaXgsIGluY3JlYXNlIHRoZSBzZXBhcmF0aW9uIGJldHdlZW4gY29sb3JzXG4gICAgICogSW5jcmVhc2Ugc2F0dXJhdGlvbiA6IGluY3JlYXNlIGNvbnRyYXN0LCBicmlnaHRuZXNzLCBhbmQgc2hhcnBuZXNzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gVGhlIHNhdHVyYXRpb24gYW1vdW50ICgwLTEpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5zYXR1cmF0ZSA9IGZ1bmN0aW9uIHNhdHVyYXRlKCkge1xuICAgICAgICB2YXIgYW1vdW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuICAgICAgICB2YXIgbXVsdGlwbHkgPSBhcmd1bWVudHNbMV07XG5cbiAgICAgICAgdmFyIHggPSBhbW91bnQgKiAyIC8gMyArIDE7XG4gICAgICAgIHZhciB5ID0gKHggLSAxKSAqIC0wLjU7XG5cbiAgICAgICAgdmFyIG1hdHJpeCA9IFt4LCB5LCB5LCAwLCAwLCB5LCB4LCB5LCAwLCAwLCB5LCB5LCB4LCAwLCAwLCAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXNhdHVyYXRlIGltYWdlIChyZW1vdmUgY29sb3IpXG4gICAgICpcbiAgICAgKiBDYWxsIHRoZSBzYXR1cmF0ZSBmdW5jdGlvblxuICAgICAqXG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5kZXNhdHVyYXRlID0gZnVuY3Rpb24gZGVzYXR1cmF0ZSgpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICB7XG4gICAgICAgIHRoaXMuc2F0dXJhdGUoLTEpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBOZWdhdGl2ZSBpbWFnZSAoaW52ZXJzZSBvZiBjbGFzc2ljIHJnYiBtYXRyaXgpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLm5lZ2F0aXZlID0gZnVuY3Rpb24gbmVnYXRpdmUobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFstMSwgMCwgMCwgMSwgMCwgMCwgLTEsIDAsIDEsIDAsIDAsIDAsIC0xLCAxLCAwLCAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXBpYSBpbWFnZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5zZXBpYSA9IGZ1bmN0aW9uIHNlcGlhKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbMC4zOTMsIDAuNzY4OTk5OSwgMC4xODg5OTk5OSwgMCwgMCwgMC4zNDksIDAuNjg1OTk5OSwgMC4xNjc5OTk5OSwgMCwgMCwgMC4yNzIsIDAuNTMzOTk5OSwgMC4xMzA5OTk5OSwgMCwgMCwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29sb3IgbW90aW9uIHBpY3R1cmUgcHJvY2VzcyBpbnZlbnRlZCBpbiAxOTE2ICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS50ZWNobmljb2xvciA9IGZ1bmN0aW9uIHRlY2huaWNvbG9yKG11bHRpcGx5KSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbMS45MTI1Mjc3ODkxNDU2MDgzLCAtMC44NTQ1MzQ0OTc2OTUxNjQ1LCAtMC4wOTE1NTUwODQ4Mjc1NTU4NSwgMCwgMTEuNzkzNjAzNDM0Mzc3MzM3LCAtMC4zMDg3ODMzMzg1OTI4MDk3LCAxLjc2NTg5MDg1NTU0NTg0MjgsIC0wLjEwNjAxNzQzMDc0NzIyMjQ1LCAwLCAtNzAuMzUyMDUxNjE0NjEzOTgsIC0wLjIzMTEwMzM3NzU0ODYxNiwgLTAuNzUwMTg5OTE5NzQ0MDIxMiwgMS44NDc1OTc4MTYxMDgxODksIDAsIDMwLjk1MDk0MDg2OTQ5MTEzOCwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUG9sYXJvaWQgZmlsdGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnBvbGFyb2lkID0gZnVuY3Rpb24gcG9sYXJvaWQobXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFsxLjQzOCwgLTAuMDYyLCAtMC4wNjIsIDAsIDAsIC0wLjEyMiwgMS4zNzgsIC0wLjEyMiwgMCwgMCwgLTAuMDE2LCAtMC4wMTYsIDEuNDgzLCAwLCAwLCAwLCAwLCAwLCAxLCAwXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgd2hvIHRyYW5zZm9ybXMgOiBSZWQgLT4gQmx1ZSBhbmQgQmx1ZSAtPiBSZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUudG9CR1IgPSBmdW5jdGlvbiB0b0JHUihtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gWzAsIDAsIDEsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbG9yIHJldmVyc2FsIGZpbG0gaW50cm9kdWNlZCBieSBFYXN0bWFuIEtvZGFrIGluIDE5MzUuICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5rb2RhY2hyb21lID0gZnVuY3Rpb24ga29kYWNocm9tZShtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gWzEuMTI4NTU4MjM5NjU5MzUyNSwgLTAuMzk2NzM4MjI4MzYwMTM0OCwgLTAuMDM5OTI1NTkxNzI5MjE3OTMsIDAsIDYzLjcyOTU4NzYyMTk2NTAyLCAtMC4xNjQwNDMzOTk2MjI0NDYxNiwgMS4wODM1MjUxNTY2MjkxMzA0LCAtMC4wNTQ5ODgwNTExNTYzMzEzMiwgMCwgMjQuNzMyNDA3ODk2NzA2MjAzLCAtMC4xNjc4NjAxMDcwNjE1NTc2MywgLTAuNTYwMzQxNjI3NzY5NTI0OCwgMS42MDE0ODUwNzYxOTY0OTQzLCAwLCAzNS42Mjk4MjgwNzQ2MDk0NiwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQnJvd24gZGVsaWNpb3VzIGJyb3duaSBmaWx0ZXIgKHRoYW5rcyBEb21pbmljIFN6YWJsZXdza2kpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmJyb3duaSA9IGZ1bmN0aW9uIGJyb3duaShtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gWzAuNTk5NzAyMzQ5ODE1OTcxNSwgMC4zNDU1MzI0MzA0ODM5MTI2MywgLTAuMjcwODI5ODY3NDUzODA0MiwgMCwgNDcuNDMxOTI4NTU2MDA4NzMsIC0wLjAzNzcwMzI0OTgzNzc4MzE1NywgMC44NjA5NTc3NTg3OTkyNjQxLCAwLjE1MDU5NTUyMzg4NDU5OTEzLCAwLCAtMzYuOTY4NDE0OTgzMTkxMjcsIDAuMjQxMTM2MzUxMjgxNTMzMzUsIC0wLjA3NDQxMDM3OTA4NDIyNDkyLCAwLjQ0OTcyMTgyMDY0ODc3MTUzLCAwLCAtNy41NjIwNzUyNzc1OTEyODMsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFZpbnRhZ2UgZmlsdGVyICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS52aW50YWdlID0gZnVuY3Rpb24gdmludGFnZShtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gWzAuNjI3OTM0NTYzNTYwNTk5NCwgMC4zMjAyMTgzNDIwODE5MzY3LCAtMC4wMzk2NTQwODIxMTMxMjQ1MywgMCwgOS42NTEyODU4MzUyOTQxMjMsIDAuMDI1NzgzOTc3MDQ4MDg4NjgsIDAuNjQ0MTE4ODY0NDM3NDc3MSwgMC4wMzI1OTEyNzYxNjE0OTI5NCwgMCwgNy40NjI4MjkxNzY0NzA1OTEsIDAuMDQ2NjA1NTU1Njc4MjcxOSwgLTAuMDg1MTIzMjk4NzI0Nzg5MSwgMC41MjQxNjQ4MDE4NzAwNDY1LCAwLCA1LjE1OTE5MDU4ODIzNTI5NiwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogV2UgZG9uJ3Qga25vdyBleGFjdGx5IHdoYXQgaXQgZG9lcywga2luZCBvZiBncmFkaWVudCBtYXAsIGJ1dCBmdW5ueSB0byBwbGF5IHdpdGghXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVzYXR1cmF0aW9uIC0gVG9uZSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvbmVkIC0gVG9uZSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxpZ2h0Q29sb3IgLSBUb25lIHZhbHVlcywgZXhhbXBsZTogYDB4RkZFNTgwYFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkYXJrQ29sb3IgLSBUb25lIHZhbHVlcywgZXhhbXBsZTogYDB4RkZFNTgwYFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuXG5cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuY29sb3JUb25lID0gZnVuY3Rpb24gY29sb3JUb25lKGRlc2F0dXJhdGlvbiwgdG9uZWQsIGxpZ2h0Q29sb3IsIGRhcmtDb2xvciwgbXVsdGlwbHkpIHtcbiAgICAgICAgZGVzYXR1cmF0aW9uID0gZGVzYXR1cmF0aW9uIHx8IDAuMjtcbiAgICAgICAgdG9uZWQgPSB0b25lZCB8fCAwLjE1O1xuICAgICAgICBsaWdodENvbG9yID0gbGlnaHRDb2xvciB8fCAweEZGRTU4MDtcbiAgICAgICAgZGFya0NvbG9yID0gZGFya0NvbG9yIHx8IDB4MzM4MDAwO1xuXG4gICAgICAgIHZhciBsUiA9IChsaWdodENvbG9yID4+IDE2ICYgMHhGRikgLyAyNTU7XG4gICAgICAgIHZhciBsRyA9IChsaWdodENvbG9yID4+IDggJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIGxCID0gKGxpZ2h0Q29sb3IgJiAweEZGKSAvIDI1NTtcblxuICAgICAgICB2YXIgZFIgPSAoZGFya0NvbG9yID4+IDE2ICYgMHhGRikgLyAyNTU7XG4gICAgICAgIHZhciBkRyA9IChkYXJrQ29sb3IgPj4gOCAmIDB4RkYpIC8gMjU1O1xuICAgICAgICB2YXIgZEIgPSAoZGFya0NvbG9yICYgMHhGRikgLyAyNTU7XG5cbiAgICAgICAgdmFyIG1hdHJpeCA9IFswLjMsIDAuNTksIDAuMTEsIDAsIDAsIGxSLCBsRywgbEIsIGRlc2F0dXJhdGlvbiwgMCwgZFIsIGRHLCBkQiwgdG9uZWQsIDAsIGxSIC0gZFIsIGxHIC0gZEcsIGxCIC0gZEIsIDAsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE5pZ2h0IGVmZmVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGludGVuc2l0eSAtIFRoZSBpbnRlbnNpdHkgb2YgdGhlIG5pZ2h0IGVmZmVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLm5pZ2h0ID0gZnVuY3Rpb24gbmlnaHQoaW50ZW5zaXR5LCBtdWx0aXBseSkge1xuICAgICAgICBpbnRlbnNpdHkgPSBpbnRlbnNpdHkgfHwgMC4xO1xuICAgICAgICB2YXIgbWF0cml4ID0gW2ludGVuc2l0eSAqIC0yLjAsIC1pbnRlbnNpdHksIDAsIDAsIDAsIC1pbnRlbnNpdHksIDAsIGludGVuc2l0eSwgMCwgMCwgMCwgaW50ZW5zaXR5LCBpbnRlbnNpdHkgKiAyLjAsIDAsIDAsIDAsIDAsIDAsIDEsIDBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByZWRhdG9yIGVmZmVjdFxuICAgICAqXG4gICAgICogRXJhc2UgdGhlIGN1cnJlbnQgbWF0cml4IGJ5IHNldHRpbmcgYSBuZXcgaW5kZXBlbnQgb25lXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gaG93IG11Y2ggdGhlIHByZWRhdG9yIGZlZWxzIGhpcyBmdXR1cmUgdmljdGltXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG5cblxuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5wcmVkYXRvciA9IGZ1bmN0aW9uIHByZWRhdG9yKGFtb3VudCwgbXVsdGlwbHkpIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgLy8gcm93IDFcbiAgICAgICAgMTEuMjI0MTMwNjMwNDkzMTY0ICogYW1vdW50LCAtNC43OTQ0ODY5OTk1MTE3MTkgKiBhbW91bnQsIC0yLjg3NDYxMTg1NDU1MzIyMjcgKiBhbW91bnQsIDAgKiBhbW91bnQsIDAuNDAzNDI0MzgyMjA5Nzc3ODMgKiBhbW91bnQsXG4gICAgICAgIC8vIHJvdyAyXG4gICAgICAgIC0zLjYzMzA2OTc1MzY0Njg1MDYgKiBhbW91bnQsIDkuMTkzMTU3MTk2MDQ0OTIyICogYW1vdW50LCAtMi45NTE4MTA4MzY3OTE5OTIgKiBhbW91bnQsIDAgKiBhbW91bnQsIC0xLjMxNjEzNTA0ODg2NjI3MiAqIGFtb3VudCxcbiAgICAgICAgLy8gcm93IDNcbiAgICAgICAgLTMuMjE4NDE5NzkwMjY3OTQ0MyAqIGFtb3VudCwgLTQuMjM3NTAzMDUxNzU3ODEyNSAqIGFtb3VudCwgNy40NzY0NDgwNTkwODIwMzEgKiBhbW91bnQsIDAgKiBhbW91bnQsIDAuODA0NDQ1OTIyMzc0NzI1MyAqIGFtb3VudCxcbiAgICAgICAgLy8gcm93IDRcbiAgICAgICAgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTFNEIGVmZmVjdFxuICAgICAqXG4gICAgICogTXVsdGlwbHkgdGhlIGN1cnJlbnQgbWF0cml4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmxzZCA9IGZ1bmN0aW9uIGxzZChtdWx0aXBseSkge1xuICAgICAgICB2YXIgbWF0cml4ID0gWzIsIC0wLjQsIDAuNSwgMCwgMCwgLTAuNSwgMiwgLTAuNCwgMCwgMCwgLTAuNCwgLTAuNSwgMywgMCwgMCwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRXJhc2UgdGhlIGN1cnJlbnQgbWF0cml4IGJ5IHNldHRpbmcgdGhlIGRlZmF1bHQgb25lXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbMSwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMSwgMF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIGZhbHNlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1hdHJpeCBvZiB0aGUgY29sb3IgbWF0cml4IGZpbHRlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICogQGRlZmF1bHQgWzEsIDAsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDEsIDBdXG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhDb2xvck1hdHJpeEZpbHRlciwgW3tcbiAgICAgICAga2V5OiAnbWF0cml4JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy5tO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMubSA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvcGFjaXR5IHZhbHVlIHRvIHVzZSB3aGVuIG1peGluZyB0aGUgb3JpZ2luYWwgYW5kIHJlc3VsdGFudCBjb2xvcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFdoZW4gdGhlIHZhbHVlIGlzIDAsIHRoZSBvcmlnaW5hbCBjb2xvciBpcyB1c2VkIHdpdGhvdXQgbW9kaWZpY2F0aW9uLlxuICAgICAgICAgKiBXaGVuIHRoZSB2YWx1ZSBpcyAxLCB0aGUgcmVzdWx0IGNvbG9yIGlzIHVzZWQuXG4gICAgICAgICAqIFdoZW4gaW4gdGhlIHJhbmdlICgwLCAxKSB0aGUgY29sb3IgaXMgaW50ZXJwb2xhdGVkIGJldHdlZW4gdGhlIG9yaWdpbmFsIGFuZCByZXN1bHQgYnkgdGhpcyBhbW91bnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnYWxwaGEnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVBbHBoYTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVBbHBoYSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIENvbG9yTWF0cml4RmlsdGVyO1xufShjb3JlLkZpbHRlcik7XG5cbi8vIEFtZXJpY2FuaXplZCBhbGlhc1xuXG5cbmV4cG9ydHMuZGVmYXVsdCA9IENvbG9yTWF0cml4RmlsdGVyO1xuQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmdyYXlzY2FsZSA9IENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5ncmV5c2NhbGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db2xvck1hdHJpeEZpbHRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfQmx1clhGaWx0ZXIgPSByZXF1aXJlKCcuL0JsdXJYRmlsdGVyJyk7XG5cbnZhciBfQmx1clhGaWx0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmx1clhGaWx0ZXIpO1xuXG52YXIgX0JsdXJZRmlsdGVyID0gcmVxdWlyZSgnLi9CbHVyWUZpbHRlcicpO1xuXG52YXIgX0JsdXJZRmlsdGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JsdXJZRmlsdGVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIFRoZSBCbHVyRmlsdGVyIGFwcGxpZXMgYSBHYXVzc2lhbiBibHVyIHRvIGFuIG9iamVjdC5cbiAqIFRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1ciBjYW4gYmUgc2V0IGZvciB4LSBhbmQgeS1heGlzIHNlcGFyYXRlbHkuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgQmx1ckZpbHRlciA9IGZ1bmN0aW9uIChfY29yZSRGaWx0ZXIpIHtcbiAgICBfaW5oZXJpdHMoQmx1ckZpbHRlciwgX2NvcmUkRmlsdGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJlbmd0aCAtIFRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHF1YWxpdHkgLSBUaGUgcXVhbGl0eSBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtrZXJuZWxTaXplPTVdIC0gVGhlIGtlcm5lbFNpemUgb2YgdGhlIGJsdXIgZmlsdGVyLk9wdGlvbnM6IDUsIDcsIDksIDExLCAxMywgMTUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmx1ckZpbHRlcihzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQmx1ckZpbHRlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkRmlsdGVyLmNhbGwodGhpcykpO1xuXG4gICAgICAgIF90aGlzLmJsdXJYRmlsdGVyID0gbmV3IF9CbHVyWEZpbHRlcjIuZGVmYXVsdChzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSk7XG4gICAgICAgIF90aGlzLmJsdXJZRmlsdGVyID0gbmV3IF9CbHVyWUZpbHRlcjIuZGVmYXVsdChzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSk7XG5cbiAgICAgICAgX3RoaXMucGFkZGluZyA9IDA7XG4gICAgICAgIF90aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IGNvcmUuc2V0dGluZ3MuUkVTT0xVVElPTjtcbiAgICAgICAgX3RoaXMucXVhbGl0eSA9IHF1YWxpdHkgfHwgNDtcbiAgICAgICAgX3RoaXMuYmx1ciA9IHN0cmVuZ3RoIHx8IDg7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyTWFuYWdlcn0gZmlsdGVyTWFuYWdlciAtIFRoZSBtYW5hZ2VyLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IGlucHV0IC0gVGhlIGlucHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSBvdXRwdXQgLSBUaGUgb3V0cHV0IHRhcmdldC5cbiAgICAgKi9cblxuXG4gICAgQmx1ckZpbHRlci5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiBhcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0KSB7XG4gICAgICAgIHZhciByZW5kZXJUYXJnZXQgPSBmaWx0ZXJNYW5hZ2VyLmdldFJlbmRlclRhcmdldCh0cnVlKTtcblxuICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCByZW5kZXJUYXJnZXQsIHRydWUpO1xuICAgICAgICB0aGlzLmJsdXJZRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIHJlbmRlclRhcmdldCwgb3V0cHV0LCBmYWxzZSk7XG5cbiAgICAgICAgZmlsdGVyTWFuYWdlci5yZXR1cm5SZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RyZW5ndGggb2YgYm90aCB0aGUgYmx1clggYW5kIGJsdXJZIHByb3BlcnRpZXMgc2ltdWx0YW5lb3VzbHlcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAyXG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhCbHVyRmlsdGVyLCBbe1xuICAgICAgICBrZXk6ICdibHVyJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ibHVyWEZpbHRlci5ibHVyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmx1clhGaWx0ZXIuYmx1ciA9IHRoaXMuYmx1cllGaWx0ZXIuYmx1ciA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5wYWRkaW5nID0gTWF0aC5tYXgoTWF0aC5hYnModGhpcy5ibHVyWEZpbHRlci5zdHJlbmd0aCksIE1hdGguYWJzKHRoaXMuYmx1cllGaWx0ZXIuc3RyZW5ndGgpKSAqIDI7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgbnVtYmVyIG9mIHBhc3NlcyBmb3IgYmx1ci4gTW9yZSBwYXNzZXMgbWVhbnMgaGlnaGVyIHF1YWlsaXR5IGJsdXJpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncXVhbGl0eScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmx1clhGaWx0ZXIucXVhbGl0eTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLnF1YWxpdHkgPSB0aGlzLmJsdXJZRmlsdGVyLnF1YWxpdHkgPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1clggcHJvcGVydHlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAyXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdibHVyWCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmx1clhGaWx0ZXIuYmx1cjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLmJsdXIgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMucGFkZGluZyA9IE1hdGgubWF4KE1hdGguYWJzKHRoaXMuYmx1clhGaWx0ZXIuc3RyZW5ndGgpLCBNYXRoLmFicyh0aGlzLmJsdXJZRmlsdGVyLnN0cmVuZ3RoKSkgKiAyO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyWSBwcm9wZXJ0eVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDJcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2JsdXJZJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ibHVyWUZpbHRlci5ibHVyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmx1cllGaWx0ZXIuYmx1ciA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5wYWRkaW5nID0gTWF0aC5tYXgoTWF0aC5hYnModGhpcy5ibHVyWEZpbHRlci5zdHJlbmd0aCksIE1hdGguYWJzKHRoaXMuYmx1cllGaWx0ZXIuc3RyZW5ndGgpKSAqIDI7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgYmxlbmRtb2RlIG9mIHRoZSBmaWx0ZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnYmxlbmRNb2RlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ibHVyWUZpbHRlci5fYmxlbmRNb2RlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmx1cllGaWx0ZXIuX2JsZW5kTW9kZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEJsdXJGaWx0ZXI7XG59KGNvcmUuRmlsdGVyKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQmx1ckZpbHRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJsdXJGaWx0ZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi8uLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX3BhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBUaGUgRGlzcGxhY2VtZW50RmlsdGVyIGNsYXNzIHVzZXMgdGhlIHBpeGVsIHZhbHVlcyBmcm9tIHRoZSBzcGVjaWZpZWQgdGV4dHVyZVxuICogKGNhbGxlZCB0aGUgZGlzcGxhY2VtZW50IG1hcCkgdG8gcGVyZm9ybSBhIGRpc3BsYWNlbWVudCBvZiBhbiBvYmplY3QuIFlvdSBjYW5cbiAqIHVzZSB0aGlzIGZpbHRlciB0byBhcHBseSBhbGwgbWFub3Igb2YgY3Jhenkgd2FycGluZyBlZmZlY3RzLiBDdXJyZW50bHkgdGhlIHJcbiAqIHByb3BlcnR5IG9mIHRoZSB0ZXh0dXJlIGlzIHVzZWQgdG8gb2Zmc2V0IHRoZSB4IGFuZCB0aGUgZyBwcm9wZXJ0eSBvZiB0aGUgdGV4dHVyZVxuICogaXMgdXNlZCB0byBvZmZzZXQgdGhlIHkuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgRGlzcGxhY2VtZW50RmlsdGVyID0gZnVuY3Rpb24gKF9jb3JlJEZpbHRlcikge1xuICAgIF9pbmhlcml0cyhEaXNwbGFjZW1lbnRGaWx0ZXIsIF9jb3JlJEZpbHRlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSBUaGUgc3ByaXRlIHVzZWQgZm9yIHRoZSBkaXNwbGFjZW1lbnQgbWFwLiAobWFrZSBzdXJlIGl0cyBhZGRlZCB0byB0aGUgc2NlbmUhKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZSAtIFRoZSBzY2FsZSBvZiB0aGUgZGlzcGxhY2VtZW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gRGlzcGxhY2VtZW50RmlsdGVyKHNwcml0ZSwgc2NhbGUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERpc3BsYWNlbWVudEZpbHRlcik7XG5cbiAgICAgICAgdmFyIG1hc2tNYXRyaXggPSBuZXcgY29yZS5NYXRyaXgoKTtcblxuICAgICAgICBzcHJpdGUucmVuZGVyYWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJEZpbHRlci5jYWxsKHRoaXMsXG4gICAgICAgIC8vIHZlcnRleCBzaGFkZXJcbiAgICAgICAgJ2F0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyBmaWx0ZXJNYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWMyIHZGaWx0ZXJDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuICAgdkZpbHRlckNvb3JkID0gKCBmaWx0ZXJNYXRyaXggKiB2ZWMzKCBhVGV4dHVyZUNvb3JkLCAxLjApICApLnh5O1xcbiAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbn0nLFxuICAgICAgICAvLyBmcmFnbWVudCBzaGFkZXJcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2RmlsdGVyQ29vcmQ7XFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSB2ZWMyIHNjYWxlO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gc2FtcGxlcjJEIG1hcFNhbXBsZXI7XFxuXFxudW5pZm9ybSB2ZWM0IGZpbHRlckFyZWE7XFxudW5pZm9ybSB2ZWM0IGZpbHRlckNsYW1wO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gIHZlYzQgbWFwID0gIHRleHR1cmUyRChtYXBTYW1wbGVyLCB2RmlsdGVyQ29vcmQpO1xcblxcbiAgbWFwIC09IDAuNTtcXG4gIG1hcC54eSAqPSBzY2FsZSAvIGZpbHRlckFyZWEueHk7XFxuXFxuICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIGNsYW1wKHZlYzIodlRleHR1cmVDb29yZC54ICsgbWFwLngsIHZUZXh0dXJlQ29vcmQueSArIG1hcC55KSwgZmlsdGVyQ2xhbXAueHksIGZpbHRlckNsYW1wLnp3KSk7XFxufVxcbicpKTtcblxuICAgICAgICBfdGhpcy5tYXNrU3ByaXRlID0gc3ByaXRlO1xuICAgICAgICBfdGhpcy5tYXNrTWF0cml4ID0gbWFza01hdHJpeDtcblxuICAgICAgICBfdGhpcy51bmlmb3Jtcy5tYXBTYW1wbGVyID0gc3ByaXRlLl90ZXh0dXJlO1xuICAgICAgICBfdGhpcy51bmlmb3Jtcy5maWx0ZXJNYXRyaXggPSBtYXNrTWF0cml4O1xuICAgICAgICBfdGhpcy51bmlmb3Jtcy5zY2FsZSA9IHsgeDogMSwgeTogMSB9O1xuXG4gICAgICAgIGlmIChzY2FsZSA9PT0gbnVsbCB8fCBzY2FsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzY2FsZSA9IDIwO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuc2NhbGUgPSBuZXcgY29yZS5Qb2ludChzY2FsZSwgc2NhbGUpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbHRlck1hbmFnZXJ9IGZpbHRlck1hbmFnZXIgLSBUaGUgbWFuYWdlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSBpbnB1dCAtIFRoZSBpbnB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gb3V0cHV0IC0gVGhlIG91dHB1dCB0YXJnZXQuXG4gICAgICovXG5cblxuICAgIERpc3BsYWNlbWVudEZpbHRlci5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiBhcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0KSB7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuZmlsdGVyTWF0cml4ID0gZmlsdGVyTWFuYWdlci5jYWxjdWxhdGVTcHJpdGVNYXRyaXgodGhpcy5tYXNrTWF0cml4LCB0aGlzLm1hc2tTcHJpdGUpO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnNjYWxlLnggPSB0aGlzLnNjYWxlLng7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuc2NhbGUueSA9IHRoaXMuc2NhbGUueTtcblxuICAgICAgICAvLyBkcmF3IHRoZSBmaWx0ZXIuLi5cbiAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRleHR1cmUgdXNlZCBmb3IgdGhlIGRpc3BsYWNlbWVudCBtYXAuIE11c3QgYmUgcG93ZXIgb2YgMiBzaXplZCB0ZXh0dXJlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoRGlzcGxhY2VtZW50RmlsdGVyLCBbe1xuICAgICAgICBrZXk6ICdtYXAnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLm1hcFNhbXBsZXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5tYXBTYW1wbGVyID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gRGlzcGxhY2VtZW50RmlsdGVyO1xufShjb3JlLkZpbHRlcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IERpc3BsYWNlbWVudEZpbHRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURpc3BsYWNlbWVudEZpbHRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIEBhdXRob3IgVmljbyBAdmljb2NvdGVhXG4gKiBvcmlnaW5hbCBmaWx0ZXI6IGh0dHBzOi8vZ2l0aHViLmNvbS9ldmFudy9nbGZ4LmpzL2Jsb2IvbWFzdGVyL3NyYy9maWx0ZXJzL2FkanVzdC9ub2lzZS5qc1xuICovXG5cbi8qKlxuICogQSBOb2lzZSBlZmZlY3QgZmlsdGVyLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIE5vaXNlRmlsdGVyID0gZnVuY3Rpb24gKF9jb3JlJEZpbHRlcikge1xuICAgIF9pbmhlcml0cyhOb2lzZUZpbHRlciwgX2NvcmUkRmlsdGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBub2lzZSAtIFRoZSBub2lzZSBpbnRlbnNpdHksIHNob3VsZCBiZSBhIG5vcm1hbGl6ZWQgdmFsdWUgaW4gdGhlIHJhbmdlIFswLCAxXS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2VlZCAtIEEgcmFuZG9tIHNlZWQgZm9yIHRoZSBub2lzZSBnZW5lcmF0aW9uLiBEZWZhdWx0IGlzIGBNYXRoLnJhbmRvbSgpYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBOb2lzZUZpbHRlcigpIHtcbiAgICAgICAgdmFyIG5vaXNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwLjU7XG4gICAgICAgIHZhciBzZWVkID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBNYXRoLnJhbmRvbSgpO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOb2lzZUZpbHRlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkRmlsdGVyLmNhbGwodGhpcyxcbiAgICAgICAgLy8gdmVydGV4IHNoYWRlclxuICAgICAgICAnYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxufScsXG4gICAgICAgIC8vIGZyYWdtZW50IHNoYWRlclxuICAgICAgICAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudW5pZm9ybSBmbG9hdCB1Tm9pc2U7XFxudW5pZm9ybSBmbG9hdCB1U2VlZDtcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG5mbG9hdCByYW5kKHZlYzIgY28pXFxue1xcbiAgICByZXR1cm4gZnJhY3Qoc2luKGRvdChjby54eSwgdmVjMigxMi45ODk4LCA3OC4yMzMpKSkgKiA0Mzc1OC41NDUzKTtcXG59XFxuXFxudm9pZCBtYWluKClcXG57XFxuICAgIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbiAgICBmbG9hdCByYW5kb21WYWx1ZSA9IHJhbmQoZ2xfRnJhZ0Nvb3JkLnh5ICogdVNlZWQpO1xcbiAgICBmbG9hdCBkaWZmID0gKHJhbmRvbVZhbHVlIC0gMC41KSAqIHVOb2lzZTtcXG5cXG4gICAgLy8gVW4tcHJlbXVsdGlwbHkgYWxwaGEgYmVmb3JlIGFwcGx5aW5nIHRoZSBjb2xvciBtYXRyaXguIFNlZSBpc3N1ZSAjMzUzOS5cXG4gICAgaWYgKGNvbG9yLmEgPiAwLjApIHtcXG4gICAgICAgIGNvbG9yLnJnYiAvPSBjb2xvci5hO1xcbiAgICB9XFxuXFxuICAgIGNvbG9yLnIgKz0gZGlmZjtcXG4gICAgY29sb3IuZyArPSBkaWZmO1xcbiAgICBjb2xvci5iICs9IGRpZmY7XFxuXFxuICAgIC8vIFByZW11bHRpcGx5IGFscGhhIGFnYWluLlxcbiAgICBjb2xvci5yZ2IgKj0gY29sb3IuYTtcXG5cXG4gICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxufVxcbicpKTtcblxuICAgICAgICBfdGhpcy5ub2lzZSA9IG5vaXNlO1xuICAgICAgICBfdGhpcy5zZWVkID0gc2VlZDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBhbW91bnQgb2Ygbm9pc2UgdG8gYXBwbHksIHRoaXMgdmFsdWUgc2hvdWxkIGJlIGluIHRoZSByYW5nZSAoMCwgMV0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMC41XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhOb2lzZUZpbHRlciwgW3tcbiAgICAgICAga2V5OiAnbm9pc2UnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVOb2lzZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVOb2lzZSA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgc2VlZCB2YWx1ZSB0byBhcHBseSB0byB0aGUgcmFuZG9tIG5vaXNlIGdlbmVyYXRpb24uIGBNYXRoLnJhbmRvbSgpYCBpcyBhIGdvb2QgdmFsdWUgdG8gdXNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdzZWVkJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51U2VlZDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVTZWVkID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gTm9pc2VGaWx0ZXI7XG59KGNvcmUuRmlsdGVyKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gTm9pc2VGaWx0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ob2lzZUZpbHRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqXG4gKiBCYXNpYyBGWEFBIGltcGxlbWVudGF0aW9uIGJhc2VkIG9uIHRoZSBjb2RlIG9uIGdlZWtzM2QuY29tIHdpdGggdGhlXG4gKiBtb2RpZmljYXRpb24gdGhhdCB0aGUgdGV4dHVyZTJETG9kIHN0dWZmIHdhcyByZW1vdmVkIHNpbmNlIGl0J3NcbiAqIHVuc3VwcG9ydGVkIGJ5IFdlYkdMLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21pdHN1aGlrby93ZWJnbC1tZWluY3JhZnRcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKlxuICovXG52YXIgRlhBQUZpbHRlciA9IGZ1bmN0aW9uIChfY29yZSRGaWx0ZXIpIHtcbiAgICBfaW5oZXJpdHMoRlhBQUZpbHRlciwgX2NvcmUkRmlsdGVyKTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gRlhBQUZpbHRlcigpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZYQUFGaWx0ZXIpO1xuXG4gICAgICAgIC8vIFRPRE8gLSBuZWVkcyB3b3JrXG4gICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfY29yZSRGaWx0ZXIuY2FsbCh0aGlzLFxuICAgICAgICAvLyB2ZXJ0ZXggc2hhZGVyXG4gICAgICAgICdcXG5hdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdl9yZ2JOVztcXG52YXJ5aW5nIHZlYzIgdl9yZ2JORTtcXG52YXJ5aW5nIHZlYzIgdl9yZ2JTVztcXG52YXJ5aW5nIHZlYzIgdl9yZ2JTRTtcXG52YXJ5aW5nIHZlYzIgdl9yZ2JNO1xcblxcbnVuaWZvcm0gdmVjNCBmaWx0ZXJBcmVhO1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZlYzIgbWFwQ29vcmQoIHZlYzIgY29vcmQgKVxcbntcXG4gICAgY29vcmQgKj0gZmlsdGVyQXJlYS54eTtcXG4gICAgY29vcmQgKz0gZmlsdGVyQXJlYS56dztcXG5cXG4gICAgcmV0dXJuIGNvb3JkO1xcbn1cXG5cXG52ZWMyIHVubWFwQ29vcmQoIHZlYzIgY29vcmQgKVxcbntcXG4gICAgY29vcmQgLT0gZmlsdGVyQXJlYS56dztcXG4gICAgY29vcmQgLz0gZmlsdGVyQXJlYS54eTtcXG5cXG4gICAgcmV0dXJuIGNvb3JkO1xcbn1cXG5cXG52b2lkIHRleGNvb3Jkcyh2ZWMyIGZyYWdDb29yZCwgdmVjMiByZXNvbHV0aW9uLFxcbiAgICAgICAgICAgICAgIG91dCB2ZWMyIHZfcmdiTlcsIG91dCB2ZWMyIHZfcmdiTkUsXFxuICAgICAgICAgICAgICAgb3V0IHZlYzIgdl9yZ2JTVywgb3V0IHZlYzIgdl9yZ2JTRSxcXG4gICAgICAgICAgICAgICBvdXQgdmVjMiB2X3JnYk0pIHtcXG4gICAgdmVjMiBpbnZlcnNlVlAgPSAxLjAgLyByZXNvbHV0aW9uLnh5O1xcbiAgICB2X3JnYk5XID0gKGZyYWdDb29yZCArIHZlYzIoLTEuMCwgLTEuMCkpICogaW52ZXJzZVZQO1xcbiAgICB2X3JnYk5FID0gKGZyYWdDb29yZCArIHZlYzIoMS4wLCAtMS4wKSkgKiBpbnZlcnNlVlA7XFxuICAgIHZfcmdiU1cgPSAoZnJhZ0Nvb3JkICsgdmVjMigtMS4wLCAxLjApKSAqIGludmVyc2VWUDtcXG4gICAgdl9yZ2JTRSA9IChmcmFnQ29vcmQgKyB2ZWMyKDEuMCwgMS4wKSkgKiBpbnZlcnNlVlA7XFxuICAgIHZfcmdiTSA9IHZlYzIoZnJhZ0Nvb3JkICogaW52ZXJzZVZQKTtcXG59XFxuXFxudm9pZCBtYWluKHZvaWQpIHtcXG5cXG4gICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG5cXG4gICB2ZWMyIGZyYWdDb29yZCA9IHZUZXh0dXJlQ29vcmQgKiBmaWx0ZXJBcmVhLnh5O1xcblxcbiAgIHRleGNvb3JkcyhmcmFnQ29vcmQsIGZpbHRlckFyZWEueHksIHZfcmdiTlcsIHZfcmdiTkUsIHZfcmdiU1csIHZfcmdiU0UsIHZfcmdiTSk7XFxufScsXG4gICAgICAgIC8vIGZyYWdtZW50IHNoYWRlclxuICAgICAgICAndmFyeWluZyB2ZWMyIHZfcmdiTlc7XFxudmFyeWluZyB2ZWMyIHZfcmdiTkU7XFxudmFyeWluZyB2ZWMyIHZfcmdiU1c7XFxudmFyeWluZyB2ZWMyIHZfcmdiU0U7XFxudmFyeWluZyB2ZWMyIHZfcmdiTTtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHZlYzQgZmlsdGVyQXJlYTtcXG5cXG4vKipcXG4gQmFzaWMgRlhBQSBpbXBsZW1lbnRhdGlvbiBiYXNlZCBvbiB0aGUgY29kZSBvbiBnZWVrczNkLmNvbSB3aXRoIHRoZVxcbiBtb2RpZmljYXRpb24gdGhhdCB0aGUgdGV4dHVyZTJETG9kIHN0dWZmIHdhcyByZW1vdmVkIHNpbmNlIGl0XFwnc1xcbiB1bnN1cHBvcnRlZCBieSBXZWJHTC5cXG4gXFxuIC0tXFxuIFxcbiBGcm9tOlxcbiBodHRwczovL2dpdGh1Yi5jb20vbWl0c3VoaWtvL3dlYmdsLW1laW5jcmFmdFxcbiBcXG4gQ29weXJpZ2h0IChjKSAyMDExIGJ5IEFybWluIFJvbmFjaGVyLlxcbiBcXG4gU29tZSByaWdodHMgcmVzZXJ2ZWQuXFxuIFxcbiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcXG4gbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZVxcbiBtZXQ6XFxuIFxcbiAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0XFxuIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cXG4gXFxuICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZVxcbiBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZ1xcbiBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWRcXG4gd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxcbiBcXG4gKiBUaGUgbmFtZXMgb2YgdGhlIGNvbnRyaWJ1dG9ycyBtYXkgbm90IGJlIHVzZWQgdG8gZW5kb3JzZSBvclxcbiBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWNcXG4gcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxcbiBcXG4gVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SU1xcbiBcIkFTIElTXCIgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UXFxuIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUlxcbiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVFxcbiBPV05FUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCxcXG4gU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVFxcbiBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSxcXG4gREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZXFxuIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlRcXG4gKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFXFxuIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXFxuICovXFxuXFxuI2lmbmRlZiBGWEFBX1JFRFVDRV9NSU5cXG4jZGVmaW5lIEZYQUFfUkVEVUNFX01JTiAgICgxLjAvIDEyOC4wKVxcbiNlbmRpZlxcbiNpZm5kZWYgRlhBQV9SRURVQ0VfTVVMXFxuI2RlZmluZSBGWEFBX1JFRFVDRV9NVUwgICAoMS4wIC8gOC4wKVxcbiNlbmRpZlxcbiNpZm5kZWYgRlhBQV9TUEFOX01BWFxcbiNkZWZpbmUgRlhBQV9TUEFOX01BWCAgICAgOC4wXFxuI2VuZGlmXFxuXFxuLy9vcHRpbWl6ZWQgdmVyc2lvbiBmb3IgbW9iaWxlLCB3aGVyZSBkZXBlbmRlbnRcXG4vL3RleHR1cmUgcmVhZHMgY2FuIGJlIGEgYm90dGxlbmVja1xcbnZlYzQgZnhhYShzYW1wbGVyMkQgdGV4LCB2ZWMyIGZyYWdDb29yZCwgdmVjMiByZXNvbHV0aW9uLFxcbiAgICAgICAgICB2ZWMyIHZfcmdiTlcsIHZlYzIgdl9yZ2JORSxcXG4gICAgICAgICAgdmVjMiB2X3JnYlNXLCB2ZWMyIHZfcmdiU0UsXFxuICAgICAgICAgIHZlYzIgdl9yZ2JNKSB7XFxuICAgIHZlYzQgY29sb3I7XFxuICAgIG1lZGl1bXAgdmVjMiBpbnZlcnNlVlAgPSB2ZWMyKDEuMCAvIHJlc29sdXRpb24ueCwgMS4wIC8gcmVzb2x1dGlvbi55KTtcXG4gICAgdmVjMyByZ2JOVyA9IHRleHR1cmUyRCh0ZXgsIHZfcmdiTlcpLnh5ejtcXG4gICAgdmVjMyByZ2JORSA9IHRleHR1cmUyRCh0ZXgsIHZfcmdiTkUpLnh5ejtcXG4gICAgdmVjMyByZ2JTVyA9IHRleHR1cmUyRCh0ZXgsIHZfcmdiU1cpLnh5ejtcXG4gICAgdmVjMyByZ2JTRSA9IHRleHR1cmUyRCh0ZXgsIHZfcmdiU0UpLnh5ejtcXG4gICAgdmVjNCB0ZXhDb2xvciA9IHRleHR1cmUyRCh0ZXgsIHZfcmdiTSk7XFxuICAgIHZlYzMgcmdiTSAgPSB0ZXhDb2xvci54eXo7XFxuICAgIHZlYzMgbHVtYSA9IHZlYzMoMC4yOTksIDAuNTg3LCAwLjExNCk7XFxuICAgIGZsb2F0IGx1bWFOVyA9IGRvdChyZ2JOVywgbHVtYSk7XFxuICAgIGZsb2F0IGx1bWFORSA9IGRvdChyZ2JORSwgbHVtYSk7XFxuICAgIGZsb2F0IGx1bWFTVyA9IGRvdChyZ2JTVywgbHVtYSk7XFxuICAgIGZsb2F0IGx1bWFTRSA9IGRvdChyZ2JTRSwgbHVtYSk7XFxuICAgIGZsb2F0IGx1bWFNICA9IGRvdChyZ2JNLCAgbHVtYSk7XFxuICAgIGZsb2F0IGx1bWFNaW4gPSBtaW4obHVtYU0sIG1pbihtaW4obHVtYU5XLCBsdW1hTkUpLCBtaW4obHVtYVNXLCBsdW1hU0UpKSk7XFxuICAgIGZsb2F0IGx1bWFNYXggPSBtYXgobHVtYU0sIG1heChtYXgobHVtYU5XLCBsdW1hTkUpLCBtYXgobHVtYVNXLCBsdW1hU0UpKSk7XFxuICAgIFxcbiAgICBtZWRpdW1wIHZlYzIgZGlyO1xcbiAgICBkaXIueCA9IC0oKGx1bWFOVyArIGx1bWFORSkgLSAobHVtYVNXICsgbHVtYVNFKSk7XFxuICAgIGRpci55ID0gICgobHVtYU5XICsgbHVtYVNXKSAtIChsdW1hTkUgKyBsdW1hU0UpKTtcXG4gICAgXFxuICAgIGZsb2F0IGRpclJlZHVjZSA9IG1heCgobHVtYU5XICsgbHVtYU5FICsgbHVtYVNXICsgbHVtYVNFKSAqXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAoMC4yNSAqIEZYQUFfUkVEVUNFX01VTCksIEZYQUFfUkVEVUNFX01JTik7XFxuICAgIFxcbiAgICBmbG9hdCByY3BEaXJNaW4gPSAxLjAgLyAobWluKGFicyhkaXIueCksIGFicyhkaXIueSkpICsgZGlyUmVkdWNlKTtcXG4gICAgZGlyID0gbWluKHZlYzIoRlhBQV9TUEFOX01BWCwgRlhBQV9TUEFOX01BWCksXFxuICAgICAgICAgICAgICBtYXgodmVjMigtRlhBQV9TUEFOX01BWCwgLUZYQUFfU1BBTl9NQVgpLFxcbiAgICAgICAgICAgICAgICAgIGRpciAqIHJjcERpck1pbikpICogaW52ZXJzZVZQO1xcbiAgICBcXG4gICAgdmVjMyByZ2JBID0gMC41ICogKFxcbiAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogaW52ZXJzZVZQICsgZGlyICogKDEuMCAvIDMuMCAtIDAuNSkpLnh5eiArXFxuICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgKiBpbnZlcnNlVlAgKyBkaXIgKiAoMi4wIC8gMy4wIC0gMC41KSkueHl6KTtcXG4gICAgdmVjMyByZ2JCID0gcmdiQSAqIDAuNSArIDAuMjUgKiAoXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUyRCh0ZXgsIGZyYWdDb29yZCAqIGludmVyc2VWUCArIGRpciAqIC0wLjUpLnh5eiArXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUyRCh0ZXgsIGZyYWdDb29yZCAqIGludmVyc2VWUCArIGRpciAqIDAuNSkueHl6KTtcXG4gICAgXFxuICAgIGZsb2F0IGx1bWFCID0gZG90KHJnYkIsIGx1bWEpO1xcbiAgICBpZiAoKGx1bWFCIDwgbHVtYU1pbikgfHwgKGx1bWFCID4gbHVtYU1heCkpXFxuICAgICAgICBjb2xvciA9IHZlYzQocmdiQSwgdGV4Q29sb3IuYSk7XFxuICAgIGVsc2VcXG4gICAgICAgIGNvbG9yID0gdmVjNChyZ2JCLCB0ZXhDb2xvci5hKTtcXG4gICAgcmV0dXJuIGNvbG9yO1xcbn1cXG5cXG52b2lkIG1haW4oKSB7XFxuXFxuICAgICAgdmVjMiBmcmFnQ29vcmQgPSB2VGV4dHVyZUNvb3JkICogZmlsdGVyQXJlYS54eTtcXG5cXG4gICAgICB2ZWM0IGNvbG9yO1xcblxcbiAgICBjb2xvciA9IGZ4YWEodVNhbXBsZXIsIGZyYWdDb29yZCwgZmlsdGVyQXJlYS54eSwgdl9yZ2JOVywgdl9yZ2JORSwgdl9yZ2JTVywgdl9yZ2JTRSwgdl9yZ2JNKTtcXG5cXG4gICAgICBnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG59XFxuJykpO1xuICAgIH1cblxuICAgIHJldHVybiBGWEFBRmlsdGVyO1xufShjb3JlLkZpbHRlcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEZYQUFGaWx0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GWEFBRmlsdGVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9GWEFBRmlsdGVyID0gcmVxdWlyZSgnLi9meGFhL0ZYQUFGaWx0ZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdGWEFBRmlsdGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRlhBQUZpbHRlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfTm9pc2VGaWx0ZXIgPSByZXF1aXJlKCcuL25vaXNlL05vaXNlRmlsdGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnTm9pc2VGaWx0ZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ob2lzZUZpbHRlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfRGlzcGxhY2VtZW50RmlsdGVyID0gcmVxdWlyZSgnLi9kaXNwbGFjZW1lbnQvRGlzcGxhY2VtZW50RmlsdGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnRGlzcGxhY2VtZW50RmlsdGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGlzcGxhY2VtZW50RmlsdGVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9CbHVyRmlsdGVyID0gcmVxdWlyZSgnLi9ibHVyL0JsdXJGaWx0ZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdCbHVyRmlsdGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmx1ckZpbHRlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQmx1clhGaWx0ZXIgPSByZXF1aXJlKCcuL2JsdXIvQmx1clhGaWx0ZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdCbHVyWEZpbHRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JsdXJYRmlsdGVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9CbHVyWUZpbHRlciA9IHJlcXVpcmUoJy4vYmx1ci9CbHVyWUZpbHRlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0JsdXJZRmlsdGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmx1cllGaWx0ZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0NvbG9yTWF0cml4RmlsdGVyID0gcmVxdWlyZSgnLi9jb2xvcm1hdHJpeC9Db2xvck1hdHJpeEZpbHRlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0NvbG9yTWF0cml4RmlsdGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29sb3JNYXRyaXhGaWx0ZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0FscGhhRmlsdGVyID0gcmVxdWlyZSgnLi9hbHBoYS9BbHBoYUZpbHRlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0FscGhhRmlsdGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQWxwaGFGaWx0ZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGdsb2JhbCBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdC4gRG9lcyBub3QgZGVwZW5kIG9uIG9iamVjdCBzY2FsZSwgcm90YXRpb24gYW5kIHBpdm90LlxuICpcbiAqIEBtZXRob2QgZ2V0R2xvYmFsUG9zaXRpb25cbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BvaW50fSBwb2ludCAtIHRoZSBwb2ludCB0byB3cml0ZSB0aGUgZ2xvYmFsIHZhbHVlIHRvLiBJZiBudWxsIGEgbmV3IHBvaW50IHdpbGwgYmUgcmV0dXJuZWRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gc2tpcFVwZGF0ZSAtIHNldHRpbmcgdG8gdHJ1ZSB3aWxsIHN0b3AgdGhlIHRyYW5zZm9ybXMgb2YgdGhlIHNjZW5lIGdyYXBoIGZyb21cbiAqICBiZWluZyB1cGRhdGVkLiBUaGlzIG1lYW5zIHRoZSBjYWxjdWxhdGlvbiByZXR1cm5lZCBNQVkgYmUgb3V0IG9mIGRhdGUgQlVUIHdpbGwgZ2l2ZSB5b3UgYVxuICogIG5pY2UgcGVyZm9ybWFuY2UgYm9vc3RcbiAqIEByZXR1cm4ge1BvaW50fSBUaGUgdXBkYXRlZCBwb2ludFxuICovXG5jb3JlLkRpc3BsYXlPYmplY3QucHJvdG90eXBlLmdldEdsb2JhbFBvc2l0aW9uID0gZnVuY3Rpb24gZ2V0R2xvYmFsUG9zaXRpb24oKSB7XG4gICAgdmFyIHBvaW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBuZXcgY29yZS5Qb2ludCgpO1xuICAgIHZhciBza2lwVXBkYXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcblxuICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICB0aGlzLnBhcmVudC50b0dsb2JhbCh0aGlzLnBvc2l0aW9uLCBwb2ludCwgc2tpcFVwZGF0ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcG9pbnQueCA9IHRoaXMucG9zaXRpb24ueDtcbiAgICAgICAgcG9pbnQueSA9IHRoaXMucG9zaXRpb24ueTtcbiAgICB9XG5cbiAgICByZXR1cm4gcG9pbnQ7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0R2xvYmFsUG9zaXRpb24uanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG4vKipcbiAqIFRoZSBpbnN0YW5jZSBuYW1lIG9mIHRoZSBvYmplY3QuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBtZW1iZXIge3N0cmluZ30gbmFtZVxuICovXG5jb3JlLkRpc3BsYXlPYmplY3QucHJvdG90eXBlLm5hbWUgPSBudWxsO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGRpc3BsYXkgb2JqZWN0IGluIHRoZSBjb250YWluZXJcbiAqXG4gKiBAbWV0aG9kIGdldENoaWxkQnlOYW1lXG4gKiBAbWVtYmVyb2YgUElYSS5Db250YWluZXIjXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIGluc3RhbmNlIG5hbWVcbiAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIHdpdGggdGhlIHNwZWNpZmllZCBuYW1lLlxuICovXG5jb3JlLkNvbnRhaW5lci5wcm90b3R5cGUuZ2V0Q2hpbGRCeU5hbWUgPSBmdW5jdGlvbiBnZXRDaGlsZEJ5TmFtZShuYW1lKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuW2ldLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0Q2hpbGRCeU5hbWUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX1RleHR1cmUgPSByZXF1aXJlKCcuLi9jb3JlL3RleHR1cmVzL1RleHR1cmUnKTtcblxudmFyIF9UZXh0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHR1cmUpO1xuXG52YXIgX0Jhc2VUZXh0dXJlID0gcmVxdWlyZSgnLi4vY29yZS90ZXh0dXJlcy9CYXNlVGV4dHVyZScpO1xuXG52YXIgX0Jhc2VUZXh0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Jhc2VUZXh0dXJlKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL2NvcmUvdXRpbHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIERpc3BsYXlPYmplY3QgPSBjb3JlLkRpc3BsYXlPYmplY3Q7XG52YXIgX3RlbXBNYXRyaXggPSBuZXcgY29yZS5NYXRyaXgoKTtcblxuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhY2hlQXNCaXRtYXAgPSBmYWxzZTtcbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9jYWNoZURhdGEgPSBmYWxzZTtcblxuLy8gZmlndXJlZCB0aGVyZXMgbm8gcG9pbnQgYWRkaW5nIEFMTCB0aGUgZXh0cmEgdmFyaWFibGVzIHRvIHByb3RvdHlwZS5cbi8vIHRoaXMgbW9kZWwgY2FuIGhvbGQgdGhlIGluZm9ybWF0aW9uIG5lZWRlZC4gVGhpcyBjYW4gYWxzbyBiZSBnZW5lcmF0ZWQgb24gZGVtYW5kIGFzXG4vLyBtb3N0IG9iamVjdHMgYXJlIG5vdCBjYWNoZWQgYXMgYml0bWFwcy5cbi8qKlxuICogQGNsYXNzXG4gKiBAaWdub3JlXG4gKi9cblxudmFyIENhY2hlRGF0YSA9XG4vKipcbiAqXG4gKi9cbmZ1bmN0aW9uIENhY2hlRGF0YSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FjaGVEYXRhKTtcblxuICAgIHRoaXMudGV4dHVyZUNhY2hlSWQgPSBudWxsO1xuXG4gICAgdGhpcy5vcmlnaW5hbFJlbmRlcldlYkdMID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsUmVuZGVyQ2FudmFzID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsQ2FsY3VsYXRlQm91bmRzID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsR2V0TG9jYWxCb3VuZHMgPSBudWxsO1xuXG4gICAgdGhpcy5vcmlnaW5hbFVwZGF0ZVRyYW5zZm9ybSA9IG51bGw7XG4gICAgdGhpcy5vcmlnaW5hbEhpdFRlc3QgPSBudWxsO1xuICAgIHRoaXMub3JpZ2luYWxEZXN0cm95ID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsTWFzayA9IG51bGw7XG4gICAgdGhpcy5vcmlnaW5hbEZpbHRlckFyZWEgPSBudWxsO1xuICAgIHRoaXMuc3ByaXRlID0gbnVsbDtcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKERpc3BsYXlPYmplY3QucHJvdG90eXBlLCB7XG4gICAgLyoqXG4gICAgICogU2V0IHRoaXMgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0aGlzIGRpc3BsYXkgb2JqZWN0IHRvIGJlIGNhY2hlZCBhcyBhIGJpdG1hcC5cbiAgICAgKiBUaGlzIGJhc2ljYWxseSB0YWtlcyBhIHNuYXAgc2hvdCBvZiB0aGUgZGlzcGxheSBvYmplY3QgYXMgaXQgaXMgYXQgdGhhdCBtb21lbnQuIEl0IGNhblxuICAgICAqIHByb3ZpZGUgYSBwZXJmb3JtYW5jZSBiZW5lZml0IGZvciBjb21wbGV4IHN0YXRpYyBkaXNwbGF5T2JqZWN0cy5cbiAgICAgKiBUbyByZW1vdmUgc2ltcGx5IHNldCB0aGlzIHByb3BlcnR5IHRvICdmYWxzZSdcbiAgICAgKlxuICAgICAqIElNUE9SVEFOVCBHT1RDSEEgLSBtYWtlIHN1cmUgdGhhdCBhbGwgeW91ciB0ZXh0dXJlcyBhcmUgcHJlbG9hZGVkIEJFRk9SRSBzZXR0aW5nIHRoaXMgcHJvcGVydHkgdG8gdHJ1ZVxuICAgICAqIGFzIGl0IHdpbGwgdGFrZSBhIHNuYXBzaG90IG9mIHdoYXQgaXMgY3VycmVudGx5IHRoZXJlLiBJZiB0aGUgdGV4dHVyZXMgaGF2ZSBub3QgbG9hZGVkIHRoZW4gdGhleSB3aWxsIG5vdCBhcHBlYXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgY2FjaGVBc0JpdG1hcDoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZUFzQml0bWFwO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NhY2hlQXNCaXRtYXAgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9jYWNoZUFzQml0bWFwID0gdmFsdWU7XG5cbiAgICAgICAgICAgIHZhciBkYXRhID0gdm9pZCAwO1xuXG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2NhY2hlRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZURhdGEgPSBuZXcgQ2FjaGVEYXRhKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGF0YSA9IHRoaXMuX2NhY2hlRGF0YTtcblxuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxSZW5kZXJXZWJHTCA9IHRoaXMucmVuZGVyV2ViR0w7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbFJlbmRlckNhbnZhcyA9IHRoaXMucmVuZGVyQ2FudmFzO1xuXG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbFVwZGF0ZVRyYW5zZm9ybSA9IHRoaXMudXBkYXRlVHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxDYWxjdWxhdGVCb3VuZHMgPSB0aGlzLl9jYWxjdWxhdGVCb3VuZHM7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbEdldExvY2FsQm91bmRzID0gdGhpcy5nZXRMb2NhbEJvdW5kcztcblxuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxEZXN0cm95ID0gdGhpcy5kZXN0cm95O1xuXG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbENvbnRhaW5zUG9pbnQgPSB0aGlzLmNvbnRhaW5zUG9pbnQ7XG5cbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsTWFzayA9IHRoaXMuX21hc2s7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbEZpbHRlckFyZWEgPSB0aGlzLmZpbHRlckFyZWE7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcldlYkdMID0gdGhpcy5fcmVuZGVyQ2FjaGVkV2ViR0w7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJDYW52YXMgPSB0aGlzLl9yZW5kZXJDYWNoZWRDYW52YXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3kgPSB0aGlzLl9jYWNoZUFzQml0bWFwRGVzdHJveTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGF0YSA9IHRoaXMuX2NhY2hlRGF0YTtcblxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnNwcml0ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kZXN0cm95Q2FjaGVkRGlzcGxheU9iamVjdCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyV2ViR0wgPSBkYXRhLm9yaWdpbmFsUmVuZGVyV2ViR0w7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJDYW52YXMgPSBkYXRhLm9yaWdpbmFsUmVuZGVyQ2FudmFzO1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhbGN1bGF0ZUJvdW5kcyA9IGRhdGEub3JpZ2luYWxDYWxjdWxhdGVCb3VuZHM7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRMb2NhbEJvdW5kcyA9IGRhdGEub3JpZ2luYWxHZXRMb2NhbEJvdW5kcztcblxuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveSA9IGRhdGEub3JpZ2luYWxEZXN0cm95O1xuXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0gPSBkYXRhLm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbnNQb2ludCA9IGRhdGEub3JpZ2luYWxDb250YWluc1BvaW50O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fbWFzayA9IGRhdGEub3JpZ2luYWxNYXNrO1xuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyQXJlYSA9IGRhdGEub3JpZ2luYWxGaWx0ZXJBcmVhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSk7XG5cbi8qKlxuICogUmVuZGVycyBhIGNhY2hlZCB2ZXJzaW9uIG9mIHRoZSBzcHJpdGUgd2l0aCBXZWJHTFxuICpcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gdGhlIFdlYkdMIHJlbmRlcmVyXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9yZW5kZXJDYWNoZWRXZWJHTCA9IGZ1bmN0aW9uIF9yZW5kZXJDYWNoZWRXZWJHTChyZW5kZXJlcikge1xuICAgIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLnJlbmRlcmFibGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0KHJlbmRlcmVyKTtcblxuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS53b3JsZEFscGhhID0gdGhpcy53b3JsZEFscGhhO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuX3JlbmRlcldlYkdMKHJlbmRlcmVyKTtcbn07XG5cbi8qKlxuICogUHJlcGFyZXMgdGhlIFdlYkdMIHJlbmRlcmVyIHRvIGNhY2hlIHRoZSBzcHJpdGVcbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIHRoZSBXZWJHTCByZW5kZXJlclxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5faW5pdENhY2hlZERpc3BsYXlPYmplY3QgPSBmdW5jdGlvbiBfaW5pdENhY2hlZERpc3BsYXlPYmplY3QocmVuZGVyZXIpIHtcbiAgICBpZiAodGhpcy5fY2FjaGVEYXRhICYmIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIG1ha2Ugc3VyZSBhbHBoYSBpcyBzZXQgdG8gMSBvdGhlcndpc2UgaXQgd2lsbCBnZXQgcmVuZGVyZWQgYXMgaW52aXNpYmxlIVxuICAgIHZhciBjYWNoZUFscGhhID0gdGhpcy5hbHBoYTtcblxuICAgIHRoaXMuYWxwaGEgPSAxO1xuXG4gICAgLy8gZmlyc3Qgd2UgZmx1c2ggYW55dGhpbmcgbGVmdCBpbiB0aGUgcmVuZGVyZXIgKG90aGVyd2lzZSBpdCB3b3VsZCBnZXQgcmVuZGVyZWQgdG8gdGhlIGNhY2hlZCB0ZXh0dXJlKVxuICAgIHJlbmRlcmVyLmN1cnJlbnRSZW5kZXJlci5mbHVzaCgpO1xuICAgIC8vIHRoaXMuZmlsdGVycz0gW107XG5cbiAgICAvLyBuZXh0IHdlIGZpbmQgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIHVudHJhbnNmb3JtZWQgb2JqZWN0XG4gICAgLy8gdGhpcyBmdW5jdGlvbiBhbHNvIGNhbGxzIHVwZGF0ZXRyYW5zZm9ybSBvbiBhbGwgaXRzIGNoaWxkcmVuIGFzIHBhcnQgb2YgdGhlIG1lYXN1cmluZy5cbiAgICAvLyBUaGlzIG1lYW5zIHdlIGRvbid0IG5lZWQgdG8gdXBkYXRlIHRoZSB0cmFuc2Zvcm0gYWdhaW4gaW4gdGhpcyBmdW5jdGlvblxuICAgIC8vIFRPRE8gcGFzcyBhbiBvYmplY3QgdG8gY2xvbmUgdG9vPyBzYXZlcyBoYXZpbmcgdG8gY3JlYXRlIGEgbmV3IG9uZSBlYWNoIHRpbWUhXG4gICAgdmFyIGJvdW5kcyA9IHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS5jbG9uZSgpO1xuXG4gICAgLy8gYWRkIHNvbWUgcGFkZGluZyFcbiAgICBpZiAodGhpcy5fZmlsdGVycykge1xuICAgICAgICB2YXIgcGFkZGluZyA9IHRoaXMuX2ZpbHRlcnNbMF0ucGFkZGluZztcblxuICAgICAgICBib3VuZHMucGFkKHBhZGRpbmcpO1xuICAgIH1cblxuICAgIC8vIGZvciBub3cgd2UgY2FjaGUgdGhlIGN1cnJlbnQgcmVuZGVyVGFyZ2V0IHRoYXQgdGhlIHdlYkdMIHJlbmRlcmVyIGlzIGN1cnJlbnRseSB1c2luZy5cbiAgICAvLyB0aGlzIGNvdWxkIGJlIG1vcmUgZWxlZ2VudC4uXG4gICAgdmFyIGNhY2hlZFJlbmRlclRhcmdldCA9IHJlbmRlcmVyLl9hY3RpdmVSZW5kZXJUYXJnZXQ7XG4gICAgLy8gV2UgYWxzbyBzdG9yZSB0aGUgZmlsdGVyIHN0YWNrIC0gSSB3aWxsIGRlZmluaXRlbHkgbG9vayB0byBjaGFuZ2UgaG93IHRoaXMgd29ya3MgYSBsaXR0bGUgbGF0ZXIgZG93biB0aGUgbGluZS5cbiAgICB2YXIgc3RhY2sgPSByZW5kZXJlci5maWx0ZXJNYW5hZ2VyLmZpbHRlclN0YWNrO1xuXG4gICAgLy8gdGhpcyByZW5kZXJUZXh0dXJlIHdpbGwgYmUgdXNlZCB0byBzdG9yZSB0aGUgY2FjaGVkIERpc3BsYXlPYmplY3RcblxuICAgIHZhciByZW5kZXJUZXh0dXJlID0gY29yZS5SZW5kZXJUZXh0dXJlLmNyZWF0ZShib3VuZHMud2lkdGggfCAwLCBib3VuZHMuaGVpZ2h0IHwgMCk7XG5cbiAgICB2YXIgdGV4dHVyZUNhY2hlSWQgPSAnY2FjaGVBc0JpdG1hcF8nICsgKDAsIF91dGlscy51aWQpKCk7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQgPSB0ZXh0dXJlQ2FjaGVJZDtcblxuICAgIF9CYXNlVGV4dHVyZTIuZGVmYXVsdC5hZGRUb0NhY2hlKHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUsIHRleHR1cmVDYWNoZUlkKTtcbiAgICBfVGV4dHVyZTIuZGVmYXVsdC5hZGRUb0NhY2hlKHJlbmRlclRleHR1cmUsIHRleHR1cmVDYWNoZUlkKTtcblxuICAgIC8vIG5lZWQgdG8gc2V0IC8vXG4gICAgdmFyIG0gPSBfdGVtcE1hdHJpeDtcblxuICAgIG0udHggPSAtYm91bmRzLng7XG4gICAgbS50eSA9IC1ib3VuZHMueTtcblxuICAgIC8vIHJlc2V0XG4gICAgdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0uaWRlbnRpdHkoKTtcblxuICAgIC8vIHNldCBhbGwgcHJvcGVydGllcyB0byB0aGVyZSBvcmlnaW5hbCBzbyB3ZSBjYW4gcmVuZGVyIHRvIGEgdGV4dHVyZVxuICAgIHRoaXMucmVuZGVyV2ViR0wgPSB0aGlzLl9jYWNoZURhdGEub3JpZ2luYWxSZW5kZXJXZWJHTDtcblxuICAgIHJlbmRlcmVyLnJlbmRlcih0aGlzLCByZW5kZXJUZXh0dXJlLCB0cnVlLCBtLCB0cnVlKTtcbiAgICAvLyBub3cgcmVzdG9yZSB0aGUgc3RhdGUgYmUgc2V0dGluZyB0aGUgbmV3IHByb3BlcnRpZXNcblxuICAgIHJlbmRlcmVyLmJpbmRSZW5kZXJUYXJnZXQoY2FjaGVkUmVuZGVyVGFyZ2V0KTtcblxuICAgIHJlbmRlcmVyLmZpbHRlck1hbmFnZXIuZmlsdGVyU3RhY2sgPSBzdGFjaztcblxuICAgIHRoaXMucmVuZGVyV2ViR0wgPSB0aGlzLl9yZW5kZXJDYWNoZWRXZWJHTDtcbiAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSA9IHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybTtcblxuICAgIHRoaXMuX21hc2sgPSBudWxsO1xuICAgIHRoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG5cbiAgICAvLyBjcmVhdGUgb3VyIGNhY2hlZCBzcHJpdGVcbiAgICB2YXIgY2FjaGVkU3ByaXRlID0gbmV3IGNvcmUuU3ByaXRlKHJlbmRlclRleHR1cmUpO1xuXG4gICAgY2FjaGVkU3ByaXRlLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybSA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgIGNhY2hlZFNwcml0ZS5hbmNob3IueCA9IC0oYm91bmRzLnggLyBib3VuZHMud2lkdGgpO1xuICAgIGNhY2hlZFNwcml0ZS5hbmNob3IueSA9IC0oYm91bmRzLnkgLyBib3VuZHMuaGVpZ2h0KTtcbiAgICBjYWNoZWRTcHJpdGUuYWxwaGEgPSBjYWNoZUFscGhhO1xuICAgIGNhY2hlZFNwcml0ZS5fYm91bmRzID0gdGhpcy5fYm91bmRzO1xuXG4gICAgLy8gZWFzeSBib3VuZHMuLlxuICAgIHRoaXMuX2NhbGN1bGF0ZUJvdW5kcyA9IHRoaXMuX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcztcbiAgICB0aGlzLmdldExvY2FsQm91bmRzID0gdGhpcy5fZ2V0Q2FjaGVkTG9jYWxCb3VuZHM7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlID0gY2FjaGVkU3ByaXRlO1xuXG4gICAgdGhpcy50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgLy8gcmVzdG9yZSB0aGUgdHJhbnNmb3JtIG9mIHRoZSBjYWNoZWQgc3ByaXRlIHRvIGF2b2lkIHRoZSBuYXN0eSBmbGlja2VyLi5cbiAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcmVuZGVyZXIuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICB9XG5cbiAgICAvLyBtYXAgdGhlIGhpdCB0ZXN0Li5cbiAgICB0aGlzLmNvbnRhaW5zUG9pbnQgPSBjYWNoZWRTcHJpdGUuY29udGFpbnNQb2ludC5iaW5kKGNhY2hlZFNwcml0ZSk7XG59O1xuXG4vKipcbiAqIFJlbmRlcnMgYSBjYWNoZWQgdmVyc2lvbiBvZiB0aGUgc3ByaXRlIHdpdGggY2FudmFzXG4gKlxuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSB0aGUgV2ViR0wgcmVuZGVyZXJcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX3JlbmRlckNhY2hlZENhbnZhcyA9IGZ1bmN0aW9uIF9yZW5kZXJDYWNoZWRDYW52YXMocmVuZGVyZXIpIHtcbiAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5yZW5kZXJhYmxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdENhbnZhcyhyZW5kZXJlcik7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLndvcmxkQWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLnJlbmRlckNhbnZhcyhyZW5kZXJlcik7XG59O1xuXG4vLyBUT0RPIHRoaXMgY2FuIGJlIHRoZSBzYW1lIGFzIHRoZSB3ZWJHTCB2ZXJpc29uLi4gd2lsbCBuZWVkIHRvIGRvIGEgbGl0dGxlIHR3ZWFraW5nIGZpcnN0IHRob3VnaC4uXG4vKipcbiAqIFByZXBhcmVzIHRoZSBDYW52YXMgcmVuZGVyZXIgdG8gY2FjaGUgdGhlIHNwcml0ZVxuICpcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gdGhlIFdlYkdMIHJlbmRlcmVyXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdENhbnZhcyA9IGZ1bmN0aW9uIF9pbml0Q2FjaGVkRGlzcGxheU9iamVjdENhbnZhcyhyZW5kZXJlcikge1xuICAgIGlmICh0aGlzLl9jYWNoZURhdGEgJiYgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gZ2V0IGJvdW5kcyBhY3R1YWxseSB0cmFuc2Zvcm1zIHRoZSBvYmplY3QgZm9yIHVzIGFscmVhZHkhXG4gICAgdmFyIGJvdW5kcyA9IHRoaXMuZ2V0TG9jYWxCb3VuZHMoKTtcblxuICAgIHZhciBjYWNoZUFscGhhID0gdGhpcy5hbHBoYTtcblxuICAgIHRoaXMuYWxwaGEgPSAxO1xuXG4gICAgdmFyIGNhY2hlZFJlbmRlclRhcmdldCA9IHJlbmRlcmVyLmNvbnRleHQ7XG5cbiAgICB2YXIgcmVuZGVyVGV4dHVyZSA9IGNvcmUuUmVuZGVyVGV4dHVyZS5jcmVhdGUoYm91bmRzLndpZHRoIHwgMCwgYm91bmRzLmhlaWdodCB8IDApO1xuXG4gICAgdmFyIHRleHR1cmVDYWNoZUlkID0gJ2NhY2hlQXNCaXRtYXBfJyArICgwLCBfdXRpbHMudWlkKSgpO1xuXG4gICAgdGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkID0gdGV4dHVyZUNhY2hlSWQ7XG5cbiAgICBfQmFzZVRleHR1cmUyLmRlZmF1bHQuYWRkVG9DYWNoZShyZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLCB0ZXh0dXJlQ2FjaGVJZCk7XG4gICAgX1RleHR1cmUyLmRlZmF1bHQuYWRkVG9DYWNoZShyZW5kZXJUZXh0dXJlLCB0ZXh0dXJlQ2FjaGVJZCk7XG5cbiAgICAvLyBuZWVkIHRvIHNldCAvL1xuICAgIHZhciBtID0gX3RlbXBNYXRyaXg7XG5cbiAgICB0aGlzLnRyYW5zZm9ybS5sb2NhbFRyYW5zZm9ybS5jb3B5KG0pO1xuICAgIG0uaW52ZXJ0KCk7XG5cbiAgICBtLnR4IC09IGJvdW5kcy54O1xuICAgIG0udHkgLT0gYm91bmRzLnk7XG5cbiAgICAvLyBtLmFwcGVuZCh0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybS4pXG4gICAgLy8gc2V0IGFsbCBwcm9wZXJ0aWVzIHRvIHRoZXJlIG9yaWdpbmFsIHNvIHdlIGNhbiByZW5kZXIgdG8gYSB0ZXh0dXJlXG4gICAgdGhpcy5yZW5kZXJDYW52YXMgPSB0aGlzLl9jYWNoZURhdGEub3JpZ2luYWxSZW5kZXJDYW52YXM7XG5cbiAgICAvLyByZW5kZXJUZXh0dXJlLnJlbmRlcih0aGlzLCBtLCB0cnVlKTtcbiAgICByZW5kZXJlci5yZW5kZXIodGhpcywgcmVuZGVyVGV4dHVyZSwgdHJ1ZSwgbSwgZmFsc2UpO1xuXG4gICAgLy8gbm93IHJlc3RvcmUgdGhlIHN0YXRlIGJlIHNldHRpbmcgdGhlIG5ldyBwcm9wZXJ0aWVzXG4gICAgcmVuZGVyZXIuY29udGV4dCA9IGNhY2hlZFJlbmRlclRhcmdldDtcblxuICAgIHRoaXMucmVuZGVyQ2FudmFzID0gdGhpcy5fcmVuZGVyQ2FjaGVkQ2FudmFzO1xuICAgIHRoaXMuX2NhbGN1bGF0ZUJvdW5kcyA9IHRoaXMuX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcztcblxuICAgIHRoaXMuX21hc2sgPSBudWxsO1xuICAgIHRoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG5cbiAgICAvLyBjcmVhdGUgb3VyIGNhY2hlZCBzcHJpdGVcbiAgICB2YXIgY2FjaGVkU3ByaXRlID0gbmV3IGNvcmUuU3ByaXRlKHJlbmRlclRleHR1cmUpO1xuXG4gICAgY2FjaGVkU3ByaXRlLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybSA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgIGNhY2hlZFNwcml0ZS5hbmNob3IueCA9IC0oYm91bmRzLnggLyBib3VuZHMud2lkdGgpO1xuICAgIGNhY2hlZFNwcml0ZS5hbmNob3IueSA9IC0oYm91bmRzLnkgLyBib3VuZHMuaGVpZ2h0KTtcbiAgICBjYWNoZWRTcHJpdGUuX2JvdW5kcyA9IHRoaXMuX2JvdW5kcztcbiAgICBjYWNoZWRTcHJpdGUuYWxwaGEgPSBjYWNoZUFscGhhO1xuXG4gICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICB0aGlzLnBhcmVudCA9IHJlbmRlcmVyLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0gPSB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm07XG5cbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlID0gY2FjaGVkU3ByaXRlO1xuXG4gICAgdGhpcy5jb250YWluc1BvaW50ID0gY2FjaGVkU3ByaXRlLmNvbnRhaW5zUG9pbnQuYmluZChjYWNoZWRTcHJpdGUpO1xufTtcblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBib3VuZHMgb2YgdGhlIGNhY2hlZCBzcHJpdGVcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fY2FsY3VsYXRlQ2FjaGVkQm91bmRzID0gZnVuY3Rpb24gX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcygpIHtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLl9jYWxjdWxhdGVCb3VuZHMoKTtcbn07XG5cbi8qKlxuICogR2V0cyB0aGUgYm91bmRzIG9mIHRoZSBjYWNoZWQgc3ByaXRlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJuIHtSZWN0YW5nbGV9IFRoZSBsb2NhbCBib3VuZHMuXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9nZXRDYWNoZWRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIF9nZXRDYWNoZWRMb2NhbEJvdW5kcygpIHtcbiAgICByZXR1cm4gdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5nZXRMb2NhbEJvdW5kcygpO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgY2FjaGVkIHNwcml0ZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QgPSBmdW5jdGlvbiBfZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QoKSB7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5fdGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUgPSBudWxsO1xuXG4gICAgX0Jhc2VUZXh0dXJlMi5kZWZhdWx0LnJlbW92ZUZyb21DYWNoZSh0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQpO1xuICAgIF9UZXh0dXJlMi5kZWZhdWx0LnJlbW92ZUZyb21DYWNoZSh0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQpO1xuXG4gICAgdGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkID0gbnVsbDtcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhlIGNhY2hlZCBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWUuXG4gKiAgVXNlZCB3aGVuIGRlc3Ryb3lpbmcgY29udGFpbmVycywgc2VlIHRoZSBDb250YWluZXIuZGVzdHJveSBtZXRob2QuXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9jYWNoZUFzQml0bWFwRGVzdHJveSA9IGZ1bmN0aW9uIF9jYWNoZUFzQml0bWFwRGVzdHJveShvcHRpb25zKSB7XG4gICAgdGhpcy5jYWNoZUFzQml0bWFwID0gZmFsc2U7XG4gICAgdGhpcy5kZXN0cm95KG9wdGlvbnMpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhY2hlQXNCaXRtYXAuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX09ic2VydmFibGVQb2ludCA9IHJlcXVpcmUoJy4uL2NvcmUvbWF0aC9PYnNlcnZhYmxlUG9pbnQnKTtcblxudmFyIF9PYnNlcnZhYmxlUG9pbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT2JzZXJ2YWJsZVBvaW50KTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL2NvcmUvdXRpbHMnKTtcblxudmFyIF9zZXR0aW5ncyA9IHJlcXVpcmUoJy4uL2NvcmUvc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBBIEJpdG1hcFRleHQgb2JqZWN0IHdpbGwgY3JlYXRlIGEgbGluZSBvciBtdWx0aXBsZSBsaW5lcyBvZiB0ZXh0IHVzaW5nIGJpdG1hcCBmb250LiBUb1xuICogc3BsaXQgYSBsaW5lIHlvdSBjYW4gdXNlICdcXG4nLCAnXFxyJyBvciAnXFxyXFxuJyBpbiB5b3VyIHN0cmluZy4gWW91IGNhbiBnZW5lcmF0ZSB0aGUgZm50IGZpbGVzIHVzaW5nOlxuICpcbiAqIEEgQml0bWFwVGV4dCBjYW4gb25seSBiZSBjcmVhdGVkIHdoZW4gdGhlIGZvbnQgaXMgbG9hZGVkXG4gKlxuICogYGBganNcbiAqIC8vIGluIHRoaXMgY2FzZSB0aGUgZm9udCBpcyBpbiBhIGZpbGUgY2FsbGVkICdkZXN5cmVsLmZudCdcbiAqIGxldCBiaXRtYXBUZXh0ID0gbmV3IFBJWEkuZXh0cmFzLkJpdG1hcFRleHQoXCJ0ZXh0IHVzaW5nIGEgZmFuY3kgZm9udCFcIiwge2ZvbnQ6IFwiMzVweCBEZXN5cmVsXCIsIGFsaWduOiBcInJpZ2h0XCJ9KTtcbiAqIGBgYFxuICpcbiAqIGh0dHA6Ly93d3cuYW5nZWxjb2RlLmNvbS9wcm9kdWN0cy9ibWZvbnQvIGZvciB3aW5kb3dzIG9yXG4gKiBodHRwOi8vd3d3LmJtZ2x5cGguY29tLyBmb3IgbWFjLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmV4dHJhc1xuICovXG52YXIgQml0bWFwVGV4dCA9IGZ1bmN0aW9uIChfY29yZSRDb250YWluZXIpIHtcbiAgICBfaW5oZXJpdHMoQml0bWFwVGV4dCwgX2NvcmUkQ29udGFpbmVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gVGhlIGNvcHkgdGhhdCB5b3Ugd291bGQgbGlrZSB0aGUgdGV4dCB0byBkaXNwbGF5XG4gICAgICogQHBhcmFtIHtvYmplY3R9IHN0eWxlIC0gVGhlIHN0eWxlIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IHN0eWxlLmZvbnQgLSBUaGUgZm9udCBkZXNjcmlwdG9yIGZvciB0aGUgb2JqZWN0LCBjYW4gYmUgcGFzc2VkIGFzIGEgc3RyaW5nIG9mIGZvcm1cbiAgICAgKiAgICAgIFwiMjRweCBGb250TmFtZVwiIG9yIFwiRm9udE5hbWVcIiBvciBhcyBhbiBvYmplY3Qgd2l0aCBleHBsaWNpdCBuYW1lL3NpemUgcHJvcGVydGllcy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmZvbnQubmFtZV0gLSBUaGUgYml0bWFwIGZvbnQgaWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmZvbnQuc2l6ZV0gLSBUaGUgc2l6ZSBvZiB0aGUgZm9udCBpbiBwaXhlbHMsIGUuZy4gMjRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmFsaWduPSdsZWZ0J10gLSBBbGlnbm1lbnQgZm9yIG11bHRpbGluZSB0ZXh0ICgnbGVmdCcsICdjZW50ZXInIG9yICdyaWdodCcpLCBkb2VzIG5vdCBhZmZlY3RcbiAgICAgKiAgICAgIHNpbmdsZSBsaW5lIHRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLnRpbnQ9MHhGRkZGRkZdIC0gVGhlIHRpbnQgY29sb3JcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCaXRtYXBUZXh0KHRleHQpIHtcbiAgICAgICAgdmFyIHN0eWxlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQml0bWFwVGV4dCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIHdpZHRoIG9mIHRoZSBvdmVyYWxsIHRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2NvcmUkQ29udGFpbmVyLmNhbGwodGhpcykpO1xuXG4gICAgICAgIF90aGlzLl90ZXh0V2lkdGggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBoZWlnaHQgb2YgdGhlIG92ZXJhbGwgdGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGV4dEhlaWdodCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGxldHRlciBzcHJpdGUgcG9vbC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TcHJpdGVbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9nbHlwaHMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCBzdHlsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2ZvbnQgPSB7XG4gICAgICAgICAgICB0aW50OiBzdHlsZS50aW50ICE9PSB1bmRlZmluZWQgPyBzdHlsZS50aW50IDogMHhGRkZGRkYsXG4gICAgICAgICAgICBhbGlnbjogc3R5bGUuYWxpZ24gfHwgJ2xlZnQnLFxuICAgICAgICAgICAgbmFtZTogbnVsbCxcbiAgICAgICAgICAgIHNpemU6IDBcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCBmb250LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5mb250ID0gc3R5bGUuZm9udDsgLy8gcnVuIGZvbnQgc2V0dGVyXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgdGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RleHQgPSB0ZXh0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4IHdpZHRoIG9mIHRoaXMgYml0bWFwIHRleHQgaW4gcGl4ZWxzLiBJZiB0aGUgdGV4dCBwcm92aWRlZCBpcyBsb25nZXIgdGhhbiB0aGVcbiAgICAgICAgICogdmFsdWUgcHJvdmlkZWQsIGxpbmUgYnJlYWtzIHdpbGwgYmUgYXV0b21hdGljYWxseSBpbnNlcnRlZCBpbiB0aGUgbGFzdCB3aGl0ZXNwYWNlLlxuICAgICAgICAgKiBEaXNhYmxlIGJ5IHNldHRpbmcgdmFsdWUgdG8gMFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbWF4V2lkdGggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4IGxpbmUgaGVpZ2h0LiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHRyeWluZyB0byB1c2UgdGhlIHRvdGFsIGhlaWdodCBvZiB0aGUgVGV4dCxcbiAgICAgICAgICogaWU6IHdoZW4gdHJ5aW5nIHRvIHZlcnRpY2FsbHkgYWxpZ24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9tYXhMaW5lSGVpZ2h0ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGV4dCBhbmNob3IuIHJlYWQtb25seVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9hbmNob3IgPSBuZXcgX09ic2VydmFibGVQb2ludDIuZGVmYXVsdChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH0sIF90aGlzLCAwLCAwKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRpcnR5IHN0YXRlIG9mIHRoaXMgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGlydHkgPSBmYWxzZTtcblxuICAgICAgICBfdGhpcy51cGRhdGVUZXh0KCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRleHQgYW5kIHVwZGF0ZXMgaXQgd2hlbiBuZWVkZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIEJpdG1hcFRleHQucHJvdG90eXBlLnVwZGF0ZVRleHQgPSBmdW5jdGlvbiB1cGRhdGVUZXh0KCkge1xuICAgICAgICB2YXIgZGF0YSA9IEJpdG1hcFRleHQuZm9udHNbdGhpcy5fZm9udC5uYW1lXTtcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5fZm9udC5zaXplIC8gZGF0YS5zaXplO1xuICAgICAgICB2YXIgcG9zID0gbmV3IGNvcmUuUG9pbnQoKTtcbiAgICAgICAgdmFyIGNoYXJzID0gW107XG4gICAgICAgIHZhciBsaW5lV2lkdGhzID0gW107XG5cbiAgICAgICAgdmFyIHByZXZDaGFyQ29kZSA9IG51bGw7XG4gICAgICAgIHZhciBsYXN0TGluZVdpZHRoID0gMDtcbiAgICAgICAgdmFyIG1heExpbmVXaWR0aCA9IDA7XG4gICAgICAgIHZhciBsaW5lID0gMDtcbiAgICAgICAgdmFyIGxhc3RTcGFjZSA9IC0xO1xuICAgICAgICB2YXIgbGFzdFNwYWNlV2lkdGggPSAwO1xuICAgICAgICB2YXIgc3BhY2VzUmVtb3ZlZCA9IDA7XG4gICAgICAgIHZhciBtYXhMaW5lSGVpZ2h0ID0gMDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudGV4dC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoYXJDb2RlID0gdGhpcy50ZXh0LmNoYXJDb2RlQXQoaSk7XG5cbiAgICAgICAgICAgIGlmICgvKFxccykvLnRlc3QodGhpcy50ZXh0LmNoYXJBdChpKSkpIHtcbiAgICAgICAgICAgICAgICBsYXN0U3BhY2UgPSBpO1xuICAgICAgICAgICAgICAgIGxhc3RTcGFjZVdpZHRoID0gbGFzdExpbmVXaWR0aDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKC8oPzpcXHJcXG58XFxyfFxcbikvLnRlc3QodGhpcy50ZXh0LmNoYXJBdChpKSkpIHtcbiAgICAgICAgICAgICAgICBsaW5lV2lkdGhzLnB1c2gobGFzdExpbmVXaWR0aCk7XG4gICAgICAgICAgICAgICAgbWF4TGluZVdpZHRoID0gTWF0aC5tYXgobWF4TGluZVdpZHRoLCBsYXN0TGluZVdpZHRoKTtcbiAgICAgICAgICAgICAgICBsaW5lKys7XG5cbiAgICAgICAgICAgICAgICBwb3MueCA9IDA7XG4gICAgICAgICAgICAgICAgcG9zLnkgKz0gZGF0YS5saW5lSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHByZXZDaGFyQ29kZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChsYXN0U3BhY2UgIT09IC0xICYmIHRoaXMuX21heFdpZHRoID4gMCAmJiBwb3MueCAqIHNjYWxlID4gdGhpcy5fbWF4V2lkdGgpIHtcbiAgICAgICAgICAgICAgICBjb3JlLnV0aWxzLnJlbW92ZUl0ZW1zKGNoYXJzLCBsYXN0U3BhY2UgLSBzcGFjZXNSZW1vdmVkLCBpIC0gbGFzdFNwYWNlKTtcbiAgICAgICAgICAgICAgICBpID0gbGFzdFNwYWNlO1xuICAgICAgICAgICAgICAgIGxhc3RTcGFjZSA9IC0xO1xuICAgICAgICAgICAgICAgICsrc3BhY2VzUmVtb3ZlZDtcblxuICAgICAgICAgICAgICAgIGxpbmVXaWR0aHMucHVzaChsYXN0U3BhY2VXaWR0aCk7XG4gICAgICAgICAgICAgICAgbWF4TGluZVdpZHRoID0gTWF0aC5tYXgobWF4TGluZVdpZHRoLCBsYXN0U3BhY2VXaWR0aCk7XG4gICAgICAgICAgICAgICAgbGluZSsrO1xuXG4gICAgICAgICAgICAgICAgcG9zLnggPSAwO1xuICAgICAgICAgICAgICAgIHBvcy55ICs9IGRhdGEubGluZUhlaWdodDtcbiAgICAgICAgICAgICAgICBwcmV2Q2hhckNvZGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgY2hhckRhdGEgPSBkYXRhLmNoYXJzW2NoYXJDb2RlXTtcblxuICAgICAgICAgICAgaWYgKCFjaGFyRGF0YSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocHJldkNoYXJDb2RlICYmIGNoYXJEYXRhLmtlcm5pbmdbcHJldkNoYXJDb2RlXSkge1xuICAgICAgICAgICAgICAgIHBvcy54ICs9IGNoYXJEYXRhLmtlcm5pbmdbcHJldkNoYXJDb2RlXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hhcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgdGV4dHVyZTogY2hhckRhdGEudGV4dHVyZSxcbiAgICAgICAgICAgICAgICBsaW5lOiBsaW5lLFxuICAgICAgICAgICAgICAgIGNoYXJDb2RlOiBjaGFyQ29kZSxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogbmV3IGNvcmUuUG9pbnQocG9zLnggKyBjaGFyRGF0YS54T2Zmc2V0LCBwb3MueSArIGNoYXJEYXRhLnlPZmZzZXQpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGxhc3RMaW5lV2lkdGggPSBwb3MueCArIChjaGFyRGF0YS50ZXh0dXJlLndpZHRoICsgY2hhckRhdGEueE9mZnNldCk7XG4gICAgICAgICAgICBwb3MueCArPSBjaGFyRGF0YS54QWR2YW5jZTtcbiAgICAgICAgICAgIG1heExpbmVIZWlnaHQgPSBNYXRoLm1heChtYXhMaW5lSGVpZ2h0LCBjaGFyRGF0YS55T2Zmc2V0ICsgY2hhckRhdGEudGV4dHVyZS5oZWlnaHQpO1xuICAgICAgICAgICAgcHJldkNoYXJDb2RlID0gY2hhckNvZGU7XG4gICAgICAgIH1cblxuICAgICAgICBsaW5lV2lkdGhzLnB1c2gobGFzdExpbmVXaWR0aCk7XG4gICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGFzdExpbmVXaWR0aCk7XG5cbiAgICAgICAgdmFyIGxpbmVBbGlnbk9mZnNldHMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDw9IGxpbmU7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBhbGlnbk9mZnNldCA9IDA7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9mb250LmFsaWduID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgICAgICAgYWxpZ25PZmZzZXQgPSBtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW19pXTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fZm9udC5hbGlnbiA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgICAgICAgICBhbGlnbk9mZnNldCA9IChtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW19pXSkgLyAyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsaW5lQWxpZ25PZmZzZXRzLnB1c2goYWxpZ25PZmZzZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxlbkNoYXJzID0gY2hhcnMubGVuZ3RoO1xuICAgICAgICB2YXIgdGludCA9IHRoaXMudGludDtcblxuICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBsZW5DaGFyczsgX2kyKyspIHtcbiAgICAgICAgICAgIHZhciBjID0gdGhpcy5fZ2x5cGhzW19pMl07IC8vIGdldCB0aGUgbmV4dCBnbHlwaCBzcHJpdGVcblxuICAgICAgICAgICAgaWYgKGMpIHtcbiAgICAgICAgICAgICAgICBjLnRleHR1cmUgPSBjaGFyc1tfaTJdLnRleHR1cmU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGMgPSBuZXcgY29yZS5TcHJpdGUoY2hhcnNbX2kyXS50ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nbHlwaHMucHVzaChjKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYy5wb3NpdGlvbi54ID0gKGNoYXJzW19pMl0ucG9zaXRpb24ueCArIGxpbmVBbGlnbk9mZnNldHNbY2hhcnNbX2kyXS5saW5lXSkgKiBzY2FsZTtcbiAgICAgICAgICAgIGMucG9zaXRpb24ueSA9IGNoYXJzW19pMl0ucG9zaXRpb24ueSAqIHNjYWxlO1xuICAgICAgICAgICAgYy5zY2FsZS54ID0gYy5zY2FsZS55ID0gc2NhbGU7XG4gICAgICAgICAgICBjLnRpbnQgPSB0aW50O1xuXG4gICAgICAgICAgICBpZiAoIWMucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlbW92ZSB1bm5lY2Vzc2FyeSBjaGlsZHJlbi5cbiAgICAgICAgZm9yICh2YXIgX2kzID0gbGVuQ2hhcnM7IF9pMyA8IHRoaXMuX2dseXBocy5sZW5ndGg7ICsrX2kzKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKHRoaXMuX2dseXBoc1tfaTNdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RleHRXaWR0aCA9IG1heExpbmVXaWR0aCAqIHNjYWxlO1xuICAgICAgICB0aGlzLl90ZXh0SGVpZ2h0ID0gKHBvcy55ICsgZGF0YS5saW5lSGVpZ2h0KSAqIHNjYWxlO1xuXG4gICAgICAgIC8vIGFwcGx5IGFuY2hvclxuICAgICAgICBpZiAodGhpcy5hbmNob3IueCAhPT0gMCB8fCB0aGlzLmFuY2hvci55ICE9PSAwKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaTQgPSAwOyBfaTQgPCBsZW5DaGFyczsgX2k0KyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9nbHlwaHNbX2k0XS54IC09IHRoaXMuX3RleHRXaWR0aCAqIHRoaXMuYW5jaG9yLng7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2x5cGhzW19pNF0ueSAtPSB0aGlzLl90ZXh0SGVpZ2h0ICogdGhpcy5hbmNob3IueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9tYXhMaW5lSGVpZ2h0ID0gbWF4TGluZUhlaWdodCAqIHNjYWxlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSB0cmFuc2Zvcm0gb2YgdGhpcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIEJpdG1hcFRleHQucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uIHVwZGF0ZVRyYW5zZm9ybSgpIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lclVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZXMgdGV4dCBiZWZvcmUgY2FsbGluZyBwYXJlbnQncyBnZXRMb2NhbEJvdW5kc1xuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSByZWN0YW5ndWxhciBib3VuZGluZyBhcmVhXG4gICAgICovXG5cblxuICAgIEJpdG1hcFRleHQucHJvdG90eXBlLmdldExvY2FsQm91bmRzID0gZnVuY3Rpb24gZ2V0TG9jYWxCb3VuZHMoKSB7XG4gICAgICAgIHRoaXMudmFsaWRhdGUoKTtcblxuICAgICAgICByZXR1cm4gX2NvcmUkQ29udGFpbmVyLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRleHQgd2hlbiBuZWVkZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIEJpdG1hcFRleHQucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24gdmFsaWRhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHQoKTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGludCBvZiB0aGUgQml0bWFwVGV4dCBvYmplY3RcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBiaXRtYXAgZm9udCB3aXRoIGRhdGEgYW5kIGEgdGV4dHVyZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge1hNTERvY3VtZW50fSB4bWwgLSBUaGUgWE1MIGRvY3VtZW50IGRhdGEuXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUZXh0dXJlIHdpdGggYWxsIHN5bWJvbHMuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBSZXN1bHQgZm9udCBvYmplY3Qgd2l0aCBmb250LCBzaXplLCBsaW5lSGVpZ2h0IGFuZCBjaGFyIGZpZWxkcy5cbiAgICAgKi9cbiAgICBCaXRtYXBUZXh0LnJlZ2lzdGVyRm9udCA9IGZ1bmN0aW9uIHJlZ2lzdGVyRm9udCh4bWwsIHRleHR1cmUpIHtcbiAgICAgICAgdmFyIGRhdGEgPSB7fTtcbiAgICAgICAgdmFyIGluZm8gPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2luZm8nKVswXTtcbiAgICAgICAgdmFyIGNvbW1vbiA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnY29tbW9uJylbMF07XG4gICAgICAgIHZhciBmaWxlTmFtZSA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgncGFnZScpWzBdLmdldEF0dHJpYnV0ZSgnZmlsZScpO1xuICAgICAgICB2YXIgcmVzID0gKDAsIF91dGlscy5nZXRSZXNvbHV0aW9uT2ZVcmwpKGZpbGVOYW1lLCBfc2V0dGluZ3MyLmRlZmF1bHQuUkVTT0xVVElPTik7XG5cbiAgICAgICAgZGF0YS5mb250ID0gaW5mby5nZXRBdHRyaWJ1dGUoJ2ZhY2UnKTtcbiAgICAgICAgZGF0YS5zaXplID0gcGFyc2VJbnQoaW5mby5nZXRBdHRyaWJ1dGUoJ3NpemUnKSwgMTApO1xuICAgICAgICBkYXRhLmxpbmVIZWlnaHQgPSBwYXJzZUludChjb21tb24uZ2V0QXR0cmlidXRlKCdsaW5lSGVpZ2h0JyksIDEwKSAvIHJlcztcbiAgICAgICAgZGF0YS5jaGFycyA9IHt9O1xuXG4gICAgICAgIC8vIHBhcnNlIGxldHRlcnNcbiAgICAgICAgdmFyIGxldHRlcnMgPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2NoYXInKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxldHRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBsZXR0ZXIgPSBsZXR0ZXJzW2ldO1xuICAgICAgICAgICAgdmFyIGNoYXJDb2RlID0gcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgnaWQnKSwgMTApO1xuXG4gICAgICAgICAgICB2YXIgdGV4dHVyZVJlY3QgPSBuZXcgY29yZS5SZWN0YW5nbGUocGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneCcpLCAxMCkgLyByZXMgKyB0ZXh0dXJlLmZyYW1lLnggLyByZXMsIHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3knKSwgMTApIC8gcmVzICsgdGV4dHVyZS5mcmFtZS55IC8gcmVzLCBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd3aWR0aCcpLCAxMCkgLyByZXMsIHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpLCAxMCkgLyByZXMpO1xuXG4gICAgICAgICAgICBkYXRhLmNoYXJzW2NoYXJDb2RlXSA9IHtcbiAgICAgICAgICAgICAgICB4T2Zmc2V0OiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd4b2Zmc2V0JyksIDEwKSAvIHJlcyxcbiAgICAgICAgICAgICAgICB5T2Zmc2V0OiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd5b2Zmc2V0JyksIDEwKSAvIHJlcyxcbiAgICAgICAgICAgICAgICB4QWR2YW5jZTogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneGFkdmFuY2UnKSwgMTApIC8gcmVzLFxuICAgICAgICAgICAgICAgIGtlcm5pbmc6IHt9LFxuICAgICAgICAgICAgICAgIHRleHR1cmU6IG5ldyBjb3JlLlRleHR1cmUodGV4dHVyZS5iYXNlVGV4dHVyZSwgdGV4dHVyZVJlY3QpXG5cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBwYXJzZSBrZXJuaW5nc1xuICAgICAgICB2YXIga2VybmluZ3MgPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2tlcm5pbmcnKTtcblxuICAgICAgICBmb3IgKHZhciBfaTUgPSAwOyBfaTUgPCBrZXJuaW5ncy5sZW5ndGg7IF9pNSsrKSB7XG4gICAgICAgICAgICB2YXIga2VybmluZyA9IGtlcm5pbmdzW19pNV07XG4gICAgICAgICAgICB2YXIgZmlyc3QgPSBwYXJzZUludChrZXJuaW5nLmdldEF0dHJpYnV0ZSgnZmlyc3QnKSwgMTApIC8gcmVzO1xuICAgICAgICAgICAgdmFyIHNlY29uZCA9IHBhcnNlSW50KGtlcm5pbmcuZ2V0QXR0cmlidXRlKCdzZWNvbmQnKSwgMTApIC8gcmVzO1xuICAgICAgICAgICAgdmFyIGFtb3VudCA9IHBhcnNlSW50KGtlcm5pbmcuZ2V0QXR0cmlidXRlKCdhbW91bnQnKSwgMTApIC8gcmVzO1xuXG4gICAgICAgICAgICBpZiAoZGF0YS5jaGFyc1tzZWNvbmRdKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5jaGFyc1tzZWNvbmRdLmtlcm5pbmdbZmlyc3RdID0gYW1vdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSSdtIGxlYXZpbmcgdGhpcyBhcyBhIHRlbXBvcmFyeSBmaXggc28gd2UgY2FuIHRlc3QgdGhlIGJpdG1hcCBmb250cyBpbiB2M1xuICAgICAgICAvLyBidXQgaXQncyB2ZXJ5IGxpa2VseSB0byBjaGFuZ2VcbiAgICAgICAgQml0bWFwVGV4dC5mb250c1tkYXRhLmZvbnRdID0gZGF0YTtcblxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9O1xuXG4gICAgX2NyZWF0ZUNsYXNzKEJpdG1hcFRleHQsIFt7XG4gICAgICAgIGtleTogJ3RpbnQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250LnRpbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZm9udC50aW50ID0gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiB2YWx1ZSA+PSAwID8gdmFsdWUgOiAweEZGRkZGRjtcblxuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFsaWdubWVudCBvZiB0aGUgQml0bWFwVGV4dCBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbGVmdCdcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2FsaWduJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udC5hbGlnbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9mb250LmFsaWduID0gdmFsdWUgfHwgJ2xlZnQnO1xuXG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5jaG9yIHNldHMgdGhlIG9yaWdpbiBwb2ludCBvZiB0aGUgdGV4dC5cbiAgICAgICAgICogVGhlIGRlZmF1bHQgaXMgMCwwIHRoaXMgbWVhbnMgdGhlIHRleHQncyBvcmlnaW4gaXMgdGhlIHRvcCBsZWZ0XG4gICAgICAgICAqIFNldHRpbmcgdGhlIGFuY2hvciB0byAwLjUsMC41IG1lYW5zIHRoZSB0ZXh0J3Mgb3JpZ2luIGlzIGNlbnRlcmVkXG4gICAgICAgICAqIFNldHRpbmcgdGhlIGFuY2hvciB0byAxLDEgd291bGQgbWVhbiB0aGUgdGV4dCdzIG9yaWdpbiBwb2ludCB3aWxsIGJlIHRoZSBib3R0b20gcmlnaHQgY29ybmVyXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnQgfCBudW1iZXJ9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdhbmNob3InLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbmNob3I7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hbmNob3Iuc2V0KHZhbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYW5jaG9yLmNvcHkodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IGRlc2NyaXB0b3Igb2YgdGhlIEJpdG1hcFRleHQgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ3xvYmplY3R9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdmb250JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUuc3BsaXQoJyAnKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnQubmFtZSA9IHZhbHVlLmxlbmd0aCA9PT0gMSA/IHZhbHVlWzBdIDogdmFsdWUuc2xpY2UoMSkuam9pbignICcpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnQuc2l6ZSA9IHZhbHVlLmxlbmd0aCA+PSAyID8gcGFyc2VJbnQodmFsdWVbMF0sIDEwKSA6IEJpdG1hcFRleHQuZm9udHNbdGhpcy5fZm9udC5uYW1lXS5zaXplO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250Lm5hbWUgPSB2YWx1ZS5uYW1lO1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnQuc2l6ZSA9IHR5cGVvZiB2YWx1ZS5zaXplID09PSAnbnVtYmVyJyA/IHZhbHVlLnNpemUgOiBwYXJzZUludCh2YWx1ZS5zaXplLCAxMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0IG9mIHRoZSBCaXRtYXBUZXh0IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd0ZXh0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCkgfHwgJyAnO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RleHQgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdGV4dCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heCB3aWR0aCBvZiB0aGlzIGJpdG1hcCB0ZXh0IGluIHBpeGVscy4gSWYgdGhlIHRleHQgcHJvdmlkZWQgaXMgbG9uZ2VyIHRoYW4gdGhlXG4gICAgICAgICAqIHZhbHVlIHByb3ZpZGVkLCBsaW5lIGJyZWFrcyB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgaW5zZXJ0ZWQgaW4gdGhlIGxhc3Qgd2hpdGVzcGFjZS5cbiAgICAgICAgICogRGlzYWJsZSBieSBzZXR0aW5nIHZhbHVlIHRvIDBcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnbWF4V2lkdGgnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYXhXaWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWF4V2lkdGggPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbWF4V2lkdGggPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXggbGluZSBoZWlnaHQuIFRoaXMgaXMgdXNlZnVsIHdoZW4gdHJ5aW5nIHRvIHVzZSB0aGUgdG90YWwgaGVpZ2h0IG9mIHRoZSBUZXh0LFxuICAgICAgICAgKiBpZTogd2hlbiB0cnlpbmcgdG8gdmVydGljYWxseSBhbGlnbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ21heExpbmVIZWlnaHQnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHRoaXMudmFsaWRhdGUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21heExpbmVIZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBvdmVyYWxsIHRleHQsIGRpZmZlcmVudCBmcm9tIGZvbnRTaXplLFxuICAgICAgICAgKiB3aGljaCBpcyBkZWZpbmVkIGluIHRoZSBzdHlsZSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RleHRXaWR0aCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dFdpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIG92ZXJhbGwgdGV4dCwgZGlmZmVyZW50IGZyb20gZm9udFNpemUsXG4gICAgICAgICAqIHdoaWNoIGlzIGRlZmluZWQgaW4gdGhlIHN0eWxlIG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndGV4dEhlaWdodCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dEhlaWdodDtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBCaXRtYXBUZXh0O1xufShjb3JlLkNvbnRhaW5lcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEJpdG1hcFRleHQ7XG5cblxuQml0bWFwVGV4dC5mb250cyA9IHt9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Qml0bWFwVGV4dC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi9jb3JlL2NvbnN0Jyk7XG5cbnZhciBfcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgdGVtcE1hdCA9IG5ldyBjb3JlLk1hdHJpeCgpO1xuXG4vKipcbiAqIFdlYkdMIHJlbmRlcmVyIHBsdWdpbiBmb3IgdGlsaW5nIHNwcml0ZXNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmV4dHJhc1xuICogQGV4dGVuZHMgUElYSS5PYmplY3RSZW5kZXJlclxuICovXG5cbnZhciBUaWxpbmdTcHJpdGVSZW5kZXJlciA9IGZ1bmN0aW9uIChfY29yZSRPYmplY3RSZW5kZXJlcikge1xuICAgIF9pbmhlcml0cyhUaWxpbmdTcHJpdGVSZW5kZXJlciwgX2NvcmUkT2JqZWN0UmVuZGVyZXIpO1xuXG4gICAgLyoqXG4gICAgICogY29uc3RydWN0b3IgZm9yIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIFRoZSByZW5kZXJlciB0aGlzIHRpbGluZyBhd2Vzb21lbmVzcyB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGlsaW5nU3ByaXRlUmVuZGVyZXIocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRpbGluZ1Nwcml0ZVJlbmRlcmVyKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfY29yZSRPYmplY3RSZW5kZXJlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSk7XG5cbiAgICAgICAgX3RoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgX3RoaXMuc2ltcGxlU2hhZGVyID0gbnVsbDtcbiAgICAgICAgX3RoaXMucXVhZCA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSByZW5kZXJlciBjb250ZXh0IGFuZCBuZWNlc3NhcnkgYnVmZmVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFRpbGluZ1Nwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5vbkNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiBvbkNvbnRleHRDaGFuZ2UoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgdGhpcy5zaGFkZXIgPSBuZXcgY29yZS5TaGFkZXIoZ2wsICdhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdHJhbnNsYXRpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHVUcmFuc2Zvcm07XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICB2VGV4dHVyZUNvb3JkID0gKHVUcmFuc2Zvcm0gKiB2ZWMzKGFUZXh0dXJlQ29vcmQsIDEuMCkpLnh5O1xcbn1cXG4nLCAndmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSB2ZWM0IHVDb2xvcjtcXG51bmlmb3JtIG1hdDMgdU1hcENvb3JkO1xcbnVuaWZvcm0gdmVjNCB1Q2xhbXBGcmFtZTtcXG51bmlmb3JtIHZlYzIgdUNsYW1wT2Zmc2V0O1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgdmVjMiBjb29yZCA9IG1vZCh2VGV4dHVyZUNvb3JkIC0gdUNsYW1wT2Zmc2V0LCB2ZWMyKDEuMCwgMS4wKSkgKyB1Q2xhbXBPZmZzZXQ7XFxuICAgIGNvb3JkID0gKHVNYXBDb29yZCAqIHZlYzMoY29vcmQsIDEuMCkpLnh5O1xcbiAgICBjb29yZCA9IGNsYW1wKGNvb3JkLCB1Q2xhbXBGcmFtZS54eSwgdUNsYW1wRnJhbWUuencpO1xcblxcbiAgICB2ZWM0IHNhbXBsZSA9IHRleHR1cmUyRCh1U2FtcGxlciwgY29vcmQpO1xcbiAgICBnbF9GcmFnQ29sb3IgPSBzYW1wbGUgKiB1Q29sb3I7XFxufVxcbicpO1xuICAgICAgICB0aGlzLnNpbXBsZVNoYWRlciA9IG5ldyBjb3JlLlNoYWRlcihnbCwgJ2F0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdVRyYW5zZm9ybTtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSAodVRyYW5zZm9ybSAqIHZlYzMoYVRleHR1cmVDb29yZCwgMS4wKSkueHk7XFxufVxcbicsICd2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHZlYzQgdUNvbG9yO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgdmVjNCBzYW1wbGUgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbiAgICBnbF9GcmFnQ29sb3IgPSBzYW1wbGUgKiB1Q29sb3I7XFxufVxcbicpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuYmluZFZhbyhudWxsKTtcbiAgICAgICAgdGhpcy5xdWFkID0gbmV3IGNvcmUuUXVhZChnbCwgdGhpcy5yZW5kZXJlci5zdGF0ZS5hdHRyaWJTdGF0ZSk7XG4gICAgICAgIHRoaXMucXVhZC5pbml0VmFvKHRoaXMuc2hhZGVyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZX0gdHMgdGlsaW5nU3ByaXRlIHRvIGJlIHJlbmRlcmVkXG4gICAgICovXG5cblxuICAgIFRpbGluZ1Nwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIodHMpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIHF1YWQgPSB0aGlzLnF1YWQ7XG5cbiAgICAgICAgcmVuZGVyZXIuYmluZFZhbyhxdWFkLnZhbyk7XG5cbiAgICAgICAgdmFyIHZlcnRpY2VzID0gcXVhZC52ZXJ0aWNlcztcblxuICAgICAgICB2ZXJ0aWNlc1swXSA9IHZlcnRpY2VzWzZdID0gdHMuX3dpZHRoICogLXRzLmFuY2hvci54O1xuICAgICAgICB2ZXJ0aWNlc1sxXSA9IHZlcnRpY2VzWzNdID0gdHMuX2hlaWdodCAqIC10cy5hbmNob3IueTtcblxuICAgICAgICB2ZXJ0aWNlc1syXSA9IHZlcnRpY2VzWzRdID0gdHMuX3dpZHRoICogKDEuMCAtIHRzLmFuY2hvci54KTtcbiAgICAgICAgdmVydGljZXNbNV0gPSB2ZXJ0aWNlc1s3XSA9IHRzLl9oZWlnaHQgKiAoMS4wIC0gdHMuYW5jaG9yLnkpO1xuXG4gICAgICAgIGlmICh0cy51dlJlc3BlY3RBbmNob3IpIHtcbiAgICAgICAgICAgIHZlcnRpY2VzID0gcXVhZC51dnM7XG5cbiAgICAgICAgICAgIHZlcnRpY2VzWzBdID0gdmVydGljZXNbNl0gPSAtdHMuYW5jaG9yLng7XG4gICAgICAgICAgICB2ZXJ0aWNlc1sxXSA9IHZlcnRpY2VzWzNdID0gLXRzLmFuY2hvci55O1xuXG4gICAgICAgICAgICB2ZXJ0aWNlc1syXSA9IHZlcnRpY2VzWzRdID0gMS4wIC0gdHMuYW5jaG9yLng7XG4gICAgICAgICAgICB2ZXJ0aWNlc1s1XSA9IHZlcnRpY2VzWzddID0gMS4wIC0gdHMuYW5jaG9yLnk7XG4gICAgICAgIH1cblxuICAgICAgICBxdWFkLnVwbG9hZCgpO1xuXG4gICAgICAgIHZhciB0ZXggPSB0cy5fdGV4dHVyZTtcbiAgICAgICAgdmFyIGJhc2VUZXggPSB0ZXguYmFzZVRleHR1cmU7XG4gICAgICAgIHZhciBsdCA9IHRzLnRpbGVUcmFuc2Zvcm0ubG9jYWxUcmFuc2Zvcm07XG4gICAgICAgIHZhciB1diA9IHRzLnV2VHJhbnNmb3JtO1xuICAgICAgICB2YXIgaXNTaW1wbGUgPSBiYXNlVGV4LmlzUG93ZXJPZlR3byAmJiB0ZXguZnJhbWUud2lkdGggPT09IGJhc2VUZXgud2lkdGggJiYgdGV4LmZyYW1lLmhlaWdodCA9PT0gYmFzZVRleC5oZWlnaHQ7XG5cbiAgICAgICAgLy8gYXV0bywgZm9yY2UgcmVwZWF0IHdyYXBNb2RlIGZvciBiaWcgdGlsaW5nIHRleHR1cmVzXG4gICAgICAgIGlmIChpc1NpbXBsZSkge1xuICAgICAgICAgICAgaWYgKCFiYXNlVGV4Ll9nbFRleHR1cmVzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXSkge1xuICAgICAgICAgICAgICAgIGlmIChiYXNlVGV4LndyYXBNb2RlID09PSBfY29uc3QuV1JBUF9NT0RFUy5DTEFNUCkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVGV4LndyYXBNb2RlID0gX2NvbnN0LldSQVBfTU9ERVMuUkVQRUFUO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaXNTaW1wbGUgPSBiYXNlVGV4LndyYXBNb2RlICE9PSBfY29uc3QuV1JBUF9NT0RFUy5DTEFNUDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzaGFkZXIgPSBpc1NpbXBsZSA/IHRoaXMuc2ltcGxlU2hhZGVyIDogdGhpcy5zaGFkZXI7XG5cbiAgICAgICAgcmVuZGVyZXIuYmluZFNoYWRlcihzaGFkZXIpO1xuXG4gICAgICAgIHZhciB3ID0gdGV4LndpZHRoO1xuICAgICAgICB2YXIgaCA9IHRleC5oZWlnaHQ7XG4gICAgICAgIHZhciBXID0gdHMuX3dpZHRoO1xuICAgICAgICB2YXIgSCA9IHRzLl9oZWlnaHQ7XG5cbiAgICAgICAgdGVtcE1hdC5zZXQobHQuYSAqIHcgLyBXLCBsdC5iICogdyAvIEgsIGx0LmMgKiBoIC8gVywgbHQuZCAqIGggLyBILCBsdC50eCAvIFcsIGx0LnR5IC8gSCk7XG5cbiAgICAgICAgLy8gdGhhdCBwYXJ0IGlzIHRoZSBzYW1lIGFzIGFib3ZlOlxuICAgICAgICAvLyB0ZW1wTWF0LmlkZW50aXR5KCk7XG4gICAgICAgIC8vIHRlbXBNYXQuc2NhbGUodGV4LndpZHRoLCB0ZXguaGVpZ2h0KTtcbiAgICAgICAgLy8gdGVtcE1hdC5wcmVwZW5kKGx0KTtcbiAgICAgICAgLy8gdGVtcE1hdC5zY2FsZSgxLjAgLyB0cy5fd2lkdGgsIDEuMCAvIHRzLl9oZWlnaHQpO1xuXG4gICAgICAgIHRlbXBNYXQuaW52ZXJ0KCk7XG4gICAgICAgIGlmIChpc1NpbXBsZSkge1xuICAgICAgICAgICAgdGVtcE1hdC5wcmVwZW5kKHV2Lm1hcENvb3JkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy51TWFwQ29vcmQgPSB1di5tYXBDb29yZC50b0FycmF5KHRydWUpO1xuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVDbGFtcEZyYW1lID0gdXYudUNsYW1wRnJhbWU7XG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMudUNsYW1wT2Zmc2V0ID0gdXYudUNsYW1wT2Zmc2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVUcmFuc2Zvcm0gPSB0ZW1wTWF0LnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy51Q29sb3IgPSBjb3JlLnV0aWxzLnByZW11bHRpcGx5VGludFRvUmdiYSh0cy50aW50LCB0cy53b3JsZEFscGhhLCBzaGFkZXIudW5pZm9ybXMudUNvbG9yLCBiYXNlVGV4LnByZW11bHRpcGxpZWRBbHBoYSk7XG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy50cmFuc2xhdGlvbk1hdHJpeCA9IHRzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybS50b0FycmF5KHRydWUpO1xuXG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy51U2FtcGxlciA9IHJlbmRlcmVyLmJpbmRUZXh0dXJlKHRleCk7XG5cbiAgICAgICAgcmVuZGVyZXIuc2V0QmxlbmRNb2RlKGNvcmUudXRpbHMuY29ycmVjdEJsZW5kTW9kZSh0cy5ibGVuZE1vZGUsIGJhc2VUZXgucHJlbXVsdGlwbGllZEFscGhhKSk7XG5cbiAgICAgICAgcXVhZC52YW8uZHJhdyh0aGlzLnJlbmRlcmVyLmdsLlRSSUFOR0xFUywgNiwgMCk7XG4gICAgfTtcblxuICAgIHJldHVybiBUaWxpbmdTcHJpdGVSZW5kZXJlcjtcbn0oY29yZS5PYmplY3RSZW5kZXJlcik7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRpbGluZ1Nwcml0ZVJlbmRlcmVyO1xuXG5cbmNvcmUuV2ViR0xSZW5kZXJlci5yZWdpc3RlclBsdWdpbigndGlsaW5nU3ByaXRlJywgVGlsaW5nU3ByaXRlUmVuZGVyZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlsaW5nU3ByaXRlUmVuZGVyZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbnZhciBjb3JlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvcmUpO1xuXG52YXIgX0NhbnZhc1RpbnRlciA9IHJlcXVpcmUoJy4uL2NvcmUvc3ByaXRlcy9jYW52YXMvQ2FudmFzVGludGVyJyk7XG5cbnZhciBfQ2FudmFzVGludGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc1RpbnRlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIHRlbXBQb2ludCA9IG5ldyBjb3JlLlBvaW50KCk7XG5cbi8qKlxuICogQSB0aWxpbmcgc3ByaXRlIGlzIGEgZmFzdCB3YXkgb2YgcmVuZGVyaW5nIGEgdGlsaW5nIGltYWdlXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlNwcml0ZVxuICogQG1lbWJlcm9mIFBJWEkuZXh0cmFzXG4gKi9cblxudmFyIFRpbGluZ1Nwcml0ZSA9IGZ1bmN0aW9uIChfY29yZSRTcHJpdGUpIHtcbiAgICBfaW5oZXJpdHMoVGlsaW5nU3ByaXRlLCBfY29yZSRTcHJpdGUpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSB0aGUgdGV4dHVyZSBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MTAwXSAtIHRoZSB3aWR0aCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTEwMF0gLSB0aGUgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGlsaW5nU3ByaXRlKHRleHR1cmUpIHtcbiAgICAgICAgdmFyIHdpZHRoID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAxMDA7XG4gICAgICAgIHZhciBoZWlnaHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDEwMDtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGlsaW5nU3ByaXRlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGlsZSB0cmFuc2Zvcm1cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UcmFuc2Zvcm1TdGF0aWN9XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfY29yZSRTcHJpdGUuY2FsbCh0aGlzLCB0ZXh0dXJlKSk7XG5cbiAgICAgICAgX3RoaXMudGlsZVRyYW5zZm9ybSA9IG5ldyBjb3JlLlRyYW5zZm9ybVN0YXRpYygpO1xuXG4gICAgICAgIC8vIC8vLyBwcml2YXRlXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aXRoIG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl93aWR0aCA9IHdpZHRoO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbnZhcyBwYXR0ZXJuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtDYW52YXNQYXR0ZXJufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2NhbnZhc1BhdHRlcm4gPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0cmFuc2Zvcm0gdGhhdCBpcyBhcHBsaWVkIHRvIFVWIHRvIGdldCB0aGUgdGV4dHVyZSBjb29yZHNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudXZUcmFuc2Zvcm0gPSB0ZXh0dXJlLnRyYW5zZm9ybSB8fCBuZXcgY29yZS5UZXh0dXJlTWF0cml4KHRleHR1cmUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQbHVnaW4gdGhhdCBpcyByZXNwb25zaWJsZSBmb3IgcmVuZGVyaW5nIHRoaXMgZWxlbWVudC5cbiAgICAgICAgICogQWxsb3dzIHRvIGN1c3RvbWl6ZSB0aGUgcmVuZGVyaW5nIHByb2Nlc3Mgd2l0aG91dCBvdmVycmlkaW5nICdfcmVuZGVyV2ViR0wnIG1ldGhvZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAndGlsaW5nU3ByaXRlJ1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGx1Z2luTmFtZSA9ICd0aWxpbmdTcHJpdGUnO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCBhbmNob3IgYWZmZWN0cyB1dnNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnV2UmVzcGVjdEFuY2hvciA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgZnJhbWUgY2xhbXBpbmcgaW4gY29ycmVzcG9uZGluZyB0ZXh0dXJlVHJhbnNmb3JtLCBzaG9ydGN1dFxuICAgICAqIENoYW5nZSB0byAtMC41IHRvIGFkZCBhIHBpeGVsIHRvIHRoZSBlZGdlLCByZWNvbW1lbmRlZCBmb3IgdHJhbnNwYXJlbnQgdHJpbW1lZCB0ZXh0dXJlcyBpbiBhdGxhc1xuICAgICAqXG4gICAgICogQGRlZmF1bHQgMC41XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuX29uVGV4dHVyZVVwZGF0ZSA9IGZ1bmN0aW9uIF9vblRleHR1cmVVcGRhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLnV2VHJhbnNmb3JtKSB7XG4gICAgICAgICAgICB0aGlzLnV2VHJhbnNmb3JtLnRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuXG5cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLl9yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIF9yZW5kZXJXZWJHTChyZW5kZXJlcikge1xuICAgICAgICAvLyB0d2VhayBvdXIgdGV4dHVyZSB0ZW1wb3JhcmlseS4uXG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcblxuICAgICAgICBpZiAoIXRleHR1cmUgfHwgIXRleHR1cmUudmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudGlsZVRyYW5zZm9ybS51cGRhdGVMb2NhbFRyYW5zZm9ybSgpO1xuICAgICAgICB0aGlzLnV2VHJhbnNmb3JtLnVwZGF0ZSgpO1xuXG4gICAgICAgIHJlbmRlcmVyLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXSk7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXS5yZW5kZXIodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgQ2FudmFzIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBhIHJlZmVyZW5jZSB0byB0aGUgY2FudmFzIHJlbmRlcmVyXG4gICAgICovXG5cblxuICAgIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuX3JlbmRlckNhbnZhcyA9IGZ1bmN0aW9uIF9yZW5kZXJDYW52YXMocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuXG4gICAgICAgIGlmICghdGV4dHVyZS5iYXNlVGV4dHVyZS5oYXNMb2FkZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjb250ZXh0ID0gcmVuZGVyZXIuY29udGV4dDtcbiAgICAgICAgdmFyIHRyYW5zZm9ybSA9IHRoaXMud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gcmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlUmVzb2x1dGlvbiA9IGJhc2VUZXh0dXJlLnJlc29sdXRpb247XG4gICAgICAgIHZhciBtb2RYID0gdGhpcy50aWxlUG9zaXRpb24ueCAvIHRoaXMudGlsZVNjYWxlLnggJSB0ZXh0dXJlLl9mcmFtZS53aWR0aCAqIGJhc2VUZXh0dXJlUmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIG1vZFkgPSB0aGlzLnRpbGVQb3NpdGlvbi55IC8gdGhpcy50aWxlU2NhbGUueSAlIHRleHR1cmUuX2ZyYW1lLmhlaWdodCAqIGJhc2VUZXh0dXJlUmVzb2x1dGlvbjtcblxuICAgICAgICAvLyBjcmVhdGUgYSBuaWNlIHNoaW55IHBhdHRlcm4hXG4gICAgICAgIGlmICh0aGlzLl90ZXh0dXJlSUQgIT09IHRoaXMuX3RleHR1cmUuX3VwZGF0ZUlEIHx8IHRoaXMuY2FjaGVkVGludCAhPT0gdGhpcy50aW50KSB7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSB0aGlzLl90ZXh0dXJlLl91cGRhdGVJRDtcbiAgICAgICAgICAgIC8vIGN1dCBhbiBvYmplY3QgZnJvbSBhIHNwcml0ZXNoZWV0Li5cbiAgICAgICAgICAgIHZhciB0ZW1wQ2FudmFzID0gbmV3IGNvcmUuQ2FudmFzUmVuZGVyVGFyZ2V0KHRleHR1cmUuX2ZyYW1lLndpZHRoLCB0ZXh0dXJlLl9mcmFtZS5oZWlnaHQsIGJhc2VUZXh0dXJlUmVzb2x1dGlvbik7XG5cbiAgICAgICAgICAgIC8vIFRpbnQgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgICAgICAgIGlmICh0aGlzLnRpbnQgIT09IDB4RkZGRkZGKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aW50ZWRUZXh0dXJlID0gX0NhbnZhc1RpbnRlcjIuZGVmYXVsdC5nZXRUaW50ZWRUZXh0dXJlKHRoaXMsIHRoaXMudGludCk7XG4gICAgICAgICAgICAgICAgdGVtcENhbnZhcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLnRpbnRlZFRleHR1cmUsIDAsIDApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ZW1wQ2FudmFzLmNvbnRleHQuZHJhd0ltYWdlKGJhc2VUZXh0dXJlLnNvdXJjZSwgLXRleHR1cmUuX2ZyYW1lLnggKiBiYXNlVGV4dHVyZVJlc29sdXRpb24sIC10ZXh0dXJlLl9mcmFtZS55ICogYmFzZVRleHR1cmVSZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY2FjaGVkVGludCA9IHRoaXMudGludDtcbiAgICAgICAgICAgIHRoaXMuX2NhbnZhc1BhdHRlcm4gPSB0ZW1wQ2FudmFzLmNvbnRleHQuY3JlYXRlUGF0dGVybih0ZW1wQ2FudmFzLmNhbnZhcywgJ3JlcGVhdCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V0IGNvbnRleHQgc3RhdGUuLlxuICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gdGhpcy53b3JsZEFscGhhO1xuICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybSh0cmFuc2Zvcm0uYSAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS5iICogcmVzb2x1dGlvbiwgdHJhbnNmb3JtLmMgKiByZXNvbHV0aW9uLCB0cmFuc2Zvcm0uZCAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS50eCAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS50eSAqIHJlc29sdXRpb24pO1xuXG4gICAgICAgIHJlbmRlcmVyLnNldEJsZW5kTW9kZSh0aGlzLmJsZW5kTW9kZSk7XG5cbiAgICAgICAgLy8gZmlsbCB0aGUgcGF0dGVybiFcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLl9jYW52YXNQYXR0ZXJuO1xuXG4gICAgICAgIC8vIFRPRE8gLSB0aGlzIHNob3VsZCBiZSByb2xsZWQgaW50byB0aGUgc2V0VHJhbnNmb3JtIGFib3ZlLi5cbiAgICAgICAgY29udGV4dC5zY2FsZSh0aGlzLnRpbGVTY2FsZS54IC8gYmFzZVRleHR1cmVSZXNvbHV0aW9uLCB0aGlzLnRpbGVTY2FsZS55IC8gYmFzZVRleHR1cmVSZXNvbHV0aW9uKTtcblxuICAgICAgICB2YXIgYW5jaG9yWCA9IHRoaXMuYW5jaG9yLnggKiAtdGhpcy5fd2lkdGg7XG4gICAgICAgIHZhciBhbmNob3JZID0gdGhpcy5hbmNob3IueSAqIC10aGlzLl9oZWlnaHQ7XG5cbiAgICAgICAgaWYgKHRoaXMudXZSZXNwZWN0QW5jaG9yKSB7XG4gICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShtb2RYLCBtb2RZKTtcblxuICAgICAgICAgICAgY29udGV4dC5maWxsUmVjdCgtbW9kWCArIGFuY2hvclgsIC1tb2RZICsgYW5jaG9yWSwgdGhpcy5fd2lkdGggLyB0aGlzLnRpbGVTY2FsZS54ICogYmFzZVRleHR1cmVSZXNvbHV0aW9uLCB0aGlzLl9oZWlnaHQgLyB0aGlzLnRpbGVTY2FsZS55ICogYmFzZVRleHR1cmVSZXNvbHV0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKG1vZFggKyBhbmNob3JYLCBtb2RZICsgYW5jaG9yWSk7XG5cbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFJlY3QoLW1vZFgsIC1tb2RZLCB0aGlzLl93aWR0aCAvIHRoaXMudGlsZVNjYWxlLnggKiBiYXNlVGV4dHVyZVJlc29sdXRpb24sIHRoaXMuX2hlaWdodCAvIHRoaXMudGlsZVNjYWxlLnkgKiBiYXNlVGV4dHVyZVJlc29sdXRpb24pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgdGlsaW5nIHNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uIF9jYWxjdWxhdGVCb3VuZHMoKSB7XG4gICAgICAgIHZhciBtaW5YID0gdGhpcy5fd2lkdGggKiAtdGhpcy5fYW5jaG9yLl94O1xuICAgICAgICB2YXIgbWluWSA9IHRoaXMuX2hlaWdodCAqIC10aGlzLl9hbmNob3IuX3k7XG4gICAgICAgIHZhciBtYXhYID0gdGhpcy5fd2lkdGggKiAoMSAtIHRoaXMuX2FuY2hvci5feCk7XG4gICAgICAgIHZhciBtYXhZID0gdGhpcy5faGVpZ2h0ICogKDEgLSB0aGlzLl9hbmNob3IuX3kpO1xuXG4gICAgICAgIHRoaXMuX2JvdW5kcy5hZGRGcmFtZSh0aGlzLnRyYW5zZm9ybSwgbWluWCwgbWluWSwgbWF4WCwgbWF4WSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgc3ByaXRlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3QgLSBUaGUgb3V0cHV0IHJlY3RhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIGJvdW5kcy5cbiAgICAgKi9cblxuXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIGdldExvY2FsQm91bmRzKHJlY3QpIHtcbiAgICAgICAgLy8gd2UgY2FuIGRvIGEgZmFzdCBsb2NhbCBib3VuZHMgaWYgdGhlIHNwcml0ZSBoYXMgbm8gY2hpbGRyZW4hXG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1pblggPSB0aGlzLl93aWR0aCAqIC10aGlzLl9hbmNob3IuX3g7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWluWSA9IHRoaXMuX2hlaWdodCAqIC10aGlzLl9hbmNob3IuX3k7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWF4WCA9IHRoaXMuX3dpZHRoICogKDEgLSB0aGlzLl9hbmNob3IuX3gpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1heFkgPSB0aGlzLl9oZWlnaHQgKiAoMSAtIHRoaXMuX2FuY2hvci5feCk7XG5cbiAgICAgICAgICAgIGlmICghcmVjdCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHNSZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsQm91bmRzUmVjdCA9IG5ldyBjb3JlLlJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9sb2NhbEJvdW5kc1JlY3Q7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ib3VuZHMuZ2V0UmVjdGFuZ2xlKHJlY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIF9jb3JlJFNwcml0ZS5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzLCByZWN0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgcG9pbnQgaXMgaW5zaWRlIHRoaXMgdGlsaW5nIHNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9pbnQgLSB0aGUgcG9pbnQgdG8gY2hlY2tcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgc3ByaXRlIGNvbnRhaW5zIHRoZSBwb2ludC5cbiAgICAgKi9cblxuXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5jb250YWluc1BvaW50ID0gZnVuY3Rpb24gY29udGFpbnNQb2ludChwb2ludCkge1xuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGVtcFBvaW50KTtcblxuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLl93aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuX2hlaWdodDtcbiAgICAgICAgdmFyIHgxID0gLXdpZHRoICogdGhpcy5hbmNob3IuX3g7XG5cbiAgICAgICAgaWYgKHRlbXBQb2ludC54ID49IHgxICYmIHRlbXBQb2ludC54IDwgeDEgKyB3aWR0aCkge1xuICAgICAgICAgICAgdmFyIHkxID0gLWhlaWdodCAqIHRoaXMuYW5jaG9yLl95O1xuXG4gICAgICAgICAgICBpZiAodGVtcFBvaW50LnkgPj0geTEgJiYgdGVtcFBvaW50LnkgPCB5MSArIGhlaWdodCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHNwcml0ZSBhbmQgb3B0aW9uYWxseSBpdHMgdGV4dHVyZSBhbmQgY2hpbGRyZW5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICAgICAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqL1xuXG5cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KG9wdGlvbnMpIHtcbiAgICAgICAgX2NvcmUkU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtID0gbnVsbDtcbiAgICAgICAgdGhpcy51dlRyYW5zZm9ybSA9IG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgdGlsaW5nIHNwcml0ZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gZnJhbWUgaWQsIGltYWdlIHVybCwgdmlkZW8gdXJsLCBjYW52YXMgZWxlbWVudCwgdmlkZW8gZWxlbWVudCwgYmFzZSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfFBJWEkuQmFzZVRleHR1cmV8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gc291cmNlIC0gU291cmNlIHRvIGNyZWF0ZSB0ZXh0dXJlIGZyb21cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgd2lkdGggb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gdGhlIGhlaWdodCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIG5ld2x5IGNyZWF0ZWQgdGV4dHVyZVxuICAgICAqL1xuXG5cbiAgICBUaWxpbmdTcHJpdGUuZnJvbSA9IGZ1bmN0aW9uIGZyb20oc291cmNlLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiBuZXcgVGlsaW5nU3ByaXRlKGNvcmUuVGV4dHVyZS5mcm9tKHNvdXJjZSksIHdpZHRoLCBoZWlnaHQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgdGlsaW5nIHNwcml0ZSB0aGF0IHdpbGwgdXNlIGEgdGV4dHVyZSBmcm9tIHRoZSBUZXh0dXJlQ2FjaGUgYmFzZWQgb24gdGhlIGZyYW1lSWRcbiAgICAgKiBUaGUgZnJhbWUgaWRzIGFyZSBjcmVhdGVkIHdoZW4gYSBUZXh0dXJlIHBhY2tlciBmaWxlIGhhcyBiZWVuIGxvYWRlZFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmcmFtZUlkIC0gVGhlIGZyYW1lIElkIG9mIHRoZSB0ZXh0dXJlIGluIHRoZSBjYWNoZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIHRoZSB3aWR0aCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHJldHVybiB7UElYSS5leHRyYXMuVGlsaW5nU3ByaXRlfSBBIG5ldyBUaWxpbmdTcHJpdGUgdXNpbmcgYSB0ZXh0dXJlIGZyb20gdGhlIHRleHR1cmUgY2FjaGUgbWF0Y2hpbmcgdGhlIGZyYW1lSWRcbiAgICAgKi9cblxuXG4gICAgVGlsaW5nU3ByaXRlLmZyb21GcmFtZSA9IGZ1bmN0aW9uIGZyb21GcmFtZShmcmFtZUlkLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gY29yZS51dGlscy5UZXh0dXJlQ2FjaGVbZnJhbWVJZF07XG5cbiAgICAgICAgaWYgKCF0ZXh0dXJlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBmcmFtZUlkIFwiJyArIGZyYW1lSWQgKyAnXCIgZG9lcyBub3QgZXhpc3QgaW4gdGhlIHRleHR1cmUgY2FjaGUgJyArIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBUaWxpbmdTcHJpdGUodGV4dHVyZSwgd2lkdGgsIGhlaWdodCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBzcHJpdGUgdGhhdCB3aWxsIGNvbnRhaW4gYSB0ZXh0dXJlIGJhc2VkIG9uIGFuIGltYWdlIHVybFxuICAgICAqIElmIHRoZSBpbWFnZSBpcyBub3QgaW4gdGhlIHRleHR1cmUgY2FjaGUgaXQgd2lsbCBiZSBsb2FkZWRcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW1hZ2VJZCAtIFRoZSBpbWFnZSB1cmwgb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgd2lkdGggb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gdGhlIGhlaWdodCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Nyb3Nzb3JpZ2luXSAtIGlmIHlvdSB3YW50IHRvIHNwZWNpZnkgdGhlIGNyb3NzLW9yaWdpbiBwYXJhbWV0ZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlTW9kZT1QSVhJLnNldHRpbmdzLlNDQUxFX01PREVdIC0gaWYgeW91IHdhbnQgdG8gc3BlY2lmeSB0aGUgc2NhbGUgbW9kZSxcbiAgICAgKiAgc2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzXG4gICAgICogQHJldHVybiB7UElYSS5leHRyYXMuVGlsaW5nU3ByaXRlfSBBIG5ldyBUaWxpbmdTcHJpdGUgdXNpbmcgYSB0ZXh0dXJlIGZyb20gdGhlIHRleHR1cmUgY2FjaGUgbWF0Y2hpbmcgdGhlIGltYWdlIGlkXG4gICAgICovXG5cblxuICAgIFRpbGluZ1Nwcml0ZS5mcm9tSW1hZ2UgPSBmdW5jdGlvbiBmcm9tSW1hZ2UoaW1hZ2VJZCwgd2lkdGgsIGhlaWdodCwgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSkge1xuICAgICAgICByZXR1cm4gbmV3IFRpbGluZ1Nwcml0ZShjb3JlLlRleHR1cmUuZnJvbUltYWdlKGltYWdlSWQsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUpLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBzcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhUaWxpbmdTcHJpdGUsIFt7XG4gICAgICAgIGtleTogJ2NsYW1wTWFyZ2luJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51dlRyYW5zZm9ybS5jbGFtcE1hcmdpbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnV2VHJhbnNmb3JtLmNsYW1wTWFyZ2luID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnV2VHJhbnNmb3JtLnVwZGF0ZSh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2NhbGluZyBvZiB0aGUgaW1hZ2UgdGhhdCBpcyBiZWluZyB0aWxlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RpbGVTY2FsZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGlsZVRyYW5zZm9ybS5zY2FsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRpbGVUcmFuc2Zvcm0uc2NhbGUuY29weSh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9mZnNldCBvZiB0aGUgaW1hZ2UgdGhhdCBpcyBiZWluZyB0aWxlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3RpbGVQb3NpdGlvbicsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGlsZVRyYW5zZm9ybS5wb3NpdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRpbGVUcmFuc2Zvcm0ucG9zaXRpb24uY29weSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3dpZHRoJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBUaWxpbmdTcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2hlaWdodCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBUaWxpbmdTcHJpdGU7XG59KGNvcmUuU3ByaXRlKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVGlsaW5nU3ByaXRlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlsaW5nU3ByaXRlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIEB0eXBlZGVmIFBJWEkuZXh0cmFzLkFuaW1hdGVkU3ByaXRlfkZyYW1lT2JqZWN0XG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUge0BsaW5rIFBJWEkuVGV4dHVyZX0gb2YgdGhlIGZyYW1lXG4gKiBAcHJvcGVydHkge251bWJlcn0gdGltZSAtIHRoZSBkdXJhdGlvbiBvZiB0aGUgZnJhbWUgaW4gbXNcbiAqL1xuXG4vKipcbiAqIEFuIEFuaW1hdGVkU3ByaXRlIGlzIGEgc2ltcGxlIHdheSB0byBkaXNwbGF5IGFuIGFuaW1hdGlvbiBkZXBpY3RlZCBieSBhIGxpc3Qgb2YgdGV4dHVyZXMuXG4gKlxuICogYGBganNcbiAqIGxldCBhbGllbkltYWdlcyA9IFtcImltYWdlX3NlcXVlbmNlXzAxLnBuZ1wiLFwiaW1hZ2Vfc2VxdWVuY2VfMDIucG5nXCIsXCJpbWFnZV9zZXF1ZW5jZV8wMy5wbmdcIixcImltYWdlX3NlcXVlbmNlXzA0LnBuZ1wiXTtcbiAqIGxldCB0ZXh0dXJlQXJyYXkgPSBbXTtcbiAqXG4gKiBmb3IgKGxldCBpPTA7IGkgPCA0OyBpKyspXG4gKiB7XG4gKiAgICAgIGxldCB0ZXh0dXJlID0gUElYSS5UZXh0dXJlLmZyb21JbWFnZShhbGllbkltYWdlc1tpXSk7XG4gKiAgICAgIHRleHR1cmVBcnJheS5wdXNoKHRleHR1cmUpO1xuICogfTtcbiAqXG4gKiBsZXQgbWMgPSBuZXcgUElYSS5BbmltYXRlZFNwcml0ZSh0ZXh0dXJlQXJyYXkpO1xuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlNwcml0ZVxuICogQG1lbWJlcm9mIFBJWEkuZXh0cmFzXG4gKi9cbnZhciBBbmltYXRlZFNwcml0ZSA9IGZ1bmN0aW9uIChfY29yZSRTcHJpdGUpIHtcbiAgICBfaW5oZXJpdHMoQW5pbWF0ZWRTcHJpdGUsIF9jb3JlJFNwcml0ZSk7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZVtdfFBJWEkuZXh0cmFzLkFuaW1hdGVkU3ByaXRlfkZyYW1lT2JqZWN0W119IHRleHR1cmVzIC0gYW4gYXJyYXkgb2Yge0BsaW5rIFBJWEkuVGV4dHVyZX0gb3IgZnJhbWVcbiAgICAgKiAgb2JqZWN0cyB0aGF0IG1ha2UgdXAgdGhlIGFuaW1hdGlvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2F1dG9VcGRhdGU9dHJ1ZV0gLSBXaGV0aGVyIHRvIHVzZSBQSVhJLnRpY2tlci5zaGFyZWQgdG8gYXV0byB1cGRhdGUgYW5pbWF0aW9uIHRpbWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQW5pbWF0ZWRTcHJpdGUodGV4dHVyZXMsIGF1dG9VcGRhdGUpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFuaW1hdGVkU3ByaXRlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9jb3JlJFNwcml0ZS5jYWxsKHRoaXMsIHRleHR1cmVzWzBdIGluc3RhbmNlb2YgY29yZS5UZXh0dXJlID8gdGV4dHVyZXNbMF0gOiB0ZXh0dXJlc1swXS50ZXh0dXJlKSk7XG5cbiAgICAgICAgX3RoaXMuX3RleHR1cmVzID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9kdXJhdGlvbnMgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLnRleHR1cmVzID0gdGV4dHVyZXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCB1c2VzIFBJWEkudGlja2VyLnNoYXJlZCB0byBhdXRvIHVwZGF0ZSBhbmltYXRpb24gdGltZS5cbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9hdXRvVXBkYXRlID0gYXV0b1VwZGF0ZSAhPT0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzcGVlZCB0aGF0IHRoZSBBbmltYXRlZFNwcml0ZSB3aWxsIHBsYXkgYXQuIEhpZ2hlciBpcyBmYXN0ZXIsIGxvd2VyIGlzIHNsb3dlclxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmFuaW1hdGlvblNwZWVkID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgdGhlIGFuaW1hdGUgc3ByaXRlIHJlcGVhdHMgYWZ0ZXIgcGxheWluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubG9vcCA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBhIEFuaW1hdGVkU3ByaXRlIGZpbmlzaGVzIHBsYXlpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vbkNvbXBsZXRlID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gdG8gY2FsbCB3aGVuIGEgQW5pbWF0ZWRTcHJpdGUgY2hhbmdlcyB3aGljaCB0ZXh0dXJlIGlzIGJlaW5nIHJlbmRlcmVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub25GcmFtZUNoYW5nZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogRnVuY3Rpb24gdG8gY2FsbCB3aGVuICdsb29wJyBpcyB0cnVlLCBhbmQgYW4gQW5pbWF0ZWRTcHJpdGUgaXMgcGxheWVkIGFuZCBsb29wcyBhcm91bmQgdG8gc3RhcnQgYWdhaW5cbiAgICAgICAgKlxuICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAqL1xuICAgICAgICBfdGhpcy5vbkxvb3AgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFbGFwc2VkIHRpbWUgc2luY2UgYW5pbWF0aW9uIGhhcyBiZWVuIHN0YXJ0ZWQsIHVzZWQgaW50ZXJuYWxseSB0byBkaXNwbGF5IGN1cnJlbnQgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fY3VycmVudFRpbWUgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIEFuaW1hdGVkU3ByaXRlIGlzIGN1cnJlbnRseSBwbGF5aW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucGxheWluZyA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIEFuaW1hdGVkU3ByaXRlXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICBpZiAoIXRoaXMucGxheWluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wbGF5aW5nID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLl9hdXRvVXBkYXRlKSB7XG4gICAgICAgICAgICBjb3JlLnRpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQbGF5cyB0aGUgQW5pbWF0ZWRTcHJpdGVcbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUucGxheSA9IGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgICAgIGlmICh0aGlzLnBsYXlpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGxheWluZyA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl9hdXRvVXBkYXRlKSB7XG4gICAgICAgICAgICBjb3JlLnRpY2tlci5zaGFyZWQuYWRkKHRoaXMudXBkYXRlLCB0aGlzLCBjb3JlLlVQREFURV9QUklPUklUWS5ISUdIKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdG9wcyB0aGUgQW5pbWF0ZWRTcHJpdGUgYW5kIGdvZXMgdG8gYSBzcGVjaWZpYyBmcmFtZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyYW1lTnVtYmVyIC0gZnJhbWUgaW5kZXggdG8gc3RvcCBhdFxuICAgICAqL1xuXG5cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUuZ290b0FuZFN0b3AgPSBmdW5jdGlvbiBnb3RvQW5kU3RvcChmcmFtZU51bWJlcikge1xuICAgICAgICB0aGlzLnN0b3AoKTtcblxuICAgICAgICB2YXIgcHJldmlvdXNGcmFtZSA9IHRoaXMuY3VycmVudEZyYW1lO1xuXG4gICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lID0gZnJhbWVOdW1iZXI7XG5cbiAgICAgICAgaWYgKHByZXZpb3VzRnJhbWUgIT09IHRoaXMuY3VycmVudEZyYW1lKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHb2VzIHRvIGEgc3BlY2lmaWMgZnJhbWUgYW5kIGJlZ2lucyBwbGF5aW5nIHRoZSBBbmltYXRlZFNwcml0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyYW1lTnVtYmVyIC0gZnJhbWUgaW5kZXggdG8gc3RhcnQgYXRcbiAgICAgKi9cblxuXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLmdvdG9BbmRQbGF5ID0gZnVuY3Rpb24gZ290b0FuZFBsYXkoZnJhbWVOdW1iZXIpIHtcbiAgICAgICAgdmFyIHByZXZpb3VzRnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZTtcblxuICAgICAgICB0aGlzLl9jdXJyZW50VGltZSA9IGZyYW1lTnVtYmVyO1xuXG4gICAgICAgIGlmIChwcmV2aW91c0ZyYW1lICE9PSB0aGlzLmN1cnJlbnRGcmFtZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBsYXkoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgb2JqZWN0IHRyYW5zZm9ybSBmb3IgcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFUaW1lIC0gVGltZSBzaW5jZSBsYXN0IHRpY2suXG4gICAgICovXG5cblxuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoZGVsdGFUaW1lKSB7XG4gICAgICAgIHZhciBlbGFwc2VkID0gdGhpcy5hbmltYXRpb25TcGVlZCAqIGRlbHRhVGltZTtcbiAgICAgICAgdmFyIHByZXZpb3VzRnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZTtcblxuICAgICAgICBpZiAodGhpcy5fZHVyYXRpb25zICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgbGFnID0gdGhpcy5fY3VycmVudFRpbWUgJSAxICogdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXTtcblxuICAgICAgICAgICAgbGFnICs9IGVsYXBzZWQgLyA2MCAqIDEwMDA7XG5cbiAgICAgICAgICAgIHdoaWxlIChsYWcgPCAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUtLTtcbiAgICAgICAgICAgICAgICBsYWcgKz0gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHNpZ24gPSBNYXRoLnNpZ24odGhpcy5hbmltYXRpb25TcGVlZCAqIGRlbHRhVGltZSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lID0gTWF0aC5mbG9vcih0aGlzLl9jdXJyZW50VGltZSk7XG5cbiAgICAgICAgICAgIHdoaWxlIChsYWcgPj0gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXSkge1xuICAgICAgICAgICAgICAgIGxhZyAtPSB0aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdICogc2lnbjtcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50VGltZSArPSBzaWduO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50VGltZSArPSBsYWcgLyB0aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgKz0gZWxhcHNlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9jdXJyZW50VGltZSA8IDAgJiYgIXRoaXMubG9vcCkge1xuICAgICAgICAgICAgdGhpcy5nb3RvQW5kU3RvcCgwKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMub25Db21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2N1cnJlbnRUaW1lID49IHRoaXMuX3RleHR1cmVzLmxlbmd0aCAmJiAhdGhpcy5sb29wKSB7XG4gICAgICAgICAgICB0aGlzLmdvdG9BbmRTdG9wKHRoaXMuX3RleHR1cmVzLmxlbmd0aCAtIDEpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocHJldmlvdXNGcmFtZSAhPT0gdGhpcy5jdXJyZW50RnJhbWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxvb3AgJiYgdGhpcy5vbkxvb3ApIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25TcGVlZCA+IDAgJiYgdGhpcy5jdXJyZW50RnJhbWUgPCBwcmV2aW91c0ZyYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Mb29wKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFuaW1hdGlvblNwZWVkIDwgMCAmJiB0aGlzLmN1cnJlbnRGcmFtZSA+IHByZXZpb3VzRnJhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkxvb3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGRpc3BsYXllZCB0ZXh0dXJlIHRvIG1hdGNoIHRoZSBjdXJyZW50IGZyYW1lIGluZGV4XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUudXBkYXRlVGV4dHVyZSA9IGZ1bmN0aW9uIHVwZGF0ZVRleHR1cmUoKSB7XG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSB0aGlzLl90ZXh0dXJlc1t0aGlzLmN1cnJlbnRGcmFtZV07XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICB0aGlzLmNhY2hlZFRpbnQgPSAweEZGRkZGRjtcblxuICAgICAgICBpZiAodGhpcy5vbkZyYW1lQ2hhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLm9uRnJhbWVDaGFuZ2UodGhpcy5jdXJyZW50RnJhbWUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN0b3BzIHRoZSBBbmltYXRlZFNwcml0ZSBhbmQgZGVzdHJveXMgaXRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICAgICAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqL1xuXG5cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kob3B0aW9ucykge1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgX2NvcmUkU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEEgc2hvcnQgaGFuZCB3YXkgb2YgY3JlYXRpbmcgYSBtb3ZpZWNsaXAgZnJvbSBhbiBhcnJheSBvZiBmcmFtZSBpZHNcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBmcmFtZXMgLSBUaGUgYXJyYXkgb2YgZnJhbWVzIGlkcyB0aGUgbW92aWVjbGlwIHdpbGwgdXNlIGFzIGl0cyB0ZXh0dXJlIGZyYW1lc1xuICAgICAqIEByZXR1cm4ge0FuaW1hdGVkU3ByaXRlfSBUaGUgbmV3IGFuaW1hdGVkIHNwcml0ZSB3aXRoIHRoZSBzcGVjaWZpZWQgZnJhbWVzLlxuICAgICAqL1xuXG5cbiAgICBBbmltYXRlZFNwcml0ZS5mcm9tRnJhbWVzID0gZnVuY3Rpb24gZnJvbUZyYW1lcyhmcmFtZXMpIHtcbiAgICAgICAgdmFyIHRleHR1cmVzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmcmFtZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHRleHR1cmVzLnB1c2goY29yZS5UZXh0dXJlLmZyb21GcmFtZShmcmFtZXNbaV0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgQW5pbWF0ZWRTcHJpdGUodGV4dHVyZXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBIHNob3J0IGhhbmQgd2F5IG9mIGNyZWF0aW5nIGEgbW92aWVjbGlwIGZyb20gYW4gYXJyYXkgb2YgaW1hZ2UgaWRzXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gaW1hZ2VzIC0gdGhlIGFycmF5IG9mIGltYWdlIHVybHMgdGhlIG1vdmllY2xpcCB3aWxsIHVzZSBhcyBpdHMgdGV4dHVyZSBmcmFtZXNcbiAgICAgKiBAcmV0dXJuIHtBbmltYXRlZFNwcml0ZX0gVGhlIG5ldyBhbmltYXRlIHNwcml0ZSB3aXRoIHRoZSBzcGVjaWZpZWQgaW1hZ2VzIGFzIGZyYW1lcy5cbiAgICAgKi9cblxuXG4gICAgQW5pbWF0ZWRTcHJpdGUuZnJvbUltYWdlcyA9IGZ1bmN0aW9uIGZyb21JbWFnZXMoaW1hZ2VzKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlcyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW1hZ2VzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB0ZXh0dXJlcy5wdXNoKGNvcmUuVGV4dHVyZS5mcm9tSW1hZ2UoaW1hZ2VzW2ldKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IEFuaW1hdGVkU3ByaXRlKHRleHR1cmVzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogdG90YWxGcmFtZXMgaXMgdGhlIHRvdGFsIG51bWJlciBvZiBmcmFtZXMgaW4gdGhlIEFuaW1hdGVkU3ByaXRlLiBUaGlzIGlzIHRoZSBzYW1lIGFzIG51bWJlciBvZiB0ZXh0dXJlc1xuICAgICAqIGFzc2lnbmVkIHRvIHRoZSBBbmltYXRlZFNwcml0ZS5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhBbmltYXRlZFNwcml0ZSwgW3tcbiAgICAgICAga2V5OiAndG90YWxGcmFtZXMnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlcy5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFycmF5IG9mIHRleHR1cmVzIHVzZWQgZm9yIHRoaXMgQW5pbWF0ZWRTcHJpdGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlW119XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICd0ZXh0dXJlcycsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmVzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZVswXSBpbnN0YW5jZW9mIGNvcmUuVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RleHR1cmVzID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHVyYXRpb25zID0gbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dHVyZXMgPSBbXTtcbiAgICAgICAgICAgICAgICB0aGlzLl9kdXJhdGlvbnMgPSBbXTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGV4dHVyZXMucHVzaCh2YWx1ZVtpXS50ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHVyYXRpb25zLnB1c2godmFsdWVbaV0udGltZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5nb3RvQW5kU3RvcCgwKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogVGhlIEFuaW1hdGVkU3ByaXRlcyBjdXJyZW50IGZyYW1lIGluZGV4XG4gICAgICAgICpcbiAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2N1cnJlbnRGcmFtZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRGcmFtZSA9IE1hdGguZmxvb3IodGhpcy5fY3VycmVudFRpbWUpICUgdGhpcy5fdGV4dHVyZXMubGVuZ3RoO1xuXG4gICAgICAgICAgICBpZiAoY3VycmVudEZyYW1lIDwgMCkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRGcmFtZSArPSB0aGlzLl90ZXh0dXJlcy5sZW5ndGg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50RnJhbWU7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQW5pbWF0ZWRTcHJpdGU7XG59KGNvcmUuU3ByaXRlKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQW5pbWF0ZWRTcHJpdGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BbmltYXRlZFNwcml0ZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uLy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBURU1QX1JFQ1QgPSBuZXcgY29yZS5SZWN0YW5nbGUoKTtcblxuLyoqXG4gKiBUaGUgZXh0cmFjdCBtYW5hZ2VyIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gZXhwb3J0IGNvbnRlbnQgZnJvbSB0aGUgcmVuZGVyZXJzLlxuICpcbiAqIEFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIGJ5IGRlZmF1bHQsIGFuZCBjYW4gYmUgZm91bmQgYXQgcmVuZGVyZXIucGx1Z2lucy5leHRyYWN0XG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5leHRyYWN0XG4gKi9cblxudmFyIENhbnZhc0V4dHJhY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ2FudmFzRXh0cmFjdChyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FudmFzRXh0cmFjdCk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBtZXRob2RzIGZvciBleHRyYWN0aW5nIGRhdGEgKGltYWdlLCBwaXhlbHMsIGV0Yy4pIGZyb20gYSBkaXNwbGF5IG9iamVjdCBvciByZW5kZXIgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLmV4dHJhY3QuQ2FudmFzRXh0cmFjdH0gZXh0cmFjdFxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5DYW52YXNSZW5kZXJlciNcbiAgICAgICAgICogQHNlZSBQSVhJLmV4dHJhY3QuQ2FudmFzRXh0cmFjdFxuICAgICAgICAgKi9cbiAgICAgICAgcmVuZGVyZXIuZXh0cmFjdCA9IHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYSBIVE1MIEltYWdlIG9mIHRoZSB0YXJnZXRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAgICAgKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtIVE1MSW1hZ2VFbGVtZW50fSBIVE1MIEltYWdlIG9mIHRoZSB0YXJnZXRcbiAgICAgKi9cblxuXG4gICAgQ2FudmFzRXh0cmFjdC5wcm90b3R5cGUuaW1hZ2UgPSBmdW5jdGlvbiBpbWFnZSh0YXJnZXQpIHtcbiAgICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7XG5cbiAgICAgICAgaW1hZ2Uuc3JjID0gdGhpcy5iYXNlNjQodGFyZ2V0KTtcblxuICAgICAgICByZXR1cm4gaW1hZ2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFdpbGwgcmV0dXJuIGEgYSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcgb2YgdGhpcyB0YXJnZXQuIEl0IHdvcmtzIGJ5IGNhbGxpbmdcbiAgICAgKiAgYENhbnZhc0V4dHJhY3QuZ2V0Q2FudmFzYCBhbmQgdGhlbiBydW5uaW5nIHRvRGF0YVVSTCBvbiB0aGF0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBBIGRpc3BsYXlPYmplY3Qgb3IgcmVuZGVyVGV4dHVyZVxuICAgICAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gQSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcgb2YgdGhlIHRleHR1cmUuXG4gICAgICovXG5cblxuICAgIENhbnZhc0V4dHJhY3QucHJvdG90eXBlLmJhc2U2NCA9IGZ1bmN0aW9uIGJhc2U2NCh0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzKHRhcmdldCkudG9EYXRhVVJMKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBDYW52YXMgZWxlbWVudCwgcmVuZGVycyB0aGlzIHRhcmdldCB0byBpdCBhbmQgdGhlbiByZXR1cm5zIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBBIGRpc3BsYXlPYmplY3Qgb3IgcmVuZGVyVGV4dHVyZVxuICAgICAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fSBBIENhbnZhcyBlbGVtZW50IHdpdGggdGhlIHRleHR1cmUgcmVuZGVyZWQgb24uXG4gICAgICovXG5cblxuICAgIENhbnZhc0V4dHJhY3QucHJvdG90eXBlLmNhbnZhcyA9IGZ1bmN0aW9uIGNhbnZhcyh0YXJnZXQpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB2b2lkIDA7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdm9pZCAwO1xuICAgICAgICB2YXIgZnJhbWUgPSB2b2lkIDA7XG4gICAgICAgIHZhciByZW5kZXJUZXh0dXJlID0gdm9pZCAwO1xuXG4gICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBjb3JlLlJlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gdGFyZ2V0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gcmVuZGVyZXIuZ2VuZXJhdGVUZXh0dXJlKHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgY29udGV4dCA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUuX2NhbnZhc1JlbmRlclRhcmdldC5jb250ZXh0O1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUuX2NhbnZhc1JlbmRlclRhcmdldC5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgZnJhbWUgPSByZW5kZXJUZXh0dXJlLmZyYW1lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dCA9IHJlbmRlcmVyLnJvb3RDb250ZXh0O1xuXG4gICAgICAgICAgICBmcmFtZSA9IFRFTVBfUkVDVDtcbiAgICAgICAgICAgIGZyYW1lLndpZHRoID0gdGhpcy5yZW5kZXJlci53aWR0aDtcbiAgICAgICAgICAgIGZyYW1lLmhlaWdodCA9IHRoaXMucmVuZGVyZXIuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHdpZHRoID0gZnJhbWUud2lkdGggKiByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gZnJhbWUuaGVpZ2h0ICogcmVzb2x1dGlvbjtcblxuICAgICAgICB2YXIgY2FudmFzQnVmZmVyID0gbmV3IGNvcmUuQ2FudmFzUmVuZGVyVGFyZ2V0KHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB2YXIgY2FudmFzRGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKGZyYW1lLnggKiByZXNvbHV0aW9uLCBmcmFtZS55ICogcmVzb2x1dGlvbiwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgY2FudmFzQnVmZmVyLmNvbnRleHQucHV0SW1hZ2VEYXRhKGNhbnZhc0RhdGEsIDAsIDApO1xuXG4gICAgICAgIC8vIHNlbmQgdGhlIGNhbnZhcyBiYWNrLi5cbiAgICAgICAgcmV0dXJuIGNhbnZhc0J1ZmZlci5jYW52YXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFdpbGwgcmV0dXJuIGEgb25lLWRpbWVuc2lvbmFsIGFycmF5IGNvbnRhaW5pbmcgdGhlIHBpeGVsIGRhdGEgb2YgdGhlIGVudGlyZSB0ZXh0dXJlIGluIFJHQkFcbiAgICAgKiBvcmRlciwgd2l0aCBpbnRlZ2VyIHZhbHVlcyBiZXR3ZWVuIDAgYW5kIDI1NSAoaW5jbHVkZWQpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBBIGRpc3BsYXlPYmplY3Qgb3IgcmVuZGVyVGV4dHVyZVxuICAgICAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEByZXR1cm4ge1VpbnQ4Q2xhbXBlZEFycmF5fSBPbmUtZGltZW5zaW9uYWwgYXJyYXkgY29udGFpbmluZyB0aGUgcGl4ZWwgZGF0YSBvZiB0aGUgZW50aXJlIHRleHR1cmVcbiAgICAgKi9cblxuXG4gICAgQ2FudmFzRXh0cmFjdC5wcm90b3R5cGUucGl4ZWxzID0gZnVuY3Rpb24gcGl4ZWxzKHRhcmdldCkge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgY29udGV4dCA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSB2b2lkIDA7XG4gICAgICAgIHZhciBmcmFtZSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHJlbmRlclRleHR1cmUgPSB2b2lkIDA7XG5cbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIGNvcmUuUmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0YXJnZXQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSByZW5kZXJlci5nZW5lcmF0ZVRleHR1cmUodGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICBjb250ZXh0ID0gcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZS5fY2FudmFzUmVuZGVyVGFyZ2V0LmNvbnRleHQ7XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZS5fY2FudmFzUmVuZGVyVGFyZ2V0LnJlc29sdXRpb247XG4gICAgICAgICAgICBmcmFtZSA9IHJlbmRlclRleHR1cmUuZnJhbWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0ID0gcmVuZGVyZXIucm9vdENvbnRleHQ7XG5cbiAgICAgICAgICAgIGZyYW1lID0gVEVNUF9SRUNUO1xuICAgICAgICAgICAgZnJhbWUud2lkdGggPSByZW5kZXJlci53aWR0aDtcbiAgICAgICAgICAgIGZyYW1lLmhlaWdodCA9IHJlbmRlcmVyLmhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCBmcmFtZS53aWR0aCAqIHJlc29sdXRpb24sIGZyYW1lLmhlaWdodCAqIHJlc29sdXRpb24pLmRhdGE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBleHRyYWN0XG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQ2FudmFzRXh0cmFjdC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZXh0cmFjdCA9IG51bGw7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gQ2FudmFzRXh0cmFjdDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQ2FudmFzRXh0cmFjdDtcblxuXG5jb3JlLkNhbnZhc1JlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdleHRyYWN0JywgQ2FudmFzRXh0cmFjdCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYW52YXNFeHRyYWN0LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi4vLi4vY29yZScpO1xuXG52YXIgY29yZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb3JlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIFRFTVBfUkVDVCA9IG5ldyBjb3JlLlJlY3RhbmdsZSgpO1xudmFyIEJZVEVTX1BFUl9QSVhFTCA9IDQ7XG5cbi8qKlxuICogVGhlIGV4dHJhY3QgbWFuYWdlciBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIGV4cG9ydCBjb250ZW50IGZyb20gdGhlIHJlbmRlcmVycy5cbiAqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBieSBkZWZhdWx0LCBhbmQgY2FuIGJlIGZvdW5kIGF0IHJlbmRlcmVyLnBsdWdpbnMuZXh0cmFjdFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZXh0cmFjdFxuICovXG5cbnZhciBXZWJHTEV4dHJhY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBXZWJHTEV4dHJhY3QocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFdlYkdMRXh0cmFjdCk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBtZXRob2RzIGZvciBleHRyYWN0aW5nIGRhdGEgKGltYWdlLCBwaXhlbHMsIGV0Yy4pIGZyb20gYSBkaXNwbGF5IG9iamVjdCBvciByZW5kZXIgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLmV4dHJhY3QuV2ViR0xFeHRyYWN0fSBleHRyYWN0XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLldlYkdMUmVuZGVyZXIjXG4gICAgICAgICAqIEBzZWUgUElYSS5leHRyYWN0LldlYkdMRXh0cmFjdFxuICAgICAgICAgKi9cbiAgICAgICAgcmVuZGVyZXIuZXh0cmFjdCA9IHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYSBIVE1MIEltYWdlIG9mIHRoZSB0YXJnZXRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAgICAgKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtIVE1MSW1hZ2VFbGVtZW50fSBIVE1MIEltYWdlIG9mIHRoZSB0YXJnZXRcbiAgICAgKi9cblxuXG4gICAgV2ViR0xFeHRyYWN0LnByb3RvdHlwZS5pbWFnZSA9IGZ1bmN0aW9uIGltYWdlKHRhcmdldCkge1xuICAgICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcblxuICAgICAgICBpbWFnZS5zcmMgPSB0aGlzLmJhc2U2NCh0YXJnZXQpO1xuXG4gICAgICAgIHJldHVybiBpbWFnZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYSBhIGJhc2U2NCBlbmNvZGVkIHN0cmluZyBvZiB0aGlzIHRhcmdldC4gSXQgd29ya3MgYnkgY2FsbGluZ1xuICAgICAqICBgV2ViR0xFeHRyYWN0LmdldENhbnZhc2AgYW5kIHRoZW4gcnVubmluZyB0b0RhdGFVUkwgb24gdGhhdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAgICAgKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IEEgYmFzZTY0IGVuY29kZWQgc3RyaW5nIG9mIHRoZSB0ZXh0dXJlLlxuICAgICAqL1xuXG5cbiAgICBXZWJHTEV4dHJhY3QucHJvdG90eXBlLmJhc2U2NCA9IGZ1bmN0aW9uIGJhc2U2NCh0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzKHRhcmdldCkudG9EYXRhVVJMKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBDYW52YXMgZWxlbWVudCwgcmVuZGVycyB0aGlzIHRhcmdldCB0byBpdCBhbmQgdGhlbiByZXR1cm5zIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBBIGRpc3BsYXlPYmplY3Qgb3IgcmVuZGVyVGV4dHVyZVxuICAgICAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fSBBIENhbnZhcyBlbGVtZW50IHdpdGggdGhlIHRleHR1cmUgcmVuZGVyZWQgb24uXG4gICAgICovXG5cblxuICAgIFdlYkdMRXh0cmFjdC5wcm90b3R5cGUuY2FudmFzID0gZnVuY3Rpb24gY2FudmFzKHRhcmdldCkge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgdGV4dHVyZUJ1ZmZlciA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSB2b2lkIDA7XG4gICAgICAgIHZhciBmcmFtZSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIGZsaXBZID0gZmFsc2U7XG4gICAgICAgIHZhciByZW5kZXJUZXh0dXJlID0gdm9pZCAwO1xuICAgICAgICB2YXIgZ2VuZXJhdGVkID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIGNvcmUuUmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0YXJnZXQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0aGlzLnJlbmRlcmVyLmdlbmVyYXRlVGV4dHVyZSh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIGdlbmVyYXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgdGV4dHVyZUJ1ZmZlciA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUuX2dsUmVuZGVyVGFyZ2V0c1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSB0ZXh0dXJlQnVmZmVyLnJlc29sdXRpb247XG4gICAgICAgICAgICBmcmFtZSA9IHJlbmRlclRleHR1cmUuZnJhbWU7XG4gICAgICAgICAgICBmbGlwWSA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGV4dHVyZUJ1ZmZlciA9IHRoaXMucmVuZGVyZXIucm9vdFJlbmRlclRhcmdldDtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSB0ZXh0dXJlQnVmZmVyLnJlc29sdXRpb247XG4gICAgICAgICAgICBmbGlwWSA9IHRydWU7XG5cbiAgICAgICAgICAgIGZyYW1lID0gVEVNUF9SRUNUO1xuICAgICAgICAgICAgZnJhbWUud2lkdGggPSB0ZXh0dXJlQnVmZmVyLnNpemUud2lkdGg7XG4gICAgICAgICAgICBmcmFtZS5oZWlnaHQgPSB0ZXh0dXJlQnVmZmVyLnNpemUuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHdpZHRoID0gZnJhbWUud2lkdGggKiByZXNvbHV0aW9uO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gZnJhbWUuaGVpZ2h0ICogcmVzb2x1dGlvbjtcblxuICAgICAgICB2YXIgY2FudmFzQnVmZmVyID0gbmV3IGNvcmUuQ2FudmFzUmVuZGVyVGFyZ2V0KHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIGlmICh0ZXh0dXJlQnVmZmVyKSB7XG4gICAgICAgICAgICAvLyBiaW5kIHRoZSBidWZmZXJcbiAgICAgICAgICAgIHJlbmRlcmVyLmJpbmRSZW5kZXJUYXJnZXQodGV4dHVyZUJ1ZmZlcik7XG5cbiAgICAgICAgICAgIC8vIHNldCB1cCBhbiBhcnJheSBvZiBwaXhlbHNcbiAgICAgICAgICAgIHZhciB3ZWJnbFBpeGVscyA9IG5ldyBVaW50OEFycmF5KEJZVEVTX1BFUl9QSVhFTCAqIHdpZHRoICogaGVpZ2h0KTtcblxuICAgICAgICAgICAgLy8gcmVhZCBwaXhlbHMgdG8gdGhlIGFycmF5XG4gICAgICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcblxuICAgICAgICAgICAgZ2wucmVhZFBpeGVscyhmcmFtZS54ICogcmVzb2x1dGlvbiwgZnJhbWUueSAqIHJlc29sdXRpb24sIHdpZHRoLCBoZWlnaHQsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIHdlYmdsUGl4ZWxzKTtcblxuICAgICAgICAgICAgLy8gYWRkIHRoZSBwaXhlbHMgdG8gdGhlIGNhbnZhc1xuICAgICAgICAgICAgdmFyIGNhbnZhc0RhdGEgPSBjYW52YXNCdWZmZXIuY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgICAgIGNhbnZhc0RhdGEuZGF0YS5zZXQod2ViZ2xQaXhlbHMpO1xuXG4gICAgICAgICAgICBjYW52YXNCdWZmZXIuY29udGV4dC5wdXRJbWFnZURhdGEoY2FudmFzRGF0YSwgMCwgMCk7XG5cbiAgICAgICAgICAgIC8vIHB1bGxpbmcgcGl4ZWxzXG4gICAgICAgICAgICBpZiAoZmxpcFkpIHtcbiAgICAgICAgICAgICAgICBjYW52YXNCdWZmZXIuY29udGV4dC5zY2FsZSgxLCAtMSk7XG4gICAgICAgICAgICAgICAgY2FudmFzQnVmZmVyLmNvbnRleHQuZHJhd0ltYWdlKGNhbnZhc0J1ZmZlci5jYW52YXMsIDAsIC1oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGdlbmVyYXRlZCkge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNlbmQgdGhlIGNhbnZhcyBiYWNrLi5cblxuICAgICAgICByZXR1cm4gY2FudmFzQnVmZmVyLmNhbnZhcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYSBvbmUtZGltZW5zaW9uYWwgYXJyYXkgY29udGFpbmluZyB0aGUgcGl4ZWwgZGF0YSBvZiB0aGUgZW50aXJlIHRleHR1cmUgaW4gUkdCQVxuICAgICAqIG9yZGVyLCB3aXRoIGludGVnZXIgdmFsdWVzIGJldHdlZW4gMCBhbmQgMjU1IChpbmNsdWRlZCkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gICAgICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdXNlIHRoZSBtYWluIHJlbmRlcmVyXG4gICAgICogQHJldHVybiB7VWludDhDbGFtcGVkQXJyYXl9IE9uZS1kaW1lbnNpb25hbCBhcnJheSBjb250YWluaW5nIHRoZSBwaXhlbCBkYXRhIG9mIHRoZSBlbnRpcmUgdGV4dHVyZVxuICAgICAqL1xuXG5cbiAgICBXZWJHTEV4dHJhY3QucHJvdG90eXBlLnBpeGVscyA9IGZ1bmN0aW9uIHBpeGVscyh0YXJnZXQpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIHRleHR1cmVCdWZmZXIgPSB2b2lkIDA7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdm9pZCAwO1xuICAgICAgICB2YXIgZnJhbWUgPSB2b2lkIDA7XG4gICAgICAgIHZhciByZW5kZXJUZXh0dXJlID0gdm9pZCAwO1xuICAgICAgICB2YXIgZ2VuZXJhdGVkID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIGNvcmUuUmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0YXJnZXQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0aGlzLnJlbmRlcmVyLmdlbmVyYXRlVGV4dHVyZSh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIGdlbmVyYXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgdGV4dHVyZUJ1ZmZlciA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUuX2dsUmVuZGVyVGFyZ2V0c1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSB0ZXh0dXJlQnVmZmVyLnJlc29sdXRpb247XG4gICAgICAgICAgICBmcmFtZSA9IHJlbmRlclRleHR1cmUuZnJhbWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ZXh0dXJlQnVmZmVyID0gdGhpcy5yZW5kZXJlci5yb290UmVuZGVyVGFyZ2V0O1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHRleHR1cmVCdWZmZXIucmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgZnJhbWUgPSBURU1QX1JFQ1Q7XG4gICAgICAgICAgICBmcmFtZS53aWR0aCA9IHRleHR1cmVCdWZmZXIuc2l6ZS53aWR0aDtcbiAgICAgICAgICAgIGZyYW1lLmhlaWdodCA9IHRleHR1cmVCdWZmZXIuc2l6ZS5oZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgd2lkdGggPSBmcmFtZS53aWR0aCAqIHJlc29sdXRpb247XG4gICAgICAgIHZhciBoZWlnaHQgPSBmcmFtZS5oZWlnaHQgKiByZXNvbHV0aW9uO1xuXG4gICAgICAgIHZhciB3ZWJnbFBpeGVscyA9IG5ldyBVaW50OEFycmF5KEJZVEVTX1BFUl9QSVhFTCAqIHdpZHRoICogaGVpZ2h0KTtcblxuICAgICAgICBpZiAodGV4dHVyZUJ1ZmZlcikge1xuICAgICAgICAgICAgLy8gYmluZCB0aGUgYnVmZmVyXG4gICAgICAgICAgICByZW5kZXJlci5iaW5kUmVuZGVyVGFyZ2V0KHRleHR1cmVCdWZmZXIpO1xuICAgICAgICAgICAgLy8gcmVhZCBwaXhlbHMgdG8gdGhlIGFycmF5XG4gICAgICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcblxuICAgICAgICAgICAgZ2wucmVhZFBpeGVscyhmcmFtZS54ICogcmVzb2x1dGlvbiwgZnJhbWUueSAqIHJlc29sdXRpb24sIHdpZHRoLCBoZWlnaHQsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIHdlYmdsUGl4ZWxzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChnZW5lcmF0ZWQpIHtcbiAgICAgICAgICAgIHJlbmRlclRleHR1cmUuZGVzdHJveSh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB3ZWJnbFBpeGVscztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGV4dHJhY3RcbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBXZWJHTEV4dHJhY3QucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmV4dHJhY3QgPSBudWxsO1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFdlYkdMRXh0cmFjdDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gV2ViR0xFeHRyYWN0O1xuXG5cbmNvcmUuV2ViR0xSZW5kZXJlci5yZWdpc3RlclBsdWdpbignZXh0cmFjdCcsIFdlYkdMRXh0cmFjdCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1XZWJHTEV4dHJhY3QuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1dlYkdMRXh0cmFjdCA9IHJlcXVpcmUoJy4vd2ViZ2wvV2ViR0xFeHRyYWN0Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnd2ViZ2wnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9XZWJHTEV4dHJhY3QpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX0NhbnZhc0V4dHJhY3QgPSByZXF1aXJlKCcuL2NhbnZhcy9DYW52YXNFeHRyYWN0Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnY2FudmFzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzRXh0cmFjdCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY29yZSA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcblxudmFyIGNvcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29yZSk7XG5cbnZhciBfaXNtb2JpbGVqcyA9IHJlcXVpcmUoJ2lzbW9iaWxlanMnKTtcblxudmFyIF9pc21vYmlsZWpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzbW9iaWxlanMpO1xuXG52YXIgX2FjY2Vzc2libGVUYXJnZXQgPSByZXF1aXJlKCcuL2FjY2Vzc2libGVUYXJnZXQnKTtcblxudmFyIF9hY2Nlc3NpYmxlVGFyZ2V0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FjY2Vzc2libGVUYXJnZXQpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vLyBhZGQgc29tZSBleHRyYSB2YXJpYWJsZXMgdG8gdGhlIGNvbnRhaW5lci4uXG5jb3JlLnV0aWxzLm1peGlucy5kZWxheU1peGluKGNvcmUuRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIF9hY2Nlc3NpYmxlVGFyZ2V0Mi5kZWZhdWx0KTtcblxudmFyIEtFWV9DT0RFX1RBQiA9IDk7XG5cbnZhciBESVZfVE9VQ0hfU0laRSA9IDEwMDtcbnZhciBESVZfVE9VQ0hfUE9TX1ggPSAwO1xudmFyIERJVl9UT1VDSF9QT1NfWSA9IDA7XG52YXIgRElWX1RPVUNIX1pJTkRFWCA9IDI7XG5cbnZhciBESVZfSE9PS19TSVpFID0gMTtcbnZhciBESVZfSE9PS19QT1NfWCA9IC0xMDAwO1xudmFyIERJVl9IT09LX1BPU19ZID0gLTEwMDA7XG52YXIgRElWX0hPT0tfWklOREVYID0gMjtcblxuLyoqXG4gKiBUaGUgQWNjZXNzaWJpbGl0eSBtYW5hZ2VyIHJlY3JlYXRlcyB0aGUgYWJpbGl0eSB0byB0YWIgYW5kIGhhdmUgY29udGVudCByZWFkIGJ5IHNjcmVlblxuICogcmVhZGVycy4gVGhpcyBpcyB2ZXJ5IGltcG9ydGFudCBhcyBpdCBjYW4gcG9zc2libHkgaGVscCBwZW9wbGUgd2l0aCBkaXNhYmlsaXRpZXMgYWNjZXNzIHBpeGlcbiAqIGNvbnRlbnQuXG4gKlxuICogTXVjaCBsaWtlIGludGVyYWN0aW9uIGFueSBEaXNwbGF5T2JqZWN0IGNhbiBiZSBtYWRlIGFjY2Vzc2libGUuIFRoaXMgbWFuYWdlciB3aWxsIG1hcCB0aGVcbiAqIGV2ZW50cyBhcyBpZiB0aGUgbW91c2Ugd2FzIGJlaW5nIHVzZWQsIG1pbmltaXppbmcgdGhlIGVmZm9ydCByZXF1aXJlZCB0byBpbXBsZW1lbnQuXG4gKlxuICogQW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgYnkgZGVmYXVsdCwgYW5kIGNhbiBiZSBmb3VuZCBhdCByZW5kZXJlci5wbHVnaW5zLmFjY2Vzc2liaWxpdHlcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmFjY2Vzc2liaWxpdHlcbiAqL1xuXG52YXIgQWNjZXNzaWJpbGl0eU1hbmFnZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfFBJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFjY2Vzc2liaWxpdHlNYW5hZ2VyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBY2Nlc3NpYmlsaXR5TWFuYWdlcik7XG5cbiAgICAgICAgaWYgKChfaXNtb2JpbGVqczIuZGVmYXVsdC50YWJsZXQgfHwgX2lzbW9iaWxlanMyLmRlZmF1bHQucGhvbmUpICYmICFuYXZpZ2F0b3IuaXNDb2Nvb25KUykge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVUb3VjaEhvb2soKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZpcnN0IHdlIGNyZWF0ZSBhIGRpdiB0aGF0IHdpbGwgc2l0IG92ZXIgdGhlIFBpeGlKUyBlbGVtZW50LiBUaGlzIGlzIHdoZXJlIHRoZSBkaXYgb3ZlcmxheXMgd2lsbCBnby5cbiAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IERJVl9UT1VDSF9TSVpFICsgJ3B4JztcbiAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IERJVl9UT1VDSF9TSVpFICsgJ3B4JztcbiAgICAgICAgZGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgZGl2LnN0eWxlLnRvcCA9IERJVl9UT1VDSF9QT1NfWCArICdweCc7XG4gICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gRElWX1RPVUNIX1BPU19ZICsgJ3B4JztcbiAgICAgICAgZGl2LnN0eWxlLnpJbmRleCA9IERJVl9UT1VDSF9aSU5ERVg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIGRvbSBlbGVtZW50IHRoYXQgd2lsbCBzaXQgb3ZlciB0aGUgUGl4aUpTIGVsZW1lbnQuIFRoaXMgaXMgd2hlcmUgdGhlIGRpdiBvdmVybGF5cyB3aWxsIGdvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpdiA9IGRpdjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBzaW1wbGUgcG9vbCBmb3Igc3RvcmluZyBkaXZzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Kn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9vbCA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIGEgdGljayB1c2VkIHRvIGNoZWNrIGlmIGFuIG9iamVjdCBpcyBubyBsb25nZXIgYmVpbmcgcmVuZGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlcklkID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0dGluZyB0aGlzIHRvIHRydWUgd2lsbCB2aXN1YWxseSBzaG93IHRoZSBkaXZzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVidWcgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlbmRlcmVyIHRoaXMgYWNjZXNzaWJpbGl0eSBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TeXN0ZW1SZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFycmF5IG9mIGN1cnJlbnRseSBhY3RpdmUgYWNjZXNzaWJsZSBpdGVtcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8Kj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHByZS1iaW5kIHRoZSBmdW5jdGlvbnNcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX29uS2V5RG93biA9IHRoaXMuX29uS2V5RG93bi5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9vbk1vdXNlTW92ZSA9IHRoaXMuX29uTW91c2VNb3ZlLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHN0b3JlcyB0aGUgc3RhdGUgb2YgdGhlIG1hbmFnZXIuIElmIHRoZXJlIGFyZSBubyBhY2Nlc3NpYmxlIG9iamVjdHMgb3IgdGhlIG1vdXNlIGlzIG1vdmluZywgdGhpcyB3aWxsIGJlIGZhbHNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheTwqPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc01vYmlsZUFjY2Vzc2FiaWxsaXR5ID0gZmFsc2U7XG5cbiAgICAgICAgLy8gbGV0IGxpc3RlbiBmb3IgdGFiLi4gb25jZSBwcmVzc2VkIHdlIGNhbiBmaXJlIHVwIGFuZCBzaG93IHRoZSBhY2Nlc3NpYmlsaXR5IGxheWVyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyB0aGUgdG91Y2ggaG9va3MuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmNyZWF0ZVRvdWNoSG9vayA9IGZ1bmN0aW9uIGNyZWF0ZVRvdWNoSG9vaygpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICB2YXIgaG9va0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXG4gICAgICAgIGhvb2tEaXYuc3R5bGUud2lkdGggPSBESVZfSE9PS19TSVpFICsgJ3B4JztcbiAgICAgICAgaG9va0Rpdi5zdHlsZS5oZWlnaHQgPSBESVZfSE9PS19TSVpFICsgJ3B4JztcbiAgICAgICAgaG9va0Rpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUudG9wID0gRElWX0hPT0tfUE9TX1ggKyAncHgnO1xuICAgICAgICBob29rRGl2LnN0eWxlLmxlZnQgPSBESVZfSE9PS19QT1NfWSArICdweCc7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUuekluZGV4ID0gRElWX0hPT0tfWklOREVYO1xuICAgICAgICBob29rRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjRkYwMDAwJztcbiAgICAgICAgaG9va0Rpdi50aXRsZSA9ICdIT09LIERJVic7XG5cbiAgICAgICAgaG9va0Rpdi5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmlzTW9iaWxlQWNjZXNzYWJpbGxpdHkgPSB0cnVlO1xuICAgICAgICAgICAgX3RoaXMuYWN0aXZhdGUoKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoaG9va0Rpdik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaG9va0Rpdik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFjdGl2YXRpbmcgd2lsbCBjYXVzZSB0aGUgQWNjZXNzaWJpbGl0eSBsYXllciB0byBiZSBzaG93bi4gVGhpcyBpcyBjYWxsZWQgd2hlbiBhIHVzZXJcbiAgICAgKiBwcmVzZXMgdGhlIHRhYiBrZXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNBY3RpdmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXNBY3RpdmUgPSB0cnVlO1xuXG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgdHJ1ZSk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5vbigncG9zdHJlbmRlcicsIHRoaXMudXBkYXRlLCB0aGlzKTtcblxuICAgICAgICBpZiAodGhpcy5yZW5kZXJlci52aWV3LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudmlldy5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHRoaXMuZGl2KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZWFjdGl2YXRpbmcgd2lsbCBjYXVzZSB0aGUgQWNjZXNzaWJpbGl0eSBsYXllciB0byBiZSBoaWRkZW4uIFRoaXMgaXMgY2FsbGVkIHdoZW4gYSB1c2VyIG1vdmVzXG4gICAgICogdGhlIG1vdXNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmRlYWN0aXZhdGUgPSBmdW5jdGlvbiBkZWFjdGl2YXRlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNBY3RpdmUgfHwgdGhpcy5pc01vYmlsZUFjY2Vzc2FiaWxsaXR5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XG5cbiAgICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIGZhbHNlKTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLm9mZigncG9zdHJlbmRlcicsIHRoaXMudXBkYXRlKTtcblxuICAgICAgICBpZiAodGhpcy5kaXYucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy5kaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRpdik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhpcyByZWN1cnNpdmUgZnVuY3Rpb24gd2lsbCBydW4gdGhyb3VnaCB0aGUgc2NlbmUgZ3JhcGggYW5kIGFkZCBhbnkgbmV3IGFjY2Vzc2libGUgb2JqZWN0cyB0byB0aGUgRE9NIGxheWVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBkaXNwbGF5T2JqZWN0IC0gVGhlIERpc3BsYXlPYmplY3QgdG8gY2hlY2suXG4gICAgICovXG5cblxuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS51cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyA9IGZ1bmN0aW9uIHVwZGF0ZUFjY2Vzc2libGVPYmplY3RzKGRpc3BsYXlPYmplY3QpIHtcbiAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0LnZpc2libGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGUgJiYgZGlzcGxheU9iamVjdC5pbnRlcmFjdGl2ZSkge1xuICAgICAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChkaXNwbGF5T2JqZWN0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGlzcGxheU9iamVjdC5yZW5kZXJJZCA9IHRoaXMucmVuZGVySWQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY2hpbGRyZW4gPSBkaXNwbGF5T2JqZWN0LmNoaWxkcmVuO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSBjaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyhjaGlsZHJlbltpXSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQmVmb3JlIGVhY2ggcmVuZGVyIHRoaXMgZnVuY3Rpb24gd2lsbCBlbnN1cmUgdGhhdCBhbGwgZGl2cyBhcmUgbWFwcGVkIGNvcnJlY3RseSB0byB0aGVpciBEaXNwbGF5T2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5yZW5kZXJlci5yZW5kZXJpbmdUb1NjcmVlbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXBkYXRlIGNoaWxkcmVuLi4uXG4gICAgICAgIHRoaXMudXBkYXRlQWNjZXNzaWJsZU9iamVjdHModGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkKTtcblxuICAgICAgICB2YXIgcmVjdCA9IHRoaXMucmVuZGVyZXIudmlldy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdmFyIHN4ID0gcmVjdC53aWR0aCAvIHRoaXMucmVuZGVyZXIud2lkdGg7XG4gICAgICAgIHZhciBzeSA9IHJlY3QuaGVpZ2h0IC8gdGhpcy5yZW5kZXJlci5oZWlnaHQ7XG5cbiAgICAgICAgdmFyIGRpdiA9IHRoaXMuZGl2O1xuXG4gICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gcmVjdC5sZWZ0ICsgJ3B4JztcbiAgICAgICAgZGl2LnN0eWxlLnRvcCA9IHJlY3QudG9wICsgJ3B4JztcbiAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gdGhpcy5yZW5kZXJlci53aWR0aCArICdweCc7XG4gICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSB0aGlzLnJlbmRlcmVyLmhlaWdodCArICdweCc7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuXG4gICAgICAgICAgICBpZiAoY2hpbGQucmVuZGVySWQgIT09IHRoaXMucmVuZGVySWQpIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5fYWNjZXNzaWJsZUFjdGl2ZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgY29yZS51dGlscy5yZW1vdmVJdGVtcyh0aGlzLmNoaWxkcmVuLCBpLCAxKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpdi5yZW1vdmVDaGlsZChjaGlsZC5fYWNjZXNzaWJsZURpdik7XG4gICAgICAgICAgICAgICAgdGhpcy5wb29sLnB1c2goY2hpbGQuX2FjY2Vzc2libGVEaXYpO1xuICAgICAgICAgICAgICAgIGNoaWxkLl9hY2Nlc3NpYmxlRGl2ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGktLTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYWN0aXZhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG1hcCBkaXYgdG8gZGlzcGxheS4uXG4gICAgICAgICAgICAgICAgZGl2ID0gY2hpbGQuX2FjY2Vzc2libGVEaXY7XG4gICAgICAgICAgICAgICAgdmFyIGhpdEFyZWEgPSBjaGlsZC5oaXRBcmVhO1xuICAgICAgICAgICAgICAgIHZhciB3dCA9IGNoaWxkLndvcmxkVHJhbnNmb3JtO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLmhpdEFyZWEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSAod3QudHggKyBoaXRBcmVhLnggKiB3dC5hKSAqIHN4ICsgJ3B4JztcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLnRvcCA9ICh3dC50eSArIGhpdEFyZWEueSAqIHd0LmQpICogc3kgKyAncHgnO1xuXG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IGhpdEFyZWEud2lkdGggKiB3dC5hICogc3ggKyAncHgnO1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gaGl0QXJlYS5oZWlnaHQgKiB3dC5kICogc3kgKyAncHgnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhpdEFyZWEgPSBjaGlsZC5nZXRCb3VuZHMoKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhcEhpdEFyZWEoaGl0QXJlYSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSBoaXRBcmVhLnggKiBzeCArICdweCc7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS50b3AgPSBoaXRBcmVhLnkgKiBzeSArICdweCc7XG5cbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gaGl0QXJlYS53aWR0aCAqIHN4ICsgJ3B4JztcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IGhpdEFyZWEuaGVpZ2h0ICogc3kgKyAncHgnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGluY3JlbWVudCB0aGUgcmVuZGVyIGlkLi5cbiAgICAgICAgdGhpcy5yZW5kZXJJZCsrO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUT0RPOiBkb2NzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtSZWN0YW5nbGV9IGhpdEFyZWEgLSBUT0RPIGRvY3NcbiAgICAgKi9cblxuXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmNhcEhpdEFyZWEgPSBmdW5jdGlvbiBjYXBIaXRBcmVhKGhpdEFyZWEpIHtcbiAgICAgICAgaWYgKGhpdEFyZWEueCA8IDApIHtcbiAgICAgICAgICAgIGhpdEFyZWEud2lkdGggKz0gaGl0QXJlYS54O1xuICAgICAgICAgICAgaGl0QXJlYS54ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoaXRBcmVhLnkgPCAwKSB7XG4gICAgICAgICAgICBoaXRBcmVhLmhlaWdodCArPSBoaXRBcmVhLnk7XG4gICAgICAgICAgICBoaXRBcmVhLnkgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhpdEFyZWEueCArIGhpdEFyZWEud2lkdGggPiB0aGlzLnJlbmRlcmVyLndpZHRoKSB7XG4gICAgICAgICAgICBoaXRBcmVhLndpZHRoID0gdGhpcy5yZW5kZXJlci53aWR0aCAtIGhpdEFyZWEueDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoaXRBcmVhLnkgKyBoaXRBcmVhLmhlaWdodCA+IHRoaXMucmVuZGVyZXIuaGVpZ2h0KSB7XG4gICAgICAgICAgICBoaXRBcmVhLmhlaWdodCA9IHRoaXMucmVuZGVyZXIuaGVpZ2h0IC0gaGl0QXJlYS55O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBEaXNwbGF5T2JqZWN0IHRvIHRoZSBhY2Nlc3NpYmlsaXR5IG1hbmFnZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtEaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gVGhlIGNoaWxkIHRvIG1ha2UgYWNjZXNzaWJsZS5cbiAgICAgKi9cblxuXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmFkZENoaWxkID0gZnVuY3Rpb24gYWRkQ2hpbGQoZGlzcGxheU9iamVjdCkge1xuICAgICAgICAvLyAgICB0aGlzLmFjdGl2YXRlKCk7XG5cbiAgICAgICAgdmFyIGRpdiA9IHRoaXMucG9vbC5wb3AoKTtcblxuICAgICAgICBpZiAoIWRpdikge1xuICAgICAgICAgICAgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5cbiAgICAgICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IERJVl9UT1VDSF9TSVpFICsgJ3B4JztcbiAgICAgICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSBESVZfVE9VQ0hfU0laRSArICdweCc7XG4gICAgICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdGhpcy5kZWJ1ZyA/ICdyZ2JhKDI1NSwwLDAsMC41KScgOiAndHJhbnNwYXJlbnQnO1xuICAgICAgICAgICAgZGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgICAgIGRpdi5zdHlsZS56SW5kZXggPSBESVZfVE9VQ0hfWklOREVYO1xuICAgICAgICAgICAgZGl2LnN0eWxlLmJvcmRlclN0eWxlID0gJ25vbmUnO1xuXG4gICAgICAgICAgICBkaXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9vbkNsaWNrLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5fb25Gb2N1cy5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIHRoaXMuX29uRm9jdXNPdXQuYmluZCh0aGlzKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlVGl0bGUpIHtcbiAgICAgICAgICAgIGRpdi50aXRsZSA9IGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZVRpdGxlO1xuICAgICAgICB9IGVsc2UgaWYgKCFkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVUaXRsZSAmJiAhZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlSGludCkge1xuICAgICAgICAgICAgZGl2LnRpdGxlID0gJ2Rpc3BsYXlPYmplY3QgJyArIHRoaXMudGFiSW5kZXg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlSGludCkge1xuICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9cblxuICAgICAgICBkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZURpdiA9IGRpdjtcbiAgICAgICAgZGl2LmRpc3BsYXlPYmplY3QgPSBkaXNwbGF5T2JqZWN0O1xuXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChkaXNwbGF5T2JqZWN0KTtcbiAgICAgICAgdGhpcy5kaXYuYXBwZW5kQ2hpbGQoZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZURpdik7XG4gICAgICAgIGRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVEaXYudGFiSW5kZXggPSBkaXNwbGF5T2JqZWN0LnRhYkluZGV4O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNYXBzIHRoZSBkaXYgYnV0dG9uIHByZXNzIHRvIHBpeGkncyBJbnRlcmFjdGlvbk1hbmFnZXIgKGNsaWNrKVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGUgLSBUaGUgY2xpY2sgZXZlbnQuXG4gICAgICovXG5cblxuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5fb25DbGljayA9IGZ1bmN0aW9uIF9vbkNsaWNrKGUpIHtcbiAgICAgICAgdmFyIGludGVyYWN0aW9uTWFuYWdlciA9IHRoaXMucmVuZGVyZXIucGx1Z2lucy5pbnRlcmFjdGlvbjtcblxuICAgICAgICBpbnRlcmFjdGlvbk1hbmFnZXIuZGlzcGF0Y2hFdmVudChlLnRhcmdldC5kaXNwbGF5T2JqZWN0LCAnY2xpY2snLCBpbnRlcmFjdGlvbk1hbmFnZXIuZXZlbnREYXRhKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTWFwcyB0aGUgZGl2IGZvY3VzIGV2ZW50cyB0byBwaXhpJ3MgSW50ZXJhY3Rpb25NYW5hZ2VyIChtb3VzZW92ZXIpXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Rm9jdXNFdmVudH0gZSAtIFRoZSBmb2N1cyBldmVudC5cbiAgICAgKi9cblxuXG4gICAgQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLl9vbkZvY3VzID0gZnVuY3Rpb24gX29uRm9jdXMoZSkge1xuICAgICAgICB2YXIgaW50ZXJhY3Rpb25NYW5hZ2VyID0gdGhpcy5yZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uO1xuXG4gICAgICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGUudGFyZ2V0LmRpc3BsYXlPYmplY3QsICdtb3VzZW92ZXInLCBpbnRlcmFjdGlvbk1hbmFnZXIuZXZlbnREYXRhKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTWFwcyB0aGUgZGl2IGZvY3VzIGV2ZW50cyB0byBwaXhpJ3MgSW50ZXJhY3Rpb25NYW5hZ2VyIChtb3VzZW91dClcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGb2N1c0V2ZW50fSBlIC0gVGhlIGZvY3Vzb3V0IGV2ZW50LlxuICAgICAqL1xuXG5cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uRm9jdXNPdXQgPSBmdW5jdGlvbiBfb25Gb2N1c091dChlKSB7XG4gICAgICAgIHZhciBpbnRlcmFjdGlvbk1hbmFnZXIgPSB0aGlzLnJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb247XG5cbiAgICAgICAgaW50ZXJhY3Rpb25NYW5hZ2VyLmRpc3BhdGNoRXZlbnQoZS50YXJnZXQuZGlzcGxheU9iamVjdCwgJ21vdXNlb3V0JywgaW50ZXJhY3Rpb25NYW5hZ2VyLmV2ZW50RGF0YSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIGEga2V5IGlzIHByZXNzZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBlIC0gVGhlIGtleWRvd24gZXZlbnQuXG4gICAgICovXG5cblxuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5fb25LZXlEb3duID0gZnVuY3Rpb24gX29uS2V5RG93bihlKSB7XG4gICAgICAgIGlmIChlLmtleUNvZGUgIT09IEtFWV9DT0RFX1RBQikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hY3RpdmF0ZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgbW91c2UgbW92ZXMgYWNyb3NzIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBBY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uTW91c2VNb3ZlID0gZnVuY3Rpb24gX29uTW91c2VNb3ZlKCkge1xuICAgICAgICB0aGlzLmRlYWN0aXZhdGUoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGFjY2Vzc2liaWxpdHkgbWFuYWdlclxuICAgICAqXG4gICAgICovXG5cblxuICAgIEFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5kaXYgPSBudWxsO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltpXS5kaXYgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24pO1xuXG4gICAgICAgIHRoaXMucG9vbCA9IG51bGw7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBudWxsO1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEFjY2Vzc2liaWxpdHlNYW5hZ2VyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBBY2Nlc3NpYmlsaXR5TWFuYWdlcjtcblxuXG5jb3JlLldlYkdMUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ2FjY2Vzc2liaWxpdHknLCBBY2Nlc3NpYmlsaXR5TWFuYWdlcik7XG5jb3JlLkNhbnZhc1JlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdhY2Nlc3NpYmlsaXR5JywgQWNjZXNzaWJpbGl0eU1hbmFnZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QWNjZXNzaWJpbGl0eU1hbmFnZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2FjY2Vzc2libGVUYXJnZXQgPSByZXF1aXJlKCcuL2FjY2Vzc2libGVUYXJnZXQnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdhY2Nlc3NpYmxlVGFyZ2V0Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYWNjZXNzaWJsZVRhcmdldCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfQWNjZXNzaWJpbGl0eU1hbmFnZXIgPSByZXF1aXJlKCcuL0FjY2Vzc2liaWxpdHlNYW5hZ2VyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQWNjZXNzaWJpbGl0eU1hbmFnZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9BY2Nlc3NpYmlsaXR5TWFuYWdlcikuZGVmYXVsdDtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBkZXByZWNhdGlvbjtcbi8vIHByb3ZpZGUgbWV0aG9kIHRvIGdpdmUgYSBzdGFjayB0cmFjayBmb3Igd2FybmluZ3Ncbi8vIHVzZWZ1bCBmb3IgdHJhY2tpbmctZG93biB3aGVyZSBkZXByZWNhdGVkIG1ldGhvZHMvcHJvcGVydGllcy9jbGFzc2VzXG4vLyBhcmUgYmVpbmcgdXNlZCB3aXRoaW4gdGhlIGNvZGVcblxuLy8gQSBtYXAgb2Ygd2FybmluZyBtZXNzYWdlcyBhbHJlYWR5IGZpcmVkXG52YXIgd2FybmluZ3MgPSB7fTtcblxuLy8gcHJvdmlkZSBtZXRob2QgdG8gZ2l2ZSBhIHN0YWNrIHRyYWNrIGZvciB3YXJuaW5nc1xuLy8gdXNlZnVsIGZvciB0cmFja2luZy1kb3duIHdoZXJlIGRlcHJlY2F0ZWQgbWV0aG9kcy9wcm9wZXJ0aWVzL2NsYXNzZXNcbi8vIGFyZSBiZWluZyB1c2VkIHdpdGhpbiB0aGUgY29kZVxuZnVuY3Rpb24gd2Fybihtc2cpIHtcbiAgICAvLyBJZ25vcmUgZHVwbGljYXRcbiAgICBpZiAod2FybmluZ3NbbXNnXSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICAgIHZhciBzdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrO1xuXG4gICAgLy8gSGFuZGxlIElFIDwgMTAgYW5kIFNhZmFyaSA8IDZcbiAgICBpZiAodHlwZW9mIHN0YWNrID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0RlcHJlY2F0aW9uIFdhcm5pbmc6ICcsIG1zZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gY2hvcCBvZmYgdGhlIHN0YWNrIHRyYWNlIHdoaWNoIGluY2x1ZGVzIHBpeGkuanMgaW50ZXJuYWwgY2FsbHNcbiAgICAgICAgc3RhY2sgPSBzdGFjay5zcGxpdCgnXFxuJykuc3BsaWNlKDMpLmpvaW4oJ1xcbicpO1xuXG4gICAgICAgIGlmIChjb25zb2xlLmdyb3VwQ29sbGFwc2VkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmdyb3VwQ29sbGFwc2VkKCclY0RlcHJlY2F0aW9uIFdhcm5pbmc6ICVjJXMnLCAnY29sb3I6IzYxNDEwODtiYWNrZ3JvdW5kOiNmZmZiZTYnLCAnZm9udC13ZWlnaHQ6bm9ybWFsO2NvbG9yOiM2MTQxMDg7YmFja2dyb3VuZDojZmZmYmU2JywgbXNnKTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihzdGFjayk7XG4gICAgICAgICAgICBjb25zb2xlLmdyb3VwRW5kKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0RlcHJlY2F0aW9uIFdhcm5pbmc6ICcsIG1zZyk7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oc3RhY2spO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuXG4gICAgd2FybmluZ3NbbXNnXSA9IHRydWU7XG59XG5cbmZ1bmN0aW9uIGRlcHJlY2F0aW9uKGNvcmUpIHtcbiAgICB2YXIgbWVzaCA9IGNvcmUubWVzaCxcbiAgICAgICAgcGFydGljbGVzID0gY29yZS5wYXJ0aWNsZXMsXG4gICAgICAgIGV4dHJhcyA9IGNvcmUuZXh0cmFzLFxuICAgICAgICBmaWx0ZXJzID0gY29yZS5maWx0ZXJzLFxuICAgICAgICBwcmVwYXJlID0gY29yZS5wcmVwYXJlLFxuICAgICAgICBsb2FkZXJzID0gY29yZS5sb2FkZXJzLFxuICAgICAgICBpbnRlcmFjdGlvbiA9IGNvcmUuaW50ZXJhY3Rpb247XG5cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvcmUsIHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIFNwcml0ZUJhdGNoXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBzZWUgUElYSS5QYXJ0aWNsZUNvbnRhaW5lclxuICAgICAgICAgKiBAdGhyb3dzIHtSZWZlcmVuY2VFcnJvcn0gU3ByaXRlQmF0Y2ggZG9lcyBub3QgZXhpc3QgYW55IG1vcmUsIHBsZWFzZSB1c2UgdGhlIG5ldyBQYXJ0aWNsZUNvbnRhaW5lciBpbnN0ZWFkLlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBTcHJpdGVCYXRjaDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCdTcHJpdGVCYXRjaCBkb2VzIG5vdCBleGlzdCBhbnkgbW9yZSwgJyArICdwbGVhc2UgdXNlIHRoZSBuZXcgUGFydGljbGVDb250YWluZXIgaW5zdGVhZC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIEFzc2V0TG9hZGVyXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBzZWUgUElYSS5sb2FkZXJzLkxvYWRlclxuICAgICAgICAgKiBAdGhyb3dzIHtSZWZlcmVuY2VFcnJvcn0gVGhlIGxvYWRlciBzeXN0ZW0gd2FzIG92ZXJoYXVsZWQgaW4gUGl4aUpTIHYzLFxuICAgICAgICAgKiBwbGVhc2Ugc2VlIHRoZSBuZXcgUElYSS5sb2FkZXJzLkxvYWRlciBjbGFzcy5cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgQXNzZXRMb2FkZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcignVGhlIGxvYWRlciBzeXN0ZW0gd2FzIG92ZXJoYXVsZWQgaW4gUGl4aUpTIHYzLCAnICsgJ3BsZWFzZSBzZWUgdGhlIG5ldyBQSVhJLmxvYWRlcnMuTG9hZGVyIGNsYXNzLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgU3RhZ2VcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLkNvbnRhaW5lclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBTdGFnZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignWW91IGRvIG5vdCBuZWVkIHRvIHVzZSBhIFBJWEkgU3RhZ2UgYW55IG1vcmUsIHlvdSBjYW4gc2ltcGx5IHJlbmRlciBhbnkgY29udGFpbmVyLicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuQ29udGFpbmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgRGlzcGxheU9iamVjdENvbnRhaW5lclxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkuQ29udGFpbmVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgICAgICovXG4gICAgICAgIERpc3BsYXlPYmplY3RDb250YWluZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ0Rpc3BsYXlPYmplY3RDb250YWluZXIgaGFzIGJlZW4gc2hvcnRlbmVkIHRvIENvbnRhaW5lciwgcGxlYXNlIHVzZSBDb250YWluZXIgZnJvbSBub3cgb24uJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5Db250YWluZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBTdHJpcFxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkubWVzaC5NZXNoXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFN0cmlwOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdUaGUgU3RyaXAgY2xhc3MgaGFzIGJlZW4gcmVuYW1lZCB0byBNZXNoIGFuZCBtb3ZlZCB0byBtZXNoLk1lc2gsIHBsZWFzZSB1c2UgbWVzaC5NZXNoIGZyb20gbm93IG9uLicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lc2guTWVzaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIFJvcGVcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLm1lc2guUm9wZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBSb3BlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdUaGUgUm9wZSBjbGFzcyBoYXMgYmVlbiBtb3ZlZCB0byBtZXNoLlJvcGUsIHBsZWFzZSB1c2UgbWVzaC5Sb3BlIGZyb20gbm93IG9uLicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lc2guUm9wZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIFBhcnRpY2xlQ29udGFpbmVyXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBzZWUgUElYSS5wYXJ0aWNsZXMuUGFydGljbGVDb250YWluZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgUGFydGljbGVDb250YWluZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBQYXJ0aWNsZUNvbnRhaW5lciBjbGFzcyBoYXMgYmVlbiBtb3ZlZCB0byBwYXJ0aWNsZXMuUGFydGljbGVDb250YWluZXIsICcgKyAncGxlYXNlIHVzZSBwYXJ0aWNsZXMuUGFydGljbGVDb250YWluZXIgZnJvbSBub3cgb24uJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gcGFydGljbGVzLlBhcnRpY2xlQ29udGFpbmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgTW92aWVDbGlwXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBzZWUgUElYSS5leHRyYXMuTW92aWVDbGlwXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgICAgICovXG4gICAgICAgIE1vdmllQ2xpcDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignVGhlIE1vdmllQ2xpcCBjbGFzcyBoYXMgYmVlbiBtb3ZlZCB0byBleHRyYXMuQW5pbWF0ZWRTcHJpdGUsIHBsZWFzZSB1c2UgZXh0cmFzLkFuaW1hdGVkU3ByaXRlLicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4dHJhcy5BbmltYXRlZFNwcml0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIFRpbGluZ1Nwcml0ZVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBUaWxpbmdTcHJpdGU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBUaWxpbmdTcHJpdGUgY2xhc3MgaGFzIGJlZW4gbW92ZWQgdG8gZXh0cmFzLlRpbGluZ1Nwcml0ZSwgJyArICdwbGVhc2UgdXNlIGV4dHJhcy5UaWxpbmdTcHJpdGUgZnJvbSBub3cgb24uJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZXh0cmFzLlRpbGluZ1Nwcml0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIEJpdG1hcFRleHRcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLmV4dHJhcy5CaXRtYXBUZXh0XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgICAgICovXG4gICAgICAgIEJpdG1hcFRleHQ6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBCaXRtYXBUZXh0IGNsYXNzIGhhcyBiZWVuIG1vdmVkIHRvIGV4dHJhcy5CaXRtYXBUZXh0LCAnICsgJ3BsZWFzZSB1c2UgZXh0cmFzLkJpdG1hcFRleHQgZnJvbSBub3cgb24uJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZXh0cmFzLkJpdG1hcFRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBibGVuZE1vZGVzXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBzZWUgUElYSS5CTEVORF9NT0RFU1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBibGVuZE1vZGVzOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdUaGUgYmxlbmRNb2RlcyBoYXMgYmVlbiBtb3ZlZCB0byBCTEVORF9NT0RFUywgcGxlYXNlIHVzZSBCTEVORF9NT0RFUyBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLkJMRU5EX01PREVTO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgc2NhbGVNb2Rlc1xuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkuU0NBTEVfTU9ERVNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgc2NhbGVNb2Rlczoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignVGhlIHNjYWxlTW9kZXMgaGFzIGJlZW4gbW92ZWQgdG8gU0NBTEVfTU9ERVMsIHBsZWFzZSB1c2UgU0NBTEVfTU9ERVMgZnJvbSBub3cgb24uJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5TQ0FMRV9NT0RFUztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIEJhc2VUZXh0dXJlQ2FjaGVcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLnV0aWxzLkJhc2VUZXh0dXJlQ2FjaGVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgQmFzZVRleHR1cmVDYWNoZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignVGhlIEJhc2VUZXh0dXJlQ2FjaGUgY2xhc3MgaGFzIGJlZW4gbW92ZWQgdG8gdXRpbHMuQmFzZVRleHR1cmVDYWNoZSwgJyArICdwbGVhc2UgdXNlIHV0aWxzLkJhc2VUZXh0dXJlQ2FjaGUgZnJvbSBub3cgb24uJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS51dGlscy5CYXNlVGV4dHVyZUNhY2hlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG5hbWUgVGV4dHVyZUNhY2hlXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBzZWUgUElYSS51dGlscy5UZXh0dXJlQ2FjaGVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgVGV4dHVyZUNhY2hlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdUaGUgVGV4dHVyZUNhY2hlIGNsYXNzIGhhcyBiZWVuIG1vdmVkIHRvIHV0aWxzLlRleHR1cmVDYWNoZSwgJyArICdwbGVhc2UgdXNlIHV0aWxzLlRleHR1cmVDYWNoZSBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLnV0aWxzLlRleHR1cmVDYWNoZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWVzcGFjZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBtYXRoXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBzZWUgUElYSVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC42XG4gICAgICAgICAqL1xuICAgICAgICBtYXRoOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdUaGUgbWF0aCBuYW1lc3BhY2UgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIGFjY2VzcyBtZW1iZXJzIGFscmVhZHkgYWNjZXNzaWJsZSBvbiBQSVhJLicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBQSVhJLkFic3RyYWN0RmlsdGVyXG4gICAgICAgICAqIEBzZWUgUElYSS5GaWx0ZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuNlxuICAgICAgICAgKi9cbiAgICAgICAgQWJzdHJhY3RGaWx0ZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ0FzdHJhY3RGaWx0ZXIgaGFzIGJlZW4gcmVuYW1lZCB0byBGaWx0ZXIsIHBsZWFzZSB1c2UgUElYSS5GaWx0ZXInKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLkZpbHRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIFBJWEkuVHJhbnNmb3JtTWFudWFsXG4gICAgICAgICAqIEBzZWUgUElYSS5UcmFuc2Zvcm1CYXNlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFRyYW5zZm9ybU1hbnVhbDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignVHJhbnNmb3JtTWFudWFsIGhhcyBiZWVuIHJlbmFtZWQgdG8gVHJhbnNmb3JtQmFzZSwgcGxlYXNlIHVwZGF0ZSB5b3VyIHBpeGktc3BpbmUnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLlRyYW5zZm9ybUJhc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqIEBuYW1lIFBJWEkuVEFSR0VUX0ZQTVNcbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLlRBUkdFVF9GUE1TXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC4yLjBcbiAgICAgICAgICovXG4gICAgICAgIFRBUkdFVF9GUE1TOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLlRBUkdFVF9GUE1TIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5UQVJHRVRfRlBNUycpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuc2V0dGluZ3MuVEFSR0VUX0ZQTVM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLlRBUkdFVF9GUE1TIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy5UQVJHRVRfRlBNUycpO1xuXG4gICAgICAgICAgICAgICAgY29yZS5zZXR0aW5ncy5UQVJHRVRfRlBNUyA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKiBAbmFtZSBQSVhJLkZJTFRFUl9SRVNPTFVUSU9OXG4gICAgICAgICAqIEBzZWUgUElYSS5zZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuMi4wXG4gICAgICAgICAqL1xuICAgICAgICBGSUxURVJfUkVTT0xVVElPTjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5GSUxURVJfUkVTT0xVVElPTiBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuRklMVEVSX1JFU09MVVRJT04nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLnNldHRpbmdzLkZJTFRFUl9SRVNPTFVUSU9OO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5GSUxURVJfUkVTT0xVVElPTiBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuRklMVEVSX1JFU09MVVRJT04nKTtcblxuICAgICAgICAgICAgICAgIGNvcmUuc2V0dGluZ3MuRklMVEVSX1JFU09MVVRJT04gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICogQG5hbWUgUElYSS5SRVNPTFVUSU9OXG4gICAgICAgICAqIEBzZWUgUElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC4yLjBcbiAgICAgICAgICovXG4gICAgICAgIFJFU09MVVRJT046IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuUkVTT0xVVElPTiBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuUkVTT0xVVElPTicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuc2V0dGluZ3MuUkVTT0xVVElPTjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuUkVTT0xVVElPTiBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuUkVTT0xVVElPTicpO1xuXG4gICAgICAgICAgICAgICAgY29yZS5zZXR0aW5ncy5SRVNPTFVUSU9OID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqIEBuYW1lIFBJWEkuTUlQTUFQX1RFWFRVUkVTXG4gICAgICAgICAqIEBzZWUgUElYSS5zZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjIuMFxuICAgICAgICAgKi9cbiAgICAgICAgTUlQTUFQX1RFWFRVUkVTOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLk1JUE1BUF9URVhUVVJFUyBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuTUlQTUFQX1RFWFRVUkVTJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5zZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLk1JUE1BUF9URVhUVVJFUyBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuTUlQTUFQX1RFWFRVUkVTJyk7XG5cbiAgICAgICAgICAgICAgICBjb3JlLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFUyA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKiBAbmFtZSBQSVhJLlNQUklURV9CQVRDSF9TSVpFXG4gICAgICAgICAqIEBzZWUgUElYSS5zZXR0aW5ncy5TUFJJVEVfQkFUQ0hfU0laRVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuMi4wXG4gICAgICAgICAqL1xuICAgICAgICBTUFJJVEVfQkFUQ0hfU0laRToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5TUFJJVEVfQkFUQ0hfU0laRSBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuU1BSSVRFX0JBVENIX1NJWkUnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLnNldHRpbmdzLlNQUklURV9CQVRDSF9TSVpFO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5TUFJJVEVfQkFUQ0hfU0laRSBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuU1BSSVRFX0JBVENIX1NJWkUnKTtcblxuICAgICAgICAgICAgICAgIGNvcmUuc2V0dGluZ3MuU1BSSVRFX0JBVENIX1NJWkUgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICogQG5hbWUgUElYSS5TUFJJVEVfTUFYX1RFWFRVUkVTXG4gICAgICAgICAqIEBzZWUgUElYSS5zZXR0aW5ncy5TUFJJVEVfTUFYX1RFWFRVUkVTXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC4yLjBcbiAgICAgICAgICovXG4gICAgICAgIFNQUklURV9NQVhfVEVYVFVSRVM6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuU1BSSVRFX01BWF9URVhUVVJFUyBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuU1BSSVRFX01BWF9URVhUVVJFUycpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuc2V0dGluZ3MuU1BSSVRFX01BWF9URVhUVVJFUztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuU1BSSVRFX01BWF9URVhUVVJFUyBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuU1BSSVRFX01BWF9URVhUVVJFUycpO1xuXG4gICAgICAgICAgICAgICAgY29yZS5zZXR0aW5ncy5TUFJJVEVfTUFYX1RFWFRVUkVTID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqIEBuYW1lIFBJWEkuUkVUSU5BX1BSRUZJWFxuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuUkVUSU5BX1BSRUZJWFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuMi4wXG4gICAgICAgICAqL1xuICAgICAgICBSRVRJTkFfUFJFRklYOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLlJFVElOQV9QUkVGSVggaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlJFVElOQV9QUkVGSVgnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLnNldHRpbmdzLlJFVElOQV9QUkVGSVg7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLlJFVElOQV9QUkVGSVggaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlJFVElOQV9QUkVGSVgnKTtcblxuICAgICAgICAgICAgICAgIGNvcmUuc2V0dGluZ3MuUkVUSU5BX1BSRUZJWCA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKiBAbmFtZSBQSVhJLkRFRkFVTFRfUkVOREVSX09QVElPTlNcbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLlJFTkRFUl9PUFRJT05TXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC4yLjBcbiAgICAgICAgICovXG4gICAgICAgIERFRkFVTFRfUkVOREVSX09QVElPTlM6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuREVGQVVMVF9SRU5ERVJfT1BUSU9OUyBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuREVGQVVMVF9SRU5ERVJfT1BUSU9OUycpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuc2V0dGluZ3MuUkVOREVSX09QVElPTlM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIE1vdmUgdGhlIGRlZmF1bHQgcHJvcGVydGllcyB0byBzZXR0aW5nc1xuICAgIHZhciBkZWZhdWx0cyA9IFt7IHBhcmVudDogJ1RSQU5TRk9STV9NT0RFJywgdGFyZ2V0OiAnVFJBTlNGT1JNX01PREUnIH0sIHsgcGFyZW50OiAnR0NfTU9ERVMnLCB0YXJnZXQ6ICdHQ19NT0RFJyB9LCB7IHBhcmVudDogJ1dSQVBfTU9ERVMnLCB0YXJnZXQ6ICdXUkFQX01PREUnIH0sIHsgcGFyZW50OiAnU0NBTEVfTU9ERVMnLCB0YXJnZXQ6ICdTQ0FMRV9NT0RFJyB9LCB7IHBhcmVudDogJ1BSRUNJU0lPTicsIHRhcmdldDogJ1BSRUNJU0lPTl9GUkFHTUVOVCcgfV07XG5cbiAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChpKSB7XG4gICAgICAgIHZhciBkZXByZWNhdGlvbiA9IGRlZmF1bHRzW2ldO1xuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb3JlW2RlcHJlY2F0aW9uLnBhcmVudF0sICdERUZBVUxUJywge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS4nICsgZGVwcmVjYXRpb24ucGFyZW50ICsgJy5ERUZBVUxUIGhhcyBiZWVuIGRlcHJlY2F0ZWQsICcgKyAoJ3BsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy4nICsgZGVwcmVjYXRpb24udGFyZ2V0KSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5zZXR0aW5nc1tkZXByZWNhdGlvbi50YXJnZXRdO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS4nICsgZGVwcmVjYXRpb24ucGFyZW50ICsgJy5ERUZBVUxUIGhhcyBiZWVuIGRlcHJlY2F0ZWQsICcgKyAoJ3BsZWFzZSB1c2UgUElYSS5zZXR0aW5ncy4nICsgZGVwcmVjYXRpb24udGFyZ2V0KSk7XG5cbiAgICAgICAgICAgICAgICBjb3JlLnNldHRpbmdzW2RlcHJlY2F0aW9uLnRhcmdldF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVmYXVsdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgX2xvb3AoaSk7XG4gICAgfVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY29yZS5zZXR0aW5ncywge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBuYW1lIFBSRUNJU0lPTlxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAgICAgKiBAc2VlIFBJWEkuUFJFQ0lTSU9OXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC40LjBcbiAgICAgICAgICovXG4gICAgICAgIFBSRUNJU0lPTjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5zZXR0aW5ncy5QUkVDSVNJT04gaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlBSRUNJU0lPTl9GUkFHTUVOVCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuc2V0dGluZ3MuUFJFQ0lTSU9OX0ZSQUdNRU5UO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5zZXR0aW5ncy5QUkVDSVNJT04gaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBQSVhJLnNldHRpbmdzLlBSRUNJU0lPTl9GUkFHTUVOVCcpO1xuXG4gICAgICAgICAgICAgICAgY29yZS5zZXR0aW5ncy5QUkVDSVNJT05fRlJBR01FTlQgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKGV4dHJhcy5BbmltYXRlZFNwcml0ZSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhleHRyYXMsIHtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICAgICAqIEBuYW1lIE1vdmllQ2xpcFxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuZXh0cmFzXG4gICAgICAgICAgICAgKiBAc2VlIFBJWEkuZXh0cmFzLkFuaW1hdGVkU3ByaXRlXG4gICAgICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuMi4wXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIE1vdmllQ2xpcDoge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuKCdUaGUgTW92aWVDbGlwIGNsYXNzIGhhcyBiZWVuIHJlbmFtZWQgdG8gQW5pbWF0ZWRTcHJpdGUsIHBsZWFzZSB1c2UgQW5pbWF0ZWRTcHJpdGUgZnJvbSBub3cgb24uJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4dHJhcy5BbmltYXRlZFNwcml0ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChleHRyYXMpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZXh0cmFzLCB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgICAgICogQG5hbWUgVGV4dHVyZVRyYW5zZm9ybVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuZXh0cmFzXG4gICAgICAgICAgICAgKiBAc2VlIFBJWEkuVGV4dHVyZU1hdHJpeFxuICAgICAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjYuMFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBUZXh0dXJlVHJhbnNmb3JtOiB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBUZXh0dXJlVHJhbnNmb3JtIGNsYXNzIGhhcyBiZWVuIHJlbmFtZWQgdG8gVGV4dHVyZU1hdHJpeCwgJyArICdwbGVhc2UgdXNlIFBJWEkuVGV4dHVyZU1hdHJpeCBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5UZXh0dXJlTWF0cml4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29yZS5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5nZW5lcmF0ZVRleHR1cmUgPSBmdW5jdGlvbiBnZW5lcmF0ZVRleHR1cmUocmVuZGVyZXIsIHNjYWxlTW9kZSwgcmVzb2x1dGlvbikge1xuICAgICAgICB3YXJuKCdnZW5lcmF0ZVRleHR1cmUgaGFzIG1vdmVkIHRvIHRoZSByZW5kZXJlciwgcGxlYXNlIHVzZSByZW5kZXJlci5nZW5lcmF0ZVRleHR1cmUoZGlzcGxheU9iamVjdCknKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyZXIuZ2VuZXJhdGVUZXh0dXJlKHRoaXMsIHNjYWxlTW9kZSwgcmVzb2x1dGlvbik7XG4gICAgfTtcblxuICAgIGNvcmUuR3JhcGhpY3MucHJvdG90eXBlLmdlbmVyYXRlVGV4dHVyZSA9IGZ1bmN0aW9uIGdlbmVyYXRlVGV4dHVyZShzY2FsZU1vZGUsIHJlc29sdXRpb24pIHtcbiAgICAgICAgd2FybignZ3JhcGhpY3MgZ2VuZXJhdGUgdGV4dHVyZSBoYXMgbW92ZWQgdG8gdGhlIHJlbmRlcmVyLiAnICsgJ09yIHRvIHJlbmRlciBhIGdyYXBoaWNzIHRvIGEgdGV4dHVyZSB1c2luZyBjYW52YXMgcGxlYXNlIHVzZSBnZW5lcmF0ZUNhbnZhc1RleHR1cmUnKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5nZW5lcmF0ZUNhbnZhc1RleHR1cmUoc2NhbGVNb2RlLCByZXNvbHV0aW9uKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBuYW1lIFBJWEkuR3JvdXBEOC5pc1N3YXBXaWR0aEhlaWdodFxuICAgICAqIEBzZWUgUElYSS5Hcm91cEQ4LmlzVmVydGljYWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gLSBUaGUgbnVtYmVyIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgZGlyZWN0aW9uIGlzIHZlcnRpY2FsXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjYuMFxuICAgICAqL1xuICAgIGNvcmUuR3JvdXBEOC5pc1N3YXBXaWR0aEhlaWdodCA9IGZ1bmN0aW9uIGlzU3dhcFdpZHRoSGVpZ2h0KHJvdGF0aW9uKSB7XG4gICAgICAgIHdhcm4oJ0dyb3VwRDguaXNTd2FwV2lkdGhIZWlnaHQgd2FzIHJlbmFtZWQgdG8gR3JvdXBEOC5pc1ZlcnRpY2FsJyk7XG5cbiAgICAgICAgcmV0dXJuIGNvcmUuR3JvdXBEOC5pc1ZlcnRpY2FsKHJvdGF0aW9uKTtcbiAgICB9O1xuXG4gICAgY29yZS5SZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoZGlzcGxheU9iamVjdCwgbWF0cml4LCBjbGVhciwgdXBkYXRlVHJhbnNmb3JtKSB7XG4gICAgICAgIHRoaXMubGVnYWN5UmVuZGVyZXIucmVuZGVyKGRpc3BsYXlPYmplY3QsIHRoaXMsIGNsZWFyLCBtYXRyaXgsICF1cGRhdGVUcmFuc2Zvcm0pO1xuICAgICAgICB3YXJuKCdSZW5kZXJUZXh0dXJlLnJlbmRlciBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSByZW5kZXJlci5yZW5kZXIoZGlzcGxheU9iamVjdCwgcmVuZGVyVGV4dHVyZSknKTtcbiAgICB9O1xuXG4gICAgY29yZS5SZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5nZXRJbWFnZSA9IGZ1bmN0aW9uIGdldEltYWdlKHRhcmdldCkge1xuICAgICAgICB3YXJuKCdSZW5kZXJUZXh0dXJlLmdldEltYWdlIGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHJlbmRlcmVyLmV4dHJhY3QuaW1hZ2UodGFyZ2V0KScpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmxlZ2FjeVJlbmRlcmVyLmV4dHJhY3QuaW1hZ2UodGFyZ2V0KTtcbiAgICB9O1xuXG4gICAgY29yZS5SZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5nZXRCYXNlNjQgPSBmdW5jdGlvbiBnZXRCYXNlNjQodGFyZ2V0KSB7XG4gICAgICAgIHdhcm4oJ1JlbmRlclRleHR1cmUuZ2V0QmFzZTY0IGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHJlbmRlcmVyLmV4dHJhY3QuYmFzZTY0KHRhcmdldCknKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5sZWdhY3lSZW5kZXJlci5leHRyYWN0LmJhc2U2NCh0YXJnZXQpO1xuICAgIH07XG5cbiAgICBjb3JlLlJlbmRlclRleHR1cmUucHJvdG90eXBlLmdldENhbnZhcyA9IGZ1bmN0aW9uIGdldENhbnZhcyh0YXJnZXQpIHtcbiAgICAgICAgd2FybignUmVuZGVyVGV4dHVyZS5nZXRDYW52YXMgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgcmVuZGVyZXIuZXh0cmFjdC5jYW52YXModGFyZ2V0KScpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmxlZ2FjeVJlbmRlcmVyLmV4dHJhY3QuY2FudmFzKHRhcmdldCk7XG4gICAgfTtcblxuICAgIGNvcmUuUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuZ2V0UGl4ZWxzID0gZnVuY3Rpb24gZ2V0UGl4ZWxzKHRhcmdldCkge1xuICAgICAgICB3YXJuKCdSZW5kZXJUZXh0dXJlLmdldFBpeGVscyBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSByZW5kZXJlci5leHRyYWN0LnBpeGVscyh0YXJnZXQpJyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubGVnYWN5UmVuZGVyZXIucGl4ZWxzKHRhcmdldCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIFBJWEkuU3ByaXRlI3NldFRleHR1cmVcbiAgICAgKiBAc2VlIFBJWEkuU3ByaXRlI3RleHR1cmVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC4wXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgdGV4dHVyZSB0byBzZXQgdG8uXG4gICAgICovXG4gICAgY29yZS5TcHJpdGUucHJvdG90eXBlLnNldFRleHR1cmUgPSBmdW5jdGlvbiBzZXRUZXh0dXJlKHRleHR1cmUpIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gdGV4dHVyZTtcbiAgICAgICAgd2Fybignc2V0VGV4dHVyZSBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSB0aGUgdGV4dHVyZSBwcm9wZXJ0eSwgZS5nIDogc3ByaXRlLnRleHR1cmUgPSB0ZXh0dXJlOycpO1xuICAgIH07XG5cbiAgICBpZiAoZXh0cmFzLkJpdG1hcFRleHQpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZXRob2RcbiAgICAgICAgICogQG5hbWUgUElYSS5leHRyYXMuQml0bWFwVGV4dCNzZXRUZXh0XG4gICAgICAgICAqIEBzZWUgUElYSS5leHRyYXMuQml0bWFwVGV4dCN0ZXh0XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjBcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBUaGUgdGV4dCB0byBzZXQgdG8uXG4gICAgICAgICAqL1xuICAgICAgICBleHRyYXMuQml0bWFwVGV4dC5wcm90b3R5cGUuc2V0VGV4dCA9IGZ1bmN0aW9uIHNldFRleHQodGV4dCkge1xuICAgICAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICAgICAgICAgIHdhcm4oJ3NldFRleHQgaXMgbm93IGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgdGhlIHRleHQgcHJvcGVydHksIGUuZyA6IG15Qml0bWFwVGV4dC50ZXh0ID0gXFwnbXkgdGV4dFxcJzsnKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG5hbWUgUElYSS5UZXh0I3NldFRleHRcbiAgICAgKiBAc2VlIFBJWEkuVGV4dCN0ZXh0XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gVGhlIHRleHQgdG8gc2V0IHRvLlxuICAgICAqL1xuICAgIGNvcmUuVGV4dC5wcm90b3R5cGUuc2V0VGV4dCA9IGZ1bmN0aW9uIHNldFRleHQodGV4dCkge1xuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgICB3YXJuKCdzZXRUZXh0IGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHRoZSB0ZXh0IHByb3BlcnR5LCBlLmcgOiBteVRleHQudGV4dCA9IFxcJ215IHRleHRcXCc7Jyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGFzY2VudCwgZGVzY2VudCBhbmQgZm9udFNpemUgb2YgYSBnaXZlbiBmb250U3R5bGVcbiAgICAgKlxuICAgICAqIEBuYW1lIFBJWEkuVGV4dC5jYWxjdWxhdGVGb250UHJvcGVydGllc1xuICAgICAqIEBzZWUgUElYSS5UZXh0TWV0cmljcy5tZWFzdXJlRm9udFxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC41LjBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZm9udCAtIFN0cmluZyByZXByZXNlbnRpbmcgdGhlIHN0eWxlIG9mIHRoZSBmb250XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBGb250IHByb3BlcnRpZXMgb2JqZWN0XG4gICAgICovXG4gICAgY29yZS5UZXh0LmNhbGN1bGF0ZUZvbnRQcm9wZXJ0aWVzID0gZnVuY3Rpb24gY2FsY3VsYXRlRm9udFByb3BlcnRpZXMoZm9udCkge1xuICAgICAgICB3YXJuKCdUZXh0LmNhbGN1bGF0ZUZvbnRQcm9wZXJ0aWVzIGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHRoZSBUZXh0TWV0cmljcy5tZWFzdXJlRm9udCcpO1xuXG4gICAgICAgIHJldHVybiBjb3JlLlRleHRNZXRyaWNzLm1lYXN1cmVGb250KGZvbnQpO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjb3JlLlRleHQsIHtcbiAgICAgICAgZm9udFByb3BlcnRpZXNDYWNoZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignVGV4dC5mb250UHJvcGVydGllc0NhY2hlIGlzIGRlcHJlY2F0ZWQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLlRleHRNZXRyaWNzLl9mb250cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZm9udFByb3BlcnRpZXNDYW52YXM6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1RleHQuZm9udFByb3BlcnRpZXNDYW52YXMgaXMgZGVwcmVjYXRlZCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuVGV4dE1ldHJpY3MuX2NhbnZhcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZm9udFByb3BlcnRpZXNDb250ZXh0OiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdUZXh0LmZvbnRQcm9wZXJ0aWVzQ29udGV4dCBpcyBkZXByZWNhdGVkJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5UZXh0TWV0cmljcy5fY29udGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBuYW1lIFBJWEkuVGV4dCNzZXRTdHlsZVxuICAgICAqIEBzZWUgUElYSS5UZXh0I3N0eWxlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAqIEBwYXJhbSB7Kn0gc3R5bGUgLSBUaGUgc3R5bGUgdG8gc2V0IHRvLlxuICAgICAqL1xuICAgIGNvcmUuVGV4dC5wcm90b3R5cGUuc2V0U3R5bGUgPSBmdW5jdGlvbiBzZXRTdHlsZShzdHlsZSkge1xuICAgICAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG4gICAgICAgIHdhcm4oJ3NldFN0eWxlIGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHRoZSBzdHlsZSBwcm9wZXJ0eSwgZS5nIDogbXlUZXh0LnN0eWxlID0gc3R5bGU7Jyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbmFtZSBQSVhJLlRleHQjZGV0ZXJtaW5lRm9udFByb3BlcnRpZXNcbiAgICAgKiBAc2VlIFBJWEkuVGV4dCNtZWFzdXJlRm9udFByb3BlcnRpZXNcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuMi4wXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZm9udFN0eWxlIC0gU3RyaW5nIHJlcHJlc2VudGluZyB0aGUgc3R5bGUgb2YgdGhlIGZvbnRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEZvbnQgcHJvcGVydGllcyBvYmplY3RcbiAgICAgKi9cbiAgICBjb3JlLlRleHQucHJvdG90eXBlLmRldGVybWluZUZvbnRQcm9wZXJ0aWVzID0gZnVuY3Rpb24gZGV0ZXJtaW5lRm9udFByb3BlcnRpZXMoZm9udFN0eWxlKSB7XG4gICAgICAgIHdhcm4oJ2RldGVybWluZUZvbnRQcm9wZXJ0aWVzIGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFRleHRNZXRyaWNzLm1lYXN1cmVGb250IG1ldGhvZCcpO1xuXG4gICAgICAgIHJldHVybiBjb3JlLlRleHRNZXRyaWNzLm1lYXN1cmVGb250KGZvbnRTdHlsZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbmFtZSBQSVhJLlRleHQuZ2V0Rm9udFN0eWxlXG4gICAgICogQHNlZSBQSVhJLlRleHRNZXRyaWNzLmdldEZvbnRTdHlsZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gNC41LjBcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dFN0eWxlfSBzdHlsZSAtIFRoZSBzdHlsZSB0byB1c2UuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBGb250IHN0cmluZ1xuICAgICAqL1xuICAgIGNvcmUuVGV4dC5nZXRGb250U3R5bGUgPSBmdW5jdGlvbiBnZXRGb250U3R5bGUoc3R5bGUpIHtcbiAgICAgICAgd2FybignZ2V0Rm9udFN0eWxlIGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFRleHRTdHlsZS50b0ZvbnRTdHJpbmcoKSBpbnN0ZWFkJyk7XG5cbiAgICAgICAgc3R5bGUgPSBzdHlsZSB8fCB7fTtcblxuICAgICAgICBpZiAoIShzdHlsZSBpbnN0YW5jZW9mIGNvcmUuVGV4dFN0eWxlKSkge1xuICAgICAgICAgICAgc3R5bGUgPSBuZXcgY29yZS5UZXh0U3R5bGUoc3R5bGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0eWxlLnRvRm9udFN0cmluZygpO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjb3JlLlRleHRTdHlsZS5wcm90b3R5cGUsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBhbGwgcHJvcGVydGllcyBvZiBhIGZvbnQgYXMgYSBzaW5nbGUgc3RyaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBuYW1lIFBJWEkuVGV4dFN0eWxlI2ZvbnRcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA0LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgZm9udDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybigndGV4dCBzdHlsZSBwcm9wZXJ0eSBcXCdmb250XFwnIGlzIG5vdyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIHRoZSAnICsgJ1xcJ2ZvbnRGYW1pbHlcXCcsIFxcJ2ZvbnRTaXplXFwnLCBcXCdmb250U3R5bGVcXCcsIFxcJ2ZvbnRWYXJpYW50XFwnIGFuZCBcXCdmb250V2VpZ2h0XFwnIHByb3BlcnRpZXMgZnJvbSBub3cgb24nKTtcblxuICAgICAgICAgICAgICAgIHZhciBmb250U2l6ZVN0cmluZyA9IHR5cGVvZiB0aGlzLl9mb250U2l6ZSA9PT0gJ251bWJlcicgPyB0aGlzLl9mb250U2l6ZSArICdweCcgOiB0aGlzLl9mb250U2l6ZTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250U3R5bGUgKyAnICcgKyB0aGlzLl9mb250VmFyaWFudCArICcgJyArIHRoaXMuX2ZvbnRXZWlnaHQgKyAnICcgKyBmb250U2l6ZVN0cmluZyArICcgJyArIHRoaXMuX2ZvbnRGYW1pbHk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZm9udCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ3RleHQgc3R5bGUgcHJvcGVydHkgXFwnZm9udFxcJyBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSB0aGUgJyArICdcXCdmb250RmFtaWx5XFwnLFxcJ2ZvbnRTaXplXFwnLGZvbnRTdHlsZVxcJyxcXCdmb250VmFyaWFudFxcJyBhbmQgXFwnZm9udFdlaWdodFxcJyBwcm9wZXJ0aWVzIGZyb20gbm93IG9uJyk7XG5cbiAgICAgICAgICAgICAgICAvLyBjYW4gd29yayBvdXQgZm9udFN0eWxlIGZyb20gc2VhcmNoIG9mIHdob2xlIHN0cmluZ1xuICAgICAgICAgICAgICAgIGlmIChmb250LmluZGV4T2YoJ2l0YWxpYycpID4gMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9mb250U3R5bGUgPSAnaXRhbGljJztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZvbnQuaW5kZXhPZignb2JsaXF1ZScpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZm9udFN0eWxlID0gJ29ibGlxdWUnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRTdHlsZSA9ICdub3JtYWwnO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGNhbiB3b3JrIG91dCBmb250VmFyaWFudCBmcm9tIHNlYXJjaCBvZiB3aG9sZSBzdHJpbmdcbiAgICAgICAgICAgICAgICBpZiAoZm9udC5pbmRleE9mKCdzbWFsbC1jYXBzJykgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9mb250VmFyaWFudCA9ICdzbWFsbC1jYXBzJztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9mb250VmFyaWFudCA9ICdub3JtYWwnO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGZvbnRXZWlnaHQgYW5kIGZvbnRGYW1pbHkgYXJlIHRyaWNrZXIgdG8gZmluZCwgYnV0IGl0J3MgZWFzaWVyIHRvIGZpbmQgdGhlIGZvbnRTaXplIGR1ZSB0byBpdCdzIHVuaXRzXG4gICAgICAgICAgICAgICAgdmFyIHNwbGl0cyA9IGZvbnQuc3BsaXQoJyAnKTtcbiAgICAgICAgICAgICAgICB2YXIgZm9udFNpemVJbmRleCA9IC0xO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udFNpemUgPSAyNjtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNwbGl0cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3BsaXRzW2ldLm1hdGNoKC8ocHh8cHR8ZW18JSkvKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemVJbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9mb250U2l6ZSA9IHNwbGl0c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gd2UgY2FuIG5vdyBzZWFyY2ggZm9yIGZvbnRXZWlnaHQgYXMgd2Uga25vdyBpdCBtdXN0IG9jY3VyIGJlZm9yZSB0aGUgZm9udFNpemVcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250V2VpZ2h0ID0gJ25vcm1hbCc7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGZvbnRTaXplSW5kZXg7ICsrX2kpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNwbGl0c1tfaV0ubWF0Y2goLyhib2xkfGJvbGRlcnxsaWdodGVyfDEwMHwyMDB8MzAwfDQwMHw1MDB8NjAwfDcwMHw4MDB8OTAwKS8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9mb250V2VpZ2h0ID0gc3BsaXRzW19pXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gYW5kIGZpbmFsbHkgam9pbiBldmVyeXRoaW5nIHRvZ2V0aGVyIGFmdGVyIHRoZSBmb250U2l6ZSBpbiBjYXNlIHRoZSBmb250IGZhbWlseSBoYXMgbXVsdGlwbGUgd29yZHNcbiAgICAgICAgICAgICAgICBpZiAoZm9udFNpemVJbmRleCA+IC0xICYmIGZvbnRTaXplSW5kZXggPCBzcGxpdHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9mb250RmFtaWx5ID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pMiA9IGZvbnRTaXplSW5kZXggKyAxOyBfaTIgPCBzcGxpdHMubGVuZ3RoOyArK19pMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZm9udEZhbWlseSArPSBzcGxpdHNbX2kyXSArICcgJztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRGYW1pbHkgPSB0aGlzLl9mb250RmFtaWx5LnNsaWNlKDAsIC0xKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9mb250RmFtaWx5ID0gJ0FyaWFsJztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBuYW1lIFBJWEkuVGV4dHVyZSNzZXRGcmFtZVxuICAgICAqIEBzZWUgUElYSS5UZXh0dXJlI3NldEZyYW1lXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAzLjAuMFxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGZyYW1lIC0gVGhlIGZyYW1lIHRvIHNldC5cbiAgICAgKi9cbiAgICBjb3JlLlRleHR1cmUucHJvdG90eXBlLnNldEZyYW1lID0gZnVuY3Rpb24gc2V0RnJhbWUoZnJhbWUpIHtcbiAgICAgICAgdGhpcy5mcmFtZSA9IGZyYW1lO1xuICAgICAgICB3YXJuKCdzZXRGcmFtZSBpcyBub3cgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSB0aGUgZnJhbWUgcHJvcGVydHksIGUuZzogbXlUZXh0dXJlLmZyYW1lID0gZnJhbWU7Jyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBQSVhJLlRleHR1cmUuYWRkVGV4dHVyZVRvQ2FjaGVcbiAgICAgKiBAc2VlIFBJWEkuVGV4dHVyZS5hZGRUb0NhY2hlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNC41LjBcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSBUZXh0dXJlIHRvIGFkZCB0byB0aGUgY2FjaGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIHRoYXQgdGhlIHRleHR1cmUgd2lsbCBiZSBzdG9yZWQgYWdhaW5zdC5cbiAgICAgKi9cbiAgICBjb3JlLlRleHR1cmUuYWRkVGV4dHVyZVRvQ2FjaGUgPSBmdW5jdGlvbiBhZGRUZXh0dXJlVG9DYWNoZSh0ZXh0dXJlLCBpZCkge1xuICAgICAgICBjb3JlLlRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLCBpZCk7XG4gICAgICAgIHdhcm4oJ1RleHR1cmUuYWRkVGV4dHVyZVRvQ2FjaGUgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBUZXh0dXJlLmFkZFRvQ2FjaGUgZnJvbSBub3cgb24uJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBQSVhJLlRleHR1cmUucmVtb3ZlVGV4dHVyZUZyb21DYWNoZVxuICAgICAqIEBzZWUgUElYSS5UZXh0dXJlLnJlbW92ZUZyb21DYWNoZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDQuNS4wXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIG9mIHRoZSB0ZXh0dXJlIHRvIGJlIHJlbW92ZWRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV8bnVsbH0gVGhlIHRleHR1cmUgdGhhdCB3YXMgcmVtb3ZlZFxuICAgICAqL1xuICAgIGNvcmUuVGV4dHVyZS5yZW1vdmVUZXh0dXJlRnJvbUNhY2hlID0gZnVuY3Rpb24gcmVtb3ZlVGV4dHVyZUZyb21DYWNoZShpZCkge1xuICAgICAgICB3YXJuKCdUZXh0dXJlLnJlbW92ZVRleHR1cmVGcm9tQ2FjaGUgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSBmcm9tIG5vdyBvbi4gJyArICdCZSBhd2FyZSB0aGF0IFRleHR1cmUucmVtb3ZlRnJvbUNhY2hlIGRvZXMgbm90IGF1dG9tYXRpY2FsbHkgaXRzIEJhc2VUZXh0dXJlIGZyb20gdGhlIEJhc2VUZXh0dXJlQ2FjaGUuICcgKyAnRm9yIHRoYXQsIHVzZSBCYXNlVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUnKTtcblxuICAgICAgICBjb3JlLkJhc2VUZXh0dXJlLnJlbW92ZUZyb21DYWNoZShpZCk7XG5cbiAgICAgICAgcmV0dXJuIGNvcmUuVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUoaWQpO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhmaWx0ZXJzLCB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBQSVhJLmZpbHRlcnMuQWJzdHJhY3RGaWx0ZXJcbiAgICAgICAgICogQHNlZSBQSVhJLkFic3RyYWN0RmlsdGVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjZcbiAgICAgICAgICovXG4gICAgICAgIEFic3RyYWN0RmlsdGVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdBc3RyYWN0RmlsdGVyIGhhcyBiZWVuIHJlbmFtZWQgdG8gRmlsdGVyLCBwbGVhc2UgdXNlIFBJWEkuRmlsdGVyJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5BYnN0cmFjdEZpbHRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBuYW1lIFBJWEkuZmlsdGVycy5TcHJpdGVNYXNrRmlsdGVyXG4gICAgICAgICAqIEBzZWUgUElYSS5TcHJpdGVNYXNrRmlsdGVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMy4wLjZcbiAgICAgICAgICovXG4gICAgICAgIFNwcml0ZU1hc2tGaWx0ZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ2ZpbHRlcnMuU3ByaXRlTWFza0ZpbHRlciBpcyBhbiB1bmRvY3VtZW50ZWQgYWxpYXMsIHBsZWFzZSB1c2UgU3ByaXRlTWFza0ZpbHRlciBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb3JlLlNwcml0ZU1hc2tGaWx0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbmFtZSBQSVhJLmZpbHRlcnMuVm9pZEZpbHRlclxuICAgICAgICAgKiBAc2VlIFBJWEkuZmlsdGVycy5BbHBoYUZpbHRlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuNS43XG4gICAgICAgICAqL1xuICAgICAgICBWb2lkRmlsdGVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdWb2lkRmlsdGVyIGhhcyBiZWVuIHJlbmFtZWQgdG8gQWxwaGFGaWx0ZXIsIHBsZWFzZSB1c2UgUElYSS5maWx0ZXJzLkFscGhhRmlsdGVyJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVycy5BbHBoYUZpbHRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBuYW1lIFBJWEkudXRpbHMudXVpZFxuICAgICAqIEBzZWUgUElYSS51dGlscy51aWRcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDMuMC42XG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgdWlkXG4gICAgICovXG4gICAgY29yZS51dGlscy51dWlkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB3YXJuKCd1dGlscy51dWlkKCkgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSB1dGlscy51aWQoKSBmcm9tIG5vdyBvbi4nKTtcblxuICAgICAgICByZXR1cm4gY29yZS51dGlscy51aWQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBuYW1lIFBJWEkudXRpbHMuY2FuVXNlTmV3Q2FudmFzQmxlbmRNb2Rlc1xuICAgICAqIEBzZWUgUElYSS5DYW52YXNUaW50ZXJcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IENhbiB1c2UgYmxlbmQgbW9kZXMuXG4gICAgICovXG4gICAgY29yZS51dGlscy5jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB3YXJuKCd1dGlscy5jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzKCkgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBDYW52YXNUaW50ZXIuY2FuVXNlTXVsdGlwbHkgZnJvbSBub3cgb24nKTtcblxuICAgICAgICByZXR1cm4gY29yZS5DYW52YXNUaW50ZXIuY2FuVXNlTXVsdGlwbHk7XG4gICAgfTtcblxuICAgIHZhciBzYWlkSGVsbG8gPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogQG5hbWUgUElYSS51dGlscy5fc2FpZEhlbGxvXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQHNlZSBQSVhJLnV0aWxzLnNraXBIZWxsb1xuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDQuMS4wXG4gICAgICovXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvcmUudXRpbHMsICdfc2FpZEhlbGxvJywge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChib29sKSB7XG4gICAgICAgICAgICBpZiAoYm9vbCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkudXRpbHMuX3NhaWRIZWxsbyBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkudXRpbHMuc2tpcEhlbGxvKCknKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNraXBIZWxsbygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2FpZEhlbGxvID0gYm9vbDtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gc2FpZEhlbGxvO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAocHJlcGFyZS5CYXNlUHJlcGFyZSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1ldGhvZFxuICAgICAgICAgKiBAbmFtZSBQSVhJLnByZXBhcmUuQmFzZVByZXBhcmUjcmVnaXN0ZXJcbiAgICAgICAgICogQHNlZSBQSVhJLnByZXBhcmUuQmFzZVByZXBhcmUjcmVnaXN0ZXJGaW5kSG9va1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDQuNC4yXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFthZGRIb29rXSAtIEZ1bmN0aW9uIGNhbGwgdGhhdCB0YWtlcyB0d28gcGFyYW1ldGVyczogYGl0ZW06KiwgcXVldWU6QXJyYXlgXG4gICAgICAgICAqICAgICAgICBmdW5jdGlvbiBtdXN0IHJldHVybiBgdHJ1ZWAgaWYgaXQgd2FzIGFibGUgdG8gYWRkIGl0ZW0gdG8gdGhlIHF1ZXVlLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbdXBsb2FkSG9va10gLSBGdW5jdGlvbiBjYWxsIHRoYXQgdGFrZXMgdHdvIHBhcmFtZXRlcnM6IGBwcmVwYXJlOkNhbnZhc1ByZXBhcmUsIGl0ZW06KmAgYW5kXG4gICAgICAgICAqICAgICAgICBmdW5jdGlvbiBtdXN0IHJldHVybiBgdHJ1ZWAgaWYgaXQgd2FzIGFibGUgdG8gaGFuZGxlIHVwbG9hZCBvZiBpdGVtLlxuICAgICAgICAgKiBAcmV0dXJuIHtQSVhJLkJhc2VQcmVwYXJlfSBJbnN0YW5jZSBvZiBwbHVnaW4gZm9yIGNoYWluaW5nLlxuICAgICAgICAgKi9cbiAgICAgICAgcHJlcGFyZS5CYXNlUHJlcGFyZS5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbiByZWdpc3RlcihhZGRIb29rLCB1cGxvYWRIb29rKSB7XG4gICAgICAgICAgICB3YXJuKCdyZW5kZXJlci5wbHVnaW5zLnByZXBhcmUucmVnaXN0ZXIgaXMgbm93IGRlcHJlY2F0ZWQsICcgKyAncGxlYXNlIHVzZSByZW5kZXJlci5wbHVnaW5zLnByZXBhcmUucmVnaXN0ZXJGaW5kSG9vayAmIHJlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS5yZWdpc3RlclVwbG9hZEhvb2snKTtcblxuICAgICAgICAgICAgaWYgKGFkZEhvb2spIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soYWRkSG9vayk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh1cGxvYWRIb29rKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWdpc3RlclVwbG9hZEhvb2sodXBsb2FkSG9vayk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGlmIChwcmVwYXJlLmNhbnZhcykge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG51bWJlciBvZiBncmFwaGljcyBvciB0ZXh0dXJlcyB0byB1cGxvYWQgdG8gdGhlIEdQVS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG5hbWUgUElYSS5wcmVwYXJlLmNhbnZhcy5VUExPQURTX1BFUl9GUkFNRVxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5wcmVwYXJlLkJhc2VQcmVwYXJlLmxpbWl0ZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNC4yLjBcbiAgICAgICAgICovXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcmVwYXJlLmNhbnZhcywgJ1VQTE9BRFNfUEVSX0ZSQU1FJywge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5DYW52YXNQcmVwYXJlLlVQTE9BRFNfUEVSX0ZSQU1FIGhhcyBiZWVuIHJlbW92ZWQuIFBsZWFzZSBzZXQgJyArICdyZW5kZXJlci5wbHVnaW5zLnByZXBhcmUubGltaXRlci5tYXhJdGVtc1BlckZyYW1lIG9uIHlvdXIgcmVuZGVyZXInKTtcbiAgICAgICAgICAgICAgICAvLyBiZWNhdXNlIHdlIGRvbid0IGhhdmUgYSByZWZlcmVuY2UgdG8gdGhlIHJlbmRlcmVyLCB3ZSBjYW4ndCBhY3R1YWxseSBzZXRcbiAgICAgICAgICAgICAgICAvLyB0aGUgdXBsb2FkcyBwZXIgZnJhbWUsIHNvIHdlJ2xsIGhhdmUgdG8gc3RpY2sgd2l0aCB0aGUgd2FybmluZy5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLkNhbnZhc1ByZXBhcmUuVVBMT0FEU19QRVJfRlJBTUUgaGFzIGJlZW4gcmVtb3ZlZC4gUGxlYXNlIHVzZSAnICsgJ3JlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS5saW1pdGVyJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAocHJlcGFyZS53ZWJnbCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG51bWJlciBvZiBncmFwaGljcyBvciB0ZXh0dXJlcyB0byB1cGxvYWQgdG8gdGhlIEdQVS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG5hbWUgUElYSS5wcmVwYXJlLndlYmdsLlVQTE9BRFNfUEVSX0ZSQU1FXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLnByZXBhcmUuQmFzZVByZXBhcmUubGltaXRlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA0LjIuMFxuICAgICAgICAgKi9cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByZXBhcmUud2ViZ2wsICdVUExPQURTX1BFUl9GUkFNRScsIHtcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuV2ViR0xQcmVwYXJlLlVQTE9BRFNfUEVSX0ZSQU1FIGhhcyBiZWVuIHJlbW92ZWQuIFBsZWFzZSBzZXQgJyArICdyZW5kZXJlci5wbHVnaW5zLnByZXBhcmUubGltaXRlci5tYXhJdGVtc1BlckZyYW1lIG9uIHlvdXIgcmVuZGVyZXInKTtcbiAgICAgICAgICAgICAgICAvLyBiZWNhdXNlIHdlIGRvbid0IGhhdmUgYSByZWZlcmVuY2UgdG8gdGhlIHJlbmRlcmVyLCB3ZSBjYW4ndCBhY3R1YWxseSBzZXRcbiAgICAgICAgICAgICAgICAvLyB0aGUgdXBsb2FkcyBwZXIgZnJhbWUsIHNvIHdlJ2xsIGhhdmUgdG8gc3RpY2sgd2l0aCB0aGUgd2FybmluZy5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLldlYkdMUHJlcGFyZS5VUExPQURTX1BFUl9GUkFNRSBoYXMgYmVlbiByZW1vdmVkLiBQbGVhc2UgdXNlICcgKyAncmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlLmxpbWl0ZXInKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBOYU47XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChsb2FkZXJzLkxvYWRlcikge1xuICAgICAgICB2YXIgUmVzb3VyY2UgPSBsb2FkZXJzLlJlc291cmNlO1xuICAgICAgICB2YXIgTG9hZGVyID0gbG9hZGVycy5Mb2FkZXI7XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUmVzb3VyY2UucHJvdG90eXBlLCB7XG4gICAgICAgICAgICBpc0pzb246IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybignVGhlIGlzSnNvbiBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIGByZXNvdXJjZS50eXBlID09PSBSZXNvdXJjZS5UWVBFLkpTT05gLicpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnR5cGUgPT09IFJlc291cmNlLlRZUEUuSlNPTjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNYbWw6IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybignVGhlIGlzWG1sIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgYHJlc291cmNlLnR5cGUgPT09IFJlc291cmNlLlRZUEUuWE1MYC4nKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50eXBlID09PSBSZXNvdXJjZS5UWVBFLlhNTDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNJbWFnZToge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuKCdUaGUgaXNJbWFnZSBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIGByZXNvdXJjZS50eXBlID09PSBSZXNvdXJjZS5UWVBFLklNQUdFYC4nKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50eXBlID09PSBSZXNvdXJjZS5UWVBFLklNQUdFO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc0F1ZGlvOiB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBpc0F1ZGlvIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgYHJlc291cmNlLnR5cGUgPT09IFJlc291cmNlLlRZUEUuQVVESU9gLicpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnR5cGUgPT09IFJlc291cmNlLlRZUEUuQVVESU87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzVmlkZW86IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybignVGhlIGlzVmlkZW8gcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBgcmVzb3VyY2UudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5WSURFT2AuJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5WSURFTztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKExvYWRlci5wcm90b3R5cGUsIHtcbiAgICAgICAgICAgIGJlZm9yZToge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuKCdUaGUgYmVmb3JlKCkgbWV0aG9kIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgcHJlKCkuJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhZnRlcjoge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuKCdUaGUgYWZ0ZXIoKSBtZXRob2QgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSB1c2UoKS4nKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy51c2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoaW50ZXJhY3Rpb24uaW50ZXJhY3RpdmVUYXJnZXQpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkuaW50ZXJhY3Rpb24uaW50ZXJhY3RpdmVUYXJnZXQjZGVmYXVsdEN1cnNvclxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5pbnRlcmFjdGlvbi5pbnRlcmFjdGl2ZVRhcmdldCNjdXJzb3JcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNC4zLjBcbiAgICAgICAgICovXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpbnRlcmFjdGlvbi5pbnRlcmFjdGl2ZVRhcmdldCwgJ2RlZmF1bHRDdXJzb3InLCB7XG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1Byb3BlcnR5IGRlZmF1bHRDdXJzb3IgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBcXCdjdXJzb3JcXCcuICcpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yID0gdmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgd2FybignUHJvcGVydHkgZGVmYXVsdEN1cnNvciBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFxcJ2N1cnNvclxcJy4gJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJzb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChpbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2RlZmF1bHRDdXJzb3JTdHlsZVxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqIEBzZWUgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjY3Vyc29yU3R5bGVzXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDQuMy4wXG4gICAgICAgICAqL1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyLCAnZGVmYXVsdEN1cnNvclN0eWxlJywge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQcm9wZXJ0eSBkZWZhdWx0Q3Vyc29yU3R5bGUgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBcXCdjdXJzb3JTdHlsZXMuZGVmYXVsdFxcJy4gJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJzb3JTdHlsZXMuZGVmYXVsdCA9IHZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1Byb3BlcnR5IGRlZmF1bHRDdXJzb3JTdHlsZSBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFxcJ2N1cnNvclN0eWxlcy5kZWZhdWx0XFwnLiAnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnNvclN0eWxlcy5kZWZhdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjY3VycmVudEN1cnNvclN0eWxlXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICogQHNlZSBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNjdXJzb3JTdHlsZXNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNC4zLjBcbiAgICAgICAgICovXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIsICdjdXJyZW50Q3Vyc29yU3R5bGUnLCB7XG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1Byb3BlcnR5IGN1cnJlbnRDdXJzb3JTdHlsZSBoYXMgYmVlbiByZW1vdmVkLicgKyAnU2VlIHRoZSBjdXJyZW50Q3Vyc29yTW9kZSBwcm9wZXJ0eSwgd2hpY2ggd29ya3MgZGlmZmVyZW50bHkuJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Q3Vyc29yTW9kZSA9IHZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1Byb3BlcnR5IGN1cnJlbnRDdXJzb3JTdHlsZSBoYXMgYmVlbiByZW1vdmVkLicgKyAnU2VlIHRoZSBjdXJyZW50Q3Vyc29yTW9kZSBwcm9wZXJ0eSwgd2hpY2ggd29ya3MgZGlmZmVyZW50bHkuJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50Q3Vyc29yTW9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVwcmVjYXRpb24uanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgXyA9IHJlcXVpcmUoJy4uLycpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBVdGlsaXR5IGNsYXNzIGZvciBtYWludGFpbmluZyByZWZlcmVuY2UgdG8gYSBjb2xsZWN0aW9uXG4gKiBvZiBUZXh0dXJlcyBvbiBhIHNpbmdsZSBTcHJpdGVzaGVldC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTcHJpdGVzaGVldCA9IGZ1bmN0aW9uICgpIHtcbiAgICBfY3JlYXRlQ2xhc3MoU3ByaXRlc2hlZXQsIG51bGwsIFt7XG4gICAgICAgIGtleTogJ0JBVENIX1NJWkUnLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgVGV4dHVyZXMgdG8gYnVpbGQgcGVyIHByb2Nlc3MuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDEwMDBcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIDEwMDA7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSBSZWZlcmVuY2UgdG8gdGhlIHNvdXJjZSBCYXNlVGV4dHVyZSBvYmplY3QuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIC0gU3ByaXRlc2hlZXQgaW1hZ2UgZGF0YS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtyZXNvbHV0aW9uRmlsZW5hbWVdIC0gVGhlIGZpbGVuYW1lIHRvIGNvbnNpZGVyIHdoZW4gZGV0ZXJtaW5pbmdcbiAgICAgICAgICogICAgICAgIHRoZSByZXNvbHV0aW9uIG9mIHRoZSBzcHJpdGVzaGVldC4gSWYgbm90IHByb3ZpZGVkLCB0aGUgaW1hZ2VVcmwgd2lsbFxuICAgICAgICAgKiAgICAgICAgYmUgdXNlZCBvbiB0aGUgQmFzZVRleHR1cmUuXG4gICAgICAgICAqL1xuXG4gICAgfV0pO1xuXG4gICAgZnVuY3Rpb24gU3ByaXRlc2hlZXQoYmFzZVRleHR1cmUsIGRhdGEpIHtcbiAgICAgICAgdmFyIHJlc29sdXRpb25GaWxlbmFtZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogbnVsbDtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3ByaXRlc2hlZXQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhzIHNvdXJjZSB0ZXh0dXJlXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSA9IGJhc2VUZXh0dXJlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXAgb2Ygc3ByaXRlc2hlZXQgdGV4dHVyZXMuXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRleHR1cmVzID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgb3JpZ2luYWwgSlNPTiBkYXRhLlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc29sdXRpb24gb2YgdGhlIHNwcml0ZXNoZWV0LlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gdGhpcy5fdXBkYXRlUmVzb2x1dGlvbihyZXNvbHV0aW9uRmlsZW5hbWUgfHwgdGhpcy5iYXNlVGV4dHVyZS5pbWFnZVVybCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hcCBvZiBzcHJpdGVzaGVldCBmcmFtZXMuXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9mcmFtZXMgPSB0aGlzLmRhdGEuZnJhbWVzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIGZyYW1lIG5hbWVzLlxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9mcmFtZUtleXMgPSBPYmplY3Qua2V5cyh0aGlzLl9mcmFtZXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGJhdGNoIGluZGV4IGJlaW5nIHByb2Nlc3NlZC5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JhdGNoSW5kZXggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsYmFjayB3aGVuIHBhcnNlIGlzIGNvbXBsZXRlZC5cbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY2FsbGJhY2sgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIHRoZSByZXNvbHV0aW9uIGZyb20gdGhlIGZpbGVuYW1lIG9yIGZhbGxiYWNrXG4gICAgICogdG8gdGhlIG1ldGEuc2NhbGUgZmllbGQgb2YgdGhlIEpTT04gZGF0YS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHJlc29sdXRpb25GaWxlbmFtZSAtIFRoZSBmaWxlbmFtZSB0byB1c2UgZm9yIHJlc29sdmluZ1xuICAgICAqICAgICAgICB0aGUgZGVmYXVsdCByZXNvbHV0aW9uLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gUmVzb2x1dGlvbiB0byB1c2UgZm9yIHNwcml0ZXNoZWV0LlxuICAgICAqL1xuXG5cbiAgICBTcHJpdGVzaGVldC5wcm90b3R5cGUuX3VwZGF0ZVJlc29sdXRpb24gPSBmdW5jdGlvbiBfdXBkYXRlUmVzb2x1dGlvbihyZXNvbHV0aW9uRmlsZW5hbWUpIHtcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5kYXRhLm1ldGEuc2NhbGU7XG5cbiAgICAgICAgLy8gVXNlIGEgZGVmYXVsdFZhbHVlIG9mIGBudWxsYCB0byBjaGVjayBpZiBhIHVybC1iYXNlZCByZXNvbHV0aW9uIGlzIHNldFxuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9ICgwLCBfdXRpbHMuZ2V0UmVzb2x1dGlvbk9mVXJsKShyZXNvbHV0aW9uRmlsZW5hbWUsIG51bGwpO1xuXG4gICAgICAgIC8vIE5vIHJlc29sdXRpb24gZm91bmQgdmlhIFVSTFxuICAgICAgICBpZiAocmVzb2x1dGlvbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gVXNlIHRoZSBzY2FsZSB2YWx1ZSBvciBkZWZhdWx0IHRvIDFcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSBzY2FsZSAhPT0gdW5kZWZpbmVkID8gcGFyc2VGbG9hdChzY2FsZSkgOiAxO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRm9yIG5vbi0xIHJlc29sdXRpb25zLCB1cGRhdGUgYmFzZVRleHR1cmVcbiAgICAgICAgaWYgKHJlc29sdXRpb24gIT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLnVwZGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc29sdXRpb247XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBhcnNlciBzcHJpdGVzaGVldCBmcm9tIGxvYWRlZCBkYXRhLiBUaGlzIGlzIGRvbmUgYXN5bmNocm9ub3VzbHlcbiAgICAgKiB0byBwcmV2ZW50IGNyZWF0aW5nIHRvbyBtYW55IFRleHR1cmUgd2l0aGluIGEgc2luZ2xlIHByb2Nlc3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIENhbGxiYWNrIHdoZW4gY29tcGxldGUgcmV0dXJuc1xuICAgICAqICAgICAgICBhIG1hcCBvZiB0aGUgVGV4dHVyZXMgZm9yIHRoaXMgc3ByaXRlc2hlZXQuXG4gICAgICovXG5cblxuICAgIFNwcml0ZXNoZWV0LnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uIHBhcnNlKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX2JhdGNoSW5kZXggPSAwO1xuICAgICAgICB0aGlzLl9jYWxsYmFjayA9IGNhbGxiYWNrO1xuXG4gICAgICAgIGlmICh0aGlzLl9mcmFtZUtleXMubGVuZ3RoIDw9IFNwcml0ZXNoZWV0LkJBVENIX1NJWkUpIHtcbiAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NGcmFtZXMoMCk7XG4gICAgICAgICAgICB0aGlzLl9wYXJzZUNvbXBsZXRlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9uZXh0QmF0Y2goKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIGEgYmF0Y2ggb2YgZnJhbWVzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbml0aWFsRnJhbWVJbmRleCAtIFRoZSBpbmRleCBvZiBmcmFtZSB0byBzdGFydC5cbiAgICAgKi9cblxuXG4gICAgU3ByaXRlc2hlZXQucHJvdG90eXBlLl9wcm9jZXNzRnJhbWVzID0gZnVuY3Rpb24gX3Byb2Nlc3NGcmFtZXMoaW5pdGlhbEZyYW1lSW5kZXgpIHtcbiAgICAgICAgdmFyIGZyYW1lSW5kZXggPSBpbml0aWFsRnJhbWVJbmRleDtcbiAgICAgICAgdmFyIG1heEZyYW1lcyA9IFNwcml0ZXNoZWV0LkJBVENIX1NJWkU7XG4gICAgICAgIHZhciBzb3VyY2VTY2FsZSA9IHRoaXMuYmFzZVRleHR1cmUuc291cmNlU2NhbGU7XG5cbiAgICAgICAgd2hpbGUgKGZyYW1lSW5kZXggLSBpbml0aWFsRnJhbWVJbmRleCA8IG1heEZyYW1lcyAmJiBmcmFtZUluZGV4IDwgdGhpcy5fZnJhbWVLZXlzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGkgPSB0aGlzLl9mcmFtZUtleXNbZnJhbWVJbmRleF07XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuX2ZyYW1lc1tpXTtcbiAgICAgICAgICAgIHZhciByZWN0ID0gZGF0YS5mcmFtZTtcblxuICAgICAgICAgICAgaWYgKHJlY3QpIHtcbiAgICAgICAgICAgICAgICB2YXIgZnJhbWUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHZhciB0cmltID0gbnVsbDtcbiAgICAgICAgICAgICAgICB2YXIgc291cmNlU2l6ZSA9IGRhdGEudHJpbW1lZCAhPT0gZmFsc2UgJiYgZGF0YS5zb3VyY2VTaXplID8gZGF0YS5zb3VyY2VTaXplIDogZGF0YS5mcmFtZTtcblxuICAgICAgICAgICAgICAgIHZhciBvcmlnID0gbmV3IF8uUmVjdGFuZ2xlKDAsIDAsIE1hdGguZmxvb3Ioc291cmNlU2l6ZS53ICogc291cmNlU2NhbGUpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHNvdXJjZVNpemUuaCAqIHNvdXJjZVNjYWxlKSAvIHRoaXMucmVzb2x1dGlvbik7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5yb3RhdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyYW1lID0gbmV3IF8uUmVjdGFuZ2xlKE1hdGguZmxvb3IocmVjdC54ICogc291cmNlU2NhbGUpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QueSAqIHNvdXJjZVNjYWxlKSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LmggKiBzb3VyY2VTY2FsZSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC53ICogc291cmNlU2NhbGUpIC8gdGhpcy5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmcmFtZSA9IG5ldyBfLlJlY3RhbmdsZShNYXRoLmZsb29yKHJlY3QueCAqIHNvdXJjZVNjYWxlKSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LnkgKiBzb3VyY2VTY2FsZSkgLyB0aGlzLnJlc29sdXRpb24sIE1hdGguZmxvb3IocmVjdC53ICogc291cmNlU2NhbGUpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QuaCAqIHNvdXJjZVNjYWxlKSAvIHRoaXMucmVzb2x1dGlvbik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gIENoZWNrIHRvIHNlZSBpZiB0aGUgc3ByaXRlIGlzIHRyaW1tZWRcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS50cmltbWVkICE9PSBmYWxzZSAmJiBkYXRhLnNwcml0ZVNvdXJjZVNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJpbSA9IG5ldyBfLlJlY3RhbmdsZShNYXRoLmZsb29yKGRhdGEuc3ByaXRlU291cmNlU2l6ZS54ICogc291cmNlU2NhbGUpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKGRhdGEuc3ByaXRlU291cmNlU2l6ZS55ICogc291cmNlU2NhbGUpIC8gdGhpcy5yZXNvbHV0aW9uLCBNYXRoLmZsb29yKHJlY3QudyAqIHNvdXJjZVNjYWxlKSAvIHRoaXMucmVzb2x1dGlvbiwgTWF0aC5mbG9vcihyZWN0LmggKiBzb3VyY2VTY2FsZSkgLyB0aGlzLnJlc29sdXRpb24pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMudGV4dHVyZXNbaV0gPSBuZXcgXy5UZXh0dXJlKHRoaXMuYmFzZVRleHR1cmUsIGZyYW1lLCBvcmlnLCB0cmltLCBkYXRhLnJvdGF0ZWQgPyAyIDogMCk7XG5cbiAgICAgICAgICAgICAgICAvLyBsZXRzIGFsc28gYWRkIHRoZSBmcmFtZSB0byBwaXhpJ3MgZ2xvYmFsIGNhY2hlIGZvciBmcm9tRnJhbWUgYW5kIGZyb21JbWFnZSBmdW5jdGlvbnNcbiAgICAgICAgICAgICAgICBfLlRleHR1cmUuYWRkVG9DYWNoZSh0aGlzLnRleHR1cmVzW2ldLCBpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnJhbWVJbmRleCsrO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwYXJzZSBoYXMgY29tcGxldGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlc2hlZXQucHJvdG90eXBlLl9wYXJzZUNvbXBsZXRlID0gZnVuY3Rpb24gX3BhcnNlQ29tcGxldGUoKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IHRoaXMuX2NhbGxiYWNrO1xuXG4gICAgICAgIHRoaXMuX2NhbGxiYWNrID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYmF0Y2hJbmRleCA9IDA7XG4gICAgICAgIGNhbGxiYWNrLmNhbGwodGhpcywgdGhpcy50ZXh0dXJlcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEJlZ2luIHRoZSBuZXh0IGJhdGNoIG9mIHRleHR1cmVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlc2hlZXQucHJvdG90eXBlLl9uZXh0QmF0Y2ggPSBmdW5jdGlvbiBfbmV4dEJhdGNoKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMuX3Byb2Nlc3NGcmFtZXModGhpcy5fYmF0Y2hJbmRleCAqIFNwcml0ZXNoZWV0LkJBVENIX1NJWkUpO1xuICAgICAgICB0aGlzLl9iYXRjaEluZGV4Kys7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLl9iYXRjaEluZGV4ICogU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSA8IF90aGlzLl9mcmFtZUtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX25leHRCYXRjaCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fcGFyc2VDb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSBTcHJpdGVzaGVldCBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtkZXN0cm95QmFzZT1mYWxzZV0gV2hldGhlciB0byBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgYXMgd2VsbFxuICAgICAqL1xuXG5cbiAgICBTcHJpdGVzaGVldC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHZhciBkZXN0cm95QmFzZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7XG5cbiAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLnRleHR1cmVzKSB7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmVzW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9mcmFtZXMgPSBudWxsO1xuICAgICAgICB0aGlzLl9mcmFtZUtleXMgPSBudWxsO1xuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnRleHR1cmVzID0gbnVsbDtcbiAgICAgICAgaWYgKGRlc3Ryb3lCYXNlKSB7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFNwcml0ZXNoZWV0O1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBTcHJpdGVzaGVldDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNwcml0ZXNoZWV0LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9DYW52YXNSZW5kZXJlciA9IHJlcXVpcmUoJy4uLy4uL3JlbmRlcmVycy9jYW52YXMvQ2FudmFzUmVuZGVyZXInKTtcblxudmFyIF9DYW52YXNSZW5kZXJlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNSZW5kZXJlcik7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi9jb25zdCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEBhdXRob3IgTWF0IEdyb3Zlc1xuICpcbiAqIEJpZyB0aGFua3MgdG8gdGhlIHZlcnkgY2xldmVyIE1hdHQgRGVzTGF1cmllcnMgPG1hdHRkZXNsPiBodHRwczovL2dpdGh1Yi5jb20vbWF0dGRlc2wvXG4gKiBmb3IgY3JlYXRpbmcgdGhlIG9yaWdpbmFsIFBpeGlKUyB2ZXJzaW9uIVxuICogQWxzbyBhIHRoYW5rcyB0byBodHRwczovL2dpdGh1Yi5jb20vYmNoZXZhbGllciBmb3IgdHdlYWtpbmcgdGhlIHRpbnQgYW5kIGFscGhhIHNvIHRoYXQgdGhleVxuICogbm93IHNoYXJlIDQgYnl0ZXMgb24gdGhlIHZlcnRleCBidWZmZXJcbiAqXG4gKiBIZWF2aWx5IGluc3BpcmVkIGJ5IExpYkdEWCdzIENhbnZhc0dyYXBoaWNzUmVuZGVyZXI6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vbGliZ2R4L2xpYmdkeC9ibG9iLzEuMC4wL2dkeC9zcmMvY29tL2JhZGxvZ2ljL2dkeC9ncmFwaGljcy9nbHV0aWxzL1NoYXBlUmVuZGVyZXIuamF2YVxuICovXG5cbi8qKlxuICogUmVuZGVyZXIgZGVkaWNhdGVkIHRvIGRyYXdpbmcgYW5kIGJhdGNoaW5nIGdyYXBoaWNzIG9iamVjdHMuXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENhbnZhc0dyYXBoaWNzUmVuZGVyZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSBjdXJyZW50IFBJWEkgcmVuZGVyZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ2FudmFzR3JhcGhpY3NSZW5kZXJlcihyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FudmFzR3JhcGhpY3NSZW5kZXJlcik7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgYSBHcmFwaGljcyBvYmplY3QgdG8gYSBjYW52YXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3N9IGdyYXBoaWNzIC0gdGhlIGFjdHVhbCBncmFwaGljcyBvYmplY3QgdG8gcmVuZGVyXG4gICAgICovXG5cblxuICAgIENhbnZhc0dyYXBoaWNzUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcihncmFwaGljcykge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgY29udGV4dCA9IHJlbmRlcmVyLmNvbnRleHQ7XG4gICAgICAgIHZhciB3b3JsZEFscGhhID0gZ3JhcGhpY3Mud29ybGRBbHBoYTtcbiAgICAgICAgdmFyIHRyYW5zZm9ybSA9IGdyYXBoaWNzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSByZW5kZXJlci5yZXNvbHV0aW9uO1xuXG4gICAgICAgIC8vIGlmIHRoZSB0aW50IGhhcyBjaGFuZ2VkLCBzZXQgdGhlIGdyYXBoaWNzIG9iamVjdCB0byBkaXJ0eS5cbiAgICAgICAgaWYgKHRoaXMuX3ByZXZUaW50ICE9PSB0aGlzLnRpbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0odHJhbnNmb3JtLmEgKiByZXNvbHV0aW9uLCB0cmFuc2Zvcm0uYiAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS5jICogcmVzb2x1dGlvbiwgdHJhbnNmb3JtLmQgKiByZXNvbHV0aW9uLCB0cmFuc2Zvcm0udHggKiByZXNvbHV0aW9uLCB0cmFuc2Zvcm0udHkgKiByZXNvbHV0aW9uKTtcblxuICAgICAgICBpZiAoZ3JhcGhpY3MuZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlR3JhcGhpY3NUaW50KGdyYXBoaWNzKTtcbiAgICAgICAgICAgIGdyYXBoaWNzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlci5zZXRCbGVuZE1vZGUoZ3JhcGhpY3MuYmxlbmRNb2RlKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdyYXBoaWNzLmdyYXBoaWNzRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBncmFwaGljcy5ncmFwaGljc0RhdGFbaV07XG4gICAgICAgICAgICB2YXIgc2hhcGUgPSBkYXRhLnNoYXBlO1xuXG4gICAgICAgICAgICB2YXIgZmlsbENvbG9yID0gZGF0YS5fZmlsbFRpbnQ7XG4gICAgICAgICAgICB2YXIgbGluZUNvbG9yID0gZGF0YS5fbGluZVRpbnQ7XG5cbiAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gZGF0YS5saW5lV2lkdGg7XG5cbiAgICAgICAgICAgIGlmIChkYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuUE9MWSkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclBvbHlnb24oc2hhcGUucG9pbnRzLCBzaGFwZS5jbG9zZWQsIGNvbnRleHQpO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkYXRhLmhvbGVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyUG9seWdvbihkYXRhLmhvbGVzW2pdLnBvaW50cywgdHJ1ZSwgY29udGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZmlsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gZGF0YS5maWxsQWxwaGEgKiB3b3JsZEFscGhhO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjJyArICgnMDAwMDAnICsgKGZpbGxDb2xvciB8IDApLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmxpbmVXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gZGF0YS5saW5lQWxwaGEgKiB3b3JsZEFscGhhO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJyMnICsgKCcwMDAwMCcgKyAobGluZUNvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLlJFQ1QpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5maWxsQ29sb3IgfHwgZGF0YS5maWxsQ29sb3IgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IGRhdGEuZmlsbEFscGhhICogd29ybGRBbHBoYTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnIycgKyAoJzAwMDAwJyArIChmaWxsQ29sb3IgfCAwKS50b1N0cmluZygxNikpLnN1YnN0cigtNik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFJlY3Qoc2hhcGUueCwgc2hhcGUueSwgc2hhcGUud2lkdGgsIHNoYXBlLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmxpbmVXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gZGF0YS5saW5lQWxwaGEgKiB3b3JsZEFscGhhO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJyMnICsgKCcwMDAwMCcgKyAobGluZUNvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVJlY3Qoc2hhcGUueCwgc2hhcGUueSwgc2hhcGUud2lkdGgsIHNoYXBlLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuQ0lSQykge1xuICAgICAgICAgICAgICAgIC8vIFRPRE8gLSBuZWVkIHRvIGJlIFVuZGVmaW5lZCFcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYXJjKHNoYXBlLngsIHNoYXBlLnksIHNoYXBlLnJhZGl1cywgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5maWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBkYXRhLmZpbGxBbHBoYSAqIHdvcmxkQWxwaGE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyMnICsgKCcwMDAwMCcgKyAoZmlsbENvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEubGluZVdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBkYXRhLmxpbmVBbHBoYSAqIHdvcmxkQWxwaGE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnIycgKyAoJzAwMDAwJyArIChsaW5lQ29sb3IgfCAwKS50b1N0cmluZygxNikpLnN1YnN0cigtNik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuRUxJUCkge1xuICAgICAgICAgICAgICAgIC8vIGVsbGlwc2UgY29kZSB0YWtlbiBmcm9tOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzIxNzI3OTgvaG93LXRvLWRyYXctYW4tb3ZhbC1pbi1odG1sNS1jYW52YXNcblxuICAgICAgICAgICAgICAgIHZhciB3ID0gc2hhcGUud2lkdGggKiAyO1xuICAgICAgICAgICAgICAgIHZhciBoID0gc2hhcGUuaGVpZ2h0ICogMjtcblxuICAgICAgICAgICAgICAgIHZhciB4ID0gc2hhcGUueCAtIHcgLyAyO1xuICAgICAgICAgICAgICAgIHZhciB5ID0gc2hhcGUueSAtIGggLyAyO1xuXG4gICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcblxuICAgICAgICAgICAgICAgIHZhciBrYXBwYSA9IDAuNTUyMjg0ODtcbiAgICAgICAgICAgICAgICB2YXIgb3ggPSB3IC8gMiAqIGthcHBhOyAvLyBjb250cm9sIHBvaW50IG9mZnNldCBob3Jpem9udGFsXG4gICAgICAgICAgICAgICAgdmFyIG95ID0gaCAvIDIgKiBrYXBwYTsgLy8gY29udHJvbCBwb2ludCBvZmZzZXQgdmVydGljYWxcbiAgICAgICAgICAgICAgICB2YXIgeGUgPSB4ICsgdzsgLy8geC1lbmRcbiAgICAgICAgICAgICAgICB2YXIgeWUgPSB5ICsgaDsgLy8geS1lbmRcbiAgICAgICAgICAgICAgICB2YXIgeG0gPSB4ICsgdyAvIDI7IC8vIHgtbWlkZGxlXG4gICAgICAgICAgICAgICAgdmFyIHltID0geSArIGggLyAyOyAvLyB5LW1pZGRsZVxuXG4gICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oeCwgeW0pO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyh4LCB5bSAtIG95LCB4bSAtIG94LCB5LCB4bSwgeSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKHhtICsgb3gsIHksIHhlLCB5bSAtIG95LCB4ZSwgeW0pO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyh4ZSwgeW0gKyBveSwgeG0gKyBveCwgeWUsIHhtLCB5ZSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKHhtIC0gb3gsIHllLCB4LCB5bSArIG95LCB4LCB5bSk7XG5cbiAgICAgICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZmlsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gZGF0YS5maWxsQWxwaGEgKiB3b3JsZEFscGhhO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjJyArICgnMDAwMDAnICsgKGZpbGxDb2xvciB8IDApLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmxpbmVXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gZGF0YS5saW5lQWxwaGEgKiB3b3JsZEFscGhhO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJyMnICsgKCcwMDAwMCcgKyAobGluZUNvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLlJSRUMpIHtcbiAgICAgICAgICAgICAgICB2YXIgcnggPSBzaGFwZS54O1xuICAgICAgICAgICAgICAgIHZhciByeSA9IHNoYXBlLnk7XG4gICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gc2hhcGUud2lkdGg7XG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IHNoYXBlLmhlaWdodDtcbiAgICAgICAgICAgICAgICB2YXIgcmFkaXVzID0gc2hhcGUucmFkaXVzO1xuXG4gICAgICAgICAgICAgICAgdmFyIG1heFJhZGl1cyA9IE1hdGgubWluKHdpZHRoLCBoZWlnaHQpIC8gMiB8IDA7XG5cbiAgICAgICAgICAgICAgICByYWRpdXMgPSByYWRpdXMgPiBtYXhSYWRpdXMgPyBtYXhSYWRpdXMgOiByYWRpdXM7XG5cbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHJ4LCByeSArIHJhZGl1cyk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8ocngsIHJ5ICsgaGVpZ2h0IC0gcmFkaXVzKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnF1YWRyYXRpY0N1cnZlVG8ocngsIHJ5ICsgaGVpZ2h0LCByeCArIHJhZGl1cywgcnkgKyBoZWlnaHQpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHJ4ICsgd2lkdGggLSByYWRpdXMsIHJ5ICsgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnF1YWRyYXRpY0N1cnZlVG8ocnggKyB3aWR0aCwgcnkgKyBoZWlnaHQsIHJ4ICsgd2lkdGgsIHJ5ICsgaGVpZ2h0IC0gcmFkaXVzKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhyeCArIHdpZHRoLCByeSArIHJhZGl1cyk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKHJ4ICsgd2lkdGgsIHJ5LCByeCArIHdpZHRoIC0gcmFkaXVzLCByeSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8ocnggKyByYWRpdXMsIHJ5KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnF1YWRyYXRpY0N1cnZlVG8ocngsIHJ5LCByeCwgcnkgKyByYWRpdXMpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5maWxsQ29sb3IgfHwgZGF0YS5maWxsQ29sb3IgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IGRhdGEuZmlsbEFscGhhICogd29ybGRBbHBoYTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnIycgKyAoJzAwMDAwJyArIChmaWxsQ29sb3IgfCAwKS50b1N0cmluZygxNikpLnN1YnN0cigtNik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmxpbmVXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gZGF0YS5saW5lQWxwaGEgKiB3b3JsZEFscGhhO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJyMnICsgKCcwMDAwMCcgKyAobGluZUNvbG9yIHwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSB0aW50IG9mIGEgZ3JhcGhpY3Mgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5HcmFwaGljc30gZ3JhcGhpY3MgLSB0aGUgZ3JhcGhpY3MgdGhhdCB3aWxsIGhhdmUgaXRzIHRpbnQgdXBkYXRlZFxuICAgICAqL1xuXG5cbiAgICBDYW52YXNHcmFwaGljc1JlbmRlcmVyLnByb3RvdHlwZS51cGRhdGVHcmFwaGljc1RpbnQgPSBmdW5jdGlvbiB1cGRhdGVHcmFwaGljc1RpbnQoZ3JhcGhpY3MpIHtcbiAgICAgICAgZ3JhcGhpY3MuX3ByZXZUaW50ID0gZ3JhcGhpY3MudGludDtcblxuICAgICAgICB2YXIgdGludFIgPSAoZ3JhcGhpY3MudGludCA+PiAxNiAmIDB4RkYpIC8gMjU1O1xuICAgICAgICB2YXIgdGludEcgPSAoZ3JhcGhpY3MudGludCA+PiA4ICYgMHhGRikgLyAyNTU7XG4gICAgICAgIHZhciB0aW50QiA9IChncmFwaGljcy50aW50ICYgMHhGRikgLyAyNTU7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBncmFwaGljcy5ncmFwaGljc0RhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gZ3JhcGhpY3MuZ3JhcGhpY3NEYXRhW2ldO1xuXG4gICAgICAgICAgICB2YXIgZmlsbENvbG9yID0gZGF0YS5maWxsQ29sb3IgfCAwO1xuICAgICAgICAgICAgdmFyIGxpbmVDb2xvciA9IGRhdGEubGluZUNvbG9yIHwgMDtcblxuICAgICAgICAgICAgLy8gc3VwZXIgaW5saW5lIGNvcyBpbSBhbiBvcHRpbWl6YXRpb24gTkFaSSA6KVxuICAgICAgICAgICAgZGF0YS5fZmlsbFRpbnQgPSAoKGZpbGxDb2xvciA+PiAxNiAmIDB4RkYpIC8gMjU1ICogdGludFIgKiAyNTUgPDwgMTYpICsgKChmaWxsQ29sb3IgPj4gOCAmIDB4RkYpIC8gMjU1ICogdGludEcgKiAyNTUgPDwgOCkgKyAoZmlsbENvbG9yICYgMHhGRikgLyAyNTUgKiB0aW50QiAqIDI1NTtcblxuICAgICAgICAgICAgZGF0YS5fbGluZVRpbnQgPSAoKGxpbmVDb2xvciA+PiAxNiAmIDB4RkYpIC8gMjU1ICogdGludFIgKiAyNTUgPDwgMTYpICsgKChsaW5lQ29sb3IgPj4gOCAmIDB4RkYpIC8gMjU1ICogdGludEcgKiAyNTUgPDwgOCkgKyAobGluZUNvbG9yICYgMHhGRikgLyAyNTUgKiB0aW50QiAqIDI1NTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIGEgcG9seWdvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludFtdfSBwb2ludHMgLSBUaGUgcG9pbnRzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xvc2UgLSBTaG91bGQgdGhlIHBvbHlnb24gYmUgY2xvc2VkXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgLSBUaGUgcmVuZGVyaW5nIGNvbnRleHQgdG8gdXNlXG4gICAgICovXG5cblxuICAgIENhbnZhc0dyYXBoaWNzUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlclBvbHlnb24gPSBmdW5jdGlvbiByZW5kZXJQb2x5Z29uKHBvaW50cywgY2xvc2UsIGNvbnRleHQpIHtcbiAgICAgICAgY29udGV4dC5tb3ZlVG8ocG9pbnRzWzBdLCBwb2ludHNbMV0pO1xuXG4gICAgICAgIGZvciAodmFyIGogPSAxOyBqIDwgcG9pbnRzLmxlbmd0aCAvIDI7ICsraikge1xuICAgICAgICAgICAgY29udGV4dC5saW5lVG8ocG9pbnRzW2ogKiAyXSwgcG9pbnRzW2ogKiAyICsgMV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNsb3NlKSB7XG4gICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGRlc3Ryb3kgZ3JhcGhpY3Mgb2JqZWN0XG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQ2FudmFzR3JhcGhpY3NSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gQ2FudmFzR3JhcGhpY3NSZW5kZXJlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQ2FudmFzR3JhcGhpY3NSZW5kZXJlcjtcblxuXG5fQ2FudmFzUmVuZGVyZXIyLmRlZmF1bHQucmVnaXN0ZXJQbHVnaW4oJ2dyYXBoaWNzJywgQ2FudmFzR3JhcGhpY3NSZW5kZXJlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYW52YXNHcmFwaGljc1JlbmRlcmVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGJ1aWxkQ2lyY2xlO1xuXG52YXIgX2J1aWxkTGluZSA9IHJlcXVpcmUoJy4vYnVpbGRMaW5lJyk7XG5cbnZhciBfYnVpbGRMaW5lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2J1aWxkTGluZSk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi8uLi9jb25zdCcpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBCdWlsZHMgYSBjaXJjbGUgdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgdG8gZHJhd1xuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YSAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgd2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIHRoaXMgc2hhcGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGFOYXRpdmVMaW5lcyAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgd2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIG5hdGl2ZUxpbmVzXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkQ2lyY2xlKGdyYXBoaWNzRGF0YSwgd2ViR0xEYXRhLCB3ZWJHTERhdGFOYXRpdmVMaW5lcykge1xuICAgIC8vIG5lZWQgdG8gY29udmVydCBwb2ludHMgdG8gYSBuaWNlIHJlZ3VsYXIgZGF0YVxuICAgIHZhciBjaXJjbGVEYXRhID0gZ3JhcGhpY3NEYXRhLnNoYXBlO1xuICAgIHZhciB4ID0gY2lyY2xlRGF0YS54O1xuICAgIHZhciB5ID0gY2lyY2xlRGF0YS55O1xuICAgIHZhciB3aWR0aCA9IHZvaWQgMDtcbiAgICB2YXIgaGVpZ2h0ID0gdm9pZCAwO1xuXG4gICAgLy8gVE9ETyAtIGJpdCBoYWNreT8/XG4gICAgaWYgKGdyYXBoaWNzRGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLkNJUkMpIHtcbiAgICAgICAgd2lkdGggPSBjaXJjbGVEYXRhLnJhZGl1cztcbiAgICAgICAgaGVpZ2h0ID0gY2lyY2xlRGF0YS5yYWRpdXM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgd2lkdGggPSBjaXJjbGVEYXRhLndpZHRoO1xuICAgICAgICBoZWlnaHQgPSBjaXJjbGVEYXRhLmhlaWdodDtcbiAgICB9XG5cbiAgICBpZiAod2lkdGggPT09IDAgfHwgaGVpZ2h0ID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgdG90YWxTZWdzID0gTWF0aC5mbG9vcigzMCAqIE1hdGguc3FydChjaXJjbGVEYXRhLnJhZGl1cykpIHx8IE1hdGguZmxvb3IoMTUgKiBNYXRoLnNxcnQoY2lyY2xlRGF0YS53aWR0aCArIGNpcmNsZURhdGEuaGVpZ2h0KSk7XG5cbiAgICB2YXIgc2VnID0gTWF0aC5QSSAqIDIgLyB0b3RhbFNlZ3M7XG5cbiAgICBpZiAoZ3JhcGhpY3NEYXRhLmZpbGwpIHtcbiAgICAgICAgdmFyIGNvbG9yID0gKDAsIF91dGlscy5oZXgycmdiKShncmFwaGljc0RhdGEuZmlsbENvbG9yKTtcbiAgICAgICAgdmFyIGFscGhhID0gZ3JhcGhpY3NEYXRhLmZpbGxBbHBoYTtcblxuICAgICAgICB2YXIgciA9IGNvbG9yWzBdICogYWxwaGE7XG4gICAgICAgIHZhciBnID0gY29sb3JbMV0gKiBhbHBoYTtcbiAgICAgICAgdmFyIGIgPSBjb2xvclsyXSAqIGFscGhhO1xuXG4gICAgICAgIHZhciB2ZXJ0cyA9IHdlYkdMRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciBpbmRpY2VzID0gd2ViR0xEYXRhLmluZGljZXM7XG5cbiAgICAgICAgdmFyIHZlY1BvcyA9IHZlcnRzLmxlbmd0aCAvIDY7XG5cbiAgICAgICAgaW5kaWNlcy5wdXNoKHZlY1Bvcyk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbFNlZ3MgKyAxOyBpKyspIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2goeCwgeSwgciwgZywgYiwgYWxwaGEpO1xuXG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHggKyBNYXRoLnNpbihzZWcgKiBpKSAqIHdpZHRoLCB5ICsgTWF0aC5jb3Moc2VnICogaSkgKiBoZWlnaHQsIHIsIGcsIGIsIGFscGhhKTtcblxuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHZlY1BvcysrLCB2ZWNQb3MrKyk7XG4gICAgICAgIH1cblxuICAgICAgICBpbmRpY2VzLnB1c2godmVjUG9zIC0gMSk7XG4gICAgfVxuXG4gICAgaWYgKGdyYXBoaWNzRGF0YS5saW5lV2lkdGgpIHtcbiAgICAgICAgdmFyIHRlbXBQb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuXG4gICAgICAgIGdyYXBoaWNzRGF0YS5wb2ludHMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgdG90YWxTZWdzICsgMTsgX2krKykge1xuICAgICAgICAgICAgZ3JhcGhpY3NEYXRhLnBvaW50cy5wdXNoKHggKyBNYXRoLnNpbihzZWcgKiBfaSkgKiB3aWR0aCwgeSArIE1hdGguY29zKHNlZyAqIF9pKSAqIGhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICAoMCwgX2J1aWxkTGluZTIuZGVmYXVsdCkoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKTtcblxuICAgICAgICBncmFwaGljc0RhdGEucG9pbnRzID0gdGVtcFBvaW50cztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1idWlsZENpcmNsZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBidWlsZFJvdW5kZWRSZWN0YW5nbGU7XG5cbnZhciBfZWFyY3V0ID0gcmVxdWlyZSgnZWFyY3V0Jyk7XG5cbnZhciBfZWFyY3V0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2VhcmN1dCk7XG5cbnZhciBfYnVpbGRMaW5lID0gcmVxdWlyZSgnLi9idWlsZExpbmUnKTtcblxudmFyIF9idWlsZExpbmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYnVpbGRMaW5lKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogQnVpbGRzIGEgcm91bmRlZCByZWN0YW5nbGUgdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSB3ZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSB3ZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xuZnVuY3Rpb24gYnVpbGRSb3VuZGVkUmVjdGFuZ2xlKGdyYXBoaWNzRGF0YSwgd2ViR0xEYXRhLCB3ZWJHTERhdGFOYXRpdmVMaW5lcykge1xuICAgIHZhciBycmVjdERhdGEgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gICAgdmFyIHggPSBycmVjdERhdGEueDtcbiAgICB2YXIgeSA9IHJyZWN0RGF0YS55O1xuICAgIHZhciB3aWR0aCA9IHJyZWN0RGF0YS53aWR0aDtcbiAgICB2YXIgaGVpZ2h0ID0gcnJlY3REYXRhLmhlaWdodDtcblxuICAgIHZhciByYWRpdXMgPSBycmVjdERhdGEucmFkaXVzO1xuXG4gICAgdmFyIHJlY1BvaW50cyA9IFtdO1xuXG4gICAgcmVjUG9pbnRzLnB1c2goeCwgeSArIHJhZGl1cyk7XG4gICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCwgeSArIGhlaWdodCAtIHJhZGl1cywgeCwgeSArIGhlaWdodCwgeCArIHJhZGl1cywgeSArIGhlaWdodCwgcmVjUG9pbnRzKTtcbiAgICBxdWFkcmF0aWNCZXppZXJDdXJ2ZSh4ICsgd2lkdGggLSByYWRpdXMsIHkgKyBoZWlnaHQsIHggKyB3aWR0aCwgeSArIGhlaWdodCwgeCArIHdpZHRoLCB5ICsgaGVpZ2h0IC0gcmFkaXVzLCByZWNQb2ludHMpO1xuICAgIHF1YWRyYXRpY0JlemllckN1cnZlKHggKyB3aWR0aCwgeSArIHJhZGl1cywgeCArIHdpZHRoLCB5LCB4ICsgd2lkdGggLSByYWRpdXMsIHksIHJlY1BvaW50cyk7XG4gICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCArIHJhZGl1cywgeSwgeCwgeSwgeCwgeSArIHJhZGl1cyArIDAuMDAwMDAwMDAwMSwgcmVjUG9pbnRzKTtcblxuICAgIC8vIHRoaXMgdGlueSBudW1iZXIgZGVhbHMgd2l0aCB0aGUgaXNzdWUgdGhhdCBvY2N1cnMgd2hlbiBwb2ludHMgb3ZlcmxhcCBhbmQgZWFyY3V0IGZhaWxzIHRvIHRyaWFuZ3VsYXRlIHRoZSBpdGVtLlxuICAgIC8vIFRPRE8gLSBmaXggdGhpcyBwcm9wZXJseSwgdGhpcyBpcyBub3QgdmVyeSBlbGVnYW50Li4gYnV0IGl0IHdvcmtzIGZvciBub3cuXG5cbiAgICBpZiAoZ3JhcGhpY3NEYXRhLmZpbGwpIHtcbiAgICAgICAgdmFyIGNvbG9yID0gKDAsIF91dGlscy5oZXgycmdiKShncmFwaGljc0RhdGEuZmlsbENvbG9yKTtcbiAgICAgICAgdmFyIGFscGhhID0gZ3JhcGhpY3NEYXRhLmZpbGxBbHBoYTtcblxuICAgICAgICB2YXIgciA9IGNvbG9yWzBdICogYWxwaGE7XG4gICAgICAgIHZhciBnID0gY29sb3JbMV0gKiBhbHBoYTtcbiAgICAgICAgdmFyIGIgPSBjb2xvclsyXSAqIGFscGhhO1xuXG4gICAgICAgIHZhciB2ZXJ0cyA9IHdlYkdMRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciBpbmRpY2VzID0gd2ViR0xEYXRhLmluZGljZXM7XG5cbiAgICAgICAgdmFyIHZlY1BvcyA9IHZlcnRzLmxlbmd0aCAvIDY7XG5cbiAgICAgICAgdmFyIHRyaWFuZ2xlcyA9ICgwLCBfZWFyY3V0Mi5kZWZhdWx0KShyZWNQb2ludHMsIG51bGwsIDIpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gdHJpYW5nbGVzLmxlbmd0aDsgaSA8IGo7IGkgKz0gMykge1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpXSArIHZlY1Bvcyk7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2ldICsgdmVjUG9zKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDFdICsgdmVjUG9zKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDJdICsgdmVjUG9zKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDJdICsgdmVjUG9zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2ogPSByZWNQb2ludHMubGVuZ3RoOyBfaSA8IF9qOyBfaSsrKSB7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHJlY1BvaW50c1tfaV0sIHJlY1BvaW50c1srK19pXSwgciwgZywgYiwgYWxwaGEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGdyYXBoaWNzRGF0YS5saW5lV2lkdGgpIHtcbiAgICAgICAgdmFyIHRlbXBQb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuXG4gICAgICAgIGdyYXBoaWNzRGF0YS5wb2ludHMgPSByZWNQb2ludHM7XG5cbiAgICAgICAgKDAsIF9idWlsZExpbmUyLmRlZmF1bHQpKGdyYXBoaWNzRGF0YSwgd2ViR0xEYXRhLCB3ZWJHTERhdGFOYXRpdmVMaW5lcyk7XG5cbiAgICAgICAgZ3JhcGhpY3NEYXRhLnBvaW50cyA9IHRlbXBQb2ludHM7XG4gICAgfVxufVxuXG4vKipcbiAqIENhbGN1bGF0ZSBhIHNpbmdsZSBwb2ludCBmb3IgYSBxdWFkcmF0aWMgYmV6aWVyIGN1cnZlLlxuICogVXRpbGl0eSBmdW5jdGlvbiB1c2VkIGJ5IHF1YWRyYXRpY0JlemllckN1cnZlLlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBuMSAtIGZpcnN0IG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IG4yIC0gc2Vjb25kIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IHBlcmMgLSBwZXJjZW50YWdlXG4gKiBAcmV0dXJuIHtudW1iZXJ9IHRoZSByZXN1bHRcbiAqXG4gKi9cbmZ1bmN0aW9uIGdldFB0KG4xLCBuMiwgcGVyYykge1xuICAgIHZhciBkaWZmID0gbjIgLSBuMTtcblxuICAgIHJldHVybiBuMSArIGRpZmYgKiBwZXJjO1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIHF1YWRyYXRpYyBiZXppZXIgY3VydmUuIChoZWxwZXIgZnVuY3Rpb24uLilcbiAqIEJhc2VkIG9uOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83ODUwOTcvaG93LWRvLWktaW1wbGVtZW50LWEtYmV6aWVyLWN1cnZlLWluLWNcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21YIC0gT3JpZ2luIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWSAtIE9yaWdpbiBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAqIEBwYXJhbSB7bnVtYmVyW119IFtvdXQ9W11dIC0gVGhlIG91dHB1dCBhcnJheSB0byBhZGQgcG9pbnRzIGludG8uIElmIG5vdCBwYXNzZWQsIGEgbmV3IGFycmF5IGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJuIHtudW1iZXJbXX0gYW4gYXJyYXkgb2YgcG9pbnRzXG4gKi9cbmZ1bmN0aW9uIHF1YWRyYXRpY0JlemllckN1cnZlKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIHRvWCwgdG9ZKSB7XG4gICAgdmFyIG91dCA9IGFyZ3VtZW50cy5sZW5ndGggPiA2ICYmIGFyZ3VtZW50c1s2XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzZdIDogW107XG5cbiAgICB2YXIgbiA9IDIwO1xuICAgIHZhciBwb2ludHMgPSBvdXQ7XG5cbiAgICB2YXIgeGEgPSAwO1xuICAgIHZhciB5YSA9IDA7XG4gICAgdmFyIHhiID0gMDtcbiAgICB2YXIgeWIgPSAwO1xuICAgIHZhciB4ID0gMDtcbiAgICB2YXIgeSA9IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgaiA9IDA7IGkgPD0gbjsgKytpKSB7XG4gICAgICAgIGogPSBpIC8gbjtcblxuICAgICAgICAvLyBUaGUgR3JlZW4gTGluZVxuICAgICAgICB4YSA9IGdldFB0KGZyb21YLCBjcFgsIGopO1xuICAgICAgICB5YSA9IGdldFB0KGZyb21ZLCBjcFksIGopO1xuICAgICAgICB4YiA9IGdldFB0KGNwWCwgdG9YLCBqKTtcbiAgICAgICAgeWIgPSBnZXRQdChjcFksIHRvWSwgaik7XG5cbiAgICAgICAgLy8gVGhlIEJsYWNrIERvdFxuICAgICAgICB4ID0gZ2V0UHQoeGEsIHhiLCBqKTtcbiAgICAgICAgeSA9IGdldFB0KHlhLCB5Yiwgaik7XG5cbiAgICAgICAgcG9pbnRzLnB1c2goeCwgeSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvaW50cztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1aWxkUm91bmRlZFJlY3RhbmdsZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBidWlsZFJlY3RhbmdsZTtcblxudmFyIF9idWlsZExpbmUgPSByZXF1aXJlKCcuL2J1aWxkTGluZScpO1xuXG52YXIgX2J1aWxkTGluZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idWlsZExpbmUpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vLi4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBCdWlsZHMgYSByZWN0YW5nbGUgdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSB3ZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSB3ZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xuZnVuY3Rpb24gYnVpbGRSZWN0YW5nbGUoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKSB7XG4gICAgLy8gLS0tIC8vXG4gICAgLy8gbmVlZCB0byBjb252ZXJ0IHBvaW50cyB0byBhIG5pY2UgcmVndWxhciBkYXRhXG4gICAgLy9cbiAgICB2YXIgcmVjdERhdGEgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gICAgdmFyIHggPSByZWN0RGF0YS54O1xuICAgIHZhciB5ID0gcmVjdERhdGEueTtcbiAgICB2YXIgd2lkdGggPSByZWN0RGF0YS53aWR0aDtcbiAgICB2YXIgaGVpZ2h0ID0gcmVjdERhdGEuaGVpZ2h0O1xuXG4gICAgaWYgKGdyYXBoaWNzRGF0YS5maWxsKSB7XG4gICAgICAgIHZhciBjb2xvciA9ICgwLCBfdXRpbHMuaGV4MnJnYikoZ3JhcGhpY3NEYXRhLmZpbGxDb2xvcik7XG4gICAgICAgIHZhciBhbHBoYSA9IGdyYXBoaWNzRGF0YS5maWxsQWxwaGE7XG5cbiAgICAgICAgdmFyIHIgPSBjb2xvclswXSAqIGFscGhhO1xuICAgICAgICB2YXIgZyA9IGNvbG9yWzFdICogYWxwaGE7XG4gICAgICAgIHZhciBiID0gY29sb3JbMl0gKiBhbHBoYTtcblxuICAgICAgICB2YXIgdmVydHMgPSB3ZWJHTERhdGEucG9pbnRzO1xuICAgICAgICB2YXIgaW5kaWNlcyA9IHdlYkdMRGF0YS5pbmRpY2VzO1xuXG4gICAgICAgIHZhciB2ZXJ0UG9zID0gdmVydHMubGVuZ3RoIC8gNjtcblxuICAgICAgICAvLyBzdGFydFxuICAgICAgICB2ZXJ0cy5wdXNoKHgsIHkpO1xuICAgICAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcblxuICAgICAgICB2ZXJ0cy5wdXNoKHggKyB3aWR0aCwgeSk7XG4gICAgICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuXG4gICAgICAgIHZlcnRzLnB1c2goeCwgeSArIGhlaWdodCk7XG4gICAgICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuXG4gICAgICAgIHZlcnRzLnB1c2goeCArIHdpZHRoLCB5ICsgaGVpZ2h0KTtcbiAgICAgICAgdmVydHMucHVzaChyLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgLy8gaW5zZXJ0IDIgZGVhZCB0cmlhbmdsZXMuLlxuICAgICAgICBpbmRpY2VzLnB1c2godmVydFBvcywgdmVydFBvcywgdmVydFBvcyArIDEsIHZlcnRQb3MgKyAyLCB2ZXJ0UG9zICsgMywgdmVydFBvcyArIDMpO1xuICAgIH1cblxuICAgIGlmIChncmFwaGljc0RhdGEubGluZVdpZHRoKSB7XG4gICAgICAgIHZhciB0ZW1wUG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcblxuICAgICAgICBncmFwaGljc0RhdGEucG9pbnRzID0gW3gsIHksIHggKyB3aWR0aCwgeSwgeCArIHdpZHRoLCB5ICsgaGVpZ2h0LCB4LCB5ICsgaGVpZ2h0LCB4LCB5XTtcblxuICAgICAgICAoMCwgX2J1aWxkTGluZTIuZGVmYXVsdCkoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKTtcblxuICAgICAgICBncmFwaGljc0RhdGEucG9pbnRzID0gdGVtcFBvaW50cztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1idWlsZFJlY3RhbmdsZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBidWlsZFBvbHk7XG5cbnZhciBfYnVpbGRMaW5lID0gcmVxdWlyZSgnLi9idWlsZExpbmUnKTtcblxudmFyIF9idWlsZExpbmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYnVpbGRMaW5lKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uLy4uLy4uL3V0aWxzJyk7XG5cbnZhciBfZWFyY3V0ID0gcmVxdWlyZSgnZWFyY3V0Jyk7XG5cbnZhciBfZWFyY3V0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2VhcmN1dCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogQnVpbGRzIGEgcG9seWdvbiB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhTmF0aXZlTGluZXMgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBuYXRpdmVMaW5lc1xuICovXG5mdW5jdGlvbiBidWlsZFBvbHkoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKSB7XG4gICAgZ3JhcGhpY3NEYXRhLnBvaW50cyA9IGdyYXBoaWNzRGF0YS5zaGFwZS5wb2ludHMuc2xpY2UoKTtcblxuICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuXG4gICAgaWYgKGdyYXBoaWNzRGF0YS5maWxsICYmIHBvaW50cy5sZW5ndGggPj0gNikge1xuICAgICAgICB2YXIgaG9sZUFycmF5ID0gW107XG4gICAgICAgIC8vIFByb2Nlc3MgaG9sZXMuLlxuICAgICAgICB2YXIgaG9sZXMgPSBncmFwaGljc0RhdGEuaG9sZXM7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBob2xlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGhvbGUgPSBob2xlc1tpXTtcblxuICAgICAgICAgICAgaG9sZUFycmF5LnB1c2gocG9pbnRzLmxlbmd0aCAvIDIpO1xuXG4gICAgICAgICAgICBwb2ludHMgPSBwb2ludHMuY29uY2F0KGhvbGUucG9pbnRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCBmaXJzdCBhbmQgbGFzdCBwb2ludC4uIGZpZ3VyZSBvdXQgdGhlIG1pZGRsZSFcbiAgICAgICAgdmFyIHZlcnRzID0gd2ViR0xEYXRhLnBvaW50cztcbiAgICAgICAgdmFyIGluZGljZXMgPSB3ZWJHTERhdGEuaW5kaWNlcztcblxuICAgICAgICB2YXIgbGVuZ3RoID0gcG9pbnRzLmxlbmd0aCAvIDI7XG5cbiAgICAgICAgLy8gc29ydCBjb2xvclxuICAgICAgICB2YXIgY29sb3IgPSAoMCwgX3V0aWxzLmhleDJyZ2IpKGdyYXBoaWNzRGF0YS5maWxsQ29sb3IpO1xuICAgICAgICB2YXIgYWxwaGEgPSBncmFwaGljc0RhdGEuZmlsbEFscGhhO1xuICAgICAgICB2YXIgciA9IGNvbG9yWzBdICogYWxwaGE7XG4gICAgICAgIHZhciBnID0gY29sb3JbMV0gKiBhbHBoYTtcbiAgICAgICAgdmFyIGIgPSBjb2xvclsyXSAqIGFscGhhO1xuXG4gICAgICAgIHZhciB0cmlhbmdsZXMgPSAoMCwgX2VhcmN1dDIuZGVmYXVsdCkocG9pbnRzLCBob2xlQXJyYXksIDIpO1xuXG4gICAgICAgIGlmICghdHJpYW5nbGVzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdmVydFBvcyA9IHZlcnRzLmxlbmd0aCAvIDY7XG5cbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHRyaWFuZ2xlcy5sZW5ndGg7IF9pICs9IDMpIHtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbX2ldICsgdmVydFBvcyk7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW19pXSArIHZlcnRQb3MpO1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tfaSArIDFdICsgdmVydFBvcyk7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW19pICsgMl0gKyB2ZXJ0UG9zKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbX2kgKyAyXSArIHZlcnRQb3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgbGVuZ3RoOyBfaTIrKykge1xuICAgICAgICAgICAgdmVydHMucHVzaChwb2ludHNbX2kyICogMl0sIHBvaW50c1tfaTIgKiAyICsgMV0sIHIsIGcsIGIsIGFscGhhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChncmFwaGljc0RhdGEubGluZVdpZHRoID4gMCkge1xuICAgICAgICAoMCwgX2J1aWxkTGluZTIuZGVmYXVsdCkoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1idWlsZFBvbHkuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1NoYWRlcjIgPSByZXF1aXJlKCcuLi8uLi8uLi9TaGFkZXInKTtcblxudmFyIF9TaGFkZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2hhZGVyMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBUaGlzIHNoYWRlciBpcyB1c2VkIHRvIGRyYXcgc2ltcGxlIHByaW1pdGl2ZSBzaGFwZXMgZm9yIHtAbGluayBQSVhJLkdyYXBoaWNzfS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLlNoYWRlclxuICovXG52YXIgUHJpbWl0aXZlU2hhZGVyID0gZnVuY3Rpb24gKF9TaGFkZXIpIHtcbiAgICBfaW5oZXJpdHMoUHJpbWl0aXZlU2hhZGVyLCBfU2hhZGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFRoZSB3ZWJnbCBzaGFkZXIgbWFuYWdlciB0aGlzIHNoYWRlciB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUHJpbWl0aXZlU2hhZGVyKGdsKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQcmltaXRpdmVTaGFkZXIpO1xuXG4gICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfU2hhZGVyLmNhbGwodGhpcywgZ2wsXG4gICAgICAgIC8vIHZlcnRleCBzaGFkZXJcbiAgICAgICAgWydhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247JywgJ2F0dHJpYnV0ZSB2ZWM0IGFDb2xvcjsnLCAndW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4OycsICd1bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDsnLCAndW5pZm9ybSBmbG9hdCBhbHBoYTsnLCAndW5pZm9ybSB2ZWMzIHRpbnQ7JywgJ3ZhcnlpbmcgdmVjNCB2Q29sb3I7JywgJ3ZvaWQgbWFpbih2b2lkKXsnLCAnICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTsnLCAnICAgdkNvbG9yID0gYUNvbG9yICogdmVjNCh0aW50ICogYWxwaGEsIGFscGhhKTsnLCAnfSddLmpvaW4oJ1xcbicpLFxuICAgICAgICAvLyBmcmFnbWVudCBzaGFkZXJcbiAgICAgICAgWyd2YXJ5aW5nIHZlYzQgdkNvbG9yOycsICd2b2lkIG1haW4odm9pZCl7JywgJyAgIGdsX0ZyYWdDb2xvciA9IHZDb2xvcjsnLCAnfSddLmpvaW4oJ1xcbicpKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFByaW1pdGl2ZVNoYWRlcjtcbn0oX1NoYWRlcjMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFByaW1pdGl2ZVNoYWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVByaW1pdGl2ZVNoYWRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfcGl4aUdsQ29yZSA9IHJlcXVpcmUoJ3BpeGktZ2wtY29yZScpO1xuXG52YXIgX3BpeGlHbENvcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGl4aUdsQ29yZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQW4gb2JqZWN0IGNvbnRhaW5pbmcgV2ViR0wgc3BlY2lmaWMgcHJvcGVydGllcyB0byBiZSB1c2VkIGJ5IHRoZSBXZWJHTCByZW5kZXJlclxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBXZWJHTEdyYXBoaWNzRGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFRoZSBjdXJyZW50IFdlYkdMIGRyYXdpbmcgY29udGV4dFxuICAgKiBAcGFyYW0ge1BJWEkuU2hhZGVyfSBzaGFkZXIgLSBUaGUgc2hhZGVyXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBhdHRyaWJzU3RhdGUgLSBUaGUgc3RhdGUgZm9yIHRoZSBWQU9cbiAgICovXG4gIGZ1bmN0aW9uIFdlYkdMR3JhcGhpY3NEYXRhKGdsLCBzaGFkZXIsIGF0dHJpYnNTdGF0ZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBXZWJHTEdyYXBoaWNzRGF0YSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBXZWJHTCBkcmF3aW5nIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAgICAgKi9cbiAgICB0aGlzLmdsID0gZ2w7XG5cbiAgICAvLyBUT0RPIGRvZXMgdGhpcyBuZWVkIHRvIGJlIHNwbGl0IGJlZm9yZSB1cGxvYWRpbmc/P1xuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIGNvbG9yIGNvbXBvbmVudHMgKHIsZyxiKVxuICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAqL1xuICAgIHRoaXMuY29sb3IgPSBbMCwgMCwgMF07IC8vIGNvbG9yIHNwbGl0IVxuXG4gICAgLyoqXG4gICAgICogQW4gYXJyYXkgb2YgcG9pbnRzIHRvIGRyYXdcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50W119XG4gICAgICovXG4gICAgdGhpcy5wb2ludHMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBpbmRpY2VzIG9mIHRoZSB2ZXJ0aWNlc1xuICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAqL1xuICAgIHRoaXMuaW5kaWNlcyA9IFtdO1xuICAgIC8qKlxuICAgICAqIFRoZSBtYWluIGJ1ZmZlclxuICAgICAqIEBtZW1iZXIge1dlYkdMQnVmZmVyfVxuICAgICAqL1xuICAgIHRoaXMuYnVmZmVyID0gX3BpeGlHbENvcmUyLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlVmVydGV4QnVmZmVyKGdsKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBpbmRleCBidWZmZXJcbiAgICAgKiBAbWVtYmVyIHtXZWJHTEJ1ZmZlcn1cbiAgICAgKi9cbiAgICB0aGlzLmluZGV4QnVmZmVyID0gX3BpeGlHbENvcmUyLmRlZmF1bHQuR0xCdWZmZXIuY3JlYXRlSW5kZXhCdWZmZXIoZ2wpO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGlzIGdyYXBoaWNzIGlzIGRpcnR5IG9yIG5vdFxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5kaXJ0eSA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoaXMgZ3JhcGhpY3MgaXMgbmF0aXZlTGluZXMgb3Igbm90XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLm5hdGl2ZUxpbmVzID0gZmFsc2U7XG5cbiAgICB0aGlzLmdsUG9pbnRzID0gbnVsbDtcbiAgICB0aGlzLmdsSW5kaWNlcyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuU2hhZGVyfVxuICAgICAqL1xuICAgIHRoaXMuc2hhZGVyID0gc2hhZGVyO1xuXG4gICAgdGhpcy52YW8gPSBuZXcgX3BpeGlHbENvcmUyLmRlZmF1bHQuVmVydGV4QXJyYXlPYmplY3QoZ2wsIGF0dHJpYnNTdGF0ZSkuYWRkSW5kZXgodGhpcy5pbmRleEJ1ZmZlcikuYWRkQXR0cmlidXRlKHRoaXMuYnVmZmVyLCBzaGFkZXIuYXR0cmlidXRlcy5hVmVydGV4UG9zaXRpb24sIGdsLkZMT0FULCBmYWxzZSwgNCAqIDYsIDApLmFkZEF0dHJpYnV0ZSh0aGlzLmJ1ZmZlciwgc2hhZGVyLmF0dHJpYnV0ZXMuYUNvbG9yLCBnbC5GTE9BVCwgZmFsc2UsIDQgKiA2LCAyICogNCk7XG4gIH1cblxuICAvKipcbiAgICogUmVzZXRzIHRoZSB2ZXJ0aWNlcyBhbmQgdGhlIGluZGljZXNcbiAgICovXG5cblxuICBXZWJHTEdyYXBoaWNzRGF0YS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCgpIHtcbiAgICB0aGlzLnBvaW50cy5sZW5ndGggPSAwO1xuICAgIHRoaXMuaW5kaWNlcy5sZW5ndGggPSAwO1xuICB9O1xuXG4gIC8qKlxuICAgKiBCaW5kcyB0aGUgYnVmZmVycyBhbmQgdXBsb2FkcyB0aGUgZGF0YVxuICAgKi9cblxuXG4gIFdlYkdMR3JhcGhpY3NEYXRhLnByb3RvdHlwZS51cGxvYWQgPSBmdW5jdGlvbiB1cGxvYWQoKSB7XG4gICAgdGhpcy5nbFBvaW50cyA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy5wb2ludHMpO1xuICAgIHRoaXMuYnVmZmVyLnVwbG9hZCh0aGlzLmdsUG9pbnRzKTtcblxuICAgIHRoaXMuZ2xJbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KHRoaXMuaW5kaWNlcyk7XG4gICAgdGhpcy5pbmRleEJ1ZmZlci51cGxvYWQodGhpcy5nbEluZGljZXMpO1xuXG4gICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBFbXB0aWVzIGFsbCB0aGUgZGF0YVxuICAgKi9cblxuXG4gIFdlYkdMR3JhcGhpY3NEYXRhLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICB0aGlzLmNvbG9yID0gbnVsbDtcbiAgICB0aGlzLnBvaW50cyA9IG51bGw7XG4gICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcblxuICAgIHRoaXMudmFvLmRlc3Ryb3koKTtcbiAgICB0aGlzLmJ1ZmZlci5kZXN0cm95KCk7XG4gICAgdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCk7XG5cbiAgICB0aGlzLmdsID0gbnVsbDtcblxuICAgIHRoaXMuYnVmZmVyID0gbnVsbDtcbiAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcblxuICAgIHRoaXMuZ2xQb2ludHMgPSBudWxsO1xuICAgIHRoaXMuZ2xJbmRpY2VzID0gbnVsbDtcbiAgfTtcblxuICByZXR1cm4gV2ViR0xHcmFwaGljc0RhdGE7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFdlYkdMR3JhcGhpY3NEYXRhO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9V2ViR0xHcmFwaGljc0RhdGEuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMnKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvbnN0Jyk7XG5cbnZhciBfT2JqZWN0UmVuZGVyZXIyID0gcmVxdWlyZSgnLi4vLi4vcmVuZGVyZXJzL3dlYmdsL3V0aWxzL09iamVjdFJlbmRlcmVyJyk7XG5cbnZhciBfT2JqZWN0UmVuZGVyZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT2JqZWN0UmVuZGVyZXIyKTtcblxudmFyIF9XZWJHTFJlbmRlcmVyID0gcmVxdWlyZSgnLi4vLi4vcmVuZGVyZXJzL3dlYmdsL1dlYkdMUmVuZGVyZXInKTtcblxudmFyIF9XZWJHTFJlbmRlcmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYkdMUmVuZGVyZXIpO1xuXG52YXIgX1dlYkdMR3JhcGhpY3NEYXRhID0gcmVxdWlyZSgnLi9XZWJHTEdyYXBoaWNzRGF0YScpO1xuXG52YXIgX1dlYkdMR3JhcGhpY3NEYXRhMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYkdMR3JhcGhpY3NEYXRhKTtcblxudmFyIF9QcmltaXRpdmVTaGFkZXIgPSByZXF1aXJlKCcuL3NoYWRlcnMvUHJpbWl0aXZlU2hhZGVyJyk7XG5cbnZhciBfUHJpbWl0aXZlU2hhZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1ByaW1pdGl2ZVNoYWRlcik7XG5cbnZhciBfYnVpbGRQb2x5ID0gcmVxdWlyZSgnLi91dGlscy9idWlsZFBvbHknKTtcblxudmFyIF9idWlsZFBvbHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYnVpbGRQb2x5KTtcblxudmFyIF9idWlsZFJlY3RhbmdsZSA9IHJlcXVpcmUoJy4vdXRpbHMvYnVpbGRSZWN0YW5nbGUnKTtcblxudmFyIF9idWlsZFJlY3RhbmdsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idWlsZFJlY3RhbmdsZSk7XG5cbnZhciBfYnVpbGRSb3VuZGVkUmVjdGFuZ2xlID0gcmVxdWlyZSgnLi91dGlscy9idWlsZFJvdW5kZWRSZWN0YW5nbGUnKTtcblxudmFyIF9idWlsZFJvdW5kZWRSZWN0YW5nbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYnVpbGRSb3VuZGVkUmVjdGFuZ2xlKTtcblxudmFyIF9idWlsZENpcmNsZSA9IHJlcXVpcmUoJy4vdXRpbHMvYnVpbGRDaXJjbGUnKTtcblxudmFyIF9idWlsZENpcmNsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idWlsZENpcmNsZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBSZW5kZXJzIHRoZSBncmFwaGljcyBvYmplY3QuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5PYmplY3RSZW5kZXJlclxuICovXG52YXIgR3JhcGhpY3NSZW5kZXJlciA9IGZ1bmN0aW9uIChfT2JqZWN0UmVuZGVyZXIpIHtcbiAgICBfaW5oZXJpdHMoR3JhcGhpY3NSZW5kZXJlciwgX09iamVjdFJlbmRlcmVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIG9iamVjdCByZW5kZXJlciB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gR3JhcGhpY3NSZW5kZXJlcihyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR3JhcGhpY3NSZW5kZXJlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX09iamVjdFJlbmRlcmVyLmNhbGwodGhpcywgcmVuZGVyZXIpKTtcblxuICAgICAgICBfdGhpcy5ncmFwaGljc0RhdGFQb29sID0gW107XG5cbiAgICAgICAgX3RoaXMucHJpbWl0aXZlU2hhZGVyID0gbnVsbDtcblxuICAgICAgICBfdGhpcy5nbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgIC8vIGVhc3kgYWNjZXNzIVxuICAgICAgICBfdGhpcy5DT05URVhUX1VJRCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGVyZSBpcyBhIFdlYkdMIGNvbnRleHQgY2hhbmdlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzUmVuZGVyZXIucHJvdG90eXBlLm9uQ29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIG9uQ29udGV4dENoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5nbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIHRoaXMuQ09OVEVYVF9VSUQgPSB0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEO1xuICAgICAgICB0aGlzLnByaW1pdGl2ZVNoYWRlciA9IG5ldyBfUHJpbWl0aXZlU2hhZGVyMi5kZWZhdWx0KHRoaXMuZ2wpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHJlbmRlcmVyLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICBfT2JqZWN0UmVuZGVyZXIzLmRlZmF1bHQucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGhpY3NEYXRhUG9vbC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdGhpcy5ncmFwaGljc0RhdGFQb29sW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhUG9vbCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgYSBncmFwaGljcyBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3N9IGdyYXBoaWNzIC0gVGhlIGdyYXBoaWNzIG9iamVjdCB0byByZW5kZXIuXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcihncmFwaGljcykge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcblxuICAgICAgICB2YXIgd2ViR0xEYXRhID0gdm9pZCAwO1xuICAgICAgICB2YXIgd2ViR0wgPSBncmFwaGljcy5fd2ViR0xbdGhpcy5DT05URVhUX1VJRF07XG5cbiAgICAgICAgaWYgKCF3ZWJHTCB8fCBncmFwaGljcy5kaXJ0eSAhPT0gd2ViR0wuZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlR3JhcGhpY3MoZ3JhcGhpY3MpO1xuXG4gICAgICAgICAgICB3ZWJHTCA9IGdyYXBoaWNzLl93ZWJHTFt0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoaXMgIGNvdWxkIGJlIHNwZWVkZWQgdXAgZm9yIHN1cmUhXG4gICAgICAgIHZhciBzaGFkZXIgPSB0aGlzLnByaW1pdGl2ZVNoYWRlcjtcblxuICAgICAgICByZW5kZXJlci5iaW5kU2hhZGVyKHNoYWRlcik7XG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldEJsZW5kTW9kZShncmFwaGljcy5ibGVuZE1vZGUpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBuID0gd2ViR0wuZGF0YS5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHdlYkdMRGF0YSA9IHdlYkdMLmRhdGFbaV07XG4gICAgICAgICAgICB2YXIgc2hhZGVyVGVtcCA9IHdlYkdMRGF0YS5zaGFkZXI7XG5cbiAgICAgICAgICAgIHJlbmRlcmVyLmJpbmRTaGFkZXIoc2hhZGVyVGVtcCk7XG4gICAgICAgICAgICBzaGFkZXJUZW1wLnVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gZ3JhcGhpY3MudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgICAgICBzaGFkZXJUZW1wLnVuaWZvcm1zLnRpbnQgPSAoMCwgX3V0aWxzLmhleDJyZ2IpKGdyYXBoaWNzLnRpbnQpO1xuICAgICAgICAgICAgc2hhZGVyVGVtcC51bmlmb3Jtcy5hbHBoYSA9IGdyYXBoaWNzLndvcmxkQWxwaGE7XG5cbiAgICAgICAgICAgIHJlbmRlcmVyLmJpbmRWYW8od2ViR0xEYXRhLnZhbyk7XG5cbiAgICAgICAgICAgIGlmICh3ZWJHTERhdGEubmF0aXZlTGluZXMpIHtcbiAgICAgICAgICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLkxJTkVTLCAwLCB3ZWJHTERhdGEucG9pbnRzLmxlbmd0aCAvIDYpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB3ZWJHTERhdGEudmFvLmRyYXcoZ2wuVFJJQU5HTEVfU1RSSVAsIHdlYkdMRGF0YS5pbmRpY2VzLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgZ3JhcGhpY3Mgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5HcmFwaGljc30gZ3JhcGhpY3MgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IHRvIHVwZGF0ZVxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljc1JlbmRlcmVyLnByb3RvdHlwZS51cGRhdGVHcmFwaGljcyA9IGZ1bmN0aW9uIHVwZGF0ZUdyYXBoaWNzKGdyYXBoaWNzKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgLy8gZ2V0IHRoZSBjb250ZXh0cyBncmFwaGljcyBvYmplY3RcbiAgICAgICAgdmFyIHdlYkdMID0gZ3JhcGhpY3MuX3dlYkdMW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIC8vIGlmIHRoZSBncmFwaGljcyBvYmplY3QgZG9lcyBub3QgZXhpc3QgaW4gdGhlIHdlYkdMIGNvbnRleHQgdGltZSB0byBjcmVhdGUgaXQhXG4gICAgICAgIGlmICghd2ViR0wpIHtcbiAgICAgICAgICAgIHdlYkdMID0gZ3JhcGhpY3MuX3dlYkdMW3RoaXMuQ09OVEVYVF9VSURdID0geyBsYXN0SW5kZXg6IDAsIGRhdGE6IFtdLCBnbDogZ2wsIGNsZWFyRGlydHk6IC0xLCBkaXJ0eTogLTEgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZsYWcgdGhlIGdyYXBoaWNzIGFzIG5vdCBkaXJ0eSBhcyB3ZSBhcmUgYWJvdXQgdG8gdXBkYXRlIGl0Li4uXG4gICAgICAgIHdlYkdMLmRpcnR5ID0gZ3JhcGhpY3MuZGlydHk7XG5cbiAgICAgICAgLy8gaWYgdGhlIHVzZXIgY2xlYXJlZCB0aGUgZ3JhcGhpY3Mgb2JqZWN0IHdlIHdpbGwgbmVlZCB0byBjbGVhciBldmVyeSBvYmplY3RcbiAgICAgICAgaWYgKGdyYXBoaWNzLmNsZWFyRGlydHkgIT09IHdlYkdMLmNsZWFyRGlydHkpIHtcbiAgICAgICAgICAgIHdlYkdMLmNsZWFyRGlydHkgPSBncmFwaGljcy5jbGVhckRpcnR5O1xuXG4gICAgICAgICAgICAvLyBsb29wIHRocm91Z2ggYW5kIHJldHVybiBhbGwgdGhlIHdlYkdMRGF0YXMgdG8gdGhlIG9iamVjdCBwb29sIHNvIHRoYW4gY2FuIGJlIHJldXNlZCBsYXRlciBvblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3ZWJHTC5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ncmFwaGljc0RhdGFQb29sLnB1c2god2ViR0wuZGF0YVtpXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGNsZWFyIHRoZSBhcnJheSBhbmQgcmVzZXQgdGhlIGluZGV4Li5cbiAgICAgICAgICAgIHdlYkdMLmRhdGEubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIHdlYkdMLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgd2ViR0xEYXRhID0gdm9pZCAwO1xuICAgICAgICB2YXIgd2ViR0xEYXRhTmF0aXZlTGluZXMgPSB2b2lkIDA7XG5cbiAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHRoZSBncmFwaGljcyBkYXRhcyBhbmQgY29uc3RydWN0IGVhY2ggb25lLi5cbiAgICAgICAgLy8gaWYgdGhlIG9iamVjdCBpcyBhIGNvbXBsZXggZmlsbCB0aGVuIHRoZSBuZXcgc3RlbmNpbCBidWZmZXIgdGVjaG5pcXVlIHdpbGwgYmUgdXNlZFxuICAgICAgICAvLyBvdGhlciB3aXNlIGdyYXBoaWNzIG9iamVjdHMgd2lsbCBiZSBwdXNoZWQgaW50byBhIGJhdGNoLi5cbiAgICAgICAgZm9yICh2YXIgX2kgPSB3ZWJHTC5sYXN0SW5kZXg7IF9pIDwgZ3JhcGhpY3MuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBncmFwaGljcy5ncmFwaGljc0RhdGFbX2ldO1xuXG4gICAgICAgICAgICAvLyBUT0RPIC0gdGhpcyBjYW4gYmUgc2ltcGxpZmllZFxuICAgICAgICAgICAgd2ViR0xEYXRhID0gdGhpcy5nZXRXZWJHTERhdGEod2ViR0wsIDApO1xuXG4gICAgICAgICAgICBpZiAoZGF0YS5uYXRpdmVMaW5lcyAmJiBkYXRhLmxpbmVXaWR0aCkge1xuICAgICAgICAgICAgICAgIHdlYkdMRGF0YU5hdGl2ZUxpbmVzID0gdGhpcy5nZXRXZWJHTERhdGEod2ViR0wsIDAsIHRydWUpO1xuICAgICAgICAgICAgICAgIHdlYkdMLmxhc3RJbmRleCsrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLlBPTFkpIHtcbiAgICAgICAgICAgICAgICAoMCwgX2J1aWxkUG9seTIuZGVmYXVsdCkoZGF0YSwgd2ViR0xEYXRhLCB3ZWJHTERhdGFOYXRpdmVMaW5lcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLlJFQ1QpIHtcbiAgICAgICAgICAgICAgICAoMCwgX2J1aWxkUmVjdGFuZ2xlMi5kZWZhdWx0KShkYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLkNJUkMgfHwgZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLkVMSVApIHtcbiAgICAgICAgICAgICAgICAoMCwgX2J1aWxkQ2lyY2xlMi5kZWZhdWx0KShkYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLlJSRUMpIHtcbiAgICAgICAgICAgICAgICAoMCwgX2J1aWxkUm91bmRlZFJlY3RhbmdsZTIuZGVmYXVsdCkoZGF0YSwgd2ViR0xEYXRhLCB3ZWJHTERhdGFOYXRpdmVMaW5lcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHdlYkdMLmxhc3RJbmRleCsrO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5iaW5kVmFvKG51bGwpO1xuXG4gICAgICAgIC8vIHVwbG9hZCBhbGwgdGhlIGRpcnR5IGRhdGEuLi5cbiAgICAgICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgd2ViR0wuZGF0YS5sZW5ndGg7IF9pMisrKSB7XG4gICAgICAgICAgICB3ZWJHTERhdGEgPSB3ZWJHTC5kYXRhW19pMl07XG5cbiAgICAgICAgICAgIGlmICh3ZWJHTERhdGEuZGlydHkpIHtcbiAgICAgICAgICAgICAgICB3ZWJHTERhdGEudXBsb2FkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIHRoZSBjdXJyZW50IFdlYkdMIGRyYXdpbmcgY29udGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0eXBlIC0gVE9ETyBAQWx2aW5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbmF0aXZlTGluZXMgLSBpbmRpY2F0ZSB3aGV0aGVyIHRoZSB3ZWJHTERhdGEgdXNlIGZvciBuYXRpdmVMaW5lcy5cbiAgICAgKiBAcmV0dXJuIHsqfSBUT0RPXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzUmVuZGVyZXIucHJvdG90eXBlLmdldFdlYkdMRGF0YSA9IGZ1bmN0aW9uIGdldFdlYkdMRGF0YShnbCwgdHlwZSwgbmF0aXZlTGluZXMpIHtcbiAgICAgICAgdmFyIHdlYkdMRGF0YSA9IGdsLmRhdGFbZ2wuZGF0YS5sZW5ndGggLSAxXTtcblxuICAgICAgICBpZiAoIXdlYkdMRGF0YSB8fCB3ZWJHTERhdGEubmF0aXZlTGluZXMgIT09IG5hdGl2ZUxpbmVzIHx8IHdlYkdMRGF0YS5wb2ludHMubGVuZ3RoID4gMzIwMDAwKSB7XG4gICAgICAgICAgICB3ZWJHTERhdGEgPSB0aGlzLmdyYXBoaWNzRGF0YVBvb2wucG9wKCkgfHwgbmV3IF9XZWJHTEdyYXBoaWNzRGF0YTIuZGVmYXVsdCh0aGlzLnJlbmRlcmVyLmdsLCB0aGlzLnByaW1pdGl2ZVNoYWRlciwgdGhpcy5yZW5kZXJlci5zdGF0ZS5hdHRyaWJzU3RhdGUpO1xuICAgICAgICAgICAgd2ViR0xEYXRhLm5hdGl2ZUxpbmVzID0gbmF0aXZlTGluZXM7XG4gICAgICAgICAgICB3ZWJHTERhdGEucmVzZXQodHlwZSk7XG4gICAgICAgICAgICBnbC5kYXRhLnB1c2god2ViR0xEYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdlYkdMRGF0YS5kaXJ0eSA9IHRydWU7XG5cbiAgICAgICAgcmV0dXJuIHdlYkdMRGF0YTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEdyYXBoaWNzUmVuZGVyZXI7XG59KF9PYmplY3RSZW5kZXJlcjMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEdyYXBoaWNzUmVuZGVyZXI7XG5cblxuX1dlYkdMUmVuZGVyZXIyLmRlZmF1bHQucmVnaXN0ZXJQbHVnaW4oJ2dyYXBoaWNzJywgR3JhcGhpY3NSZW5kZXJlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HcmFwaGljc1JlbmRlcmVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gYmV6aWVyQ3VydmVUbztcbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBwb2ludHMgZm9yIGEgYmV6aWVyIGN1cnZlIGFuZCB0aGVuIGRyYXdzIGl0LlxuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWCAtIFN0YXJ0aW5nIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWSAtIFN0YXJ0aW5nIHBvaW50IHlcbiAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSBDb250cm9sIHBvaW50IHlcbiAqIEBwYXJhbSB7bnVtYmVyfSBjcFgyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IGNwWTIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAqIEBwYXJhbSB7bnVtYmVyW119IFtwYXRoPVtdXSAtIFBhdGggYXJyYXkgdG8gcHVzaCBwb2ludHMgaW50b1xuICogQHJldHVybiB7bnVtYmVyW119IEFycmF5IG9mIHBvaW50cyBvZiB0aGUgY3VydmVcbiAqL1xuZnVuY3Rpb24gYmV6aWVyQ3VydmVUbyhmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSkge1xuICAgIHZhciBwYXRoID0gYXJndW1lbnRzLmxlbmd0aCA+IDggJiYgYXJndW1lbnRzWzhdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbOF0gOiBbXTtcblxuICAgIHZhciBuID0gMjA7XG4gICAgdmFyIGR0ID0gMDtcbiAgICB2YXIgZHQyID0gMDtcbiAgICB2YXIgZHQzID0gMDtcbiAgICB2YXIgdDIgPSAwO1xuICAgIHZhciB0MyA9IDA7XG5cbiAgICBwYXRoLnB1c2goZnJvbVgsIGZyb21ZKTtcblxuICAgIGZvciAodmFyIGkgPSAxLCBqID0gMDsgaSA8PSBuOyArK2kpIHtcbiAgICAgICAgaiA9IGkgLyBuO1xuXG4gICAgICAgIGR0ID0gMSAtIGo7XG4gICAgICAgIGR0MiA9IGR0ICogZHQ7XG4gICAgICAgIGR0MyA9IGR0MiAqIGR0O1xuXG4gICAgICAgIHQyID0gaiAqIGo7XG4gICAgICAgIHQzID0gdDIgKiBqO1xuXG4gICAgICAgIHBhdGgucHVzaChkdDMgKiBmcm9tWCArIDMgKiBkdDIgKiBqICogY3BYICsgMyAqIGR0ICogdDIgKiBjcFgyICsgdDMgKiB0b1gsIGR0MyAqIGZyb21ZICsgMyAqIGR0MiAqIGogKiBjcFkgKyAzICogZHQgKiB0MiAqIGNwWTIgKyB0MyAqIHRvWSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhdGg7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iZXppZXJDdXJ2ZVRvLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9Db250YWluZXIyID0gcmVxdWlyZSgnLi4vZGlzcGxheS9Db250YWluZXInKTtcblxudmFyIF9Db250YWluZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29udGFpbmVyMik7XG5cbnZhciBfUmVuZGVyVGV4dHVyZSA9IHJlcXVpcmUoJy4uL3RleHR1cmVzL1JlbmRlclRleHR1cmUnKTtcblxudmFyIF9SZW5kZXJUZXh0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlbmRlclRleHR1cmUpO1xuXG52YXIgX1RleHR1cmUgPSByZXF1aXJlKCcuLi90ZXh0dXJlcy9UZXh0dXJlJyk7XG5cbnZhciBfVGV4dHVyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0dXJlKTtcblxudmFyIF9HcmFwaGljc0RhdGEgPSByZXF1aXJlKCcuL0dyYXBoaWNzRGF0YScpO1xuXG52YXIgX0dyYXBoaWNzRGF0YTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HcmFwaGljc0RhdGEpO1xuXG52YXIgX1Nwcml0ZSA9IHJlcXVpcmUoJy4uL3Nwcml0ZXMvU3ByaXRlJyk7XG5cbnZhciBfU3ByaXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Nwcml0ZSk7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uL21hdGgnKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi9jb25zdCcpO1xuXG52YXIgX0JvdW5kcyA9IHJlcXVpcmUoJy4uL2Rpc3BsYXkvQm91bmRzJyk7XG5cbnZhciBfQm91bmRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JvdW5kcyk7XG5cbnZhciBfYmV6aWVyQ3VydmVUbzIgPSByZXF1aXJlKCcuL3V0aWxzL2JlemllckN1cnZlVG8nKTtcblxudmFyIF9iZXppZXJDdXJ2ZVRvMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JlemllckN1cnZlVG8yKTtcblxudmFyIF9DYW52YXNSZW5kZXJlciA9IHJlcXVpcmUoJy4uL3JlbmRlcmVycy9jYW52YXMvQ2FudmFzUmVuZGVyZXInKTtcblxudmFyIF9DYW52YXNSZW5kZXJlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNSZW5kZXJlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIGNhbnZhc1JlbmRlcmVyID0gdm9pZCAwO1xudmFyIHRlbXBNYXRyaXggPSBuZXcgX21hdGguTWF0cml4KCk7XG52YXIgdGVtcFBvaW50ID0gbmV3IF9tYXRoLlBvaW50KCk7XG52YXIgdGVtcENvbG9yMSA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG52YXIgdGVtcENvbG9yMiA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG5cbi8qKlxuICogVGhlIEdyYXBoaWNzIGNsYXNzIGNvbnRhaW5zIG1ldGhvZHMgdXNlZCB0byBkcmF3IHByaW1pdGl2ZSBzaGFwZXMgc3VjaCBhcyBsaW5lcywgY2lyY2xlcyBhbmRcbiAqIHJlY3RhbmdsZXMgdG8gdGhlIGRpc3BsYXksIGFuZCB0byBjb2xvciBhbmQgZmlsbCB0aGVtLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cblxudmFyIEdyYXBoaWNzID0gZnVuY3Rpb24gKF9Db250YWluZXIpIHtcbiAgICBfaW5oZXJpdHMoR3JhcGhpY3MsIF9Db250YWluZXIpO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtuYXRpdmVMaW5lcz1mYWxzZV0gLSBJZiB0cnVlIHRoZSBsaW5lcyB3aWxsIGJlIGRyYXcgdXNpbmcgTElORVMgaW5zdGVhZCBvZiBUUklBTkdMRV9TVFJJUFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEdyYXBoaWNzKCkge1xuICAgICAgICB2YXIgbmF0aXZlTGluZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBHcmFwaGljcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbHBoYSB2YWx1ZSB1c2VkIHdoZW4gZmlsbGluZyB0aGUgR3JhcGhpY3Mgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db250YWluZXIuY2FsbCh0aGlzKSk7XG5cbiAgICAgICAgX3RoaXMuZmlsbEFscGhhID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoICh0aGlja25lc3MpIG9mIGFueSBsaW5lcyBkcmF3bi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5saW5lV2lkdGggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlIHRoZSBsaW5lcyB3aWxsIGJlIGRyYXcgdXNpbmcgTElORVMgaW5zdGVhZCBvZiBUUklBTkdMRV9TVFJJUFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMubmF0aXZlTGluZXMgPSBuYXRpdmVMaW5lcztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvbG9yIG9mIGFueSBsaW5lcyBkcmF3bi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5saW5lQ29sb3IgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHcmFwaGljcyBkYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3NEYXRhW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ncmFwaGljc0RhdGEgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgZ3JhcGhpYyBzaGFwZS4gVGhpcyBpcyBhIGhleCB2YWx1ZS4gQXBwbHkgYSB2YWx1ZSBvZiAweEZGRkZGRiB0b1xuICAgICAgICAgKiByZXNldCB0aGUgdGludC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudGludCA9IDB4RkZGRkZGO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcHJldmlvdXMgdGludCBhcHBsaWVkIHRvIHRoZSBncmFwaGljIHNoYXBlLiBVc2VkIHRvIGNvbXBhcmUgdG8gdGhlIGN1cnJlbnQgdGludCBhbmRcbiAgICAgICAgICogY2hlY2sgaWYgdGhlcmVzIGNoYW5nZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3ByZXZUaW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgdG8gdGhlIGdyYXBoaWMgc2hhcGUuIEFwcGx5IGEgdmFsdWUgb2ZcbiAgICAgICAgICogYFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMYCB0byByZXNldCB0aGUgYmxlbmQgbW9kZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTDtcbiAgICAgICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ibGVuZE1vZGUgPSBfY29uc3QuQkxFTkRfTU9ERVMuTk9STUFMO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IHBhdGhcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc0RhdGF9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFycmF5IGNvbnRhaW5pbmcgc29tZSBXZWJHTC1yZWxhdGVkIHByb3BlcnRpZXMgdXNlZCBieSB0aGUgV2ViR0wgcmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdDxudW1iZXIsIG9iamVjdD59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICAvLyBUT0RPIC0gX3dlYmdsIHNob3VsZCB1c2UgYSBwcm90b3R5cGUgb2JqZWN0LCBub3QgYSByYW5kb20gdW5kb2N1bWVudGVkIG9iamVjdC4uLlxuICAgICAgICBfdGhpcy5fd2ViR0wgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGlzIHNoYXBlIGlzIGJlaW5nIHVzZWQgYXMgYSBtYXNrLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuaXNNYXNrID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBib3VuZHMnIHBhZGRpbmcgdXNlZCBmb3IgYm91bmRzIGNhbGN1bGF0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5ib3VuZHNQYWRkaW5nID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBjYWNoZSBvZiB0aGUgbG9jYWwgYm91bmRzIHRvIHByZXZlbnQgcmVjYWxjdWxhdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbG9jYWxCb3VuZHMgPSBuZXcgX0JvdW5kczIuZGVmYXVsdCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIHRvIGRldGVjdCBpZiB0aGUgZ3JhcGhpY3Mgb2JqZWN0IGhhcyBjaGFuZ2VkLiBJZiB0aGlzIGlzIHNldCB0byB0cnVlIHRoZW4gdGhlIGdyYXBoaWNzXG4gICAgICAgICAqIG9iamVjdCB3aWxsIGJlIHJlY2FsY3VsYXRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRpcnR5ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCB0byBkZXRlY3QgaWYgd2UgbmVlZCB0byBkbyBhIGZhc3QgcmVjdCBjaGVjayB1c2luZyB0aGUgaWQgY29tcGFyZSBtZXRob2RcbiAgICAgICAgICogQHR5cGUge051bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmZhc3RSZWN0RGlydHkgPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCB0byBkZXRlY3QgaWYgd2UgY2xlYXIgdGhlIGdyYXBoaWNzIHdlYkdMIGRhdGFcbiAgICAgICAgICogQHR5cGUge051bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNsZWFyRGlydHkgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIHRvIGRldGVjdCBpZiB3ZSB3ZSBuZWVkIHRvIHJlY2FsY3VsYXRlIGxvY2FsIGJvdW5kc1xuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYm91bmRzRGlydHkgPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCB0byBkZXRlY3QgaWYgdGhlIGNhY2hlZCBzcHJpdGUgb2JqZWN0IG5lZWRzIHRvIGJlIHVwZGF0ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jYWNoZWRTcHJpdGVEaXJ0eSA9IGZhbHNlO1xuXG4gICAgICAgIF90aGlzLl9zcHJpdGVSZWN0ID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX2Zhc3RSZWN0ID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gY2FjaGVBc0JpdG1hcCBpcyBzZXQgdG8gdHJ1ZSB0aGUgZ3JhcGhpY3Mgb2JqZWN0IHdpbGwgYmUgcmVuZGVyZWQgYXMgaWYgaXQgd2FzIGEgc3ByaXRlLlxuICAgICAgICAgKiBUaGlzIGlzIHVzZWZ1bCBpZiB5b3VyIGdyYXBoaWNzIGVsZW1lbnQgZG9lcyBub3QgY2hhbmdlIG9mdGVuLCBhcyBpdCB3aWxsIHNwZWVkIHVwIHRoZSByZW5kZXJpbmdcbiAgICAgICAgICogb2YgdGhlIG9iamVjdCBpbiBleGNoYW5nZSBmb3IgdGFraW5nIHVwIHRleHR1cmUgbWVtb3J5LiBJdCBpcyBhbHNvIHVzZWZ1bCBpZiB5b3UgbmVlZCB0aGUgZ3JhcGhpY3NcbiAgICAgICAgICogb2JqZWN0IHRvIGJlIGFudGktYWxpYXNlZCwgYmVjYXVzZSBpdCB3aWxsIGJlIHJlbmRlcmVkIHVzaW5nIGNhbnZhcy4gVGhpcyBpcyBub3QgcmVjb21tZW5kZWQgaWZcbiAgICAgICAgICogeW91IGFyZSBjb25zdGFudGx5IHJlZHJhd2luZyB0aGUgZ3JhcGhpY3MgZWxlbWVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG5hbWUgY2FjaGVBc0JpdG1hcFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5HcmFwaGljcyNcbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IEdyYXBoaWNzIG9iamVjdCB3aXRoIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGlzIG9uZS5cbiAgICAgKiBOb3RlIHRoYXQgdGhlIG9ubHkgdGhlIHByb3BlcnRpZXMgb2YgdGhlIG9iamVjdCBhcmUgY2xvbmVkLCBub3QgaXRzIHRyYW5zZm9ybSAocG9zaXRpb24sc2NhbGUsZXRjKVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gQSBjbG9uZSBvZiB0aGUgZ3JhcGhpY3Mgb2JqZWN0XG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lKCkge1xuICAgICAgICB2YXIgY2xvbmUgPSBuZXcgR3JhcGhpY3MoKTtcblxuICAgICAgICBjbG9uZS5yZW5kZXJhYmxlID0gdGhpcy5yZW5kZXJhYmxlO1xuICAgICAgICBjbG9uZS5maWxsQWxwaGEgPSB0aGlzLmZpbGxBbHBoYTtcbiAgICAgICAgY2xvbmUubGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGg7XG4gICAgICAgIGNsb25lLmxpbmVDb2xvciA9IHRoaXMubGluZUNvbG9yO1xuICAgICAgICBjbG9uZS50aW50ID0gdGhpcy50aW50O1xuICAgICAgICBjbG9uZS5ibGVuZE1vZGUgPSB0aGlzLmJsZW5kTW9kZTtcbiAgICAgICAgY2xvbmUuaXNNYXNrID0gdGhpcy5pc01hc2s7XG4gICAgICAgIGNsb25lLmJvdW5kc1BhZGRpbmcgPSB0aGlzLmJvdW5kc1BhZGRpbmc7XG4gICAgICAgIGNsb25lLmRpcnR5ID0gMDtcbiAgICAgICAgY2xvbmUuY2FjaGVkU3ByaXRlRGlydHkgPSB0aGlzLmNhY2hlZFNwcml0ZURpcnR5O1xuXG4gICAgICAgIC8vIGNvcHkgZ3JhcGhpY3MgZGF0YVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjbG9uZS5ncmFwaGljc0RhdGEucHVzaCh0aGlzLmdyYXBoaWNzRGF0YVtpXS5jbG9uZSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNsb25lLmN1cnJlbnRQYXRoID0gY2xvbmUuZ3JhcGhpY3NEYXRhW2Nsb25lLmdyYXBoaWNzRGF0YS5sZW5ndGggLSAxXTtcblxuICAgICAgICBjbG9uZS51cGRhdGVMb2NhbEJvdW5kcygpO1xuXG4gICAgICAgIHJldHVybiBjbG9uZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIHRoZSBsaW5lIHN0eWxlIHVzZWQgZm9yIHN1YnNlcXVlbnQgY2FsbHMgdG8gR3JhcGhpY3MgbWV0aG9kcyBzdWNoIGFzIHRoZSBsaW5lVG8oKVxuICAgICAqIG1ldGhvZCBvciB0aGUgZHJhd0NpcmNsZSgpIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGluZVdpZHRoPTBdIC0gd2lkdGggb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjb2xvcj0wXSAtIGNvbG9yIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYWxwaGE9MV0gLSBhbHBoYSBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5saW5lU3R5bGUgPSBmdW5jdGlvbiBsaW5lU3R5bGUoKSB7XG4gICAgICAgIHZhciBsaW5lV2lkdGggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgICAgIHZhciBjb2xvciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgICAgICAgdmFyIGFscGhhID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAxO1xuXG4gICAgICAgIHRoaXMubGluZVdpZHRoID0gbGluZVdpZHRoO1xuICAgICAgICB0aGlzLmxpbmVDb2xvciA9IGNvbG9yO1xuICAgICAgICB0aGlzLmxpbmVBbHBoYSA9IGFscGhhO1xuXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgLy8gaGFsZndheSB0aHJvdWdoIGEgbGluZT8gc3RhcnQgYSBuZXcgb25lIVxuICAgICAgICAgICAgICAgIHZhciBzaGFwZSA9IG5ldyBfbWF0aC5Qb2x5Z29uKHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLnNsaWNlKC0yKSk7XG5cbiAgICAgICAgICAgICAgICBzaGFwZS5jbG9zZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd1NoYXBlKHNoYXBlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIGl0cyBlbXB0eSBzbyBsZXRzIGp1c3Qgc2V0IHRoZSBsaW5lIHByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLmxpbmVXaWR0aCA9IHRoaXMubGluZVdpZHRoO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGgubGluZUNvbG9yID0gdGhpcy5saW5lQ29sb3I7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5saW5lQWxwaGEgPSB0aGlzLmxpbmVBbHBoYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNb3ZlcyB0aGUgY3VycmVudCBkcmF3aW5nIHBvc2l0aW9uIHRvIHgsIHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIHRoZSBYIGNvb3JkaW5hdGUgdG8gbW92ZSB0b1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gdGhlIFkgY29vcmRpbmF0ZSB0byBtb3ZlIHRvXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUubW92ZVRvID0gZnVuY3Rpb24gbW92ZVRvKHgsIHkpIHtcbiAgICAgICAgdmFyIHNoYXBlID0gbmV3IF9tYXRoLlBvbHlnb24oW3gsIHldKTtcblxuICAgICAgICBzaGFwZS5jbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kcmF3U2hhcGUoc2hhcGUpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIGxpbmUgdXNpbmcgdGhlIGN1cnJlbnQgbGluZSBzdHlsZSBmcm9tIHRoZSBjdXJyZW50IGRyYXdpbmcgcG9zaXRpb24gdG8gKHgsIHkpO1xuICAgICAqIFRoZSBjdXJyZW50IGRyYXdpbmcgcG9zaXRpb24gaXMgdGhlbiBzZXQgdG8gKHgsIHkpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSB0aGUgWCBjb29yZGluYXRlIHRvIGRyYXcgdG9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIHRoZSBZIGNvb3JkaW5hdGUgdG8gZHJhdyB0b1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmxpbmVUbyA9IGZ1bmN0aW9uIGxpbmVUbyh4LCB5KSB7XG4gICAgICAgIHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLnB1c2goeCwgeSk7XG4gICAgICAgIHRoaXMuZGlydHkrKztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBwb2ludHMgZm9yIGEgcXVhZHJhdGljIGJlemllciBjdXJ2ZSBhbmQgdGhlbiBkcmF3cyBpdC5cbiAgICAgKiBCYXNlZCBvbjogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzg1MDk3L2hvdy1kby1pLWltcGxlbWVudC1hLWJlemllci1jdXJ2ZS1pbi1jXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5xdWFkcmF0aWNDdXJ2ZVRvID0gZnVuY3Rpb24gcXVhZHJhdGljQ3VydmVUbyhjcFgsIGNwWSwgdG9YLCB0b1kpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cyA9IFswLCAwXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvKDAsIDApO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG4gPSAyMDtcbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzO1xuICAgICAgICB2YXIgeGEgPSAwO1xuICAgICAgICB2YXIgeWEgPSAwO1xuXG4gICAgICAgIGlmIChwb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbygwLCAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBmcm9tWCA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl07XG4gICAgICAgIHZhciBmcm9tWSA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gbjsgKytpKSB7XG4gICAgICAgICAgICB2YXIgaiA9IGkgLyBuO1xuXG4gICAgICAgICAgICB4YSA9IGZyb21YICsgKGNwWCAtIGZyb21YKSAqIGo7XG4gICAgICAgICAgICB5YSA9IGZyb21ZICsgKGNwWSAtIGZyb21ZKSAqIGo7XG5cbiAgICAgICAgICAgIHBvaW50cy5wdXNoKHhhICsgKGNwWCArICh0b1ggLSBjcFgpICogaiAtIHhhKSAqIGosIHlhICsgKGNwWSArICh0b1kgLSBjcFkpICogaiAtIHlhKSAqIGopO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHBvaW50cyBmb3IgYSBiZXppZXIgY3VydmUgYW5kIHRoZW4gZHJhd3MgaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFgyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5iZXppZXJDdXJ2ZVRvID0gZnVuY3Rpb24gYmV6aWVyQ3VydmVUbyhjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1kpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cyA9IFswLCAwXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvKDAsIDApO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzO1xuXG4gICAgICAgIHZhciBmcm9tWCA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl07XG4gICAgICAgIHZhciBmcm9tWSA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgcG9pbnRzLmxlbmd0aCAtPSAyO1xuXG4gICAgICAgICgwLCBfYmV6aWVyQ3VydmVUbzMuZGVmYXVsdCkoZnJvbVgsIGZyb21ZLCBjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1ksIHBvaW50cyk7XG5cbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYXJjVG8oKSBtZXRob2QgY3JlYXRlcyBhbiBhcmMvY3VydmUgYmV0d2VlbiB0d28gdGFuZ2VudHMgb24gdGhlIGNhbnZhcy5cbiAgICAgKlxuICAgICAqIFwiYm9ycm93ZWRcIiBmcm9tIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvZnhjYW52YXMvIC0gdGhhbmtzIGdvb2dsZSFcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MSAtIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkxIC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDIgLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBlbmQgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MiAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGVuZCBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIGFyY1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmFyY1RvID0gZnVuY3Rpb24gYXJjVG8oeDEsIHkxLCB4MiwgeTIsIHJhZGl1cykge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLnB1c2goeDEsIHkxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvKHgxLCB5MSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHM7XG4gICAgICAgIHZhciBmcm9tWCA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl07XG4gICAgICAgIHZhciBmcm9tWSA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV07XG4gICAgICAgIHZhciBhMSA9IGZyb21ZIC0geTE7XG4gICAgICAgIHZhciBiMSA9IGZyb21YIC0geDE7XG4gICAgICAgIHZhciBhMiA9IHkyIC0geTE7XG4gICAgICAgIHZhciBiMiA9IHgyIC0geDE7XG4gICAgICAgIHZhciBtbSA9IE1hdGguYWJzKGExICogYjIgLSBiMSAqIGEyKTtcblxuICAgICAgICBpZiAobW0gPCAxLjBlLTggfHwgcmFkaXVzID09PSAwKSB7XG4gICAgICAgICAgICBpZiAocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSAhPT0geDEgfHwgcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSAhPT0geTEpIHtcbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaCh4MSwgeTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGRkID0gYTEgKiBhMSArIGIxICogYjE7XG4gICAgICAgICAgICB2YXIgY2MgPSBhMiAqIGEyICsgYjIgKiBiMjtcbiAgICAgICAgICAgIHZhciB0dCA9IGExICogYTIgKyBiMSAqIGIyO1xuICAgICAgICAgICAgdmFyIGsxID0gcmFkaXVzICogTWF0aC5zcXJ0KGRkKSAvIG1tO1xuICAgICAgICAgICAgdmFyIGsyID0gcmFkaXVzICogTWF0aC5zcXJ0KGNjKSAvIG1tO1xuICAgICAgICAgICAgdmFyIGoxID0gazEgKiB0dCAvIGRkO1xuICAgICAgICAgICAgdmFyIGoyID0gazIgKiB0dCAvIGNjO1xuICAgICAgICAgICAgdmFyIGN4ID0gazEgKiBiMiArIGsyICogYjE7XG4gICAgICAgICAgICB2YXIgY3kgPSBrMSAqIGEyICsgazIgKiBhMTtcbiAgICAgICAgICAgIHZhciBweCA9IGIxICogKGsyICsgajEpO1xuICAgICAgICAgICAgdmFyIHB5ID0gYTEgKiAoazIgKyBqMSk7XG4gICAgICAgICAgICB2YXIgcXggPSBiMiAqIChrMSArIGoyKTtcbiAgICAgICAgICAgIHZhciBxeSA9IGEyICogKGsxICsgajIpO1xuICAgICAgICAgICAgdmFyIHN0YXJ0QW5nbGUgPSBNYXRoLmF0YW4yKHB5IC0gY3ksIHB4IC0gY3gpO1xuICAgICAgICAgICAgdmFyIGVuZEFuZ2xlID0gTWF0aC5hdGFuMihxeSAtIGN5LCBxeCAtIGN4KTtcblxuICAgICAgICAgICAgdGhpcy5hcmMoY3ggKyB4MSwgY3kgKyB5MSwgcmFkaXVzLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgYjEgKiBhMiA+IGIyICogYTEpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYXJjIG1ldGhvZCBjcmVhdGVzIGFuIGFyYy9jdXJ2ZSAodXNlZCB0byBjcmVhdGUgY2lyY2xlcywgb3IgcGFydHMgb2YgY2lyY2xlcykuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3ggLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjeSAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEFuZ2xlIC0gVGhlIHN0YXJ0aW5nIGFuZ2xlLCBpbiByYWRpYW5zICgwIGlzIGF0IHRoZSAzIG8nY2xvY2sgcG9zaXRpb25cbiAgICAgKiAgb2YgdGhlIGFyYydzIGNpcmNsZSlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kQW5nbGUgLSBUaGUgZW5kaW5nIGFuZ2xlLCBpbiByYWRpYW5zXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYW50aWNsb2Nrd2lzZT1mYWxzZV0gLSBTcGVjaWZpZXMgd2hldGhlciB0aGUgZHJhd2luZyBzaG91bGQgYmVcbiAgICAgKiAgY291bnRlci1jbG9ja3dpc2Ugb3IgY2xvY2t3aXNlLiBGYWxzZSBpcyBkZWZhdWx0LCBhbmQgaW5kaWNhdGVzIGNsb2Nrd2lzZSwgd2hpbGUgdHJ1ZVxuICAgICAqICBpbmRpY2F0ZXMgY291bnRlci1jbG9ja3dpc2UuXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuYXJjID0gZnVuY3Rpb24gYXJjKGN4LCBjeSwgcmFkaXVzLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSkge1xuICAgICAgICB2YXIgYW50aWNsb2Nrd2lzZSA9IGFyZ3VtZW50cy5sZW5ndGggPiA1ICYmIGFyZ3VtZW50c1s1XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzVdIDogZmFsc2U7XG5cbiAgICAgICAgaWYgKHN0YXJ0QW5nbGUgPT09IGVuZEFuZ2xlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghYW50aWNsb2Nrd2lzZSAmJiBlbmRBbmdsZSA8PSBzdGFydEFuZ2xlKSB7XG4gICAgICAgICAgICBlbmRBbmdsZSArPSBfY29uc3QuUElfMjtcbiAgICAgICAgfSBlbHNlIGlmIChhbnRpY2xvY2t3aXNlICYmIHN0YXJ0QW5nbGUgPD0gZW5kQW5nbGUpIHtcbiAgICAgICAgICAgIHN0YXJ0QW5nbGUgKz0gX2NvbnN0LlBJXzI7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3dlZXAgPSBlbmRBbmdsZSAtIHN0YXJ0QW5nbGU7XG4gICAgICAgIHZhciBzZWdzID0gTWF0aC5jZWlsKE1hdGguYWJzKHN3ZWVwKSAvIF9jb25zdC5QSV8yKSAqIDQwO1xuXG4gICAgICAgIGlmIChzd2VlcCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3RhcnRYID0gY3ggKyBNYXRoLmNvcyhzdGFydEFuZ2xlKSAqIHJhZGl1cztcbiAgICAgICAgdmFyIHN0YXJ0WSA9IGN5ICsgTWF0aC5zaW4oc3RhcnRBbmdsZSkgKiByYWRpdXM7XG5cbiAgICAgICAgLy8gSWYgdGhlIGN1cnJlbnRQYXRoIGV4aXN0cywgdGFrZSBpdHMgcG9pbnRzLiBPdGhlcndpc2UgY2FsbCBgbW92ZVRvYCB0byBzdGFydCBhIHBhdGguXG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoID8gdGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMgOiBudWxsO1xuXG4gICAgICAgIGlmIChwb2ludHMpIHtcbiAgICAgICAgICAgIGlmIChwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdICE9PSBzdGFydFggfHwgcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSAhPT0gc3RhcnRZKSB7XG4gICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goc3RhcnRYLCBzdGFydFkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oc3RhcnRYLCBzdGFydFkpO1xuICAgICAgICAgICAgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdGhldGEgPSBzd2VlcCAvIChzZWdzICogMik7XG4gICAgICAgIHZhciB0aGV0YTIgPSB0aGV0YSAqIDI7XG5cbiAgICAgICAgdmFyIGNUaGV0YSA9IE1hdGguY29zKHRoZXRhKTtcbiAgICAgICAgdmFyIHNUaGV0YSA9IE1hdGguc2luKHRoZXRhKTtcblxuICAgICAgICB2YXIgc2VnTWludXMgPSBzZWdzIC0gMTtcblxuICAgICAgICB2YXIgcmVtYWluZGVyID0gc2VnTWludXMgJSAxIC8gc2VnTWludXM7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gc2VnTWludXM7ICsraSkge1xuICAgICAgICAgICAgdmFyIHJlYWwgPSBpICsgcmVtYWluZGVyICogaTtcblxuICAgICAgICAgICAgdmFyIGFuZ2xlID0gdGhldGEgKyBzdGFydEFuZ2xlICsgdGhldGEyICogcmVhbDtcblxuICAgICAgICAgICAgdmFyIGMgPSBNYXRoLmNvcyhhbmdsZSk7XG4gICAgICAgICAgICB2YXIgcyA9IC1NYXRoLnNpbihhbmdsZSk7XG5cbiAgICAgICAgICAgIHBvaW50cy5wdXNoKChjVGhldGEgKiBjICsgc1RoZXRhICogcykgKiByYWRpdXMgKyBjeCwgKGNUaGV0YSAqIC1zICsgc1RoZXRhICogYykgKiByYWRpdXMgKyBjeSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRpcnR5Kys7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNwZWNpZmllcyBhIHNpbXBsZSBvbmUtY29sb3IgZmlsbCB0aGF0IHN1YnNlcXVlbnQgY2FsbHMgdG8gb3RoZXIgR3JhcGhpY3MgbWV0aG9kc1xuICAgICAqIChzdWNoIGFzIGxpbmVUbygpIG9yIGRyYXdDaXJjbGUoKSkgdXNlIHdoZW4gZHJhd2luZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY29sb3I9MF0gLSB0aGUgY29sb3Igb2YgdGhlIGZpbGxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FscGhhPTFdIC0gdGhlIGFscGhhIG9mIHRoZSBmaWxsXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuYmVnaW5GaWxsID0gZnVuY3Rpb24gYmVnaW5GaWxsKCkge1xuICAgICAgICB2YXIgY29sb3IgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgICAgIHZhciBhbHBoYSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMTtcblxuICAgICAgICB0aGlzLmZpbGxpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmZpbGxDb2xvciA9IGNvbG9yO1xuICAgICAgICB0aGlzLmZpbGxBbHBoYSA9IGFscGhhO1xuXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMubGVuZ3RoIDw9IDIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLmZpbGwgPSB0aGlzLmZpbGxpbmc7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5maWxsQ29sb3IgPSB0aGlzLmZpbGxDb2xvcjtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLmZpbGxBbHBoYSA9IHRoaXMuZmlsbEFscGhhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgYSBmaWxsIHRvIHRoZSBsaW5lcyBhbmQgc2hhcGVzIHRoYXQgd2VyZSBhZGRlZCBzaW5jZSB0aGUgbGFzdCBjYWxsIHRvIHRoZSBiZWdpbkZpbGwoKSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5lbmRGaWxsID0gZnVuY3Rpb24gZW5kRmlsbCgpIHtcbiAgICAgICAgdGhpcy5maWxsaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZmlsbENvbG9yID0gbnVsbDtcbiAgICAgICAgdGhpcy5maWxsQWxwaGEgPSAxO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmQgb2YgdGhlIHRvcC1sZWZ0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkIG9mIHRoZSB0b3AtbGVmdCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd1JlY3QgPSBmdW5jdGlvbiBkcmF3UmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuZHJhd1NoYXBlKG5ldyBfbWF0aC5SZWN0YW5nbGUoeCwgeSwgd2lkdGgsIGhlaWdodCkpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmQgb2YgdGhlIHRvcC1sZWZ0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkIG9mIHRoZSB0b3AtbGVmdCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFJhZGl1cyBvZiB0aGUgcmVjdGFuZ2xlIGNvcm5lcnNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3Um91bmRlZFJlY3QgPSBmdW5jdGlvbiBkcmF3Um91bmRlZFJlY3QoeCwgeSwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKSB7XG4gICAgICAgIHRoaXMuZHJhd1NoYXBlKG5ldyBfbWF0aC5Sb3VuZGVkUmVjdGFuZ2xlKHgsIHksIHdpZHRoLCBoZWlnaHQsIHJhZGl1cykpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIGNpcmNsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIGNpcmNsZVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdDaXJjbGUgPSBmdW5jdGlvbiBkcmF3Q2lyY2xlKHgsIHksIHJhZGl1cykge1xuICAgICAgICB0aGlzLmRyYXdTaGFwZShuZXcgX21hdGguQ2lyY2xlKHgsIHksIHJhZGl1cykpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyBhbiBlbGxpcHNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFRoZSBoYWxmIHdpZHRoIG9mIHRoZSBlbGxpcHNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoYWxmIGhlaWdodCBvZiB0aGUgZWxsaXBzZVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdFbGxpcHNlID0gZnVuY3Rpb24gZHJhd0VsbGlwc2UoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICB0aGlzLmRyYXdTaGFwZShuZXcgX21hdGguRWxsaXBzZSh4LCB5LCB3aWR0aCwgaGVpZ2h0KSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGEgcG9seWdvbiB1c2luZyB0aGUgZ2l2ZW4gcGF0aC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW118UElYSS5Qb2ludFtdfFBJWEkuUG9seWdvbn0gcGF0aCAtIFRoZSBwYXRoIGRhdGEgdXNlZCB0byBjb25zdHJ1Y3QgdGhlIHBvbHlnb24uXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd1BvbHlnb24gPSBmdW5jdGlvbiBkcmF3UG9seWdvbihwYXRoKSB7XG4gICAgICAgIC8vIHByZXZlbnRzIGFuIGFyZ3VtZW50IGFzc2lnbm1lbnQgZGVvcHRcbiAgICAgICAgLy8gc2VlIHNlY3Rpb24gMy4xOiBodHRwczovL2dpdGh1Yi5jb20vcGV0a2FhbnRvbm92L2JsdWViaXJkL3dpa2kvT3B0aW1pemF0aW9uLWtpbGxlcnMjMy1tYW5hZ2luZy1hcmd1bWVudHNcbiAgICAgICAgdmFyIHBvaW50cyA9IHBhdGg7XG5cbiAgICAgICAgdmFyIGNsb3NlZCA9IHRydWU7XG5cbiAgICAgICAgaWYgKHBvaW50cyBpbnN0YW5jZW9mIF9tYXRoLlBvbHlnb24pIHtcbiAgICAgICAgICAgIGNsb3NlZCA9IHBvaW50cy5jbG9zZWQ7XG4gICAgICAgICAgICBwb2ludHMgPSBwb2ludHMucG9pbnRzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHBvaW50cykpIHtcbiAgICAgICAgICAgIC8vIHByZXZlbnRzIGFuIGFyZ3VtZW50IGxlYWsgZGVvcHRcbiAgICAgICAgICAgIC8vIHNlZSBzZWN0aW9uIDMuMjogaHR0cHM6Ly9naXRodWIuY29tL3BldGthYW50b25vdi9ibHVlYmlyZC93aWtpL09wdGltaXphdGlvbi1raWxsZXJzIzMtbWFuYWdpbmctYXJndW1lbnRzXG4gICAgICAgICAgICBwb2ludHMgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgcG9pbnRzW2ldID0gYXJndW1lbnRzW2ldOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNoYXBlID0gbmV3IF9tYXRoLlBvbHlnb24ocG9pbnRzKTtcblxuICAgICAgICBzaGFwZS5jbG9zZWQgPSBjbG9zZWQ7XG5cbiAgICAgICAgdGhpcy5kcmF3U2hhcGUoc2hhcGUpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3IGEgc3RhciBzaGFwZSB3aXRoIGFuIGFiaXRyYXJ5IG51bWJlciBvZiBwb2ludHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIENlbnRlciBYIHBvc2l0aW9uIG9mIHRoZSBzdGFyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBDZW50ZXIgWSBwb3NpdGlvbiBvZiB0aGUgc3RhclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwb2ludHMgLSBUaGUgbnVtYmVyIG9mIHBvaW50cyBvZiB0aGUgc3RhciwgbXVzdCBiZSA+IDFcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIG91dGVyIHJhZGl1cyBvZiB0aGUgc3RhclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaW5uZXJSYWRpdXNdIC0gVGhlIGlubmVyIHJhZGl1cyBiZXR3ZWVuIHBvaW50cywgZGVmYXVsdCBoYWxmIGByYWRpdXNgXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyb3RhdGlvbj0wXSAtIFRoZSByb3RhdGlvbiBvZiB0aGUgc3RhciBpbiByYWRpYW5zLCB3aGVyZSAwIGlzIHZlcnRpY2FsXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd1N0YXIgPSBmdW5jdGlvbiBkcmF3U3Rhcih4LCB5LCBwb2ludHMsIHJhZGl1cywgaW5uZXJSYWRpdXMpIHtcbiAgICAgICAgdmFyIHJvdGF0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgJiYgYXJndW1lbnRzWzVdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNV0gOiAwO1xuXG4gICAgICAgIGlubmVyUmFkaXVzID0gaW5uZXJSYWRpdXMgfHwgcmFkaXVzIC8gMjtcblxuICAgICAgICB2YXIgc3RhcnRBbmdsZSA9IC0xICogTWF0aC5QSSAvIDIgKyByb3RhdGlvbjtcbiAgICAgICAgdmFyIGxlbiA9IHBvaW50cyAqIDI7XG4gICAgICAgIHZhciBkZWx0YSA9IF9jb25zdC5QSV8yIC8gbGVuO1xuICAgICAgICB2YXIgcG9seWdvbiA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciByID0gaSAlIDIgPyBpbm5lclJhZGl1cyA6IHJhZGl1cztcbiAgICAgICAgICAgIHZhciBhbmdsZSA9IGkgKiBkZWx0YSArIHN0YXJ0QW5nbGU7XG5cbiAgICAgICAgICAgIHBvbHlnb24ucHVzaCh4ICsgciAqIE1hdGguY29zKGFuZ2xlKSwgeSArIHIgKiBNYXRoLnNpbihhbmdsZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhd1BvbHlnb24ocG9seWdvbik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgZ3JhcGhpY3MgdGhhdCB3ZXJlIGRyYXduIHRvIHRoaXMgR3JhcGhpY3Mgb2JqZWN0LCBhbmQgcmVzZXRzIGZpbGwgYW5kIGxpbmUgc3R5bGUgc2V0dGluZ3MuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgICAgICBpZiAodGhpcy5saW5lV2lkdGggfHwgdGhpcy5maWxsaW5nIHx8IHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMubGluZVdpZHRoID0gMDtcbiAgICAgICAgICAgIHRoaXMuZmlsbGluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICB0aGlzLmJvdW5kc0RpcnR5ID0gLTE7XG4gICAgICAgICAgICB0aGlzLmRpcnR5Kys7XG4gICAgICAgICAgICB0aGlzLmNsZWFyRGlydHkrKztcbiAgICAgICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3ByaXRlUmVjdCA9IG51bGw7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRydWUgaWYgZ3JhcGhpY3MgY29uc2lzdHMgb2Ygb25lIHJlY3RhbmdsZSwgYW5kIHRodXMsIGNhbiBiZSBkcmF3biBsaWtlIGEgU3ByaXRlIGFuZFxuICAgICAqIG1hc2tlZCB3aXRoIGdsLnNjaXNzb3IuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBvbmx5IDEgcmVjdC5cbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmlzRmFzdFJlY3QgPSBmdW5jdGlvbiBpc0Zhc3RSZWN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoID09PSAxICYmIHRoaXMuZ3JhcGhpY3NEYXRhWzBdLnNoYXBlLnR5cGUgPT09IF9jb25zdC5TSEFQRVMuUkVDVCAmJiAhdGhpcy5ncmFwaGljc0RhdGFbMF0ubGluZVdpZHRoO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuXG5cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX3JlbmRlcldlYkdMID0gZnVuY3Rpb24gX3JlbmRlcldlYkdMKHJlbmRlcmVyKSB7XG4gICAgICAgIC8vIGlmIHRoZSBzcHJpdGUgaXMgbm90IHZpc2libGUgb3IgdGhlIGFscGhhIGlzIDAgdGhlbiBubyBuZWVkIHRvIHJlbmRlciB0aGlzIGVsZW1lbnRcbiAgICAgICAgaWYgKHRoaXMuZGlydHkgIT09IHRoaXMuZmFzdFJlY3REaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5mYXN0UmVjdERpcnR5ID0gdGhpcy5kaXJ0eTtcbiAgICAgICAgICAgIHRoaXMuX2Zhc3RSZWN0ID0gdGhpcy5pc0Zhc3RSZWN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPIHRoaXMgY2hlY2sgY2FuIGJlIG1vdmVkIHRvIGRpcnR5P1xuICAgICAgICBpZiAodGhpcy5fZmFzdFJlY3QpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclNwcml0ZVJlY3QocmVuZGVyZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVuZGVyZXIuc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2lucy5ncmFwaGljcyk7XG4gICAgICAgICAgICByZW5kZXJlci5wbHVnaW5zLmdyYXBoaWNzLnJlbmRlcih0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIGEgc3ByaXRlIHJlY3RhbmdsZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fcmVuZGVyU3ByaXRlUmVjdCA9IGZ1bmN0aW9uIF9yZW5kZXJTcHJpdGVSZWN0KHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciByZWN0ID0gdGhpcy5ncmFwaGljc0RhdGFbMF0uc2hhcGU7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9zcHJpdGVSZWN0KSB7XG4gICAgICAgICAgICB0aGlzLl9zcHJpdGVSZWN0ID0gbmV3IF9TcHJpdGUyLmRlZmF1bHQobmV3IF9UZXh0dXJlMi5kZWZhdWx0KF9UZXh0dXJlMi5kZWZhdWx0LldISVRFKSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3ByaXRlID0gdGhpcy5fc3ByaXRlUmVjdDtcblxuICAgICAgICBpZiAodGhpcy50aW50ID09PSAweGZmZmZmZikge1xuICAgICAgICAgICAgc3ByaXRlLnRpbnQgPSB0aGlzLmdyYXBoaWNzRGF0YVswXS5maWxsQ29sb3I7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgdDEgPSB0ZW1wQ29sb3IxO1xuICAgICAgICAgICAgdmFyIHQyID0gdGVtcENvbG9yMjtcblxuICAgICAgICAgICAgKDAsIF91dGlscy5oZXgycmdiKSh0aGlzLmdyYXBoaWNzRGF0YVswXS5maWxsQ29sb3IsIHQxKTtcbiAgICAgICAgICAgICgwLCBfdXRpbHMuaGV4MnJnYikodGhpcy50aW50LCB0Mik7XG5cbiAgICAgICAgICAgIHQxWzBdICo9IHQyWzBdO1xuICAgICAgICAgICAgdDFbMV0gKj0gdDJbMV07XG4gICAgICAgICAgICB0MVsyXSAqPSB0MlsyXTtcblxuICAgICAgICAgICAgc3ByaXRlLnRpbnQgPSAoMCwgX3V0aWxzLnJnYjJoZXgpKHQxKTtcbiAgICAgICAgfVxuICAgICAgICBzcHJpdGUuYWxwaGEgPSB0aGlzLmdyYXBoaWNzRGF0YVswXS5maWxsQWxwaGE7XG4gICAgICAgIHNwcml0ZS53b3JsZEFscGhhID0gdGhpcy53b3JsZEFscGhhICogc3ByaXRlLmFscGhhO1xuICAgICAgICBzcHJpdGUuYmxlbmRNb2RlID0gdGhpcy5ibGVuZE1vZGU7XG5cbiAgICAgICAgc3ByaXRlLl90ZXh0dXJlLl9mcmFtZS53aWR0aCA9IHJlY3Qud2lkdGg7XG4gICAgICAgIHNwcml0ZS5fdGV4dHVyZS5fZnJhbWUuaGVpZ2h0ID0gcmVjdC5oZWlnaHQ7XG5cbiAgICAgICAgc3ByaXRlLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybSA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuXG4gICAgICAgIHNwcml0ZS5hbmNob3Iuc2V0KC1yZWN0LnggLyByZWN0LndpZHRoLCAtcmVjdC55IC8gcmVjdC5oZWlnaHQpO1xuICAgICAgICBzcHJpdGUuX29uQW5jaG9yVXBkYXRlKCk7XG5cbiAgICAgICAgc3ByaXRlLl9yZW5kZXJXZWJHTChyZW5kZXJlcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgQ2FudmFzIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9yZW5kZXJDYW52YXMgPSBmdW5jdGlvbiBfcmVuZGVyQ2FudmFzKHJlbmRlcmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmlzTWFzayA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyZXIucGx1Z2lucy5ncmFwaGljcy5yZW5kZXIodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgYm91bmRzIG9mIHRoZSBncmFwaGljIHNoYXBlIGFzIGEgcmVjdGFuZ2xlIG9iamVjdFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiBfY2FsY3VsYXRlQm91bmRzKCkge1xuICAgICAgICBpZiAodGhpcy5ib3VuZHNEaXJ0eSAhPT0gdGhpcy5kaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5ib3VuZHNEaXJ0eSA9IHRoaXMuZGlydHk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxvY2FsQm91bmRzKCk7XG5cbiAgICAgICAgICAgIHRoaXMuY2FjaGVkU3ByaXRlRGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxiID0gdGhpcy5fbG9jYWxCb3VuZHM7XG5cbiAgICAgICAgdGhpcy5fYm91bmRzLmFkZEZyYW1lKHRoaXMudHJhbnNmb3JtLCBsYi5taW5YLCBsYi5taW5ZLCBsYi5tYXhYLCBsYi5tYXhZKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGVzdHMgaWYgYSBwb2ludCBpcyBpbnNpZGUgdGhpcyBncmFwaGljcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9pbnQgLSB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRoZSByZXN1bHQgb2YgdGhlIHRlc3RcbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQgPSBmdW5jdGlvbiBjb250YWluc1BvaW50KHBvaW50KSB7XG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0ZW1wUG9pbnQpO1xuXG4gICAgICAgIHZhciBncmFwaGljc0RhdGEgPSB0aGlzLmdyYXBoaWNzRGF0YTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdyYXBoaWNzRGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBncmFwaGljc0RhdGFbaV07XG5cbiAgICAgICAgICAgIGlmICghZGF0YS5maWxsKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG9ubHkgZGVhbCB3aXRoIGZpbGxzLi5cbiAgICAgICAgICAgIGlmIChkYXRhLnNoYXBlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuc2hhcGUuY29udGFpbnModGVtcFBvaW50LngsIHRlbXBQb2ludC55KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ob2xlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGRhdGEuaG9sZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhvbGUgPSBkYXRhLmhvbGVzW19pXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChob2xlLmNvbnRhaW5zKHRlbXBQb2ludC54LCB0ZW1wUG9pbnQueSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBib3VuZHMgb2YgdGhlIG9iamVjdFxuICAgICAqXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS51cGRhdGVMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIHVwZGF0ZUxvY2FsQm91bmRzKCkge1xuICAgICAgICB2YXIgbWluWCA9IEluZmluaXR5O1xuICAgICAgICB2YXIgbWF4WCA9IC1JbmZpbml0eTtcblxuICAgICAgICB2YXIgbWluWSA9IEluZmluaXR5O1xuICAgICAgICB2YXIgbWF4WSA9IC1JbmZpbml0eTtcblxuICAgICAgICBpZiAodGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgc2hhcGUgPSAwO1xuICAgICAgICAgICAgdmFyIHggPSAwO1xuICAgICAgICAgICAgdmFyIHkgPSAwO1xuICAgICAgICAgICAgdmFyIHcgPSAwO1xuICAgICAgICAgICAgdmFyIGggPSAwO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmdyYXBoaWNzRGF0YVtpXTtcbiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IGRhdGEudHlwZTtcbiAgICAgICAgICAgICAgICB2YXIgbGluZVdpZHRoID0gZGF0YS5saW5lV2lkdGg7XG5cbiAgICAgICAgICAgICAgICBzaGFwZSA9IGRhdGEuc2hhcGU7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5SRUNUIHx8IHR5cGUgPT09IF9jb25zdC5TSEFQRVMuUlJFQykge1xuICAgICAgICAgICAgICAgICAgICB4ID0gc2hhcGUueCAtIGxpbmVXaWR0aCAvIDI7XG4gICAgICAgICAgICAgICAgICAgIHkgPSBzaGFwZS55IC0gbGluZVdpZHRoIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgdyA9IHNoYXBlLndpZHRoICsgbGluZVdpZHRoO1xuICAgICAgICAgICAgICAgICAgICBoID0gc2hhcGUuaGVpZ2h0ICsgbGluZVdpZHRoO1xuXG4gICAgICAgICAgICAgICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICAgICAgICAgICAgICBtYXhYID0geCArIHcgPiBtYXhYID8geCArIHcgOiBtYXhYO1xuXG4gICAgICAgICAgICAgICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICAgICAgICAgICAgICBtYXhZID0geSArIGggPiBtYXhZID8geSArIGggOiBtYXhZO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gX2NvbnN0LlNIQVBFUy5DSVJDKSB7XG4gICAgICAgICAgICAgICAgICAgIHggPSBzaGFwZS54O1xuICAgICAgICAgICAgICAgICAgICB5ID0gc2hhcGUueTtcbiAgICAgICAgICAgICAgICAgICAgdyA9IHNoYXBlLnJhZGl1cyArIGxpbmVXaWR0aCAvIDI7XG4gICAgICAgICAgICAgICAgICAgIGggPSBzaGFwZS5yYWRpdXMgKyBsaW5lV2lkdGggLyAyO1xuXG4gICAgICAgICAgICAgICAgICAgIG1pblggPSB4IC0gdyA8IG1pblggPyB4IC0gdyA6IG1pblg7XG4gICAgICAgICAgICAgICAgICAgIG1heFggPSB4ICsgdyA+IG1heFggPyB4ICsgdyA6IG1heFg7XG5cbiAgICAgICAgICAgICAgICAgICAgbWluWSA9IHkgLSBoIDwgbWluWSA/IHkgLSBoIDogbWluWTtcbiAgICAgICAgICAgICAgICAgICAgbWF4WSA9IHkgKyBoID4gbWF4WSA/IHkgKyBoIDogbWF4WTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IF9jb25zdC5TSEFQRVMuRUxJUCkge1xuICAgICAgICAgICAgICAgICAgICB4ID0gc2hhcGUueDtcbiAgICAgICAgICAgICAgICAgICAgeSA9IHNoYXBlLnk7XG4gICAgICAgICAgICAgICAgICAgIHcgPSBzaGFwZS53aWR0aCArIGxpbmVXaWR0aCAvIDI7XG4gICAgICAgICAgICAgICAgICAgIGggPSBzaGFwZS5oZWlnaHQgKyBsaW5lV2lkdGggLyAyO1xuXG4gICAgICAgICAgICAgICAgICAgIG1pblggPSB4IC0gdyA8IG1pblggPyB4IC0gdyA6IG1pblg7XG4gICAgICAgICAgICAgICAgICAgIG1heFggPSB4ICsgdyA+IG1heFggPyB4ICsgdyA6IG1heFg7XG5cbiAgICAgICAgICAgICAgICAgICAgbWluWSA9IHkgLSBoIDwgbWluWSA/IHkgLSBoIDogbWluWTtcbiAgICAgICAgICAgICAgICAgICAgbWF4WSA9IHkgKyBoID4gbWF4WSA/IHkgKyBoIDogbWF4WTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBQT0xZXG4gICAgICAgICAgICAgICAgICAgIHZhciBwb2ludHMgPSBzaGFwZS5wb2ludHM7XG4gICAgICAgICAgICAgICAgICAgIHZhciB4MiA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciB5MiA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkeCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkeSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBydyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciByaCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjeCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjeSA9IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogKyAyIDwgcG9pbnRzLmxlbmd0aDsgaiArPSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4ID0gcG9pbnRzW2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgeSA9IHBvaW50c1tqICsgMV07XG4gICAgICAgICAgICAgICAgICAgICAgICB4MiA9IHBvaW50c1tqICsgMl07XG4gICAgICAgICAgICAgICAgICAgICAgICB5MiA9IHBvaW50c1tqICsgM107XG4gICAgICAgICAgICAgICAgICAgICAgICBkeCA9IE1hdGguYWJzKHgyIC0geCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkeSA9IE1hdGguYWJzKHkyIC0geSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBoID0gbGluZVdpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgdyA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3IDwgMWUtOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBydyA9IChoIC8gdyAqIGR5ICsgZHgpIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJoID0gKGggLyB3ICogZHggKyBkeSkgLyAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3ggPSAoeDIgKyB4KSAvIDI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjeSA9ICh5MiArIHkpIC8gMjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbWluWCA9IGN4IC0gcncgPCBtaW5YID8gY3ggLSBydyA6IG1pblg7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhYID0gY3ggKyBydyA+IG1heFggPyBjeCArIHJ3IDogbWF4WDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbWluWSA9IGN5IC0gcmggPCBtaW5ZID8gY3kgLSByaCA6IG1pblk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhZID0gY3kgKyByaCA+IG1heFkgPyBjeSArIHJoIDogbWF4WTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1pblggPSAwO1xuICAgICAgICAgICAgbWF4WCA9IDA7XG4gICAgICAgICAgICBtaW5ZID0gMDtcbiAgICAgICAgICAgIG1heFkgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBhZGRpbmcgPSB0aGlzLmJvdW5kc1BhZGRpbmc7XG5cbiAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHMubWluWCA9IG1pblggLSBwYWRkaW5nO1xuICAgICAgICB0aGlzLl9sb2NhbEJvdW5kcy5tYXhYID0gbWF4WCArIHBhZGRpbmc7XG5cbiAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHMubWluWSA9IG1pblkgLSBwYWRkaW5nO1xuICAgICAgICB0aGlzLl9sb2NhbEJvdW5kcy5tYXhZID0gbWF4WSArIHBhZGRpbmc7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIHRoZSBnaXZlbiBzaGFwZSB0byB0aGlzIEdyYXBoaWNzIG9iamVjdC4gQ2FuIGJlIGFueSBvZiBDaXJjbGUsIFJlY3RhbmdsZSwgRWxsaXBzZSwgTGluZSBvciBQb2x5Z29uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNpcmNsZXxQSVhJLkVsbGlwc2V8UElYSS5Qb2x5Z29ufFBJWEkuUmVjdGFuZ2xlfFBJWEkuUm91bmRlZFJlY3RhbmdsZX0gc2hhcGUgLSBUaGUgc2hhcGUgb2JqZWN0IHRvIGRyYXcuXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc0RhdGF9IFRoZSBnZW5lcmF0ZWQgR3JhcGhpY3NEYXRhIG9iamVjdC5cbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdTaGFwZSA9IGZ1bmN0aW9uIGRyYXdTaGFwZShzaGFwZSkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aCkge1xuICAgICAgICAgICAgLy8gY2hlY2sgY3VycmVudCBwYXRoIVxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLmxlbmd0aCA8PSAyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ncmFwaGljc0RhdGEucG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbnVsbDtcblxuICAgICAgICB2YXIgZGF0YSA9IG5ldyBfR3JhcGhpY3NEYXRhMi5kZWZhdWx0KHRoaXMubGluZVdpZHRoLCB0aGlzLmxpbmVDb2xvciwgdGhpcy5saW5lQWxwaGEsIHRoaXMuZmlsbENvbG9yLCB0aGlzLmZpbGxBbHBoYSwgdGhpcy5maWxsaW5nLCB0aGlzLm5hdGl2ZUxpbmVzLCBzaGFwZSk7XG5cbiAgICAgICAgdGhpcy5ncmFwaGljc0RhdGEucHVzaChkYXRhKTtcblxuICAgICAgICBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLlBPTFkpIHtcbiAgICAgICAgICAgIGRhdGEuc2hhcGUuY2xvc2VkID0gZGF0YS5zaGFwZS5jbG9zZWQgfHwgdGhpcy5maWxsaW5nO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IGRhdGE7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRpcnR5Kys7XG5cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBhIGNhbnZhcyB0ZXh0dXJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlTW9kZSAtIFRoZSBzY2FsZSBtb2RlIG9mIHRoZSB0ZXh0dXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIC0gVGhlIHJlc29sdXRpb24gb2YgdGhlIHRleHR1cmUuXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBUaGUgbmV3IHRleHR1cmUuXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5nZW5lcmF0ZUNhbnZhc1RleHR1cmUgPSBmdW5jdGlvbiBnZW5lcmF0ZUNhbnZhc1RleHR1cmUoc2NhbGVNb2RlKSB7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAxO1xuXG4gICAgICAgIHZhciBib3VuZHMgPSB0aGlzLmdldExvY2FsQm91bmRzKCk7XG5cbiAgICAgICAgdmFyIGNhbnZhc0J1ZmZlciA9IF9SZW5kZXJUZXh0dXJlMi5kZWZhdWx0LmNyZWF0ZShib3VuZHMud2lkdGgsIGJvdW5kcy5oZWlnaHQsIHNjYWxlTW9kZSwgcmVzb2x1dGlvbik7XG5cbiAgICAgICAgaWYgKCFjYW52YXNSZW5kZXJlcikge1xuICAgICAgICAgICAgY2FudmFzUmVuZGVyZXIgPSBuZXcgX0NhbnZhc1JlbmRlcmVyMi5kZWZhdWx0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRyYW5zZm9ybS51cGRhdGVMb2NhbFRyYW5zZm9ybSgpO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5sb2NhbFRyYW5zZm9ybS5jb3B5KHRlbXBNYXRyaXgpO1xuXG4gICAgICAgIHRlbXBNYXRyaXguaW52ZXJ0KCk7XG5cbiAgICAgICAgdGVtcE1hdHJpeC50eCAtPSBib3VuZHMueDtcbiAgICAgICAgdGVtcE1hdHJpeC50eSAtPSBib3VuZHMueTtcblxuICAgICAgICBjYW52YXNSZW5kZXJlci5yZW5kZXIodGhpcywgY2FudmFzQnVmZmVyLCB0cnVlLCB0ZW1wTWF0cml4KTtcblxuICAgICAgICB2YXIgdGV4dHVyZSA9IF9UZXh0dXJlMi5kZWZhdWx0LmZyb21DYW52YXMoY2FudmFzQnVmZmVyLmJhc2VUZXh0dXJlLl9jYW52YXNSZW5kZXJUYXJnZXQuY2FudmFzLCBzY2FsZU1vZGUsICdncmFwaGljcycpO1xuXG4gICAgICAgIHRleHR1cmUuYmFzZVRleHR1cmUucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgIHRleHR1cmUuYmFzZVRleHR1cmUudXBkYXRlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsb3NlcyB0aGUgY3VycmVudCBwYXRoLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5jbG9zZVBhdGggPSBmdW5jdGlvbiBjbG9zZVBhdGgoKSB7XG4gICAgICAgIC8vIG9rIHNvIGNsb3NlIHBhdGggYXNzdW1lcyBuZXh0IG9uZSBpcyBhIGhvbGUhXG4gICAgICAgIHZhciBjdXJyZW50UGF0aCA9IHRoaXMuY3VycmVudFBhdGg7XG5cbiAgICAgICAgaWYgKGN1cnJlbnRQYXRoICYmIGN1cnJlbnRQYXRoLnNoYXBlKSB7XG4gICAgICAgICAgICBjdXJyZW50UGF0aC5zaGFwZS5jbG9zZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBob2xlIGluIHRoZSBjdXJyZW50IHBhdGguXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmFkZEhvbGUgPSBmdW5jdGlvbiBhZGRIb2xlKCkge1xuICAgICAgICAvLyB0aGlzIGlzIGEgaG9sZSFcbiAgICAgICAgdmFyIGhvbGUgPSB0aGlzLmdyYXBoaWNzRGF0YS5wb3AoKTtcblxuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gdGhpcy5ncmFwaGljc0RhdGFbdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5hZGRIb2xlKGhvbGUuc2hhcGUpO1xuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbnVsbDtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIEdyYXBoaWNzIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsXG4gICAgICogIG9wdGlvbnMgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmVcbiAgICAgKiAgdGhlaXIgZGVzdHJveSBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICovXG5cblxuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveShvcHRpb25zKSB7XG4gICAgICAgIF9Db250YWluZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICAgICAgICAvLyBkZXN0cm95IGVhY2ggb2YgdGhlIEdyYXBoaWNzRGF0YSBvYmplY3RzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZvciBlYWNoIHdlYmdsIGRhdGEgZW50cnksIGRlc3Ryb3kgdGhlIFdlYkdMR3JhcGhpY3NEYXRhXG4gICAgICAgIGZvciAodmFyIGlkIGluIHRoaXMuX3dlYmdsKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRoaXMuX3dlYmdsW2lkXS5kYXRhLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2ViZ2xbaWRdLmRhdGFbal0uZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3Nwcml0ZVJlY3QpIHtcbiAgICAgICAgICAgIHRoaXMuX3Nwcml0ZVJlY3QuZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ncmFwaGljc0RhdGEgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBudWxsO1xuICAgICAgICB0aGlzLl93ZWJnbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2xvY2FsQm91bmRzID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEdyYXBoaWNzO1xufShfQ29udGFpbmVyMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gR3JhcGhpY3M7XG5cblxuR3JhcGhpY3MuX1NQUklURV9URVhUVVJFID0gbnVsbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdyYXBoaWNzLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHRyaW1DYW52YXM7XG4vKipcbiAqIFRyaW0gdHJhbnNwYXJlbnQgYm9yZGVycyBmcm9tIGEgY2FudmFzXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBmdW5jdGlvbiB0cmltQ2FudmFzXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzIC0gdGhlIGNhbnZhcyB0byB0cmltXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBUcmltIGRhdGFcbiAqL1xuZnVuY3Rpb24gdHJpbUNhbnZhcyhjYW52YXMpIHtcbiAgICAvLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9yZW15Lzc4NDUwOFxuXG4gICAgdmFyIHdpZHRoID0gY2FudmFzLndpZHRoO1xuICAgIHZhciBoZWlnaHQgPSBjYW52YXMuaGVpZ2h0O1xuXG4gICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICB2YXIgaW1hZ2VEYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgdmFyIHBpeGVscyA9IGltYWdlRGF0YS5kYXRhO1xuICAgIHZhciBsZW4gPSBwaXhlbHMubGVuZ3RoO1xuXG4gICAgdmFyIGJvdW5kID0ge1xuICAgICAgICB0b3A6IG51bGwsXG4gICAgICAgIGxlZnQ6IG51bGwsXG4gICAgICAgIHJpZ2h0OiBudWxsLFxuICAgICAgICBib3R0b206IG51bGxcbiAgICB9O1xuICAgIHZhciBpID0gdm9pZCAwO1xuICAgIHZhciB4ID0gdm9pZCAwO1xuICAgIHZhciB5ID0gdm9pZCAwO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgICAgIGlmIChwaXhlbHNbaSArIDNdICE9PSAwKSB7XG4gICAgICAgICAgICB4ID0gaSAvIDQgJSB3aWR0aDtcbiAgICAgICAgICAgIHkgPSB+fihpIC8gNCAvIHdpZHRoKTtcblxuICAgICAgICAgICAgaWYgKGJvdW5kLnRvcCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGJvdW5kLnRvcCA9IHk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChib3VuZC5sZWZ0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYm91bmQubGVmdCA9IHg7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHggPCBib3VuZC5sZWZ0KSB7XG4gICAgICAgICAgICAgICAgYm91bmQubGVmdCA9IHg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChib3VuZC5yaWdodCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGJvdW5kLnJpZ2h0ID0geCArIDE7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGJvdW5kLnJpZ2h0IDwgeCkge1xuICAgICAgICAgICAgICAgIGJvdW5kLnJpZ2h0ID0geCArIDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChib3VuZC5ib3R0b20gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBib3VuZC5ib3R0b20gPSB5O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChib3VuZC5ib3R0b20gPCB5KSB7XG4gICAgICAgICAgICAgICAgYm91bmQuYm90dG9tID0geTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHdpZHRoID0gYm91bmQucmlnaHQgLSBib3VuZC5sZWZ0O1xuICAgIGhlaWdodCA9IGJvdW5kLmJvdHRvbSAtIGJvdW5kLnRvcCArIDE7XG5cbiAgICB2YXIgZGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKGJvdW5kLmxlZnQsIGJvdW5kLnRvcCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICBkYXRhOiBkYXRhXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyaW1DYW52YXMuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX1Nwcml0ZTIgPSByZXF1aXJlKCcuLi9zcHJpdGVzL1Nwcml0ZScpO1xuXG52YXIgX1Nwcml0ZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TcHJpdGUyKTtcblxudmFyIF9UZXh0dXJlID0gcmVxdWlyZSgnLi4vdGV4dHVyZXMvVGV4dHVyZScpO1xuXG52YXIgX1RleHR1cmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dHVyZSk7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uL21hdGgnKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi9jb25zdCcpO1xuXG52YXIgX3NldHRpbmdzID0gcmVxdWlyZSgnLi4vc2V0dGluZ3MnKTtcblxudmFyIF9zZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXR0aW5ncyk7XG5cbnZhciBfVGV4dFN0eWxlID0gcmVxdWlyZSgnLi9UZXh0U3R5bGUnKTtcblxudmFyIF9UZXh0U3R5bGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dFN0eWxlKTtcblxudmFyIF9UZXh0TWV0cmljcyA9IHJlcXVpcmUoJy4vVGV4dE1ldHJpY3MnKTtcblxudmFyIF9UZXh0TWV0cmljczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0TWV0cmljcyk7XG5cbnZhciBfdHJpbUNhbnZhcyA9IHJlcXVpcmUoJy4uL3V0aWxzL3RyaW1DYW52YXMnKTtcblxudmFyIF90cmltQ2FudmFzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RyaW1DYW52YXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9IC8qIGVzbGludCBtYXgtZGVwdGg6IFsyLCA4XSAqL1xuXG5cbnZhciBkZWZhdWx0RGVzdHJveU9wdGlvbnMgPSB7XG4gICAgdGV4dHVyZTogdHJ1ZSxcbiAgICBjaGlsZHJlbjogZmFsc2UsXG4gICAgYmFzZVRleHR1cmU6IHRydWVcbn07XG5cbi8qKlxuICogQSBUZXh0IE9iamVjdCB3aWxsIGNyZWF0ZSBhIGxpbmUgb3IgbXVsdGlwbGUgbGluZXMgb2YgdGV4dC4gVG8gc3BsaXQgYSBsaW5lIHlvdSBjYW4gdXNlICdcXG4nIGluIHlvdXIgdGV4dCBzdHJpbmcsXG4gKiBvciBhZGQgYSB3b3JkV3JhcCBwcm9wZXJ0eSBzZXQgdG8gdHJ1ZSBhbmQgYW5kIHdvcmRXcmFwV2lkdGggcHJvcGVydHkgd2l0aCBhIHZhbHVlIGluIHRoZSBzdHlsZSBvYmplY3QuXG4gKlxuICogQSBUZXh0IGNhbiBiZSBjcmVhdGVkIGRpcmVjdGx5IGZyb20gYSBzdHJpbmcgYW5kIGEgc3R5bGUgb2JqZWN0XG4gKlxuICogYGBganNcbiAqIGxldCB0ZXh0ID0gbmV3IFBJWEkuVGV4dCgnVGhpcyBpcyBhIFBpeGlKUyB0ZXh0Jyx7Zm9udEZhbWlseSA6ICdBcmlhbCcsIGZvbnRTaXplOiAyNCwgZmlsbCA6IDB4ZmYxMDEwLCBhbGlnbiA6ICdjZW50ZXInfSk7XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3ByaXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5cbnZhciBUZXh0ID0gZnVuY3Rpb24gKF9TcHJpdGUpIHtcbiAgICBfaW5oZXJpdHMoVGV4dCwgX1Nwcml0ZSk7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFRoZSBzdHJpbmcgdGhhdCB5b3Ugd291bGQgbGlrZSB0aGUgdGV4dCB0byBkaXNwbGF5XG4gICAgICogQHBhcmFtIHtvYmplY3R8UElYSS5UZXh0U3R5bGV9IFtzdHlsZV0gLSBUaGUgc3R5bGUgcGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtjYW52YXNdIC0gVGhlIGNhbnZhcyBlbGVtZW50IGZvciBkcmF3aW5nIHRleHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0KHRleHQsIHN0eWxlLCBjYW52YXMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRleHQpO1xuXG4gICAgICAgIGNhbnZhcyA9IGNhbnZhcyB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgICAgICBjYW52YXMud2lkdGggPSAzO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gMztcblxuICAgICAgICB2YXIgdGV4dHVyZSA9IF9UZXh0dXJlMi5kZWZhdWx0LmZyb21DYW52YXMoY2FudmFzLCBfc2V0dGluZ3MyLmRlZmF1bHQuU0NBTEVfTU9ERSwgJ3RleHQnKTtcblxuICAgICAgICB0ZXh0dXJlLm9yaWcgPSBuZXcgX21hdGguUmVjdGFuZ2xlKCk7XG4gICAgICAgIHRleHR1cmUudHJpbSA9IG5ldyBfbWF0aC5SZWN0YW5nbGUoKTtcblxuICAgICAgICAvLyBiYXNlIHRleHR1cmUgaXMgYWxyZWFkeSBhdXRvbWF0aWNhbGx5IGFkZGVkIHRvIHRoZSBjYWNoZSwgbm93IGFkZGluZyB0aGUgYWN0dWFsIHRleHR1cmVcbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1Nwcml0ZS5jYWxsKHRoaXMsIHRleHR1cmUpKTtcblxuICAgICAgICBfVGV4dHVyZTIuZGVmYXVsdC5hZGRUb0NhY2hlKF90aGlzLl90ZXh0dXJlLCBfdGhpcy5fdGV4dHVyZS5iYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHNbMF0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FudmFzIGVsZW1lbnQgdGhhdCBldmVyeXRoaW5nIGlzIGRyYXduIHRvXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY2FudmFzID0gY2FudmFzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FudmFzIDJkIGNvbnRleHQgdGhhdCBldmVyeXRoaW5nIGlzIGRyYXduIHdpdGhcbiAgICAgICAgICogQG1lbWJlciB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29udGV4dCA9IF90aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgY2FudmFzLiBUaGlzIGlzIHNldCBhdXRvbWF0aWNhbGx5IGJ5IHRoZSByZW5kZXJlci5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5yZXNvbHV0aW9uID0gX3NldHRpbmdzMi5kZWZhdWx0LlJFU09MVVRJT047XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgdGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RleHQgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IHN0eWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fc3R5bGUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSBsaXN0ZW5lciB0byB0cmFjayBzdHlsZSBjaGFuZ2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9zdHlsZUxpc3RlbmVyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCBmb250LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZm9udCA9ICcnO1xuXG4gICAgICAgIF90aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgICBfdGhpcy5zdHlsZSA9IHN0eWxlO1xuXG4gICAgICAgIF90aGlzLmxvY2FsU3R5bGVJRCA9IC0xO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0ZXh0IGFuZCB1cGRhdGVzIGl0IHdoZW4gbmVlZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlc3BlY3REaXJ0eSAtIFdoZXRoZXIgdG8gYWJvcnQgdXBkYXRpbmcgdGhlIHRleHQgaWYgdGhlIFRleHQgaXNuJ3QgZGlydHkgYW5kIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQuXG4gICAgICovXG5cblxuICAgIFRleHQucHJvdG90eXBlLnVwZGF0ZVRleHQgPSBmdW5jdGlvbiB1cGRhdGVUZXh0KHJlc3BlY3REaXJ0eSkge1xuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLl9zdHlsZTtcblxuICAgICAgICAvLyBjaGVjayBpZiBzdHlsZSBoYXMgY2hhbmdlZC4uXG4gICAgICAgIGlmICh0aGlzLmxvY2FsU3R5bGVJRCAhPT0gc3R5bGUuc3R5bGVJRCkge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmxvY2FsU3R5bGVJRCA9IHN0eWxlLnN0eWxlSUQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuZGlydHkgJiYgcmVzcGVjdERpcnR5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9mb250ID0gdGhpcy5fc3R5bGUudG9Gb250U3RyaW5nKCk7XG5cbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIHZhciBtZWFzdXJlZCA9IF9UZXh0TWV0cmljczIuZGVmYXVsdC5tZWFzdXJlVGV4dCh0aGlzLl90ZXh0LCB0aGlzLl9zdHlsZSwgdGhpcy5fc3R5bGUud29yZFdyYXAsIHRoaXMuY2FudmFzKTtcbiAgICAgICAgdmFyIHdpZHRoID0gbWVhc3VyZWQud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSBtZWFzdXJlZC5oZWlnaHQ7XG4gICAgICAgIHZhciBsaW5lcyA9IG1lYXN1cmVkLmxpbmVzO1xuICAgICAgICB2YXIgbGluZUhlaWdodCA9IG1lYXN1cmVkLmxpbmVIZWlnaHQ7XG4gICAgICAgIHZhciBsaW5lV2lkdGhzID0gbWVhc3VyZWQubGluZVdpZHRocztcbiAgICAgICAgdmFyIG1heExpbmVXaWR0aCA9IG1lYXN1cmVkLm1heExpbmVXaWR0aDtcbiAgICAgICAgdmFyIGZvbnRQcm9wZXJ0aWVzID0gbWVhc3VyZWQuZm9udFByb3BlcnRpZXM7XG5cbiAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSBNYXRoLmNlaWwoKE1hdGgubWF4KDEsIHdpZHRoKSArIHN0eWxlLnBhZGRpbmcgKiAyKSAqIHRoaXMucmVzb2x1dGlvbik7XG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IE1hdGguY2VpbCgoTWF0aC5tYXgoMSwgaGVpZ2h0KSArIHN0eWxlLnBhZGRpbmcgKiAyKSAqIHRoaXMucmVzb2x1dGlvbik7XG5cbiAgICAgICAgY29udGV4dC5zY2FsZSh0aGlzLnJlc29sdXRpb24sIHRoaXMucmVzb2x1dGlvbik7XG5cbiAgICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG5cbiAgICAgICAgY29udGV4dC5mb250ID0gdGhpcy5fZm9udDtcbiAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0eWxlLnN0cm9rZTtcbiAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBzdHlsZS5zdHJva2VUaGlja25lc3M7XG4gICAgICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gc3R5bGUudGV4dEJhc2VsaW5lO1xuICAgICAgICBjb250ZXh0LmxpbmVKb2luID0gc3R5bGUubGluZUpvaW47XG4gICAgICAgIGNvbnRleHQubWl0ZXJMaW1pdCA9IHN0eWxlLm1pdGVyTGltaXQ7XG5cbiAgICAgICAgdmFyIGxpbmVQb3NpdGlvblggPSB2b2lkIDA7XG4gICAgICAgIHZhciBsaW5lUG9zaXRpb25ZID0gdm9pZCAwO1xuXG4gICAgICAgIGlmIChzdHlsZS5kcm9wU2hhZG93KSB7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHN0eWxlLmRyb3BTaGFkb3dDb2xvcjtcbiAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBzdHlsZS5kcm9wU2hhZG93QWxwaGE7XG4gICAgICAgICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSBzdHlsZS5kcm9wU2hhZG93Qmx1cjtcblxuICAgICAgICAgICAgaWYgKHN0eWxlLmRyb3BTaGFkb3dCbHVyID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSBzdHlsZS5kcm9wU2hhZG93Q29sb3I7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB4U2hhZG93T2Zmc2V0ID0gTWF0aC5jb3Moc3R5bGUuZHJvcFNoYWRvd0FuZ2xlKSAqIHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgICAgIHZhciB5U2hhZG93T2Zmc2V0ID0gTWF0aC5zaW4oc3R5bGUuZHJvcFNoYWRvd0FuZ2xlKSAqIHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggPSBzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyO1xuICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblkgPSBzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyICsgaSAqIGxpbmVIZWlnaHQgKyBmb250UHJvcGVydGllcy5hc2NlbnQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUuYWxpZ24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWCArPSBtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2ldO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3R5bGUuYWxpZ24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggKz0gKG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaV0pIC8gMjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUuZmlsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdMZXR0ZXJTcGFjaW5nKGxpbmVzW2ldLCBsaW5lUG9zaXRpb25YICsgeFNoYWRvd09mZnNldCArIHN0eWxlLnBhZGRpbmcsIGxpbmVQb3NpdGlvblkgKyB5U2hhZG93T2Zmc2V0ICsgc3R5bGUucGFkZGluZyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0eWxlLnN0cm9rZSAmJiBzdHlsZS5zdHJva2VUaGlja25lc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHlsZS5kcm9wU2hhZG93Q29sb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdMZXR0ZXJTcGFjaW5nKGxpbmVzW2ldLCBsaW5lUG9zaXRpb25YICsgeFNoYWRvd09mZnNldCArIHN0eWxlLnBhZGRpbmcsIGxpbmVQb3NpdGlvblkgKyB5U2hhZG93T2Zmc2V0ICsgc3R5bGUucGFkZGluZywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3R5bGUuc3Ryb2tlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVzZXQgdGhlIHNoYWRvdyBibHVyIGFuZCBhbHBoYSB0aGF0IHdhcyBzZXQgYnkgdGhlIGRyb3Agc2hhZG93LCBmb3IgdGhlIHJlZ3VsYXIgdGV4dFxuICAgICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSAwO1xuICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gMTtcblxuICAgICAgICAvLyBzZXQgY2FudmFzIHRleHQgc3R5bGVzXG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5fZ2VuZXJhdGVGaWxsU3R5bGUoc3R5bGUsIGxpbmVzKTtcblxuICAgICAgICAvLyBkcmF3IGxpbmVzIGxpbmUgYnkgbGluZVxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGluZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBsaW5lUG9zaXRpb25YID0gc3R5bGUuc3Ryb2tlVGhpY2tuZXNzIC8gMjtcbiAgICAgICAgICAgIGxpbmVQb3NpdGlvblkgPSBzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyICsgX2kgKiBsaW5lSGVpZ2h0ICsgZm9udFByb3BlcnRpZXMuYXNjZW50O1xuXG4gICAgICAgICAgICBpZiAoc3R5bGUuYWxpZ24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YICs9IG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbX2ldO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzdHlsZS5hbGlnbiA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YICs9IChtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW19pXSkgLyAyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc3R5bGUuc3Ryb2tlICYmIHN0eWxlLnN0cm9rZVRoaWNrbmVzcykge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd0xldHRlclNwYWNpbmcobGluZXNbX2ldLCBsaW5lUG9zaXRpb25YICsgc3R5bGUucGFkZGluZywgbGluZVBvc2l0aW9uWSArIHN0eWxlLnBhZGRpbmcsIHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc3R5bGUuZmlsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd0xldHRlclNwYWNpbmcobGluZXNbX2ldLCBsaW5lUG9zaXRpb25YICsgc3R5bGUucGFkZGluZywgbGluZVBvc2l0aW9uWSArIHN0eWxlLnBhZGRpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGUgdGV4dCB3aXRoIGxldHRlci1zcGFjaW5nLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gVGhlIHRleHQgdG8gZHJhd1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gSG9yaXpvbnRhbCBwb3NpdGlvbiB0byBkcmF3IHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBWZXJ0aWNhbCBwb3NpdGlvbiB0byBkcmF3IHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNTdHJva2U9ZmFsc2VdIC0gSXMgdGhpcyBkcmF3aW5nIGZvciB0aGUgb3V0c2lkZSBzdHJva2Ugb2YgdGhlXG4gICAgICogIHRleHQ/IElmIG5vdCwgaXQncyBmb3IgdGhlIGluc2lkZSBmaWxsXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgVGV4dC5wcm90b3R5cGUuZHJhd0xldHRlclNwYWNpbmcgPSBmdW5jdGlvbiBkcmF3TGV0dGVyU3BhY2luZyh0ZXh0LCB4LCB5KSB7XG4gICAgICAgIHZhciBpc1N0cm9rZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogZmFsc2U7XG5cbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5fc3R5bGU7XG5cbiAgICAgICAgLy8gbGV0dGVyU3BhY2luZyBvZiAwIG1lYW5zIG5vcm1hbFxuICAgICAgICB2YXIgbGV0dGVyU3BhY2luZyA9IHN0eWxlLmxldHRlclNwYWNpbmc7XG5cbiAgICAgICAgaWYgKGxldHRlclNwYWNpbmcgPT09IDApIHtcbiAgICAgICAgICAgIGlmIChpc1N0cm9rZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5zdHJva2VUZXh0KHRleHQsIHgsIHkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFRleHQodGV4dCwgeCwgeSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjaGFyYWN0ZXJzID0gU3RyaW5nLnByb3RvdHlwZS5zcGxpdC5jYWxsKHRleHQsICcnKTtcbiAgICAgICAgdmFyIGN1cnJlbnRQb3NpdGlvbiA9IHg7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHZhciBjdXJyZW50ID0gJyc7XG5cbiAgICAgICAgd2hpbGUgKGluZGV4IDwgdGV4dC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBjaGFyYWN0ZXJzW2luZGV4KytdO1xuICAgICAgICAgICAgaWYgKGlzU3Ryb2tlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnN0cm9rZVRleHQoY3VycmVudCwgY3VycmVudFBvc2l0aW9uLCB5KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxUZXh0KGN1cnJlbnQsIGN1cnJlbnRQb3NpdGlvbiwgeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50UG9zaXRpb24gKz0gdGhpcy5jb250ZXh0Lm1lYXN1cmVUZXh0KGN1cnJlbnQpLndpZHRoICsgbGV0dGVyU3BhY2luZztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRleHR1cmUgc2l6ZSBiYXNlZCBvbiBjYW52YXMgc2l6ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgVGV4dC5wcm90b3R5cGUudXBkYXRlVGV4dHVyZSA9IGZ1bmN0aW9uIHVwZGF0ZVRleHR1cmUoKSB7XG4gICAgICAgIHZhciBjYW52YXMgPSB0aGlzLmNhbnZhcztcblxuICAgICAgICBpZiAodGhpcy5fc3R5bGUudHJpbSkge1xuICAgICAgICAgICAgdmFyIHRyaW1tZWQgPSAoMCwgX3RyaW1DYW52YXMyLmRlZmF1bHQpKGNhbnZhcyk7XG5cbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHRyaW1tZWQud2lkdGg7XG4gICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gdHJpbW1lZC5oZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQucHV0SW1hZ2VEYXRhKHRyaW1tZWQuZGF0YSwgMCwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuX3N0eWxlO1xuICAgICAgICB2YXIgcGFkZGluZyA9IHN0eWxlLnRyaW0gPyAwIDogc3R5bGUucGFkZGluZztcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICBiYXNlVGV4dHVyZS5oYXNMb2FkZWQgPSB0cnVlO1xuICAgICAgICBiYXNlVGV4dHVyZS5yZXNvbHV0aW9uID0gdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgICAgIGJhc2VUZXh0dXJlLnJlYWxXaWR0aCA9IGNhbnZhcy53aWR0aDtcbiAgICAgICAgYmFzZVRleHR1cmUucmVhbEhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG4gICAgICAgIGJhc2VUZXh0dXJlLndpZHRoID0gY2FudmFzLndpZHRoIC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICBiYXNlVGV4dHVyZS5oZWlnaHQgPSBjYW52YXMuaGVpZ2h0IC8gdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgICAgIHRleHR1cmUudHJpbS53aWR0aCA9IHRleHR1cmUuX2ZyYW1lLndpZHRoID0gY2FudmFzLndpZHRoIC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0ZXh0dXJlLnRyaW0uaGVpZ2h0ID0gdGV4dHVyZS5fZnJhbWUuaGVpZ2h0ID0gY2FudmFzLmhlaWdodCAvIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGV4dHVyZS50cmltLnggPSAtcGFkZGluZztcbiAgICAgICAgdGV4dHVyZS50cmltLnkgPSAtcGFkZGluZztcblxuICAgICAgICB0ZXh0dXJlLm9yaWcud2lkdGggPSB0ZXh0dXJlLl9mcmFtZS53aWR0aCAtIHBhZGRpbmcgKiAyO1xuICAgICAgICB0ZXh0dXJlLm9yaWcuaGVpZ2h0ID0gdGV4dHVyZS5fZnJhbWUuaGVpZ2h0IC0gcGFkZGluZyAqIDI7XG5cbiAgICAgICAgLy8gY2FsbCBzcHJpdGUgb25UZXh0dXJlVXBkYXRlIHRvIHVwZGF0ZSBzY2FsZSBpZiBfd2lkdGggb3IgX2hlaWdodCB3ZXJlIHNldFxuICAgICAgICB0aGlzLl9vblRleHR1cmVVcGRhdGUoKTtcblxuICAgICAgICBiYXNlVGV4dHVyZS5lbWl0KCd1cGRhdGUnLCBiYXNlVGV4dHVyZSk7XG5cbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cblxuXG4gICAgVGV4dC5wcm90b3R5cGUucmVuZGVyV2ViR0wgPSBmdW5jdGlvbiByZW5kZXJXZWJHTChyZW5kZXJlcikge1xuICAgICAgICBpZiAodGhpcy5yZXNvbHV0aW9uICE9PSByZW5kZXJlci5yZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgX1Nwcml0ZS5wcm90b3R5cGUucmVuZGVyV2ViR0wuY2FsbCh0aGlzLCByZW5kZXJlcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgQ2FudmFzIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cblxuXG4gICAgVGV4dC5wcm90b3R5cGUuX3JlbmRlckNhbnZhcyA9IGZ1bmN0aW9uIF9yZW5kZXJDYW52YXMocmVuZGVyZXIpIHtcbiAgICAgICAgaWYgKHRoaXMucmVzb2x1dGlvbiAhPT0gcmVuZGVyZXIucmVzb2x1dGlvbikge1xuICAgICAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuXG4gICAgICAgIF9TcHJpdGUucHJvdG90eXBlLl9yZW5kZXJDYW52YXMuY2FsbCh0aGlzLCByZW5kZXJlcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgdGV4dCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1JlY3RhbmdsZX0gcmVjdCAtIFRoZSBvdXRwdXQgcmVjdGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1JlY3RhbmdsZX0gVGhlIGJvdW5kcy5cbiAgICAgKi9cblxuXG4gICAgVGV4dC5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiBnZXRMb2NhbEJvdW5kcyhyZWN0KSB7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICByZXR1cm4gX1Nwcml0ZS5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzLCByZWN0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBUZXh0IGFzIGEgcmVjdGFuZ2xlLiBUaGUgYm91bmRzIGNhbGN1bGF0aW9uIHRha2VzIHRoZSB3b3JsZFRyYW5zZm9ybSBpbnRvIGFjY291bnQuXG4gICAgICovXG5cblxuICAgIFRleHQucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiBfY2FsY3VsYXRlQm91bmRzKCkge1xuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcbiAgICAgICAgLy8gaWYgd2UgaGF2ZSBhbHJlYWR5IGRvbmUgdGhpcyBvbiBUSElTIGZyYW1lLlxuICAgICAgICB0aGlzLl9ib3VuZHMuYWRkUXVhZCh0aGlzLnZlcnRleERhdGEpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdG8gYmUgY2FsbGVkIHVwb24gYSBUZXh0U3R5bGUgY2hhbmdlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFRleHQucHJvdG90eXBlLl9vblN0eWxlQ2hhbmdlID0gZnVuY3Rpb24gX29uU3R5bGVDaGFuZ2UoKSB7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgdGhlIGZpbGwgc3R5bGUuIENhbiBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlIGEgZ3JhZGllbnQgYmFzZWQgb24gdGhlIGZpbGwgc3R5bGUgYmVpbmcgYW4gYXJyYXlcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHN0eWxlIC0gVGhlIHN0eWxlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGxpbmVzIC0gVGhlIGxpbmVzIG9mIHRleHQuXG4gICAgICogQHJldHVybiB7c3RyaW5nfG51bWJlcnxDYW52YXNHcmFkaWVudH0gVGhlIGZpbGwgc3R5bGVcbiAgICAgKi9cblxuXG4gICAgVGV4dC5wcm90b3R5cGUuX2dlbmVyYXRlRmlsbFN0eWxlID0gZnVuY3Rpb24gX2dlbmVyYXRlRmlsbFN0eWxlKHN0eWxlLCBsaW5lcykge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoc3R5bGUuZmlsbCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHlsZS5maWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29jb29uIG9uIGNhbnZhcysgY2Fubm90IGdlbmVyYXRlIHRleHR1cmVzLCBzbyB1c2UgdGhlIGZpcnN0IGNvbG91ciBpbnN0ZWFkXG4gICAgICAgIGlmIChuYXZpZ2F0b3IuaXNDb2Nvb25KUykge1xuICAgICAgICAgICAgcmV0dXJuIHN0eWxlLmZpbGxbMF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0aGUgZ3JhZGllbnQgd2lsbCBiZSBldmVubHkgc3BhY2VkIG91dCBhY2NvcmRpbmcgdG8gaG93IGxhcmdlIHRoZSBhcnJheSBpcy5cbiAgICAgICAgLy8gWycjRkYwMDAwJywgJyMwMEZGMDAnLCAnIzAwMDBGRiddIHdvdWxkIGNyZWF0ZWQgc3RvcHMgYXQgMC4yNSwgMC41IGFuZCAwLjc1XG4gICAgICAgIHZhciBncmFkaWVudCA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHRvdGFsSXRlcmF0aW9ucyA9IHZvaWQgMDtcbiAgICAgICAgdmFyIGN1cnJlbnRJdGVyYXRpb24gPSB2b2lkIDA7XG4gICAgICAgIHZhciBzdG9wID0gdm9pZCAwO1xuXG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMuY2FudmFzLndpZHRoIC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5jYW52YXMuaGVpZ2h0IC8gdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgICAgIC8vIG1ha2UgYSBjb3B5IG9mIHRoZSBzdHlsZSBzZXR0aW5ncywgc28gd2UgY2FuIG1hbmlwdWxhdGUgdGhlbSBsYXRlclxuICAgICAgICB2YXIgZmlsbCA9IHN0eWxlLmZpbGwuc2xpY2UoKTtcbiAgICAgICAgdmFyIGZpbGxHcmFkaWVudFN0b3BzID0gc3R5bGUuZmlsbEdyYWRpZW50U3RvcHMuc2xpY2UoKTtcblxuICAgICAgICAvLyB3YW50aW5nIHRvIGV2ZW5seSBkaXN0cmlidXRlIHRoZSBmaWxscy4gU28gYW4gYXJyYXkgb2YgNCBjb2xvdXJzIHNob3VsZCBnaXZlIGZpbGxzIG9mIDAuMjUsIDAuNSBhbmQgMC43NVxuICAgICAgICBpZiAoIWZpbGxHcmFkaWVudFN0b3BzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGxlbmd0aFBsdXMxID0gZmlsbC5sZW5ndGggKyAxO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbmd0aFBsdXMxOyArK2kpIHtcbiAgICAgICAgICAgICAgICBmaWxsR3JhZGllbnRTdG9wcy5wdXNoKGkgLyBsZW5ndGhQbHVzMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzdG9wIHRoZSBibGVlZGluZyBvZiB0aGUgbGFzdCBncmFkaWVudCBvbiB0aGUgbGluZSBhYm92ZSB0byB0aGUgdG9wIGdyYWRpZW50IG9mIHRoZSB0aGlzIGxpbmVcbiAgICAgICAgLy8gYnkgaGFyZCBkZWZpbmluZyB0aGUgZmlyc3QgZ3JhZGllbnQgY29sb3VyIGF0IHBvaW50IDAsIGFuZCBsYXN0IGdyYWRpZW50IGNvbG91ciBhdCBwb2ludCAxXG4gICAgICAgIGZpbGwudW5zaGlmdChzdHlsZS5maWxsWzBdKTtcbiAgICAgICAgZmlsbEdyYWRpZW50U3RvcHMudW5zaGlmdCgwKTtcblxuICAgICAgICBmaWxsLnB1c2goc3R5bGUuZmlsbFtzdHlsZS5maWxsLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgZmlsbEdyYWRpZW50U3RvcHMucHVzaCgxKTtcblxuICAgICAgICBpZiAoc3R5bGUuZmlsbEdyYWRpZW50VHlwZSA9PT0gX2NvbnN0LlRFWFRfR1JBRElFTlQuTElORUFSX1ZFUlRJQ0FMKSB7XG4gICAgICAgICAgICAvLyBzdGFydCB0aGUgZ3JhZGllbnQgYXQgdGhlIHRvcCBjZW50ZXIgb2YgdGhlIGNhbnZhcywgYW5kIGVuZCBhdCB0aGUgYm90dG9tIG1pZGRsZSBvZiB0aGUgY2FudmFzXG4gICAgICAgICAgICBncmFkaWVudCA9IHRoaXMuY29udGV4dC5jcmVhdGVMaW5lYXJHcmFkaWVudCh3aWR0aCAvIDIsIDAsIHdpZHRoIC8gMiwgaGVpZ2h0KTtcblxuICAgICAgICAgICAgLy8gd2UgbmVlZCB0byByZXBlYXQgdGhlIGdyYWRpZW50IHNvIHRoYXQgZWFjaCBpbmRpdmlkdWFsIGxpbmUgb2YgdGV4dCBoYXMgdGhlIHNhbWUgdmVydGljYWwgZ3JhZGllbnQgZWZmZWN0XG4gICAgICAgICAgICAvLyBbJyNGRjAwMDAnLCAnIzAwRkYwMCcsICcjMDAwMEZGJ10gb3ZlciAyIGxpbmVzIHdvdWxkIGNyZWF0ZSBzdG9wcyBhdCAwLjEyNSwgMC4yNSwgMC4zNzUsIDAuNjI1LCAwLjc1LCAwLjg3NVxuICAgICAgICAgICAgdG90YWxJdGVyYXRpb25zID0gKGZpbGwubGVuZ3RoICsgMSkgKiBsaW5lcy5sZW5ndGg7XG4gICAgICAgICAgICBjdXJyZW50SXRlcmF0aW9uID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IGxpbmVzLmxlbmd0aDsgX2kyKyspIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50SXRlcmF0aW9uICs9IDE7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBmaWxsLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsbEdyYWRpZW50U3RvcHNbal0gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9wID0gZmlsbEdyYWRpZW50U3RvcHNbal0gLyBsaW5lcy5sZW5ndGggKyBfaTIgLyBsaW5lcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9wID0gY3VycmVudEl0ZXJhdGlvbiAvIHRvdGFsSXRlcmF0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3Aoc3RvcCwgZmlsbFtqXSk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24rKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBzdGFydCB0aGUgZ3JhZGllbnQgYXQgdGhlIGNlbnRlciBsZWZ0IG9mIHRoZSBjYW52YXMsIGFuZCBlbmQgYXQgdGhlIGNlbnRlciByaWdodCBvZiB0aGUgY2FudmFzXG4gICAgICAgICAgICBncmFkaWVudCA9IHRoaXMuY29udGV4dC5jcmVhdGVMaW5lYXJHcmFkaWVudCgwLCBoZWlnaHQgLyAyLCB3aWR0aCwgaGVpZ2h0IC8gMik7XG5cbiAgICAgICAgICAgIC8vIGNhbiBqdXN0IGV2ZW5seSBzcGFjZSBvdXQgdGhlIGdyYWRpZW50cyBpbiB0aGlzIGNhc2UsIGFzIG11bHRpcGxlIGxpbmVzIG1ha2VzIG5vIGRpZmZlcmVuY2VcbiAgICAgICAgICAgIC8vIHRvIGFuIGV2ZW4gbGVmdCB0byByaWdodCBncmFkaWVudFxuICAgICAgICAgICAgdG90YWxJdGVyYXRpb25zID0gZmlsbC5sZW5ndGggKyAxO1xuICAgICAgICAgICAgY3VycmVudEl0ZXJhdGlvbiA9IDE7XG5cbiAgICAgICAgICAgIGZvciAodmFyIF9pMyA9IDA7IF9pMyA8IGZpbGwubGVuZ3RoOyBfaTMrKykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsbEdyYWRpZW50U3RvcHNbX2kzXSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcCA9IGZpbGxHcmFkaWVudFN0b3BzW19pM107XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcCA9IGN1cnJlbnRJdGVyYXRpb24gLyB0b3RhbEl0ZXJhdGlvbnM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcChzdG9wLCBmaWxsW19pM10pO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24rKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBncmFkaWVudDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0IG9iamVjdC5cbiAgICAgKiBOb3RlKiBVbmxpa2UgYSBTcHJpdGUsIGEgVGV4dCBvYmplY3Qgd2lsbCBhdXRvbWF0aWNhbGx5IGRlc3Ryb3kgaXRzIGJhc2VUZXh0dXJlIGFuZCB0ZXh0dXJlIGFzXG4gICAgICogdGhlIG1ham9yaXR5IG9mIHRoZSB0aW1lIHRoZSB0ZXh0dXJlIHdpbGwgbm90IGJlIHNoYXJlZCB3aXRoIGFueSBvdGhlciBTcHJpdGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpclxuICAgICAqICBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT10cnVlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT10cnVlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICovXG5cblxuICAgIFRleHQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7IGNoaWxkcmVuOiBvcHRpb25zIH07XG4gICAgICAgIH1cblxuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdERlc3Ryb3lPcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICBfU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgICAgICAgLy8gbWFrZSBzdXJlIHRvIHJlc2V0IHRoZSB0aGUgY29udGV4dCBhbmQgY2FudmFzLi4gZG9udCB3YW50IHRoaXMgaGFuZ2luZyBhcm91bmQgaW4gbWVtb3J5IVxuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgICAgICB0aGlzLmNhbnZhcyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fc3R5bGUgPSBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIFRleHQsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhUZXh0LCBbe1xuICAgICAgICBrZXk6ICd3aWR0aCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hYnModGhpcy5zY2FsZS54KSAqIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgICAgIHZhciBzID0gKDAsIF91dGlscy5zaWduKSh0aGlzLnNjYWxlLngpIHx8IDE7XG5cbiAgICAgICAgICAgIHRoaXMuc2NhbGUueCA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgVGV4dCwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaGVpZ2h0JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLnkpICogdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgICAgIHZhciBzID0gKDAsIF91dGlscy5zaWduKSh0aGlzLnNjYWxlLnkpIHx8IDE7XG5cbiAgICAgICAgICAgIHRoaXMuc2NhbGUueSA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdGhlIHN0eWxlIG9mIHRoZSB0ZXh0LiBTZXQgdXAgYW4gZXZlbnQgbGlzdGVuZXIgdG8gbGlzdGVuIGZvciBjaGFuZ2VzIG9uIHRoZSBzdHlsZVxuICAgICAgICAgKiBvYmplY3QgYW5kIG1hcmsgdGhlIHRleHQgYXMgZGlydHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdHxQSVhJLlRleHRTdHlsZX1cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3N0eWxlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3R5bGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHN0eWxlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAge1xuICAgICAgICAgICAgc3R5bGUgPSBzdHlsZSB8fCB7fTtcblxuICAgICAgICAgICAgaWYgKHN0eWxlIGluc3RhbmNlb2YgX1RleHRTdHlsZTIuZGVmYXVsdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0eWxlID0gc3R5bGU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0eWxlID0gbmV3IF9UZXh0U3R5bGUyLmRlZmF1bHQoc3R5bGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmxvY2FsU3R5bGVJRCA9IC0xO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRoZSBjb3B5IGZvciB0aGUgdGV4dCBvYmplY3QuIFRvIHNwbGl0IGEgbGluZSB5b3UgY2FuIHVzZSAnXFxuJy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndGV4dCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHRleHQpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0ID0gU3RyaW5nKHRleHQgPT09ICcnIHx8IHRleHQgPT09IG51bGwgfHwgdGV4dCA9PT0gdW5kZWZpbmVkID8gJyAnIDogdGV4dCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl90ZXh0ID09PSB0ZXh0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdGV4dCA9IHRleHQ7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBUZXh0O1xufShfU3ByaXRlMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVGV4dDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRleHQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQnVmZmVyID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBUaGUgc2l6ZSBvZiB0aGUgYnVmZmVyIGluIGJ5dGVzLlxuICAgKi9cbiAgZnVuY3Rpb24gQnVmZmVyKHNpemUpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQnVmZmVyKTtcblxuICAgIHRoaXMudmVydGljZXMgPSBuZXcgQXJyYXlCdWZmZXIoc2l6ZSk7XG5cbiAgICAvKipcbiAgICAgKiBWaWV3IG9uIHRoZSB2ZXJ0aWNlcyBhcyBhIEZsb2F0MzJBcnJheSBmb3IgcG9zaXRpb25zXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICovXG4gICAgdGhpcy5mbG9hdDMyVmlldyA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy52ZXJ0aWNlcyk7XG5cbiAgICAvKipcbiAgICAgKiBWaWV3IG9uIHRoZSB2ZXJ0aWNlcyBhcyBhIFVpbnQzMkFycmF5IGZvciB1dnNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLnVpbnQzMlZpZXcgPSBuZXcgVWludDMyQXJyYXkodGhpcy52ZXJ0aWNlcyk7XG4gIH1cblxuICAvKipcbiAgICogRGVzdHJveXMgdGhlIGJ1ZmZlci5cbiAgICpcbiAgICovXG5cblxuICBCdWZmZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHRoaXMudmVydGljZXMgPSBudWxsO1xuICAgIHRoaXMucG9zaXRpb25zID0gbnVsbDtcbiAgICB0aGlzLnV2cyA9IG51bGw7XG4gICAgdGhpcy5jb2xvcnMgPSBudWxsO1xuICB9O1xuXG4gIHJldHVybiBCdWZmZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEJ1ZmZlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhdGNoQnVmZmVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGNoZWNrTWF4SWZTdGF0bWVudHNJblNoYWRlcjtcblxudmFyIF9waXhpR2xDb3JlID0gcmVxdWlyZSgncGl4aS1nbC1jb3JlJyk7XG5cbnZhciBfcGl4aUdsQ29yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9waXhpR2xDb3JlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGZyYWdUZW1wbGF0ZSA9IFsncHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7JywgJ3ZvaWQgbWFpbih2b2lkKXsnLCAnZmxvYXQgdGVzdCA9IDAuMTsnLCAnJWZvcmxvb3AlJywgJ2dsX0ZyYWdDb2xvciA9IHZlYzQoMC4wKTsnLCAnfSddLmpvaW4oJ1xcbicpO1xuXG5mdW5jdGlvbiBjaGVja01heElmU3RhdG1lbnRzSW5TaGFkZXIobWF4SWZzLCBnbCkge1xuICAgIHZhciBjcmVhdGVUZW1wQ29udGV4dCA9ICFnbDtcblxuICAgIC8vIEBpZiBERUJVR1xuICAgIGlmIChtYXhJZnMgPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHZhbHVlIG9mIGAwYCBwYXNzZWQgdG8gYGNoZWNrTWF4SWZTdGF0ZW1lbnRzSW5TaGFkZXJgJyk7XG4gICAgfVxuICAgIC8vIEBlbmRpZlxuXG4gICAgaWYgKGNyZWF0ZVRlbXBDb250ZXh0KSB7XG4gICAgICAgIHZhciB0aW55Q2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICAgICAgdGlueUNhbnZhcy53aWR0aCA9IDE7XG4gICAgICAgIHRpbnlDYW52YXMuaGVpZ2h0ID0gMTtcblxuICAgICAgICBnbCA9IF9waXhpR2xDb3JlMi5kZWZhdWx0LmNyZWF0ZUNvbnRleHQodGlueUNhbnZhcyk7XG4gICAgfVxuXG4gICAgdmFyIHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIpO1xuXG4gICAgd2hpbGUgKHRydWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc3RhbnQtY29uZGl0aW9uXG4gICAge1xuICAgICAgICB2YXIgZnJhZ21lbnRTcmMgPSBmcmFnVGVtcGxhdGUucmVwbGFjZSgvJWZvcmxvb3AlL2dpLCBnZW5lcmF0ZUlmVGVzdFNyYyhtYXhJZnMpKTtcblxuICAgICAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBmcmFnbWVudFNyYyk7XG4gICAgICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcblxuICAgICAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xuICAgICAgICAgICAgbWF4SWZzID0gbWF4SWZzIC8gMiB8IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB2YWxpZCFcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNyZWF0ZVRlbXBDb250ZXh0KSB7XG4gICAgICAgIC8vIGdldCByaWQgb2YgY29udGV4dFxuICAgICAgICBpZiAoZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKSkge1xuICAgICAgICAgICAgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKS5sb3NlQ29udGV4dCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1heElmcztcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVJZlRlc3RTcmMobWF4SWZzKSB7XG4gICAgdmFyIHNyYyA9ICcnO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhJZnM7ICsraSkge1xuICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgIHNyYyArPSAnXFxuZWxzZSAnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGkgPCBtYXhJZnMgLSAxKSB7XG4gICAgICAgICAgICBzcmMgKz0gJ2lmKHRlc3QgPT0gJyArIGkgKyAnLjApe30nO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNyYztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoZWNrTWF4SWZTdGF0bWVudHNJblNoYWRlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBnZW5lcmF0ZU11bHRpVGV4dHVyZVNoYWRlcjtcblxudmFyIF9TaGFkZXIgPSByZXF1aXJlKCcuLi8uLi9TaGFkZXInKTtcblxudmFyIF9TaGFkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2hhZGVyKTtcblxudmFyIF9wYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgZnJhZ1RlbXBsYXRlID0gWyd2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDsnLCAndmFyeWluZyB2ZWM0IHZDb2xvcjsnLCAndmFyeWluZyBmbG9hdCB2VGV4dHVyZUlkOycsICd1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcnNbJWNvdW50JV07JywgJ3ZvaWQgbWFpbih2b2lkKXsnLCAndmVjNCBjb2xvcjsnLCAnZmxvYXQgdGV4dHVyZUlkID0gZmxvb3IodlRleHR1cmVJZCswLjUpOycsICclZm9ybG9vcCUnLCAnZ2xfRnJhZ0NvbG9yID0gY29sb3IgKiB2Q29sb3I7JywgJ30nXS5qb2luKCdcXG4nKTtcblxuZnVuY3Rpb24gZ2VuZXJhdGVNdWx0aVRleHR1cmVTaGFkZXIoZ2wsIG1heFRleHR1cmVzKSB7XG4gICAgdmFyIHZlcnRleFNyYyA9ICdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuYXR0cmlidXRlIHZlYzQgYUNvbG9yO1xcbmF0dHJpYnV0ZSBmbG9hdCBhVGV4dHVyZUlkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxudmFyeWluZyBmbG9hdCB2VGV4dHVyZUlkO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbiAgICB2VGV4dHVyZUlkID0gYVRleHR1cmVJZDtcXG4gICAgdkNvbG9yID0gYUNvbG9yO1xcbn1cXG4nO1xuICAgIHZhciBmcmFnbWVudFNyYyA9IGZyYWdUZW1wbGF0ZTtcblxuICAgIGZyYWdtZW50U3JjID0gZnJhZ21lbnRTcmMucmVwbGFjZSgvJWNvdW50JS9naSwgbWF4VGV4dHVyZXMpO1xuICAgIGZyYWdtZW50U3JjID0gZnJhZ21lbnRTcmMucmVwbGFjZSgvJWZvcmxvb3AlL2dpLCBnZW5lcmF0ZVNhbXBsZVNyYyhtYXhUZXh0dXJlcykpO1xuXG4gICAgdmFyIHNoYWRlciA9IG5ldyBfU2hhZGVyMi5kZWZhdWx0KGdsLCB2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjKTtcblxuICAgIHZhciBzYW1wbGVWYWx1ZXMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKykge1xuICAgICAgICBzYW1wbGVWYWx1ZXNbaV0gPSBpO1xuICAgIH1cblxuICAgIHNoYWRlci5iaW5kKCk7XG4gICAgc2hhZGVyLnVuaWZvcm1zLnVTYW1wbGVycyA9IHNhbXBsZVZhbHVlcztcblxuICAgIHJldHVybiBzaGFkZXI7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlU2FtcGxlU3JjKG1heFRleHR1cmVzKSB7XG4gICAgdmFyIHNyYyA9ICcnO1xuXG4gICAgc3JjICs9ICdcXG4nO1xuICAgIHNyYyArPSAnXFxuJztcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKykge1xuICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgIHNyYyArPSAnXFxuZWxzZSAnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGkgPCBtYXhUZXh0dXJlcyAtIDEpIHtcbiAgICAgICAgICAgIHNyYyArPSAnaWYodGV4dHVyZUlkID09ICcgKyBpICsgJy4wKSc7XG4gICAgICAgIH1cblxuICAgICAgICBzcmMgKz0gJ1xcbnsnO1xuICAgICAgICBzcmMgKz0gJ1xcblxcdGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyc1snICsgaSArICddLCB2VGV4dHVyZUNvb3JkKTsnO1xuICAgICAgICBzcmMgKz0gJ1xcbn0nO1xuICAgIH1cblxuICAgIHNyYyArPSAnXFxuJztcbiAgICBzcmMgKz0gJ1xcbic7XG5cbiAgICByZXR1cm4gc3JjO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2VuZXJhdGVNdWx0aVRleHR1cmVTaGFkZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdmFsaWRhdGVDb250ZXh0O1xuZnVuY3Rpb24gdmFsaWRhdGVDb250ZXh0KGdsKSB7XG4gICAgdmFyIGF0dHJpYnV0ZXMgPSBnbC5nZXRDb250ZXh0QXR0cmlidXRlcygpO1xuXG4gICAgLy8gdGhpcyBpcyBnb2luZyB0byBiZSBmYWlybHkgc2ltcGxlIGZvciBub3cuLiBidXQgYXQgbGVhc3Qgd2UgaGF2ZSByb29tIHRvIGdyb3chXG4gICAgaWYgKCFhdHRyaWJ1dGVzLnN0ZW5jaWwpIHtcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICAgICAgICBjb25zb2xlLndhcm4oJ1Byb3ZpZGVkIFdlYkdMIGNvbnRleHQgZG9lcyBub3QgaGF2ZSBhIHN0ZW5jaWwgYnVmZmVyLCBtYXNrcyBtYXkgbm90IHJlbmRlciBjb3JyZWN0bHknKTtcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmFsaWRhdGVDb250ZXh0LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IG1hcFdlYkdMRHJhd01vZGVzVG9QaXhpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vLi4vY29uc3QnKTtcblxuLyoqXG4gKiBHZW5lcmljIE1hc2sgU3RhY2sgZGF0YSBzdHJ1Y3R1cmUuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBmdW5jdGlvbiBtYXBXZWJHTERyYXdNb2Rlc1RvUGl4aVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFRoZSBjdXJyZW50IFdlYkdMIGRyYXdpbmcgY29udGV4dFxuICogQHBhcmFtIHtvYmplY3R9IFtvYmplY3Q9e31dIC0gVGhlIG9iamVjdCB0byBtYXAgaW50b1xuICogQHJldHVybiB7b2JqZWN0fSBUaGUgbWFwcGVkIGRyYXcgbW9kZXMuXG4gKi9cbmZ1bmN0aW9uIG1hcFdlYkdMRHJhd01vZGVzVG9QaXhpKGdsKSB7XG4gIHZhciBvYmplY3QgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gIG9iamVjdFtfY29uc3QuRFJBV19NT0RFUy5QT0lOVFNdID0gZ2wuUE9JTlRTO1xuICBvYmplY3RbX2NvbnN0LkRSQVdfTU9ERVMuTElORVNdID0gZ2wuTElORVM7XG4gIG9iamVjdFtfY29uc3QuRFJBV19NT0RFUy5MSU5FX0xPT1BdID0gZ2wuTElORV9MT09QO1xuICBvYmplY3RbX2NvbnN0LkRSQVdfTU9ERVMuTElORV9TVFJJUF0gPSBnbC5MSU5FX1NUUklQO1xuICBvYmplY3RbX2NvbnN0LkRSQVdfTU9ERVMuVFJJQU5HTEVTXSA9IGdsLlRSSUFOR0xFUztcbiAgb2JqZWN0W19jb25zdC5EUkFXX01PREVTLlRSSUFOR0xFX1NUUklQXSA9IGdsLlRSSUFOR0xFX1NUUklQO1xuICBvYmplY3RbX2NvbnN0LkRSQVdfTU9ERVMuVFJJQU5HTEVfRkFOXSA9IGdsLlRSSUFOR0xFX0ZBTjtcblxuICByZXR1cm4gb2JqZWN0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwV2ViR0xEcmF3TW9kZXNUb1BpeGkuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vLi4vY29uc3QnKTtcblxuLyoqXG4gKiBNYXBzIGdsIGJsZW5kIGNvbWJpbmF0aW9ucyB0byBXZWJHTC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGZ1bmN0aW9uIG1hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFRoZSByZW5kZXJpbmcgY29udGV4dC5cbiAqIEBwYXJhbSB7c3RyaW5nW119IFthcnJheT1bXV0gLSBUaGUgYXJyYXkgdG8gb3V0cHV0IGludG8uXG4gKiBAcmV0dXJuIHtzdHJpbmdbXX0gTWFwcGVkIG1vZGVzLlxuICovXG5mdW5jdGlvbiBtYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkoZ2wpIHtcbiAgICB2YXIgYXJyYXkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFtdO1xuXG4gICAgLy8gVE9ETyAtIHByZW11bHRpcGx5IGFscGhhIHdvdWxkIGJlIGRpZmZlcmVudC5cbiAgICAvLyBhZGQgYSBib29sZWFuIGZvciB0aGF0IVxuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5OT1JNQUxdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkFERF0gPSBbZ2wuT05FLCBnbC5EU1RfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5NVUxUSVBMWV0gPSBbZ2wuRFNUX0NPTE9SLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuU0NSRUVOXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQ09MT1JdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5PVkVSTEFZXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5EQVJLRU5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkxJR0hURU5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkNPTE9SX0RPREdFXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5DT0xPUl9CVVJOXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5IQVJEX0xJR0hUXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5TT0ZUX0xJR0hUXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5ESUZGRVJFTkNFXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5FWENMVVNJT05dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkhVRV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuU0FUVVJBVElPTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQ09MT1JdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkxVTUlOT1NJVFldID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG5cbiAgICAvLyBub3QtcHJlbXVsdGlwbGllZCBibGVuZCBtb2Rlc1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5OT1JNQUxfTlBNXSA9IFtnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkFERF9OUE1dID0gW2dsLlNSQ19BTFBIQSwgZ2wuRFNUX0FMUEhBLCBnbC5PTkUsIGdsLkRTVF9BTFBIQV07XG4gICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLlNDUkVFTl9OUE1dID0gW2dsLlNSQ19BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19DT0xPUiwgZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0NPTE9SXTtcblxuICAgIHJldHVybiBhcnJheTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpID0gcmVxdWlyZSgnLi91dGlscy9tYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGknKTtcblxudmFyIF9tYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIEJMRU5EID0gMDtcbnZhciBERVBUSF9URVNUID0gMTtcbnZhciBGUk9OVF9GQUNFID0gMjtcbnZhciBDVUxMX0ZBQ0UgPSAzO1xudmFyIEJMRU5EX0ZVTkMgPSA0O1xuXG4vKipcbiAqIEEgV2ViR0wgc3RhdGUgbWFjaGluZXNcbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGNsYXNzXG4gKi9cblxudmFyIFdlYkdMU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBXZWJHTFN0YXRlKGdsKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBXZWJHTFN0YXRlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgYWN0aXZlIHN0YXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQ4QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFjdGl2ZVN0YXRlID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBzdGF0ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtVaW50OEFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWZhdWx0U3RhdGUgPSBuZXcgVWludDhBcnJheSgxNik7XG5cbiAgICAgICAgLy8gZGVmYXVsdCBibGVuZCBtb2RlLi5cbiAgICAgICAgdGhpcy5kZWZhdWx0U3RhdGVbMF0gPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBzdGF0ZSBpbmRleCBpbiB0aGUgc3RhY2tcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGFja0luZGV4ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN0YWNrIGhvbGRpbmcgYWxsIHRoZSBkaWZmZXJlbnQgc3RhdGVzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5PCo+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGFjayA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG5cbiAgICAgICAgdGhpcy5tYXhBdHRyaWJzID0gZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9WRVJURVhfQVRUUklCUyk7XG5cbiAgICAgICAgdGhpcy5hdHRyaWJTdGF0ZSA9IHtcbiAgICAgICAgICAgIHRlbXBBdHRyaWJTdGF0ZTogbmV3IEFycmF5KHRoaXMubWF4QXR0cmlicyksXG4gICAgICAgICAgICBhdHRyaWJTdGF0ZTogbmV3IEFycmF5KHRoaXMubWF4QXR0cmlicylcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmJsZW5kTW9kZXMgPSAoMCwgX21hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aTIuZGVmYXVsdCkoZ2wpO1xuXG4gICAgICAgIC8vIGNoZWNrIHdlIGhhdmUgdmFvLi5cbiAgICAgICAgdGhpcy5uYXRpdmVWYW9FeHRlbnNpb24gPSBnbC5nZXRFeHRlbnNpb24oJ09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0JykgfHwgZ2wuZ2V0RXh0ZW5zaW9uKCdNT1pfT0VTX3ZlcnRleF9hcnJheV9vYmplY3QnKSB8fCBnbC5nZXRFeHRlbnNpb24oJ1dFQktJVF9PRVNfdmVydGV4X2FycmF5X29iamVjdCcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFB1c2hlcyBhIG5ldyBhY3RpdmUgc3RhdGVcbiAgICAgKi9cblxuXG4gICAgV2ViR0xTdGF0ZS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIHB1c2goKSB7XG4gICAgICAgIC8vIG5leHQgc3RhdGUuLlxuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YWNrW3RoaXMuc3RhY2tJbmRleF07XG5cbiAgICAgICAgaWYgKCFzdGF0ZSkge1xuICAgICAgICAgICAgc3RhdGUgPSB0aGlzLnN0YWNrW3RoaXMuc3RhY2tJbmRleF0gPSBuZXcgVWludDhBcnJheSgxNik7XG4gICAgICAgIH1cblxuICAgICAgICArK3RoaXMuc3RhY2tJbmRleDtcblxuICAgICAgICAvLyBjb3B5IHN0YXRlLi5cbiAgICAgICAgLy8gc2V0IGFjdGl2ZSBzdGF0ZSBzbyB3ZSBjYW4gZm9yY2Ugb3ZlcnJpZGVzIG9mIGdsIHN0YXRlXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hY3RpdmVTdGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgc3RhdGVbaV0gPSB0aGlzLmFjdGl2ZVN0YXRlW2ldO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBvcHMgYSBzdGF0ZSBvdXRcbiAgICAgKi9cblxuXG4gICAgV2ViR0xTdGF0ZS5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24gcG9wKCkge1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YWNrWy0tdGhpcy5zdGFja0luZGV4XTtcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHN0YXRlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3VycmVudCBzdGF0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBzdGF0ZSAtIFRoZSBzdGF0ZSB0byBzZXQuXG4gICAgICovXG5cblxuICAgIFdlYkdMU3RhdGUucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gc2V0U3RhdGUoc3RhdGUpIHtcbiAgICAgICAgdGhpcy5zZXRCbGVuZChzdGF0ZVtCTEVORF0pO1xuICAgICAgICB0aGlzLnNldERlcHRoVGVzdChzdGF0ZVtERVBUSF9URVNUXSk7XG4gICAgICAgIHRoaXMuc2V0RnJvbnRGYWNlKHN0YXRlW0ZST05UX0ZBQ0VdKTtcbiAgICAgICAgdGhpcy5zZXRDdWxsRmFjZShzdGF0ZVtDVUxMX0ZBQ0VdKTtcbiAgICAgICAgdGhpcy5zZXRCbGVuZE1vZGUoc3RhdGVbQkxFTkRfRlVOQ10pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIG9yIGRpc2FibGVkIGJsZW5kaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFR1cm4gb24gb3Igb2ZmIHdlYmdsIGJsZW5kaW5nLlxuICAgICAqL1xuXG5cbiAgICBXZWJHTFN0YXRlLnByb3RvdHlwZS5zZXRCbGVuZCA9IGZ1bmN0aW9uIHNldEJsZW5kKHZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgPyAxIDogMDtcblxuICAgICAgICBpZiAodGhpcy5hY3RpdmVTdGF0ZVtCTEVORF0gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjdGl2ZVN0YXRlW0JMRU5EXSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmdsW3ZhbHVlID8gJ2VuYWJsZScgOiAnZGlzYWJsZSddKHRoaXMuZ2wuQkxFTkQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBibGVuZCBtb2RlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIC0gVGhlIGJsZW5kIG1vZGUgdG8gc2V0IHRvLlxuICAgICAqL1xuXG5cbiAgICBXZWJHTFN0YXRlLnByb3RvdHlwZS5zZXRCbGVuZE1vZGUgPSBmdW5jdGlvbiBzZXRCbGVuZE1vZGUodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSB0aGlzLmFjdGl2ZVN0YXRlW0JMRU5EX0ZVTkNdKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjdGl2ZVN0YXRlW0JMRU5EX0ZVTkNdID0gdmFsdWU7XG5cbiAgICAgICAgdmFyIG1vZGUgPSB0aGlzLmJsZW5kTW9kZXNbdmFsdWVdO1xuXG4gICAgICAgIGlmIChtb2RlLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgdGhpcy5nbC5ibGVuZEZ1bmMobW9kZVswXSwgbW9kZVsxXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmdsLmJsZW5kRnVuY1NlcGFyYXRlKG1vZGVbMF0sIG1vZGVbMV0sIG1vZGVbMl0sIG1vZGVbM10pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgd2hldGhlciB0byBlbmFibGUgb3IgZGlzYWJsZSBkZXB0aCB0ZXN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFR1cm4gb24gb3Igb2ZmIHdlYmdsIGRlcHRoIHRlc3RpbmcuXG4gICAgICovXG5cblxuICAgIFdlYkdMU3RhdGUucHJvdG90eXBlLnNldERlcHRoVGVzdCA9IGZ1bmN0aW9uIHNldERlcHRoVGVzdCh2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlID8gMSA6IDA7XG5cbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlU3RhdGVbREVQVEhfVEVTVF0gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjdGl2ZVN0YXRlW0RFUFRIX1RFU1RdID0gdmFsdWU7XG4gICAgICAgIHRoaXMuZ2xbdmFsdWUgPyAnZW5hYmxlJyA6ICdkaXNhYmxlJ10odGhpcy5nbC5ERVBUSF9URVNUKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB3aGV0aGVyIHRvIGVuYWJsZSBvciBkaXNhYmxlIGN1bGwgZmFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSBUdXJuIG9uIG9yIG9mZiB3ZWJnbCBjdWxsIGZhY2UuXG4gICAgICovXG5cblxuICAgIFdlYkdMU3RhdGUucHJvdG90eXBlLnNldEN1bGxGYWNlID0gZnVuY3Rpb24gc2V0Q3VsbEZhY2UodmFsdWUpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSA/IDEgOiAwO1xuXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZVN0YXRlW0NVTExfRkFDRV0gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjdGl2ZVN0YXRlW0NVTExfRkFDRV0gPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5nbFt2YWx1ZSA/ICdlbmFibGUnIDogJ2Rpc2FibGUnXSh0aGlzLmdsLkNVTExfRkFDRSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdsIGZyb250IGZhY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gdHJ1ZSBpcyBjbG9ja3dpc2UgYW5kIGZhbHNlIGlzIGNvdW50ZXItY2xvY2t3aXNlXG4gICAgICovXG5cblxuICAgIFdlYkdMU3RhdGUucHJvdG90eXBlLnNldEZyb250RmFjZSA9IGZ1bmN0aW9uIHNldEZyb250RmFjZSh2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlID8gMSA6IDA7XG5cbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlU3RhdGVbRlJPTlRfRkFDRV0gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjdGl2ZVN0YXRlW0ZST05UX0ZBQ0VdID0gdmFsdWU7XG4gICAgICAgIHRoaXMuZ2wuZnJvbnRGYWNlKHRoaXMuZ2xbdmFsdWUgPyAnQ1cnIDogJ0NDVyddKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZXMgYWxsIHRoZSB2YW9zIGluIHVzZVxuICAgICAqXG4gICAgICovXG5cblxuICAgIFdlYkdMU3RhdGUucHJvdG90eXBlLnJlc2V0QXR0cmlidXRlcyA9IGZ1bmN0aW9uIHJlc2V0QXR0cmlidXRlcygpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmF0dHJpYlN0YXRlLnRlbXBBdHRyaWJTdGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5hdHRyaWJTdGF0ZS50ZW1wQXR0cmliU3RhdGVbaV0gPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHRoaXMuYXR0cmliU3RhdGUuYXR0cmliU3RhdGUubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmF0dHJpYlN0YXRlLmF0dHJpYlN0YXRlW19pXSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpbSBnb2luZyB0byBhc3N1bWUgb25lIGlzIGFsd2F5cyBhY3RpdmUgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMuXG4gICAgICAgIGZvciAodmFyIF9pMiA9IDE7IF9pMiA8IHRoaXMubWF4QXR0cmliczsgX2kyKyspIHtcbiAgICAgICAgICAgIHRoaXMuZ2wuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KF9pMik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gdXNlZFxuICAgIC8qKlxuICAgICAqIFJlc2V0cyBhbGwgdGhlIGxvZ2ljIGFuZCBkaXNhYmxlcyB0aGUgdmFvc1xuICAgICAqL1xuXG5cbiAgICBXZWJHTFN0YXRlLnByb3RvdHlwZS5yZXNldFRvRGVmYXVsdCA9IGZ1bmN0aW9uIHJlc2V0VG9EZWZhdWx0KCkge1xuICAgICAgICAvLyB1bmJpbmQgYW55IFZBTyBpZiB0aGV5IGV4aXN0Li5cbiAgICAgICAgaWYgKHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uKSB7XG4gICAgICAgICAgICB0aGlzLm5hdGl2ZVZhb0V4dGVuc2lvbi5iaW5kVmVydGV4QXJyYXlPRVMobnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZXNldCBhbGwgYXR0cmlidXRlcy4uXG4gICAgICAgIHRoaXMucmVzZXRBdHRyaWJ1dGVzKCk7XG5cbiAgICAgICAgLy8gc2V0IGFjdGl2ZSBzdGF0ZSBzbyB3ZSBjYW4gZm9yY2Ugb3ZlcnJpZGVzIG9mIGdsIHN0YXRlXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hY3RpdmVTdGF0ZS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdGhpcy5hY3RpdmVTdGF0ZVtpXSA9IDMyO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5nbC5waXhlbFN0b3JlaSh0aGlzLmdsLlVOUEFDS19GTElQX1lfV0VCR0wsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHRoaXMuZGVmYXVsdFN0YXRlKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFdlYkdMU3RhdGU7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFdlYkdMU3RhdGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1XZWJHTFN0YXRlLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvbnN0Jyk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi8uLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBUZXh0dXJlR2FyYmFnZUNvbGxlY3Rvci4gVGhpcyBjbGFzcyBtYW5hZ2VzIHRoZSBHUFUgYW5kIGVuc3VyZXMgdGhhdCBpdCBkb2VzIG5vdCBnZXQgY2xvZ2dlZFxuICogdXAgd2l0aCB0ZXh0dXJlcyB0aGF0IGFyZSBubyBsb25nZXIgYmVpbmcgdXNlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0dXJlR2FyYmFnZUNvbGxlY3RvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0dXJlR2FyYmFnZUNvbGxlY3RvcihyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGV4dHVyZUdhcmJhZ2VDb2xsZWN0b3IpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcblxuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5jaGVja0NvdW50ID0gMDtcbiAgICAgICAgdGhpcy5tYXhJZGxlID0gX3NldHRpbmdzMi5kZWZhdWx0LkdDX01BWF9JRExFO1xuICAgICAgICB0aGlzLmNoZWNrQ291bnRNYXggPSBfc2V0dGluZ3MyLmRlZmF1bHQuR0NfTUFYX0NIRUNLX0NPVU5UO1xuICAgICAgICB0aGlzLm1vZGUgPSBfc2V0dGluZ3MyLmRlZmF1bHQuR0NfTU9ERTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgdG8gc2VlIHdoZW4gdGhlIGxhc3QgdGltZSBhIHRleHR1cmUgd2FzIHVzZWRcbiAgICAgKiBpZiB0aGUgdGV4dHVyZSBoYXMgbm90IGJlZW4gdXNlZCBmb3IgYSBzcGVjaWZpZWQgYW1vdW50IG9mIHRpbWUgaXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEdQVVxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlR2FyYmFnZUNvbGxlY3Rvci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgICB0aGlzLmNvdW50Kys7XG5cbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gX2NvbnN0LkdDX01PREVTLk1BTlVBTCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jaGVja0NvdW50Kys7XG5cbiAgICAgICAgaWYgKHRoaXMuY2hlY2tDb3VudCA+IHRoaXMuY2hlY2tDb3VudE1heCkge1xuICAgICAgICAgICAgdGhpcy5jaGVja0NvdW50ID0gMDtcblxuICAgICAgICAgICAgdGhpcy5ydW4oKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgdG8gc2VlIHdoZW4gdGhlIGxhc3QgdGltZSBhIHRleHR1cmUgd2FzIHVzZWRcbiAgICAgKiBpZiB0aGUgdGV4dHVyZSBoYXMgbm90IGJlZW4gdXNlZCBmb3IgYSBzcGVjaWZpZWQgYW1vdW50IG9mIHRpbWUgaXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEdQVVxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlR2FyYmFnZUNvbGxlY3Rvci5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gcnVuKCkge1xuICAgICAgICB2YXIgdG0gPSB0aGlzLnJlbmRlcmVyLnRleHR1cmVNYW5hZ2VyO1xuICAgICAgICB2YXIgbWFuYWdlZFRleHR1cmVzID0gdG0uX21hbmFnZWRUZXh0dXJlcztcbiAgICAgICAgdmFyIHdhc1JlbW92ZWQgPSBmYWxzZTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hbmFnZWRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBtYW5hZ2VkVGV4dHVyZXNbaV07XG5cbiAgICAgICAgICAgIC8vIG9ubHkgc3VwcG9ydHMgbm9uIGdlbmVyYXRlZCB0ZXh0dXJlcyBhdCB0aGUgbW9tZW50IVxuICAgICAgICAgICAgaWYgKCF0ZXh0dXJlLl9nbFJlbmRlclRhcmdldHMgJiYgdGhpcy5jb3VudCAtIHRleHR1cmUudG91Y2hlZCA+IHRoaXMubWF4SWRsZSkge1xuICAgICAgICAgICAgICAgIHRtLmRlc3Ryb3lUZXh0dXJlKHRleHR1cmUsIHRydWUpO1xuICAgICAgICAgICAgICAgIG1hbmFnZWRUZXh0dXJlc1tpXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgd2FzUmVtb3ZlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2FzUmVtb3ZlZCkge1xuICAgICAgICAgICAgdmFyIGogPSAwO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbWFuYWdlZFRleHR1cmVzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIGlmIChtYW5hZ2VkVGV4dHVyZXNbX2ldICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hbmFnZWRUZXh0dXJlc1tqKytdID0gbWFuYWdlZFRleHR1cmVzW19pXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1hbmFnZWRUZXh0dXJlcy5sZW5ndGggPSBqO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIHRoZSB0ZXh0dXJlcyB3aXRoaW4gdGhlIHNwZWNpZmllZCBkaXNwbGF5T2JqZWN0IGFuZCBpdHMgY2hpbGRyZW4gZnJvbSB0aGUgR1BVXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIHRoZSBkaXNwbGF5T2JqZWN0IHRvIHJlbW92ZSB0aGUgdGV4dHVyZXMgZnJvbS5cbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZUdhcmJhZ2VDb2xsZWN0b3IucHJvdG90eXBlLnVubG9hZCA9IGZ1bmN0aW9uIHVubG9hZChkaXNwbGF5T2JqZWN0KSB7XG4gICAgICAgIHZhciB0bSA9IHRoaXMucmVuZGVyZXIudGV4dHVyZU1hbmFnZXI7XG5cbiAgICAgICAgLy8gb25seSBkZXN0cm95IG5vbiBnZW5lcmF0ZWQgdGV4dHVyZXNcbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuX3RleHR1cmUgJiYgZGlzcGxheU9iamVjdC5fdGV4dHVyZS5fZ2xSZW5kZXJUYXJnZXRzKSB7XG4gICAgICAgICAgICB0bS5kZXN0cm95VGV4dHVyZShkaXNwbGF5T2JqZWN0Ll90ZXh0dXJlLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSBkaXNwbGF5T2JqZWN0LmNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICB0aGlzLnVubG9hZChkaXNwbGF5T2JqZWN0LmNoaWxkcmVuW2ldKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gVGV4dHVyZUdhcmJhZ2VDb2xsZWN0b3I7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRleHR1cmVHYXJiYWdlQ29sbGVjdG9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dHVyZUdhcmJhZ2VDb2xsZWN0b3IuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3BpeGlHbENvcmUgPSByZXF1aXJlKCdwaXhpLWdsLWNvcmUnKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvbnN0Jyk7XG5cbnZhciBfUmVuZGVyVGFyZ2V0ID0gcmVxdWlyZSgnLi91dGlscy9SZW5kZXJUYXJnZXQnKTtcblxudmFyIF9SZW5kZXJUYXJnZXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmVuZGVyVGFyZ2V0KTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIGNyZWF0ZSBhIHdlYkdMIFRleHR1cmVcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0dXJlTWFuYWdlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCByZW5kZXJlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHR1cmVNYW5hZ2VyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUZXh0dXJlTWFuYWdlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuV2ViR0xSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmFjayB0ZXh0dXJlcyBpbiB0aGUgcmVuZGVyZXIgc28gd2UgY2FuIG5vIGxvbmdlciBsaXN0ZW4gdG8gdGhlbSBvbiBkZXN0cnVjdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8Kj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9tYW5hZ2VkVGV4dHVyZXMgPSBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCaW5kcyBhIHRleHR1cmUuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZU1hbmFnZXIucHJvdG90eXBlLmJpbmRUZXh0dXJlID0gZnVuY3Rpb24gYmluZFRleHR1cmUoKSB7fVxuICAgIC8vIGVtcHR5XG5cblxuICAgIC8qKlxuICAgICAqIEdldHMgYSB0ZXh0dXJlLlxuICAgICAqXG4gICAgICovXG4gICAgO1xuXG4gICAgVGV4dHVyZU1hbmFnZXIucHJvdG90eXBlLmdldFRleHR1cmUgPSBmdW5jdGlvbiBnZXRUZXh0dXJlKCkge31cbiAgICAvLyBlbXB0eVxuXG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIGFuZC9vciBDcmVhdGVzIGEgV2ViR0wgdGV4dHVyZSBmb3IgdGhlIHJlbmRlcmVyJ3MgY29udGV4dC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZXxQSVhJLlRleHR1cmV9IHRleHR1cmUgLSB0aGUgdGV4dHVyZSB0byB1cGRhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbG9jYXRpb24gLSB0aGUgbG9jYXRpb24gdGhlIHRleHR1cmUgd2lsbCBiZSBib3VuZCB0by5cbiAgICAgKiBAcmV0dXJuIHtHTFRleHR1cmV9IFRoZSBnbCB0ZXh0dXJlLlxuICAgICAqL1xuICAgIDtcblxuICAgIFRleHR1cmVNYW5hZ2VyLnByb3RvdHlwZS51cGRhdGVUZXh0dXJlID0gZnVuY3Rpb24gdXBkYXRlVGV4dHVyZSh0ZXh0dXJlLCBsb2NhdGlvbikge1xuICAgICAgICAvLyBhc3N1bWUgaXQgZ29vZCFcbiAgICAgICAgLy8gdGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmUgfHwgdGV4dHVyZTtcblxuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuXG4gICAgICAgIHZhciBpc1JlbmRlclRleHR1cmUgPSAhIXRleHR1cmUuX2dsUmVuZGVyVGFyZ2V0cztcblxuICAgICAgICBpZiAoIXRleHR1cmUuaGFzTG9hZGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBib3VuZFRleHR1cmVzID0gdGhpcy5yZW5kZXJlci5ib3VuZFRleHR1cmVzO1xuXG4gICAgICAgIC8vIGlmIHRoZSBsb2NhdGlvbiBpcyB1bmRlZmluZWQgdGhlbiB0aGlzIG1heSBoYXZlIGJlZW4gY2FsbGVkIGJ5IG4gZXZlbnQuXG4gICAgICAgIC8vIHRoaXMgYmVpbmcgdGhlIGNhc2UgdGhlIHRleHR1cmUgbWF5IGFscmVhZHkgYmUgYm91bmQgdG8gYSBzbG90LiBBcyBhIHRleHR1cmUgY2FuIG9ubHkgYmUgYm91bmQgb25jZVxuICAgICAgICAvLyB3ZSBuZWVkIHRvIGZpbmQgaXRzIGN1cnJlbnQgbG9jYXRpb24gaWYgaXQgZXhpc3RzLlxuICAgICAgICBpZiAobG9jYXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbG9jYXRpb24gPSAwO1xuXG4gICAgICAgICAgICAvLyBUT0RPIG1heWJlIHdlIGNhbiB1c2UgdGV4dHVyZSBib3VuZCBpZHMgbGF0ZXIgb24uLi5cbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRleHR1cmUgaXMgYWxyZWFkeSBib3VuZC4uXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvdW5kVGV4dHVyZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAoYm91bmRUZXh0dXJlc1tpXSA9PT0gdGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbiA9IGk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGJvdW5kVGV4dHVyZXNbbG9jYXRpb25dID0gdGV4dHVyZTtcblxuICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgbG9jYXRpb24pO1xuXG4gICAgICAgIHZhciBnbFRleHR1cmUgPSB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIGlmICghZ2xUZXh0dXJlKSB7XG4gICAgICAgICAgICBpZiAoaXNSZW5kZXJUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlbmRlclRhcmdldCA9IG5ldyBfUmVuZGVyVGFyZ2V0Mi5kZWZhdWx0KHRoaXMuZ2wsIHRleHR1cmUud2lkdGgsIHRleHR1cmUuaGVpZ2h0LCB0ZXh0dXJlLnNjYWxlTW9kZSwgdGV4dHVyZS5yZXNvbHV0aW9uKTtcblxuICAgICAgICAgICAgICAgIHJlbmRlclRhcmdldC5yZXNpemUodGV4dHVyZS53aWR0aCwgdGV4dHVyZS5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIHRleHR1cmUuX2dsUmVuZGVyVGFyZ2V0c1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXSA9IHJlbmRlclRhcmdldDtcbiAgICAgICAgICAgICAgICBnbFRleHR1cmUgPSByZW5kZXJUYXJnZXQudGV4dHVyZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2xUZXh0dXJlID0gbmV3IF9waXhpR2xDb3JlLkdMVGV4dHVyZSh0aGlzLmdsLCBudWxsLCBudWxsLCBudWxsLCBudWxsKTtcbiAgICAgICAgICAgICAgICBnbFRleHR1cmUuYmluZChsb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgZ2xUZXh0dXJlLnByZW11bHRpcGx5QWxwaGEgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS51cGxvYWQodGV4dHVyZS5zb3VyY2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdID0gZ2xUZXh0dXJlO1xuXG4gICAgICAgICAgICB0ZXh0dXJlLm9uKCd1cGRhdGUnLCB0aGlzLnVwZGF0ZVRleHR1cmUsIHRoaXMpO1xuICAgICAgICAgICAgdGV4dHVyZS5vbignZGlzcG9zZScsIHRoaXMuZGVzdHJveVRleHR1cmUsIHRoaXMpO1xuXG4gICAgICAgICAgICB0aGlzLl9tYW5hZ2VkVGV4dHVyZXMucHVzaCh0ZXh0dXJlKTtcblxuICAgICAgICAgICAgaWYgKHRleHR1cmUuaXNQb3dlck9mVHdvKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRleHR1cmUubWlwbWFwKSB7XG4gICAgICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5lbmFibGVNaXBtYXAoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGV4dHVyZS53cmFwTW9kZSA9PT0gX2NvbnN0LldSQVBfTU9ERVMuQ0xBTVApIHtcbiAgICAgICAgICAgICAgICAgICAgZ2xUZXh0dXJlLmVuYWJsZVdyYXBDbGFtcCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGV4dHVyZS53cmFwTW9kZSA9PT0gX2NvbnN0LldSQVBfTU9ERVMuUkVQRUFUKSB7XG4gICAgICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5lbmFibGVXcmFwUmVwZWF0KCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZ2xUZXh0dXJlLmVuYWJsZVdyYXBNaXJyb3JSZXBlYXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5lbmFibGVXcmFwQ2xhbXAoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRleHR1cmUuc2NhbGVNb2RlID09PSBfY29uc3QuU0NBTEVfTU9ERVMuTkVBUkVTVCkge1xuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5lbmFibGVOZWFyZXN0U2NhbGluZygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBnbFRleHR1cmUuZW5hYmxlTGluZWFyU2NhbGluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHRoZSB0ZXh0dXJlIGFscmVhZHkgZXhpc3RzIHNvIHdlIG9ubHkgbmVlZCB0byB1cGRhdGUgaXQuLlxuICAgICAgICBlbHNlIGlmIChpc1JlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLl9nbFJlbmRlclRhcmdldHNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF0ucmVzaXplKHRleHR1cmUud2lkdGgsIHRleHR1cmUuaGVpZ2h0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2xUZXh0dXJlLnVwbG9hZCh0ZXh0dXJlLnNvdXJjZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdsVGV4dHVyZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVsZXRlcyB0aGUgdGV4dHVyZSBmcm9tIFdlYkdMXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV8UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gdGhlIHRleHR1cmUgdG8gZGVzdHJveVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBSZW1vdmU9ZmFsc2VdIC0gV2hldGhlciB0byBza2lwIHJlbW92aW5nIHRoZSB0ZXh0dXJlIGZyb20gdGhlIFRleHR1cmVNYW5hZ2VyLlxuICAgICAqL1xuXG5cbiAgICBUZXh0dXJlTWFuYWdlci5wcm90b3R5cGUuZGVzdHJveVRleHR1cmUgPSBmdW5jdGlvbiBkZXN0cm95VGV4dHVyZSh0ZXh0dXJlLCBza2lwUmVtb3ZlKSB7XG4gICAgICAgIHRleHR1cmUgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlIHx8IHRleHR1cmU7XG5cbiAgICAgICAgaWYgKCF0ZXh0dXJlLmhhc0xvYWRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHVpZCA9IHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQ7XG4gICAgICAgIHZhciBnbFRleHR1cmVzID0gdGV4dHVyZS5fZ2xUZXh0dXJlcztcbiAgICAgICAgdmFyIGdsUmVuZGVyVGFyZ2V0cyA9IHRleHR1cmUuX2dsUmVuZGVyVGFyZ2V0cztcblxuICAgICAgICBpZiAoZ2xUZXh0dXJlc1t1aWRdKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnVuYmluZFRleHR1cmUodGV4dHVyZSk7XG5cbiAgICAgICAgICAgIGdsVGV4dHVyZXNbdWlkXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB0ZXh0dXJlLm9mZigndXBkYXRlJywgdGhpcy51cGRhdGVUZXh0dXJlLCB0aGlzKTtcbiAgICAgICAgICAgIHRleHR1cmUub2ZmKCdkaXNwb3NlJywgdGhpcy5kZXN0cm95VGV4dHVyZSwgdGhpcyk7XG5cbiAgICAgICAgICAgIGRlbGV0ZSBnbFRleHR1cmVzW3VpZF07XG5cbiAgICAgICAgICAgIGlmICghc2tpcFJlbW92ZSkge1xuICAgICAgICAgICAgICAgIHZhciBpID0gdGhpcy5fbWFuYWdlZFRleHR1cmVzLmluZGV4T2YodGV4dHVyZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgKDAsIF91dGlscy5yZW1vdmVJdGVtcykodGhpcy5fbWFuYWdlZFRleHR1cmVzLCBpLCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ2xSZW5kZXJUYXJnZXRzICYmIGdsUmVuZGVyVGFyZ2V0c1t1aWRdKSB7XG4gICAgICAgICAgICBnbFJlbmRlclRhcmdldHNbdWlkXS5kZXN0cm95KCk7XG4gICAgICAgICAgICBkZWxldGUgZ2xSZW5kZXJUYXJnZXRzW3VpZF07XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVsZXRlcyBhbGwgdGhlIHRleHR1cmVzIGZyb20gV2ViR0xcbiAgICAgKi9cblxuXG4gICAgVGV4dHVyZU1hbmFnZXIucHJvdG90eXBlLnJlbW92ZUFsbCA9IGZ1bmN0aW9uIHJlbW92ZUFsbCgpIHtcbiAgICAgICAgLy8gZW1wdHkgYWxsIHRoZSBvbGQgZ2wgdGV4dHVyZXMgYXMgdGhleSBhcmUgdXNlbGVzcyBub3dcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9tYW5hZ2VkVGV4dHVyZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fbWFuYWdlZFRleHR1cmVzW2ldO1xuXG4gICAgICAgICAgICBpZiAodGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgbWFuYWdlciBhbmQgcmVtb3ZlcyBhbGwgaXRzIHRleHR1cmVzXG4gICAgICovXG5cblxuICAgIFRleHR1cmVNYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgLy8gZGVzdHJveSBtYW5hZ2VkIHRleHR1cmVzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fbWFuYWdlZFRleHR1cmVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX21hbmFnZWRUZXh0dXJlc1tpXTtcblxuICAgICAgICAgICAgdGhpcy5kZXN0cm95VGV4dHVyZSh0ZXh0dXJlLCB0cnVlKTtcblxuICAgICAgICAgICAgdGV4dHVyZS5vZmYoJ3VwZGF0ZScsIHRoaXMudXBkYXRlVGV4dHVyZSwgdGhpcyk7XG4gICAgICAgICAgICB0ZXh0dXJlLm9mZignZGlzcG9zZScsIHRoaXMuZGVzdHJveVRleHR1cmUsIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbWFuYWdlZFRleHR1cmVzID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFRleHR1cmVNYW5hZ2VyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUZXh0dXJlTWFuYWdlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRleHR1cmVNYW5hZ2VyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXggPSBjYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeDtcbmV4cG9ydHMuY2FsY3VsYXRlTm9ybWFsaXplZFNjcmVlblNwYWNlTWF0cml4ID0gY2FsY3VsYXRlTm9ybWFsaXplZFNjcmVlblNwYWNlTWF0cml4O1xuZXhwb3J0cy5jYWxjdWxhdGVTcHJpdGVNYXRyaXggPSBjYWxjdWxhdGVTcHJpdGVNYXRyaXg7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uLy4uLy4uL21hdGgnKTtcblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBtYXBwZWQgbWF0cml4XG4gKiBAcGFyYW0gZmlsdGVyQXJlYSB7UmVjdGFuZ2xlfSBUaGUgZmlsdGVyIGFyZWFcbiAqIEBwYXJhbSBzcHJpdGUge1Nwcml0ZX0gdGhlIHRhcmdldCBzcHJpdGVcbiAqIEBwYXJhbSBvdXRwdXRNYXRyaXgge01hdHJpeH0gQGFsdmluXG4gKiBAcHJpdmF0ZVxuICovXG4vLyBUT0RPIHBsYXlpbmcgYXJvdW5kIGhlcmUuLiB0aGlzIGlzIHRlbXBvcmFyeSAtICh3aWxsIGVuZCB1cCBpbiB0aGUgc2hhZGVyKVxuLy8gdGhpcyByZXR1cm5zIGEgbWF0cml4IHRoYXQgd2lsbCBub3JtYWxpc2UgbWFwIGZpbHRlciBjb3JkcyBpbiB0aGUgZmlsdGVyIHRvIHNjcmVlbiBzcGFjZVxuZnVuY3Rpb24gY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXgob3V0cHV0TWF0cml4LCBmaWx0ZXJBcmVhLCB0ZXh0dXJlU2l6ZSkge1xuICAgIC8vIGxldCB3b3JsZFRyYW5zZm9ybSA9IHNwcml0ZS53b3JsZFRyYW5zZm9ybS5jb3B5KE1hdHJpeC5URU1QX01BVFJJWCksXG4gICAgLy8gbGV0IHRleHR1cmUgPSB7d2lkdGg6MTEzNiwgaGVpZ2h0OjcwMH07Ly9zcHJpdGUuX3RleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAvLyBUT0RPIHVud3JhcD9cbiAgICB2YXIgbWFwcGVkTWF0cml4ID0gb3V0cHV0TWF0cml4LmlkZW50aXR5KCk7XG5cbiAgICBtYXBwZWRNYXRyaXgudHJhbnNsYXRlKGZpbHRlckFyZWEueCAvIHRleHR1cmVTaXplLndpZHRoLCBmaWx0ZXJBcmVhLnkgLyB0ZXh0dXJlU2l6ZS5oZWlnaHQpO1xuXG4gICAgbWFwcGVkTWF0cml4LnNjYWxlKHRleHR1cmVTaXplLndpZHRoLCB0ZXh0dXJlU2l6ZS5oZWlnaHQpO1xuXG4gICAgcmV0dXJuIG1hcHBlZE1hdHJpeDtcbn1cblxuZnVuY3Rpb24gY2FsY3VsYXRlTm9ybWFsaXplZFNjcmVlblNwYWNlTWF0cml4KG91dHB1dE1hdHJpeCwgZmlsdGVyQXJlYSwgdGV4dHVyZVNpemUpIHtcbiAgICB2YXIgbWFwcGVkTWF0cml4ID0gb3V0cHV0TWF0cml4LmlkZW50aXR5KCk7XG5cbiAgICBtYXBwZWRNYXRyaXgudHJhbnNsYXRlKGZpbHRlckFyZWEueCAvIHRleHR1cmVTaXplLndpZHRoLCBmaWx0ZXJBcmVhLnkgLyB0ZXh0dXJlU2l6ZS5oZWlnaHQpO1xuXG4gICAgdmFyIHRyYW5zbGF0ZVNjYWxlWCA9IHRleHR1cmVTaXplLndpZHRoIC8gZmlsdGVyQXJlYS53aWR0aDtcbiAgICB2YXIgdHJhbnNsYXRlU2NhbGVZID0gdGV4dHVyZVNpemUuaGVpZ2h0IC8gZmlsdGVyQXJlYS5oZWlnaHQ7XG5cbiAgICBtYXBwZWRNYXRyaXguc2NhbGUodHJhbnNsYXRlU2NhbGVYLCB0cmFuc2xhdGVTY2FsZVkpO1xuXG4gICAgcmV0dXJuIG1hcHBlZE1hdHJpeDtcbn1cblxuLy8gdGhpcyB3aWxsIG1hcCB0aGUgZmlsdGVyIGNvb3JkIHNvIHRoYXQgYSB0ZXh0dXJlIGNhbiBiZSB1c2VkIGJhc2VkIG9uIHRoZSB0cmFuc2Zvcm0gb2YgYSBzcHJpdGVcbmZ1bmN0aW9uIGNhbGN1bGF0ZVNwcml0ZU1hdHJpeChvdXRwdXRNYXRyaXgsIGZpbHRlckFyZWEsIHRleHR1cmVTaXplLCBzcHJpdGUpIHtcbiAgICB2YXIgb3JpZyA9IHNwcml0ZS5fdGV4dHVyZS5vcmlnO1xuICAgIHZhciBtYXBwZWRNYXRyaXggPSBvdXRwdXRNYXRyaXguc2V0KHRleHR1cmVTaXplLndpZHRoLCAwLCAwLCB0ZXh0dXJlU2l6ZS5oZWlnaHQsIGZpbHRlckFyZWEueCwgZmlsdGVyQXJlYS55KTtcbiAgICB2YXIgd29ybGRUcmFuc2Zvcm0gPSBzcHJpdGUud29ybGRUcmFuc2Zvcm0uY29weShfbWF0aC5NYXRyaXguVEVNUF9NQVRSSVgpO1xuXG4gICAgd29ybGRUcmFuc2Zvcm0uaW52ZXJ0KCk7XG4gICAgbWFwcGVkTWF0cml4LnByZXBlbmQod29ybGRUcmFuc2Zvcm0pO1xuICAgIG1hcHBlZE1hdHJpeC5zY2FsZSgxLjAgLyBvcmlnLndpZHRoLCAxLjAgLyBvcmlnLmhlaWdodCk7XG4gICAgbWFwcGVkTWF0cml4LnRyYW5zbGF0ZShzcHJpdGUuYW5jaG9yLngsIHNwcml0ZS5hbmNob3IueSk7XG5cbiAgICByZXR1cm4gbWFwcGVkTWF0cml4O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyVHJhbnNmb3Jtcy5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfV2ViR0xNYW5hZ2VyMiA9IHJlcXVpcmUoJy4vV2ViR0xNYW5hZ2VyJyk7XG5cbnZhciBfV2ViR0xNYW5hZ2VyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYkdMTWFuYWdlcjIpO1xuXG52YXIgX1JlbmRlclRhcmdldCA9IHJlcXVpcmUoJy4uL3V0aWxzL1JlbmRlclRhcmdldCcpO1xuXG52YXIgX1JlbmRlclRhcmdldDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SZW5kZXJUYXJnZXQpO1xuXG52YXIgX1F1YWQgPSByZXF1aXJlKCcuLi91dGlscy9RdWFkJyk7XG5cbnZhciBfUXVhZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9RdWFkKTtcblxudmFyIF9tYXRoID0gcmVxdWlyZSgnLi4vLi4vLi4vbWF0aCcpO1xuXG52YXIgX1NoYWRlciA9IHJlcXVpcmUoJy4uLy4uLy4uL1NoYWRlcicpO1xuXG52YXIgX1NoYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TaGFkZXIpO1xuXG52YXIgX2ZpbHRlclRyYW5zZm9ybXMgPSByZXF1aXJlKCcuLi9maWx0ZXJzL2ZpbHRlclRyYW5zZm9ybXMnKTtcblxudmFyIGZpbHRlclRyYW5zZm9ybXMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfZmlsdGVyVHJhbnNmb3Jtcyk7XG5cbnZhciBfYml0VHdpZGRsZSA9IHJlcXVpcmUoJ2JpdC10d2lkZGxlJyk7XG5cbnZhciBfYml0VHdpZGRsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iaXRUd2lkZGxlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEBpZ25vcmVcbiAqIEBjbGFzc1xuICovXG52YXIgRmlsdGVyU3RhdGUgPVxuLyoqXG4gKlxuICovXG5mdW5jdGlvbiBGaWx0ZXJTdGF0ZSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRmlsdGVyU3RhdGUpO1xuXG4gICAgdGhpcy5yZW5kZXJUYXJnZXQgPSBudWxsO1xuICAgIHRoaXMuc291cmNlRnJhbWUgPSBuZXcgX21hdGguUmVjdGFuZ2xlKCk7XG4gICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lID0gbmV3IF9tYXRoLlJlY3RhbmdsZSgpO1xuICAgIHRoaXMuZmlsdGVycyA9IFtdO1xuICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICB0aGlzLnJlc29sdXRpb24gPSAxO1xufTtcblxudmFyIHNjcmVlbktleSA9ICdzY3JlZW4nO1xuXG4vKipcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuV2ViR0xNYW5hZ2VyXG4gKi9cblxudmFyIEZpbHRlck1hbmFnZXIgPSBmdW5jdGlvbiAoX1dlYkdMTWFuYWdlcikge1xuICAgIF9pbmhlcml0cyhGaWx0ZXJNYW5hZ2VyLCBfV2ViR0xNYW5hZ2VyKTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEZpbHRlck1hbmFnZXIocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZpbHRlck1hbmFnZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9XZWJHTE1hbmFnZXIuY2FsbCh0aGlzLCByZW5kZXJlcikpO1xuXG4gICAgICAgIF90aGlzLmdsID0gX3RoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIC8vIGtub3cgYWJvdXQgc3ByaXRlcyFcbiAgICAgICAgX3RoaXMucXVhZCA9IG5ldyBfUXVhZDIuZGVmYXVsdChfdGhpcy5nbCwgcmVuZGVyZXIuc3RhdGUuYXR0cmliU3RhdGUpO1xuXG4gICAgICAgIF90aGlzLnNoYWRlckNhY2hlID0ge307XG4gICAgICAgIC8vIHRvZG8gYWRkIGRlZmF1bHQhXG4gICAgICAgIF90aGlzLnBvb2wgPSB7fTtcblxuICAgICAgICBfdGhpcy5maWx0ZXJEYXRhID0gbnVsbDtcblxuICAgICAgICBfdGhpcy5tYW5hZ2VkRmlsdGVycyA9IFtdO1xuXG4gICAgICAgIF90aGlzLnJlbmRlcmVyLm9uKCdwcmVyZW5kZXInLCBfdGhpcy5vblByZXJlbmRlciwgX3RoaXMpO1xuXG4gICAgICAgIF90aGlzLl9zY3JlZW5XaWR0aCA9IHJlbmRlcmVyLnZpZXcud2lkdGg7XG4gICAgICAgIF90aGlzLl9zY3JlZW5IZWlnaHQgPSByZW5kZXJlci52aWV3LmhlaWdodDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBuZXcgZmlsdGVyIHRvIHRoZSBtYW5hZ2VyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IHRhcmdldCAtIFRoZSB0YXJnZXQgb2YgdGhlIGZpbHRlciB0byByZW5kZXIuXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbHRlcltdfSBmaWx0ZXJzIC0gVGhlIGZpbHRlcnMgdG8gYXBwbHkuXG4gICAgICovXG5cblxuICAgIEZpbHRlck1hbmFnZXIucHJvdG90eXBlLnB1c2hGaWx0ZXIgPSBmdW5jdGlvbiBwdXNoRmlsdGVyKHRhcmdldCwgZmlsdGVycykge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuXG4gICAgICAgIHZhciBmaWx0ZXJEYXRhID0gdGhpcy5maWx0ZXJEYXRhO1xuXG4gICAgICAgIGlmICghZmlsdGVyRGF0YSkge1xuICAgICAgICAgICAgZmlsdGVyRGF0YSA9IHRoaXMucmVuZGVyZXIuX2FjdGl2ZVJlbmRlclRhcmdldC5maWx0ZXJTdGFjaztcblxuICAgICAgICAgICAgLy8gYWRkIG5ldyBzdGFja1xuICAgICAgICAgICAgdmFyIGZpbHRlclN0YXRlID0gbmV3IEZpbHRlclN0YXRlKCk7XG5cbiAgICAgICAgICAgIGZpbHRlclN0YXRlLnNvdXJjZUZyYW1lID0gZmlsdGVyU3RhdGUuZGVzdGluYXRpb25GcmFtZSA9IHRoaXMucmVuZGVyZXIuX2FjdGl2ZVJlbmRlclRhcmdldC5zaXplO1xuICAgICAgICAgICAgZmlsdGVyU3RhdGUucmVuZGVyVGFyZ2V0ID0gcmVuZGVyZXIuX2FjdGl2ZVJlbmRlclRhcmdldDtcblxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5fYWN0aXZlUmVuZGVyVGFyZ2V0LmZpbHRlckRhdGEgPSBmaWx0ZXJEYXRhID0ge1xuICAgICAgICAgICAgICAgIGluZGV4OiAwLFxuICAgICAgICAgICAgICAgIHN0YWNrOiBbZmlsdGVyU3RhdGVdXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLmZpbHRlckRhdGEgPSBmaWx0ZXJEYXRhO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IHRoZSBjdXJyZW50IGZpbHRlciBzdGF0ZS4uXG4gICAgICAgIHZhciBjdXJyZW50U3RhdGUgPSBmaWx0ZXJEYXRhLnN0YWNrWysrZmlsdGVyRGF0YS5pbmRleF07XG4gICAgICAgIHZhciByZW5kZXJUYXJnZXRGcmFtZSA9IGZpbHRlckRhdGEuc3RhY2tbMF0uZGVzdGluYXRpb25GcmFtZTtcblxuICAgICAgICBpZiAoIWN1cnJlbnRTdGF0ZSkge1xuICAgICAgICAgICAgY3VycmVudFN0YXRlID0gZmlsdGVyRGF0YS5zdGFja1tmaWx0ZXJEYXRhLmluZGV4XSA9IG5ldyBGaWx0ZXJTdGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGZ1bGxTY3JlZW4gPSB0YXJnZXQuZmlsdGVyQXJlYSAmJiB0YXJnZXQuZmlsdGVyQXJlYS54ID09PSAwICYmIHRhcmdldC5maWx0ZXJBcmVhLnkgPT09IDAgJiYgdGFyZ2V0LmZpbHRlckFyZWEud2lkdGggPT09IHJlbmRlcmVyLnNjcmVlbi53aWR0aCAmJiB0YXJnZXQuZmlsdGVyQXJlYS5oZWlnaHQgPT09IHJlbmRlcmVyLnNjcmVlbi5oZWlnaHQ7XG5cbiAgICAgICAgLy8gZm9yIG5vdyB3ZSBnbyBvZmYgdGhlIGZpbHRlciBvZiB0aGUgZmlyc3QgcmVzb2x1dGlvbi4uXG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gZmlsdGVyc1swXS5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgcGFkZGluZyA9IGZpbHRlcnNbMF0ucGFkZGluZyB8IDA7XG4gICAgICAgIHZhciB0YXJnZXRCb3VuZHMgPSBmdWxsU2NyZWVuID8gcmVuZGVyZXIuc2NyZWVuIDogdGFyZ2V0LmZpbHRlckFyZWEgfHwgdGFyZ2V0LmdldEJvdW5kcyh0cnVlKTtcbiAgICAgICAgdmFyIHNvdXJjZUZyYW1lID0gY3VycmVudFN0YXRlLnNvdXJjZUZyYW1lO1xuICAgICAgICB2YXIgZGVzdGluYXRpb25GcmFtZSA9IGN1cnJlbnRTdGF0ZS5kZXN0aW5hdGlvbkZyYW1lO1xuXG4gICAgICAgIHNvdXJjZUZyYW1lLnggPSAodGFyZ2V0Qm91bmRzLnggKiByZXNvbHV0aW9uIHwgMCkgLyByZXNvbHV0aW9uO1xuICAgICAgICBzb3VyY2VGcmFtZS55ID0gKHRhcmdldEJvdW5kcy55ICogcmVzb2x1dGlvbiB8IDApIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgc291cmNlRnJhbWUud2lkdGggPSAodGFyZ2V0Qm91bmRzLndpZHRoICogcmVzb2x1dGlvbiB8IDApIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgc291cmNlRnJhbWUuaGVpZ2h0ID0gKHRhcmdldEJvdW5kcy5oZWlnaHQgKiByZXNvbHV0aW9uIHwgMCkgLyByZXNvbHV0aW9uO1xuXG4gICAgICAgIGlmICghZnVsbFNjcmVlbikge1xuICAgICAgICAgICAgaWYgKGZpbHRlckRhdGEuc3RhY2tbMF0ucmVuZGVyVGFyZ2V0LnRyYW5zZm9ybSkgey8vXG5cbiAgICAgICAgICAgICAgICAvLyBUT0RPIHdlIHNob3VsZCBmaXQgdGhlIHJlY3QgYXJvdW5kIHRoZSB0cmFuc2Zvcm0uLlxuICAgICAgICAgICAgfSBlbHNlIGlmIChmaWx0ZXJzWzBdLmF1dG9GaXQpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VGcmFtZS5maXQocmVuZGVyVGFyZ2V0RnJhbWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBsZXRzIGFwcGx5IHRoZSBwYWRkaW5nIEFmdGVyIHdlIGZpdCB0aGUgZWxlbWVudCB0byB0aGUgc2NyZWVuLlxuICAgICAgICAgICAgLy8gdGhpcyBzaG91bGQgc3RvcCB0aGUgc3RyYW5nZSBzaWRlIGVmZmVjdHMgdGhhdCBjYW4gb2NjdXIgd2hlbiBjcm9wcGluZyB0byB0aGUgZWRnZXNcbiAgICAgICAgICAgIHNvdXJjZUZyYW1lLnBhZChwYWRkaW5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlc3RpbmF0aW9uRnJhbWUud2lkdGggPSBzb3VyY2VGcmFtZS53aWR0aDtcbiAgICAgICAgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgPSBzb3VyY2VGcmFtZS5oZWlnaHQ7XG5cbiAgICAgICAgLy8gbGV0cyBwbGF5IHRoZSBwYWRkaW5nIGFmdGVyIHdlIGZpdCB0aGUgZWxlbWVudCB0byB0aGUgc2NyZWVuLlxuICAgICAgICAvLyB0aGlzIHNob3VsZCBzdG9wIHRoZSBzdHJhbmdlIHNpZGUgZWZmZWN0cyB0aGF0IGNhbiBvY2N1ciB3aGVuIGNyb3BwaW5nIHRvIHRoZSBlZGdlc1xuXG4gICAgICAgIHZhciByZW5kZXJUYXJnZXQgPSB0aGlzLmdldFBvdFJlbmRlclRhcmdldChyZW5kZXJlci5nbCwgc291cmNlRnJhbWUud2lkdGgsIHNvdXJjZUZyYW1lLmhlaWdodCwgcmVzb2x1dGlvbik7XG5cbiAgICAgICAgY3VycmVudFN0YXRlLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgY3VycmVudFN0YXRlLmZpbHRlcnMgPSBmaWx0ZXJzO1xuICAgICAgICBjdXJyZW50U3RhdGUucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgICAgIGN1cnJlbnRTdGF0ZS5yZW5kZXJUYXJnZXQgPSByZW5kZXJUYXJnZXQ7XG5cbiAgICAgICAgLy8gYmluZCB0aGUgcmVuZGVyIHRhcmdldCB0byBkcmF3IHRoZSBzaGFwZSBpbiB0aGUgdG9wIGNvcm5lci4uXG5cbiAgICAgICAgcmVuZGVyVGFyZ2V0LnNldEZyYW1lKGRlc3RpbmF0aW9uRnJhbWUsIHNvdXJjZUZyYW1lKTtcblxuICAgICAgICAvLyBiaW5kIHRoZSByZW5kZXIgdGFyZ2V0XG4gICAgICAgIHJlbmRlcmVyLmJpbmRSZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KTtcbiAgICAgICAgcmVuZGVyVGFyZ2V0LmNsZWFyKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBvcHMgb2ZmIHRoZSBmaWx0ZXIgYW5kIGFwcGxpZXMgaXQuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgRmlsdGVyTWFuYWdlci5wcm90b3R5cGUucG9wRmlsdGVyID0gZnVuY3Rpb24gcG9wRmlsdGVyKCkge1xuICAgICAgICB2YXIgZmlsdGVyRGF0YSA9IHRoaXMuZmlsdGVyRGF0YTtcblxuICAgICAgICB2YXIgbGFzdFN0YXRlID0gZmlsdGVyRGF0YS5zdGFja1tmaWx0ZXJEYXRhLmluZGV4IC0gMV07XG4gICAgICAgIHZhciBjdXJyZW50U3RhdGUgPSBmaWx0ZXJEYXRhLnN0YWNrW2ZpbHRlckRhdGEuaW5kZXhdO1xuXG4gICAgICAgIHRoaXMucXVhZC5tYXAoY3VycmVudFN0YXRlLnJlbmRlclRhcmdldC5zaXplLCBjdXJyZW50U3RhdGUuc291cmNlRnJhbWUpLnVwbG9hZCgpO1xuXG4gICAgICAgIHZhciBmaWx0ZXJzID0gY3VycmVudFN0YXRlLmZpbHRlcnM7XG5cbiAgICAgICAgaWYgKGZpbHRlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBmaWx0ZXJzWzBdLmFwcGx5KHRoaXMsIGN1cnJlbnRTdGF0ZS5yZW5kZXJUYXJnZXQsIGxhc3RTdGF0ZS5yZW5kZXJUYXJnZXQsIGZhbHNlLCBjdXJyZW50U3RhdGUpO1xuICAgICAgICAgICAgdGhpcy5mcmVlUG90UmVuZGVyVGFyZ2V0KGN1cnJlbnRTdGF0ZS5yZW5kZXJUYXJnZXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGZsaXAgPSBjdXJyZW50U3RhdGUucmVuZGVyVGFyZ2V0O1xuICAgICAgICAgICAgdmFyIGZsb3AgPSB0aGlzLmdldFBvdFJlbmRlclRhcmdldCh0aGlzLnJlbmRlcmVyLmdsLCBjdXJyZW50U3RhdGUuc291cmNlRnJhbWUud2lkdGgsIGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZS5oZWlnaHQsIGN1cnJlbnRTdGF0ZS5yZXNvbHV0aW9uKTtcblxuICAgICAgICAgICAgZmxvcC5zZXRGcmFtZShjdXJyZW50U3RhdGUuZGVzdGluYXRpb25GcmFtZSwgY3VycmVudFN0YXRlLnNvdXJjZUZyYW1lKTtcblxuICAgICAgICAgICAgLy8gZmluYWxseSBsZXRzIGNsZWFyIHRoZSByZW5kZXIgdGFyZ2V0IGJlZm9yZSBkcmF3aW5nIHRvIGl0Li5cbiAgICAgICAgICAgIGZsb3AuY2xlYXIoKTtcblxuICAgICAgICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZmlsdGVycy5sZW5ndGggLSAxOyArK2kpIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJzW2ldLmFwcGx5KHRoaXMsIGZsaXAsIGZsb3AsIHRydWUsIGN1cnJlbnRTdGF0ZSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgdCA9IGZsaXA7XG5cbiAgICAgICAgICAgICAgICBmbGlwID0gZmxvcDtcbiAgICAgICAgICAgICAgICBmbG9wID0gdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZmlsdGVyc1tpXS5hcHBseSh0aGlzLCBmbGlwLCBsYXN0U3RhdGUucmVuZGVyVGFyZ2V0LCBmYWxzZSwgY3VycmVudFN0YXRlKTtcblxuICAgICAgICAgICAgdGhpcy5mcmVlUG90UmVuZGVyVGFyZ2V0KGZsaXApO1xuICAgICAgICAgICAgdGhpcy5mcmVlUG90UmVuZGVyVGFyZ2V0KGZsb3ApO1xuICAgICAgICB9XG5cbiAgICAgICAgZmlsdGVyRGF0YS5pbmRleC0tO1xuXG4gICAgICAgIGlmIChmaWx0ZXJEYXRhLmluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmZpbHRlckRhdGEgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGEgZmlsdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbHRlcn0gZmlsdGVyIC0gVGhlIGZpbHRlciB0byBkcmF3LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IGlucHV0IC0gVGhlIGlucHV0IHJlbmRlciB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gb3V0cHV0IC0gVGhlIHRhcmdldCB0byBvdXRwdXQgdG8uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjbGVhciAtIFNob3VsZCB0aGUgb3V0cHV0IGJlIGNsZWFyZWQgYmVmb3JlIHJlbmRlcmluZyB0byBpdFxuICAgICAqL1xuXG5cbiAgICBGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5hcHBseUZpbHRlciA9IGZ1bmN0aW9uIGFwcGx5RmlsdGVyKGZpbHRlciwgaW5wdXQsIG91dHB1dCwgY2xlYXIpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgdmFyIHNoYWRlciA9IGZpbHRlci5nbFNoYWRlcnNbcmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIC8vIGNhY2hlaW5nLi5cbiAgICAgICAgaWYgKCFzaGFkZXIpIHtcbiAgICAgICAgICAgIGlmIChmaWx0ZXIuZ2xTaGFkZXJLZXkpIHtcbiAgICAgICAgICAgICAgICBzaGFkZXIgPSB0aGlzLnNoYWRlckNhY2hlW2ZpbHRlci5nbFNoYWRlcktleV07XG5cbiAgICAgICAgICAgICAgICBpZiAoIXNoYWRlcikge1xuICAgICAgICAgICAgICAgICAgICBzaGFkZXIgPSBuZXcgX1NoYWRlcjIuZGVmYXVsdCh0aGlzLmdsLCBmaWx0ZXIudmVydGV4U3JjLCBmaWx0ZXIuZnJhZ21lbnRTcmMpO1xuXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlci5nbFNoYWRlcnNbcmVuZGVyZXIuQ09OVEVYVF9VSURdID0gdGhpcy5zaGFkZXJDYWNoZVtmaWx0ZXIuZ2xTaGFkZXJLZXldID0gc2hhZGVyO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hbmFnZWRGaWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNoYWRlciA9IGZpbHRlci5nbFNoYWRlcnNbcmVuZGVyZXIuQ09OVEVYVF9VSURdID0gbmV3IF9TaGFkZXIyLmRlZmF1bHQodGhpcy5nbCwgZmlsdGVyLnZlcnRleFNyYywgZmlsdGVyLmZyYWdtZW50U3JjKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1hbmFnZWRGaWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVE9ETyAtIHRoaXMgb25seSBuZWVkcyB0byBiZSBkb25lIG9uY2U/XG4gICAgICAgICAgICByZW5kZXJlci5iaW5kVmFvKG51bGwpO1xuXG4gICAgICAgICAgICB0aGlzLnF1YWQuaW5pdFZhbyhzaGFkZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyZXIuYmluZFZhbyh0aGlzLnF1YWQudmFvKTtcblxuICAgICAgICByZW5kZXJlci5iaW5kUmVuZGVyVGFyZ2V0KG91dHB1dCk7XG5cbiAgICAgICAgaWYgKGNsZWFyKSB7XG4gICAgICAgICAgICBnbC5kaXNhYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gICAgICAgICAgICByZW5kZXJlci5jbGVhcigpOyAvLyBbMSwgMSwgMSwgMV0pO1xuICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpbiBjYXNlIHRoZSByZW5kZXIgdGFyZ2V0IGlzIGJlaW5nIG1hc2tlZCB1c2luZyBhIHNjaXNzb3IgcmVjdFxuICAgICAgICBpZiAob3V0cHV0ID09PSByZW5kZXJlci5tYXNrTWFuYWdlci5zY2lzc29yUmVuZGVyVGFyZ2V0KSB7XG4gICAgICAgICAgICByZW5kZXJlci5tYXNrTWFuYWdlci5wdXNoU2Npc3Nvck1hc2sobnVsbCwgcmVuZGVyZXIubWFza01hbmFnZXIuc2Npc3NvckRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyZXIuYmluZFNoYWRlcihzaGFkZXIpO1xuXG4gICAgICAgIC8vIGZyZWUgdW5pdCAwIGZvciB1cywgZG9lc24ndCBtYXR0ZXIgd2hhdCB3YXMgdGhlcmVcbiAgICAgICAgLy8gZG9uJ3QgdHJ5IHRvIHJlc3RvcmUgaXQsIGJlY2F1c2Ugc3luY1VuaWZvcm1zIGNhbiB1cGxvYWQgaXQgdG8gYW5vdGhlciBzbG90XG4gICAgICAgIC8vIGFuZCBpdCdsbCBiZSBhIHByb2JsZW1cbiAgICAgICAgdmFyIHRleCA9IHRoaXMucmVuZGVyZXIuZW1wdHlUZXh0dXJlc1swXTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLmJvdW5kVGV4dHVyZXNbMF0gPSB0ZXg7XG4gICAgICAgIC8vIHRoaXMgc3luY3MgdGhlIFBpeGlKUyBmaWx0ZXJzICB1bmlmb3JtcyB3aXRoIGdsc2wgdW5pZm9ybXNcbiAgICAgICAgdGhpcy5zeW5jVW5pZm9ybXMoc2hhZGVyLCBmaWx0ZXIpO1xuXG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldEJsZW5kTW9kZShmaWx0ZXIuYmxlbmRNb2RlKTtcblxuICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwKTtcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgaW5wdXQudGV4dHVyZS50ZXh0dXJlKTtcblxuICAgICAgICB0aGlzLnF1YWQudmFvLmRyYXcodGhpcy5yZW5kZXJlci5nbC5UUklBTkdMRVMsIDYsIDApO1xuXG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleC5fZ2xUZXh0dXJlc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXS50ZXh0dXJlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgdW5pZm9ybXMgb2YgdGhlIGZpbHRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7R0xTaGFkZXJ9IHNoYWRlciAtIFRoZSB1bmRlcmx5aW5nIGdsIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyfSBmaWx0ZXIgLSBUaGUgZmlsdGVyIHdlIGFyZSBzeW5jaHJvbml6aW5nLlxuICAgICAqL1xuXG5cbiAgICBGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5zeW5jVW5pZm9ybXMgPSBmdW5jdGlvbiBzeW5jVW5pZm9ybXMoc2hhZGVyLCBmaWx0ZXIpIHtcbiAgICAgICAgdmFyIHVuaWZvcm1EYXRhID0gZmlsdGVyLnVuaWZvcm1EYXRhO1xuICAgICAgICB2YXIgdW5pZm9ybXMgPSBmaWx0ZXIudW5pZm9ybXM7XG5cbiAgICAgICAgLy8gMCBpcyByZXNlcnZlZCBmb3IgdGhlIFBpeGlKUyB0ZXh0dXJlIHNvIHdlIHN0YXJ0IGF0IDEhXG4gICAgICAgIHZhciB0ZXh0dXJlQ291bnQgPSAxO1xuICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gdm9pZCAwO1xuXG4gICAgICAgIC8vIGZpbHRlckFyZWEgYW5kIGZpbHRlckNsYW1wIHRoYXQgYXJlIGhhbmRsZWQgYnkgRmlsdGVyTWFuYWdlciBkaXJlY3RseVxuICAgICAgICAvLyB0aGV5IG11c3Qgbm90IGFwcGVhciBpbiB1bmlmb3JtRGF0YVxuXG4gICAgICAgIGlmIChzaGFkZXIudW5pZm9ybXMuZmlsdGVyQXJlYSkge1xuICAgICAgICAgICAgY3VycmVudFN0YXRlID0gdGhpcy5maWx0ZXJEYXRhLnN0YWNrW3RoaXMuZmlsdGVyRGF0YS5pbmRleF07XG5cbiAgICAgICAgICAgIHZhciBmaWx0ZXJBcmVhID0gc2hhZGVyLnVuaWZvcm1zLmZpbHRlckFyZWE7XG5cbiAgICAgICAgICAgIGZpbHRlckFyZWFbMF0gPSBjdXJyZW50U3RhdGUucmVuZGVyVGFyZ2V0LnNpemUud2lkdGg7XG4gICAgICAgICAgICBmaWx0ZXJBcmVhWzFdID0gY3VycmVudFN0YXRlLnJlbmRlclRhcmdldC5zaXplLmhlaWdodDtcbiAgICAgICAgICAgIGZpbHRlckFyZWFbMl0gPSBjdXJyZW50U3RhdGUuc291cmNlRnJhbWUueDtcbiAgICAgICAgICAgIGZpbHRlckFyZWFbM10gPSBjdXJyZW50U3RhdGUuc291cmNlRnJhbWUueTtcblxuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLmZpbHRlckFyZWEgPSBmaWx0ZXJBcmVhO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXNlIHRoaXMgdG8gY2xhbXAgZGlzcGxhY2VkIHRleHR1cmUgY29vcmRzIHNvIHRoZXkgYmVsb25nIHRvIGZpbHRlckFyZWFcbiAgICAgICAgLy8gc2VlIGRpc3BsYWNlbWVudEZpbHRlciBmcmFnbWVudCBzaGFkZXIgZm9yIGFuIGV4YW1wbGVcbiAgICAgICAgaWYgKHNoYWRlci51bmlmb3Jtcy5maWx0ZXJDbGFtcCkge1xuICAgICAgICAgICAgY3VycmVudFN0YXRlID0gY3VycmVudFN0YXRlIHx8IHRoaXMuZmlsdGVyRGF0YS5zdGFja1t0aGlzLmZpbHRlckRhdGEuaW5kZXhdO1xuXG4gICAgICAgICAgICB2YXIgZmlsdGVyQ2xhbXAgPSBzaGFkZXIudW5pZm9ybXMuZmlsdGVyQ2xhbXA7XG5cbiAgICAgICAgICAgIGZpbHRlckNsYW1wWzBdID0gMDtcbiAgICAgICAgICAgIGZpbHRlckNsYW1wWzFdID0gMDtcbiAgICAgICAgICAgIGZpbHRlckNsYW1wWzJdID0gKGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZS53aWR0aCAtIDEpIC8gY3VycmVudFN0YXRlLnJlbmRlclRhcmdldC5zaXplLndpZHRoO1xuICAgICAgICAgICAgZmlsdGVyQ2xhbXBbM10gPSAoY3VycmVudFN0YXRlLnNvdXJjZUZyYW1lLmhlaWdodCAtIDEpIC8gY3VycmVudFN0YXRlLnJlbmRlclRhcmdldC5zaXplLmhlaWdodDtcblxuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLmZpbHRlckNsYW1wID0gZmlsdGVyQ2xhbXA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPIENhY2hlaW5nIGxheWVyLi5cbiAgICAgICAgZm9yICh2YXIgaSBpbiB1bmlmb3JtRGF0YSkge1xuICAgICAgICAgICAgdmFyIHR5cGUgPSB1bmlmb3JtRGF0YVtpXS50eXBlO1xuXG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ3NhbXBsZXIyZCcgJiYgdW5pZm9ybXNbaV0gIT09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAodW5pZm9ybXNbaV0uYmFzZVRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zW2ldID0gdGhpcy5yZW5kZXJlci5iaW5kVGV4dHVyZSh1bmlmb3Jtc1tpXS5iYXNlVGV4dHVyZSwgdGV4dHVyZUNvdW50KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzaGFkZXIudW5pZm9ybXNbaV0gPSB0ZXh0dXJlQ291bnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ET1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIGhlbHBmdWwgYXMgcmVuZGVyVGFyZ2V0cyBjYW4gYWxzbyBiZSBzZXQuXG4gICAgICAgICAgICAgICAgICAgIC8vIEFsdGhvdWdoIHRoaW5raW5nIGFib3V0IGl0LCB3ZSBjb3VsZCBwcm9iYWJseVxuICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIHRoZSBmaWx0ZXIgdGV4dHVyZSBjYWNoZSByZXR1cm4gYSBSZW5kZXJUZXh0dXJlXG4gICAgICAgICAgICAgICAgICAgIC8vIHJhdGhlciB0aGFuIGEgcmVuZGVyVGFyZ2V0XG4gICAgICAgICAgICAgICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5ib3VuZFRleHR1cmVzW3RleHR1cmVDb3VudF0gPSB0aGlzLnJlbmRlcmVyLmVtcHR5VGV4dHVyZXNbdGV4dHVyZUNvdW50XTtcbiAgICAgICAgICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIHRleHR1cmVDb3VudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdW5pZm9ybXNbaV0udGV4dHVyZS5iaW5kKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50Kys7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdtYXQzJykge1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIGl0cyBQaXhpSlMgbWF0cml4Li5cbiAgICAgICAgICAgICAgICBpZiAodW5pZm9ybXNbaV0uYSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtc1tpXSA9IHVuaWZvcm1zW2ldLnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zW2ldID0gdW5pZm9ybXNbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAndmVjMicpIHtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBpdHMgYSBwb2ludC4uXG4gICAgICAgICAgICAgICAgaWYgKHVuaWZvcm1zW2ldLnggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0gc2hhZGVyLnVuaWZvcm1zW2ldIHx8IG5ldyBGbG9hdDMyQXJyYXkoMik7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFsWzBdID0gdW5pZm9ybXNbaV0ueDtcbiAgICAgICAgICAgICAgICAgICAgdmFsWzFdID0gdW5pZm9ybXNbaV0ueTtcbiAgICAgICAgICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zW2ldID0gdmFsO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtc1tpXSA9IHVuaWZvcm1zW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2Zsb2F0Jykge1xuICAgICAgICAgICAgICAgIGlmIChzaGFkZXIudW5pZm9ybXMuZGF0YVtpXS52YWx1ZSAhPT0gdW5pZm9ybURhdGFbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zW2ldID0gdW5pZm9ybXNbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzaGFkZXIudW5pZm9ybXNbaV0gPSB1bmlmb3Jtc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgcmVuZGVyIHRhcmdldCBmcm9tIHRoZSBwb29sLCBvciBjcmVhdGVzIGEgbmV3IG9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xlYXIgLSBTaG91bGQgd2UgY2xlYXIgdGhlIHJlbmRlciB0ZXh0dXJlIHdoZW4gd2UgZ2V0IGl0P1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIC0gVGhlIHJlc29sdXRpb24gb2YgdGhlIHRhcmdldC5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlclRhcmdldH0gVGhlIG5ldyByZW5kZXIgdGFyZ2V0XG4gICAgICovXG5cblxuICAgIEZpbHRlck1hbmFnZXIucHJvdG90eXBlLmdldFJlbmRlclRhcmdldCA9IGZ1bmN0aW9uIGdldFJlbmRlclRhcmdldChjbGVhciwgcmVzb2x1dGlvbikge1xuICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gdGhpcy5maWx0ZXJEYXRhLnN0YWNrW3RoaXMuZmlsdGVyRGF0YS5pbmRleF07XG4gICAgICAgIHZhciByZW5kZXJUYXJnZXQgPSB0aGlzLmdldFBvdFJlbmRlclRhcmdldCh0aGlzLnJlbmRlcmVyLmdsLCBjdXJyZW50U3RhdGUuc291cmNlRnJhbWUud2lkdGgsIGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZS5oZWlnaHQsIHJlc29sdXRpb24gfHwgY3VycmVudFN0YXRlLnJlc29sdXRpb24pO1xuXG4gICAgICAgIHJlbmRlclRhcmdldC5zZXRGcmFtZShjdXJyZW50U3RhdGUuZGVzdGluYXRpb25GcmFtZSwgY3VycmVudFN0YXRlLnNvdXJjZUZyYW1lKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyVGFyZ2V0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgcmVuZGVyIHRhcmdldCB0byB0aGUgcG9vbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IHJlbmRlclRhcmdldCAtIFRoZSByZW5kZXIgdGFyZ2V0IHRvIHJldHVybi5cbiAgICAgKi9cblxuXG4gICAgRmlsdGVyTWFuYWdlci5wcm90b3R5cGUucmV0dXJuUmVuZGVyVGFyZ2V0ID0gZnVuY3Rpb24gcmV0dXJuUmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldCkge1xuICAgICAgICB0aGlzLmZyZWVQb3RSZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgbWFwcGVkIG1hdHJpeC5cbiAgICAgKlxuICAgICAqIFRPRE8gcGxheWluZyBhcm91bmQgaGVyZS4uIHRoaXMgaXMgdGVtcG9yYXJ5IC0gKHdpbGwgZW5kIHVwIGluIHRoZSBzaGFkZXIpXG4gICAgICogdGhpcyByZXR1cm5zIGEgbWF0cml4IHRoYXQgd2lsbCBub3JtYWxpc2UgbWFwIGZpbHRlciBjb3JkcyBpbiB0aGUgZmlsdGVyIHRvIHNjcmVlbiBzcGFjZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gb3V0cHV0TWF0cml4IC0gdGhlIG1hdHJpeCB0byBvdXRwdXQgdG8uXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXBwZWQgbWF0cml4LlxuICAgICAqL1xuXG5cbiAgICBGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5jYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZVNjcmVlblNwYWNlTWF0cml4KG91dHB1dE1hdHJpeCkge1xuICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gdGhpcy5maWx0ZXJEYXRhLnN0YWNrW3RoaXMuZmlsdGVyRGF0YS5pbmRleF07XG5cbiAgICAgICAgcmV0dXJuIGZpbHRlclRyYW5zZm9ybXMuY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXgob3V0cHV0TWF0cml4LCBjdXJyZW50U3RhdGUuc291cmNlRnJhbWUsIGN1cnJlbnRTdGF0ZS5yZW5kZXJUYXJnZXQuc2l6ZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHZUZXh0dXJlQ29vcmQgdG8gdGhpcyBtYXRyaXggdG8gYWNoaWV2ZSAoMCwwLDEsMSkgZm9yIGZpbHRlckFyZWFcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG91dHB1dE1hdHJpeCAtIFRoZSBtYXRyaXggdG8gb3V0cHV0IHRvLlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGUgbWFwcGVkIG1hdHJpeC5cbiAgICAgKi9cblxuXG4gICAgRmlsdGVyTWFuYWdlci5wcm90b3R5cGUuY2FsY3VsYXRlTm9ybWFsaXplZFNjcmVlblNwYWNlTWF0cml4ID0gZnVuY3Rpb24gY2FsY3VsYXRlTm9ybWFsaXplZFNjcmVlblNwYWNlTWF0cml4KG91dHB1dE1hdHJpeCkge1xuICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gdGhpcy5maWx0ZXJEYXRhLnN0YWNrW3RoaXMuZmlsdGVyRGF0YS5pbmRleF07XG5cbiAgICAgICAgcmV0dXJuIGZpbHRlclRyYW5zZm9ybXMuY2FsY3VsYXRlTm9ybWFsaXplZFNjcmVlblNwYWNlTWF0cml4KG91dHB1dE1hdHJpeCwgY3VycmVudFN0YXRlLnNvdXJjZUZyYW1lLCBjdXJyZW50U3RhdGUucmVuZGVyVGFyZ2V0LnNpemUsIGN1cnJlbnRTdGF0ZS5kZXN0aW5hdGlvbkZyYW1lKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhpcyB3aWxsIG1hcCB0aGUgZmlsdGVyIGNvb3JkIHNvIHRoYXQgYSB0ZXh0dXJlIGNhbiBiZSB1c2VkIGJhc2VkIG9uIHRoZSB0cmFuc2Zvcm0gb2YgYSBzcHJpdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG91dHB1dE1hdHJpeCAtIFRoZSBtYXRyaXggdG8gb3V0cHV0IHRvLlxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IHNwcml0ZSAtIFRoZSBzcHJpdGUgdG8gbWFwIHRvLlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGUgbWFwcGVkIG1hdHJpeC5cbiAgICAgKi9cblxuXG4gICAgRmlsdGVyTWFuYWdlci5wcm90b3R5cGUuY2FsY3VsYXRlU3ByaXRlTWF0cml4ID0gZnVuY3Rpb24gY2FsY3VsYXRlU3ByaXRlTWF0cml4KG91dHB1dE1hdHJpeCwgc3ByaXRlKSB7XG4gICAgICAgIHZhciBjdXJyZW50U3RhdGUgPSB0aGlzLmZpbHRlckRhdGEuc3RhY2tbdGhpcy5maWx0ZXJEYXRhLmluZGV4XTtcblxuICAgICAgICByZXR1cm4gZmlsdGVyVHJhbnNmb3Jtcy5jYWxjdWxhdGVTcHJpdGVNYXRyaXgob3V0cHV0TWF0cml4LCBjdXJyZW50U3RhdGUuc291cmNlRnJhbWUsIGN1cnJlbnRTdGF0ZS5yZW5kZXJUYXJnZXQuc2l6ZSwgc3ByaXRlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBGaWx0ZXIgTWFuYWdlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvbnRleHRMb3N0PWZhbHNlXSBjb250ZXh0IHdhcyBsb3N0LCBkbyBub3QgZnJlZSBzaGFkZXJzXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgRmlsdGVyTWFuYWdlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHZhciBjb250ZXh0TG9zdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7XG5cbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIGZpbHRlcnMgPSB0aGlzLm1hbmFnZWRGaWx0ZXJzO1xuXG4gICAgICAgIHJlbmRlcmVyLm9mZigncHJlcmVuZGVyJywgdGhpcy5vblByZXJlbmRlciwgdGhpcyk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWx0ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIWNvbnRleHRMb3N0KSB7XG4gICAgICAgICAgICAgICAgZmlsdGVyc1tpXS5nbFNoYWRlcnNbcmVuZGVyZXIuQ09OVEVYVF9VSURdLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlbGV0ZSBmaWx0ZXJzW2ldLmdsU2hhZGVyc1tyZW5kZXJlci5DT05URVhUX1VJRF07XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNoYWRlckNhY2hlID0ge307XG4gICAgICAgIGlmICghY29udGV4dExvc3QpIHtcbiAgICAgICAgICAgIHRoaXMuZW1wdHlQb29sKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBvb2wgPSB7fTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgUG93ZXItb2YtVHdvIHJlbmRlciB0ZXh0dXJlLlxuICAgICAqXG4gICAgICogVE9ETyBtb3ZlIHRvIGEgc2VwZXJhdGUgY2xhc3MgY291bGQgYmUgb24gcmVuZGVyZXI/XG4gICAgICogYWxzbyAtIGNvdWxkIGNhdXNlIGlzc3VlIHdpdGggbXVsdGlwbGUgY29udGV4dHM/XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFRoZSB3ZWJnbCByZW5kZXJpbmcgY29udGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5XaWR0aCAtIFRoZSBtaW5pbXVtIHdpZHRoIG9mIHRoZSByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5IZWlnaHQgLSBUaGUgbWluaW11bSBoZWlnaHQgb2YgdGhlIHJlbmRlciB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyIHRhcmdldC5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlclRhcmdldH0gVGhlIG5ldyByZW5kZXIgdGFyZ2V0LlxuICAgICAqL1xuXG5cbiAgICBGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5nZXRQb3RSZW5kZXJUYXJnZXQgPSBmdW5jdGlvbiBnZXRQb3RSZW5kZXJUYXJnZXQoZ2wsIG1pbldpZHRoLCBtaW5IZWlnaHQsIHJlc29sdXRpb24pIHtcbiAgICAgICAgdmFyIGtleSA9IHNjcmVlbktleTtcblxuICAgICAgICBtaW5XaWR0aCAqPSByZXNvbHV0aW9uO1xuICAgICAgICBtaW5IZWlnaHQgKj0gcmVzb2x1dGlvbjtcblxuICAgICAgICBpZiAobWluV2lkdGggIT09IHRoaXMuX3NjcmVlbldpZHRoIHx8IG1pbkhlaWdodCAhPT0gdGhpcy5fc2NyZWVuSGVpZ2h0KSB7XG4gICAgICAgICAgICAvLyBUT0RPIHlvdSBjb3VsZCByZXR1cm4gYSBiaWdnZXIgdGV4dHVyZSBpZiB0aGVyZSBpcyBub3Qgb25lIGluIHRoZSBwb29sP1xuICAgICAgICAgICAgbWluV2lkdGggPSBfYml0VHdpZGRsZTIuZGVmYXVsdC5uZXh0UG93MihtaW5XaWR0aCk7XG4gICAgICAgICAgICBtaW5IZWlnaHQgPSBfYml0VHdpZGRsZTIuZGVmYXVsdC5uZXh0UG93MihtaW5IZWlnaHQpO1xuICAgICAgICAgICAga2V5ID0gKG1pbldpZHRoICYgMHhGRkZGKSA8PCAxNiB8IG1pbkhlaWdodCAmIDB4RkZGRjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5wb29sW2tleV0pIHtcbiAgICAgICAgICAgIHRoaXMucG9vbFtrZXldID0gW107XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVuZGVyVGFyZ2V0ID0gdGhpcy5wb29sW2tleV0ucG9wKCk7XG5cbiAgICAgICAgLy8gY3JlYXRpbmcgcmVuZGVyIHRhcmdldCB3aWxsIGNhdXNlIHRleHR1cmUgdG8gYmUgYm91bmQhXG4gICAgICAgIGlmICghcmVuZGVyVGFyZ2V0KSB7XG4gICAgICAgICAgICAvLyB0ZW1wb3JhcnkgYnlwYXNzIGNhY2hlLi5cbiAgICAgICAgICAgIHZhciB0ZXggPSB0aGlzLnJlbmRlcmVyLmJvdW5kVGV4dHVyZXNbMF07XG5cbiAgICAgICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTApO1xuXG4gICAgICAgICAgICAvLyBpbnRlcm5hbGx5IC0gdGhpcyB3aWxsIGNhdXNlIGEgdGV4dHVyZSB0byBiZSBib3VuZC4uXG4gICAgICAgICAgICByZW5kZXJUYXJnZXQgPSBuZXcgX1JlbmRlclRhcmdldDIuZGVmYXVsdChnbCwgbWluV2lkdGgsIG1pbkhlaWdodCwgbnVsbCwgMSk7XG5cbiAgICAgICAgICAgIC8vIHNldCB0aGUgY3VycmVudCBvbmUgYmFja1xuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4Ll9nbFRleHR1cmVzW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdLnRleHR1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbWFudWFsbHkgdHdlYWsgdGhlIHJlc29sdXRpb24uLi5cbiAgICAgICAgLy8gdGhpcyB3aWxsIG5vdCBtb2RpZnkgdGhlIHNpemUgb2YgdGhlIGZyYW1lIGJ1ZmZlciwganVzdCBpdHMgcmVzb2x1dGlvbi5cbiAgICAgICAgcmVuZGVyVGFyZ2V0LnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICAgICAgICByZW5kZXJUYXJnZXQuZGVmYXVsdEZyYW1lLndpZHRoID0gcmVuZGVyVGFyZ2V0LnNpemUud2lkdGggPSBtaW5XaWR0aCAvIHJlc29sdXRpb247XG4gICAgICAgIHJlbmRlclRhcmdldC5kZWZhdWx0RnJhbWUuaGVpZ2h0ID0gcmVuZGVyVGFyZ2V0LnNpemUuaGVpZ2h0ID0gbWluSGVpZ2h0IC8gcmVzb2x1dGlvbjtcblxuICAgICAgICByZXR1cm4gcmVuZGVyVGFyZ2V0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFbXB0aWVzIHRoZSB0ZXh0dXJlIHBvb2wuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgRmlsdGVyTWFuYWdlci5wcm90b3R5cGUuZW1wdHlQb29sID0gZnVuY3Rpb24gZW1wdHlQb29sKCkge1xuICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMucG9vbCkge1xuICAgICAgICAgICAgdmFyIHRleHR1cmVzID0gdGhpcy5wb29sW2ldO1xuXG4gICAgICAgICAgICBpZiAodGV4dHVyZXMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRleHR1cmVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVzW2pdLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wb29sID0ge307XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZyZWVzIGEgcmVuZGVyIHRhcmdldCBiYWNrIGludG8gdGhlIHBvb2wuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSByZW5kZXJUYXJnZXQgLSBUaGUgcmVuZGVyVGFyZ2V0IHRvIGZyZWVcbiAgICAgKi9cblxuXG4gICAgRmlsdGVyTWFuYWdlci5wcm90b3R5cGUuZnJlZVBvdFJlbmRlclRhcmdldCA9IGZ1bmN0aW9uIGZyZWVQb3RSZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KSB7XG4gICAgICAgIHZhciBtaW5XaWR0aCA9IHJlbmRlclRhcmdldC5zaXplLndpZHRoICogcmVuZGVyVGFyZ2V0LnJlc29sdXRpb247XG4gICAgICAgIHZhciBtaW5IZWlnaHQgPSByZW5kZXJUYXJnZXQuc2l6ZS5oZWlnaHQgKiByZW5kZXJUYXJnZXQucmVzb2x1dGlvbjtcblxuICAgICAgICB2YXIga2V5ID0gc2NyZWVuS2V5O1xuXG4gICAgICAgIGlmIChtaW5XaWR0aCAhPT0gdGhpcy5fc2NyZWVuV2lkdGggfHwgbWluSGVpZ2h0ICE9PSB0aGlzLl9zY3JlZW5IZWlnaHQpIHtcbiAgICAgICAgICAgIGtleSA9IChtaW5XaWR0aCAmIDB4RkZGRikgPDwgMTYgfCBtaW5IZWlnaHQgJiAweEZGRkY7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBvb2xba2V5XS5wdXNoKHJlbmRlclRhcmdldCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBiZWZvcmUgdGhlIHJlbmRlcmVyIHN0YXJ0cyByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgRmlsdGVyTWFuYWdlci5wcm90b3R5cGUub25QcmVyZW5kZXIgPSBmdW5jdGlvbiBvblByZXJlbmRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NjcmVlbldpZHRoICE9PSB0aGlzLnJlbmRlcmVyLnZpZXcud2lkdGggfHwgdGhpcy5fc2NyZWVuSGVpZ2h0ICE9PSB0aGlzLnJlbmRlcmVyLnZpZXcuaGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLl9zY3JlZW5XaWR0aCA9IHRoaXMucmVuZGVyZXIudmlldy53aWR0aDtcbiAgICAgICAgICAgIHRoaXMuX3NjcmVlbkhlaWdodCA9IHRoaXMucmVuZGVyZXIudmlldy5oZWlnaHQ7XG5cbiAgICAgICAgICAgIHZhciB0ZXh0dXJlcyA9IHRoaXMucG9vbFtzY3JlZW5LZXldO1xuXG4gICAgICAgICAgICBpZiAodGV4dHVyZXMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRleHR1cmVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVzW2pdLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wb29sW3NjcmVlbktleV0gPSBbXTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gRmlsdGVyTWFuYWdlcjtcbn0oX1dlYkdMTWFuYWdlcjMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEZpbHRlck1hbmFnZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GaWx0ZXJNYW5hZ2VyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9XZWJHTE1hbmFnZXIyID0gcmVxdWlyZSgnLi9XZWJHTE1hbmFnZXInKTtcblxudmFyIF9XZWJHTE1hbmFnZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xNYW5hZ2VyMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuV2ViR0xNYW5hZ2VyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU3RlbmNpbE1hbmFnZXIgPSBmdW5jdGlvbiAoX1dlYkdMTWFuYWdlcikge1xuICAgIF9pbmhlcml0cyhTdGVuY2lsTWFuYWdlciwgX1dlYkdMTWFuYWdlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTdGVuY2lsTWFuYWdlcihyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3RlbmNpbE1hbmFnZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9XZWJHTE1hbmFnZXIuY2FsbCh0aGlzLCByZW5kZXJlcikpO1xuXG4gICAgICAgIF90aGlzLnN0ZW5jaWxNYXNrU3RhY2sgPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgbWFzayBzdGFjayB0aGF0IGlzIHVzZWQgYnkgdGhpcyBtYW5hZ2VyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzW119IHN0ZW5jaWxNYXNrU3RhY2sgLSBUaGUgbWFzayBzdGFja1xuICAgICAqL1xuXG5cbiAgICBTdGVuY2lsTWFuYWdlci5wcm90b3R5cGUuc2V0TWFza1N0YWNrID0gZnVuY3Rpb24gc2V0TWFza1N0YWNrKHN0ZW5jaWxNYXNrU3RhY2spIHtcbiAgICAgICAgdGhpcy5zdGVuY2lsTWFza1N0YWNrID0gc3RlbmNpbE1hc2tTdGFjaztcblxuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuXG4gICAgICAgIGlmIChzdGVuY2lsTWFza1N0YWNrLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZ2wuZGlzYWJsZShnbC5TVEVOQ0lMX1RFU1QpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLlNURU5DSUxfVEVTVCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgTWFzayBhbmQgYWRkcyBpdCB0byB0aGUgY3VycmVudCBzdGVuY2lsIHN0YWNrLiBAYWx2aW5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5HcmFwaGljc30gZ3JhcGhpY3MgLSBUaGUgbWFza1xuICAgICAqL1xuXG5cbiAgICBTdGVuY2lsTWFuYWdlci5wcm90b3R5cGUucHVzaFN0ZW5jaWwgPSBmdW5jdGlvbiBwdXNoU3RlbmNpbChncmFwaGljcykge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldE9iamVjdFJlbmRlcmVyKHRoaXMucmVuZGVyZXIucGx1Z2lucy5ncmFwaGljcyk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5fYWN0aXZlUmVuZGVyVGFyZ2V0LmF0dGFjaFN0ZW5jaWxCdWZmZXIoKTtcblxuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgcHJldk1hc2tDb3VudCA9IHRoaXMuc3RlbmNpbE1hc2tTdGFjay5sZW5ndGg7XG5cbiAgICAgICAgaWYgKHByZXZNYXNrQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgIGdsLmVuYWJsZShnbC5TVEVOQ0lMX1RFU1QpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdGVuY2lsTWFza1N0YWNrLnB1c2goZ3JhcGhpY3MpO1xuXG4gICAgICAgIC8vIEluY3JlbWVudCB0aGUgcmVmZmVyZW5jZSBzdGVuY2lsIHZhbHVlIHdoZXJlIHRoZSBuZXcgbWFzayBvdmVybGFwcyB3aXRoIHRoZSBvbGQgb25lcy5cbiAgICAgICAgZ2wuY29sb3JNYXNrKGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgZ2wuc3RlbmNpbEZ1bmMoZ2wuRVFVQUwsIHByZXZNYXNrQ291bnQsIHRoaXMuX2dldEJpdHdpc2VNYXNrKCkpO1xuICAgICAgICBnbC5zdGVuY2lsT3AoZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuSU5DUik7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucGx1Z2lucy5ncmFwaGljcy5yZW5kZXIoZ3JhcGhpY3MpO1xuXG4gICAgICAgIHRoaXMuX3VzZUN1cnJlbnQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbGFzdCBtYXNrIGZyb20gdGhlIHN0ZW5jaWwgc3RhY2suIEBhbHZpblxuICAgICAqL1xuXG5cbiAgICBTdGVuY2lsTWFuYWdlci5wcm90b3R5cGUucG9wU3RlbmNpbCA9IGZ1bmN0aW9uIHBvcFN0ZW5jaWwoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0T2JqZWN0UmVuZGVyZXIodGhpcy5yZW5kZXJlci5wbHVnaW5zLmdyYXBoaWNzKTtcblxuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgZ3JhcGhpY3MgPSB0aGlzLnN0ZW5jaWxNYXNrU3RhY2sucG9wKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuc3RlbmNpbE1hc2tTdGFjay5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vIHRoZSBzdGFjayBpcyBlbXB0eSFcbiAgICAgICAgICAgIGdsLmRpc2FibGUoZ2wuU1RFTkNJTF9URVNUKTtcbiAgICAgICAgICAgIGdsLmNsZWFyKGdsLlNURU5DSUxfQlVGRkVSX0JJVCk7XG4gICAgICAgICAgICBnbC5jbGVhclN0ZW5jaWwoMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBEZWNyZW1lbnQgdGhlIHJlZmZlcmVuY2Ugc3RlbmNpbCB2YWx1ZSB3aGVyZSB0aGUgcG9wcGVkIG1hc2sgb3ZlcmxhcHMgd2l0aCB0aGUgb3RoZXIgb25lc1xuICAgICAgICAgICAgZ2wuY29sb3JNYXNrKGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgICAgIGdsLnN0ZW5jaWxPcChnbC5LRUVQLCBnbC5LRUVQLCBnbC5ERUNSKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucGx1Z2lucy5ncmFwaGljcy5yZW5kZXIoZ3JhcGhpY3MpO1xuXG4gICAgICAgICAgICB0aGlzLl91c2VDdXJyZW50KCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0dXAgcmVuZGVyZXIgdG8gdXNlIHRoZSBjdXJyZW50IHN0ZW5jaWwgZGF0YS5cbiAgICAgKi9cblxuXG4gICAgU3RlbmNpbE1hbmFnZXIucHJvdG90eXBlLl91c2VDdXJyZW50ID0gZnVuY3Rpb24gX3VzZUN1cnJlbnQoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgZ2wuY29sb3JNYXNrKHRydWUsIHRydWUsIHRydWUsIHRydWUpO1xuICAgICAgICBnbC5zdGVuY2lsRnVuYyhnbC5FUVVBTCwgdGhpcy5zdGVuY2lsTWFza1N0YWNrLmxlbmd0aCwgdGhpcy5fZ2V0Qml0d2lzZU1hc2soKSk7XG4gICAgICAgIGdsLnN0ZW5jaWxPcChnbC5LRUVQLCBnbC5LRUVQLCBnbC5LRUVQKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmlsbCAxcyBlcXVhbCB0byB0aGUgbnVtYmVyIG9mIGFjaXR2ZSBzdGVuY2lsIG1hc2tzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgYml0d2lzZSBtYXNrLlxuICAgICAqL1xuXG5cbiAgICBTdGVuY2lsTWFuYWdlci5wcm90b3R5cGUuX2dldEJpdHdpc2VNYXNrID0gZnVuY3Rpb24gX2dldEJpdHdpc2VNYXNrKCkge1xuICAgICAgICByZXR1cm4gKDEgPDwgdGhpcy5zdGVuY2lsTWFza1N0YWNrLmxlbmd0aCkgLSAxO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgbWFzayBzdGFjay5cbiAgICAgKlxuICAgICAqL1xuXG5cbiAgICBTdGVuY2lsTWFuYWdlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIF9XZWJHTE1hbmFnZXIzLmRlZmF1bHQucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcblxuICAgICAgICB0aGlzLnN0ZW5jaWxNYXNrU3RhY2suc3RlbmNpbFN0YWNrID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFN0ZW5jaWxNYW5hZ2VyO1xufShfV2ViR0xNYW5hZ2VyMy5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gU3RlbmNpbE1hbmFnZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdGVuY2lsTWFuYWdlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBleHRyYWN0VW5pZm9ybXNGcm9tU3JjO1xuXG52YXIgX3BpeGlHbENvcmUgPSByZXF1aXJlKCdwaXhpLWdsLWNvcmUnKTtcblxudmFyIF9waXhpR2xDb3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BpeGlHbENvcmUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgZGVmYXVsdFZhbHVlID0gX3BpeGlHbENvcmUyLmRlZmF1bHQuc2hhZGVyLmRlZmF1bHRWYWx1ZTtcblxuZnVuY3Rpb24gZXh0cmFjdFVuaWZvcm1zRnJvbVNyYyh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBtYXNrKSB7XG4gICAgdmFyIHZlcnRVbmlmb3JtcyA9IGV4dHJhY3RVbmlmb3Jtc0Zyb21TdHJpbmcodmVydGV4U3JjLCBtYXNrKTtcbiAgICB2YXIgZnJhZ1VuaWZvcm1zID0gZXh0cmFjdFVuaWZvcm1zRnJvbVN0cmluZyhmcmFnbWVudFNyYywgbWFzayk7XG5cbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih2ZXJ0VW5pZm9ybXMsIGZyYWdVbmlmb3Jtcyk7XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RVbmlmb3Jtc0Zyb21TdHJpbmcoc3RyaW5nKSB7XG4gICAgdmFyIG1hc2tSZWdleCA9IG5ldyBSZWdFeHAoJ14ocHJvamVjdGlvbk1hdHJpeHx1U2FtcGxlcnxmaWx0ZXJBcmVhfGZpbHRlckNsYW1wKSQnKTtcblxuICAgIHZhciB1bmlmb3JtcyA9IHt9O1xuICAgIHZhciBuYW1lU3BsaXQgPSB2b2lkIDA7XG5cbiAgICAvLyBjbGVhbiB0aGUgbGluZXMgYSBsaXR0bGUgLSByZW1vdmUgZXh0cmEgc3BhY2VzIC8gdGFicyBldGNcbiAgICAvLyB0aGVuIHNwbGl0IGFsb25nICc7J1xuICAgIHZhciBsaW5lcyA9IHN0cmluZy5yZXBsYWNlKC9cXHMrL2csICcgJykuc3BsaXQoL1xccyo7XFxzKi8pO1xuXG4gICAgLy8gbG9vcCB0aHJvdWdoLi5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBsaW5lID0gbGluZXNbaV0udHJpbSgpO1xuXG4gICAgICAgIGlmIChsaW5lLmluZGV4T2YoJ3VuaWZvcm0nKSA+IC0xKSB7XG4gICAgICAgICAgICB2YXIgc3BsaXRMaW5lID0gbGluZS5zcGxpdCgnICcpO1xuICAgICAgICAgICAgdmFyIHR5cGUgPSBzcGxpdExpbmVbMV07XG5cbiAgICAgICAgICAgIHZhciBuYW1lID0gc3BsaXRMaW5lWzJdO1xuICAgICAgICAgICAgdmFyIHNpemUgPSAxO1xuXG4gICAgICAgICAgICBpZiAobmFtZS5pbmRleE9mKCdbJykgPiAtMSkge1xuICAgICAgICAgICAgICAgIC8vIGFycmF5IVxuICAgICAgICAgICAgICAgIG5hbWVTcGxpdCA9IG5hbWUuc3BsaXQoL1xcW3xdLyk7XG4gICAgICAgICAgICAgICAgbmFtZSA9IG5hbWVTcGxpdFswXTtcbiAgICAgICAgICAgICAgICBzaXplICo9IE51bWJlcihuYW1lU3BsaXRbMV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIW5hbWUubWF0Y2gobWFza1JlZ2V4KSkge1xuICAgICAgICAgICAgICAgIHVuaWZvcm1zW25hbWVdID0ge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZGVmYXVsdFZhbHVlKHR5cGUsIHNpemUpLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB1bmlmb3Jtcztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4dHJhY3RVbmlmb3Jtc0Zyb21TcmMuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1dlYkdMTWFuYWdlcjIgPSByZXF1aXJlKCcuL1dlYkdMTWFuYWdlcicpO1xuXG52YXIgX1dlYkdMTWFuYWdlcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9XZWJHTE1hbmFnZXIyKTtcblxudmFyIF9TcHJpdGVNYXNrRmlsdGVyID0gcmVxdWlyZSgnLi4vZmlsdGVycy9zcHJpdGVNYXNrL1Nwcml0ZU1hc2tGaWx0ZXInKTtcblxudmFyIF9TcHJpdGVNYXNrRmlsdGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Nwcml0ZU1hc2tGaWx0ZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLldlYkdMTWFuYWdlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE1hc2tNYW5hZ2VyID0gZnVuY3Rpb24gKF9XZWJHTE1hbmFnZXIpIHtcbiAgICBfaW5oZXJpdHMoTWFza01hbmFnZXIsIF9XZWJHTE1hbmFnZXIpO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLldlYkdMUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWFza01hbmFnZXIocmVuZGVyZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1hc2tNYW5hZ2VyKTtcblxuICAgICAgICAvLyBUT0RPIC0gd2UgZG9uJ3QgbmVlZCBib3RoIVxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfV2ViR0xNYW5hZ2VyLmNhbGwodGhpcywgcmVuZGVyZXIpKTtcblxuICAgICAgICBfdGhpcy5zY2lzc29yID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnNjaXNzb3JEYXRhID0gbnVsbDtcbiAgICAgICAgX3RoaXMuc2Npc3NvclJlbmRlclRhcmdldCA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMuZW5hYmxlU2Npc3NvciA9IHRydWU7XG5cbiAgICAgICAgX3RoaXMuYWxwaGFNYXNrUG9vbCA9IFtdO1xuICAgICAgICBfdGhpcy5hbHBoYU1hc2tJbmRleCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBNYXNrIGFuZCBhZGRzIGl0IHRvIHRoZSBjdXJyZW50IGZpbHRlciBzdGFjay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSB0YXJnZXQgLSBEaXNwbGF5IE9iamVjdCB0byBwdXNoIHRoZSBtYXNrIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZXxQSVhJLkdyYXBoaWNzfSBtYXNrRGF0YSAtIFRoZSBtYXNraW5nIGRhdGEuXG4gICAgICovXG5cblxuICAgIE1hc2tNYW5hZ2VyLnByb3RvdHlwZS5wdXNoTWFzayA9IGZ1bmN0aW9uIHB1c2hNYXNrKHRhcmdldCwgbWFza0RhdGEpIHtcbiAgICAgICAgLy8gVE9ETyB0aGUgcm9vdCBjaGVjayBtZWFucyBzY2lzc29yIHJlY3Qgd2lsbCBub3RcbiAgICAgICAgLy8gYmUgdXNlZCBvbiByZW5kZXIgdGV4dHVyZXMgbW9yZSBpbmZvIGhlcmU6XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy9wdWxsLzM1NDVcblxuICAgICAgICBpZiAobWFza0RhdGEudGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5wdXNoU3ByaXRlTWFzayh0YXJnZXQsIG1hc2tEYXRhKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmVuYWJsZVNjaXNzb3IgJiYgIXRoaXMuc2Npc3NvciAmJiB0aGlzLnJlbmRlcmVyLl9hY3RpdmVSZW5kZXJUYXJnZXQucm9vdCAmJiAhdGhpcy5yZW5kZXJlci5zdGVuY2lsTWFuYWdlci5zdGVuY2lsTWFza1N0YWNrLmxlbmd0aCAmJiBtYXNrRGF0YS5pc0Zhc3RSZWN0KCkpIHtcbiAgICAgICAgICAgIHZhciBtYXRyaXggPSBtYXNrRGF0YS53b3JsZFRyYW5zZm9ybTtcblxuICAgICAgICAgICAgdmFyIHJvdCA9IE1hdGguYXRhbjIobWF0cml4LmIsIG1hdHJpeC5hKTtcblxuICAgICAgICAgICAgLy8gdXNlIHRoZSBuZWFyZXN0IGRlZ3JlZSFcbiAgICAgICAgICAgIHJvdCA9IE1hdGgucm91bmQocm90ICogKDE4MCAvIE1hdGguUEkpKTtcblxuICAgICAgICAgICAgaWYgKHJvdCAlIDkwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wdXNoU3RlbmNpbE1hc2sobWFza0RhdGEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnB1c2hTY2lzc29yTWFzayh0YXJnZXQsIG1hc2tEYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucHVzaFN0ZW5jaWxNYXNrKG1hc2tEYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBsYXN0IG1hc2sgZnJvbSB0aGUgbWFzayBzdGFjayBhbmQgZG9lc24ndCByZXR1cm4gaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gdGFyZ2V0IC0gRGlzcGxheSBPYmplY3QgdG8gcG9wIHRoZSBtYXNrIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfFBJWEkuR3JhcGhpY3N9IG1hc2tEYXRhIC0gVGhlIG1hc2tpbmcgZGF0YS5cbiAgICAgKi9cblxuXG4gICAgTWFza01hbmFnZXIucHJvdG90eXBlLnBvcE1hc2sgPSBmdW5jdGlvbiBwb3BNYXNrKHRhcmdldCwgbWFza0RhdGEpIHtcbiAgICAgICAgaWYgKG1hc2tEYXRhLnRleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMucG9wU3ByaXRlTWFzayh0YXJnZXQsIG1hc2tEYXRhKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmVuYWJsZVNjaXNzb3IgJiYgIXRoaXMucmVuZGVyZXIuc3RlbmNpbE1hbmFnZXIuc3RlbmNpbE1hc2tTdGFjay5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMucG9wU2Npc3Nvck1hc2sodGFyZ2V0LCBtYXNrRGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBvcFN0ZW5jaWxNYXNrKHRhcmdldCwgbWFza0RhdGEpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIE1hc2sgYW5kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgZmlsdGVyIHN0YWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gdGFyZ2V0IC0gRGlzcGxheSBPYmplY3QgdG8gcHVzaCB0aGUgc3ByaXRlIG1hc2sgdG9cbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBtYXNrRGF0YSAtIFNwcml0ZSB0byBiZSB1c2VkIGFzIHRoZSBtYXNrXG4gICAgICovXG5cblxuICAgIE1hc2tNYW5hZ2VyLnByb3RvdHlwZS5wdXNoU3ByaXRlTWFzayA9IGZ1bmN0aW9uIHB1c2hTcHJpdGVNYXNrKHRhcmdldCwgbWFza0RhdGEpIHtcbiAgICAgICAgdmFyIGFscGhhTWFza0ZpbHRlciA9IHRoaXMuYWxwaGFNYXNrUG9vbFt0aGlzLmFscGhhTWFza0luZGV4XTtcblxuICAgICAgICBpZiAoIWFscGhhTWFza0ZpbHRlcikge1xuICAgICAgICAgICAgYWxwaGFNYXNrRmlsdGVyID0gdGhpcy5hbHBoYU1hc2tQb29sW3RoaXMuYWxwaGFNYXNrSW5kZXhdID0gW25ldyBfU3ByaXRlTWFza0ZpbHRlcjIuZGVmYXVsdChtYXNrRGF0YSldO1xuICAgICAgICB9XG5cbiAgICAgICAgYWxwaGFNYXNrRmlsdGVyWzBdLnJlc29sdXRpb24gPSB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgIGFscGhhTWFza0ZpbHRlclswXS5tYXNrU3ByaXRlID0gbWFza0RhdGE7XG5cbiAgICAgICAgLy8gVE9ETyAtIG1heSBjYXVzZSBpc3N1ZXMhXG4gICAgICAgIHRhcmdldC5maWx0ZXJBcmVhID0gbWFza0RhdGEuZ2V0Qm91bmRzKHRydWUpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuZmlsdGVyTWFuYWdlci5wdXNoRmlsdGVyKHRhcmdldCwgYWxwaGFNYXNrRmlsdGVyKTtcblxuICAgICAgICB0aGlzLmFscGhhTWFza0luZGV4Kys7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxhc3QgZmlsdGVyIGZyb20gdGhlIGZpbHRlciBzdGFjayBhbmQgZG9lc24ndCByZXR1cm4gaXQuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgTWFza01hbmFnZXIucHJvdG90eXBlLnBvcFNwcml0ZU1hc2sgPSBmdW5jdGlvbiBwb3BTcHJpdGVNYXNrKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmZpbHRlck1hbmFnZXIucG9wRmlsdGVyKCk7XG4gICAgICAgIHRoaXMuYWxwaGFNYXNrSW5kZXgtLTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgTWFzayBhbmQgYWRkcyBpdCB0byB0aGUgY3VycmVudCBmaWx0ZXIgc3RhY2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfFBJWEkuR3JhcGhpY3N9IG1hc2tEYXRhIC0gVGhlIG1hc2tpbmcgZGF0YS5cbiAgICAgKi9cblxuXG4gICAgTWFza01hbmFnZXIucHJvdG90eXBlLnB1c2hTdGVuY2lsTWFzayA9IGZ1bmN0aW9uIHB1c2hTdGVuY2lsTWFzayhtYXNrRGF0YSkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmN1cnJlbnRSZW5kZXJlci5zdG9wKCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc3RlbmNpbE1hbmFnZXIucHVzaFN0ZW5jaWwobWFza0RhdGEpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBsYXN0IGZpbHRlciBmcm9tIHRoZSBmaWx0ZXIgc3RhY2sgYW5kIGRvZXNuJ3QgcmV0dXJuIGl0LlxuICAgICAqXG4gICAgICovXG5cblxuICAgIE1hc2tNYW5hZ2VyLnByb3RvdHlwZS5wb3BTdGVuY2lsTWFzayA9IGZ1bmN0aW9uIHBvcFN0ZW5jaWxNYXNrKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmN1cnJlbnRSZW5kZXJlci5zdG9wKCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc3RlbmNpbE1hbmFnZXIucG9wU3RlbmNpbCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSB0YXJnZXQgLSBEaXNwbGF5IE9iamVjdCB0byBwdXNoIHRoZSBtYXNrIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzfSBtYXNrRGF0YSAtIFRoZSBtYXNraW5nIGRhdGEuXG4gICAgICovXG5cblxuICAgIE1hc2tNYW5hZ2VyLnByb3RvdHlwZS5wdXNoU2Npc3Nvck1hc2sgPSBmdW5jdGlvbiBwdXNoU2Npc3Nvck1hc2sodGFyZ2V0LCBtYXNrRGF0YSkge1xuICAgICAgICBtYXNrRGF0YS5yZW5kZXJhYmxlID0gdHJ1ZTtcblxuICAgICAgICB2YXIgcmVuZGVyVGFyZ2V0ID0gdGhpcy5yZW5kZXJlci5fYWN0aXZlUmVuZGVyVGFyZ2V0O1xuXG4gICAgICAgIHZhciBib3VuZHMgPSBtYXNrRGF0YS5nZXRCb3VuZHMoKTtcblxuICAgICAgICBib3VuZHMuZml0KHJlbmRlclRhcmdldC5zaXplKTtcbiAgICAgICAgbWFza0RhdGEucmVuZGVyYWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuZ2wuZW5hYmxlKHRoaXMucmVuZGVyZXIuZ2wuU0NJU1NPUl9URVNUKTtcblxuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLmdsLnNjaXNzb3IoYm91bmRzLnggKiByZXNvbHV0aW9uLCAocmVuZGVyVGFyZ2V0LnJvb3QgPyByZW5kZXJUYXJnZXQuc2l6ZS5oZWlnaHQgLSBib3VuZHMueSAtIGJvdW5kcy5oZWlnaHQgOiBib3VuZHMueSkgKiByZXNvbHV0aW9uLCBib3VuZHMud2lkdGggKiByZXNvbHV0aW9uLCBib3VuZHMuaGVpZ2h0ICogcmVzb2x1dGlvbik7XG5cbiAgICAgICAgdGhpcy5zY2lzc29yUmVuZGVyVGFyZ2V0ID0gcmVuZGVyVGFyZ2V0O1xuICAgICAgICB0aGlzLnNjaXNzb3JEYXRhID0gbWFza0RhdGE7XG4gICAgICAgIHRoaXMuc2Npc3NvciA9IHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgTWFza01hbmFnZXIucHJvdG90eXBlLnBvcFNjaXNzb3JNYXNrID0gZnVuY3Rpb24gcG9wU2Npc3Nvck1hc2soKSB7XG4gICAgICAgIHRoaXMuc2Npc3NvclJlbmRlclRhcmdldCA9IG51bGw7XG4gICAgICAgIHRoaXMuc2Npc3NvckRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnNjaXNzb3IgPSBmYWxzZTtcblxuICAgICAgICAvLyBtdXN0IGJlIHNjaXNzb3IhXG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgZ2wuZGlzYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICAgIH07XG5cbiAgICByZXR1cm4gTWFza01hbmFnZXI7XG59KF9XZWJHTE1hbmFnZXIzLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBNYXNrTWFuYWdlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hc2tNYW5hZ2VyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9PYmplY3RSZW5kZXJlcjIgPSByZXF1aXJlKCcuLi8uLi9yZW5kZXJlcnMvd2ViZ2wvdXRpbHMvT2JqZWN0UmVuZGVyZXInKTtcblxudmFyIF9PYmplY3RSZW5kZXJlcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9PYmplY3RSZW5kZXJlcjIpO1xuXG52YXIgX1dlYkdMUmVuZGVyZXIgPSByZXF1aXJlKCcuLi8uLi9yZW5kZXJlcnMvd2ViZ2wvV2ViR0xSZW5kZXJlcicpO1xuXG52YXIgX1dlYkdMUmVuZGVyZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xSZW5kZXJlcik7XG5cbnZhciBfY3JlYXRlSW5kaWNlc0ZvclF1YWRzID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvY3JlYXRlSW5kaWNlc0ZvclF1YWRzJyk7XG5cbnZhciBfY3JlYXRlSW5kaWNlc0ZvclF1YWRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUluZGljZXNGb3JRdWFkcyk7XG5cbnZhciBfZ2VuZXJhdGVNdWx0aVRleHR1cmVTaGFkZXIgPSByZXF1aXJlKCcuL2dlbmVyYXRlTXVsdGlUZXh0dXJlU2hhZGVyJyk7XG5cbnZhciBfZ2VuZXJhdGVNdWx0aVRleHR1cmVTaGFkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2VuZXJhdGVNdWx0aVRleHR1cmVTaGFkZXIpO1xuXG52YXIgX2NoZWNrTWF4SWZTdGF0bWVudHNJblNoYWRlciA9IHJlcXVpcmUoJy4uLy4uL3JlbmRlcmVycy93ZWJnbC91dGlscy9jaGVja01heElmU3RhdG1lbnRzSW5TaGFkZXInKTtcblxudmFyIF9jaGVja01heElmU3RhdG1lbnRzSW5TaGFkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2hlY2tNYXhJZlN0YXRtZW50c0luU2hhZGVyKTtcblxudmFyIF9CYXRjaEJ1ZmZlciA9IHJlcXVpcmUoJy4vQmF0Y2hCdWZmZXInKTtcblxudmFyIF9CYXRjaEJ1ZmZlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXRjaEJ1ZmZlcik7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi8uLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzJyk7XG5cbnZhciBfcGl4aUdsQ29yZSA9IHJlcXVpcmUoJ3BpeGktZ2wtY29yZScpO1xuXG52YXIgX3BpeGlHbENvcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGl4aUdsQ29yZSk7XG5cbnZhciBfYml0VHdpZGRsZSA9IHJlcXVpcmUoJ2JpdC10d2lkZGxlJyk7XG5cbnZhciBfYml0VHdpZGRsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iaXRUd2lkZGxlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgVElDSyA9IDA7XG52YXIgVEVYVFVSRV9USUNLID0gMDtcblxuLyoqXG4gKiBSZW5kZXJlciBkZWRpY2F0ZWQgdG8gZHJhd2luZyBhbmQgYmF0Y2hpbmcgc3ByaXRlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5PYmplY3RSZW5kZXJlclxuICovXG5cbnZhciBTcHJpdGVSZW5kZXJlciA9IGZ1bmN0aW9uIChfT2JqZWN0UmVuZGVyZXIpIHtcbiAgICBfaW5oZXJpdHMoU3ByaXRlUmVuZGVyZXIsIF9PYmplY3RSZW5kZXJlcik7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBzcHJpdGUgYmF0Y2ggd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNwcml0ZVJlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTcHJpdGVSZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE51bWJlciBvZiB2YWx1ZXMgc2VudCBpbiB0aGUgdmVydGV4IGJ1ZmZlci5cbiAgICAgICAgICogYVZlcnRleFBvc2l0aW9uKDIpLCBhVGV4dHVyZUNvb3JkKDEpLCBhQ29sb3IoMSksIGFUZXh0dXJlSWQoMSkgPSA1XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9PYmplY3RSZW5kZXJlci5jYWxsKHRoaXMsIHJlbmRlcmVyKSk7XG5cbiAgICAgICAgX3RoaXMudmVydFNpemUgPSA1O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2l6ZSBvZiB0aGUgdmVydGV4IGluZm9ybWF0aW9uIGluIGJ5dGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy52ZXJ0Qnl0ZVNpemUgPSBfdGhpcy52ZXJ0U2l6ZSAqIDQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgaW1hZ2VzIGluIHRoZSBTcHJpdGVSZW5kZXJlciBiZWZvcmUgaXQgZmx1c2hlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2l6ZSA9IF9zZXR0aW5nczIuZGVmYXVsdC5TUFJJVEVfQkFUQ0hfU0laRTsgLy8gMjAwMCBpcyBhIG5pY2UgYmFsYW5jZSBiZXR3ZWVuIG1vYmlsZSAvIGRlc2t0b3BcblxuICAgICAgICAvLyB0aGUgdG90YWwgbnVtYmVyIG9mIGJ5dGVzIGluIG91ciBiYXRjaFxuICAgICAgICAvLyBsZXQgbnVtVmVydHMgPSB0aGlzLnNpemUgKiA0ICogdGhpcy52ZXJ0Qnl0ZVNpemU7XG5cbiAgICAgICAgX3RoaXMuYnVmZmVycyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBfYml0VHdpZGRsZTIuZGVmYXVsdC5uZXh0UG93MihfdGhpcy5zaXplKTsgaSAqPSAyKSB7XG4gICAgICAgICAgICBfdGhpcy5idWZmZXJzLnB1c2gobmV3IF9CYXRjaEJ1ZmZlcjIuZGVmYXVsdChpICogNCAqIF90aGlzLnZlcnRCeXRlU2l6ZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhvbGRzIHRoZSBpbmRpY2VzIG9mIHRoZSBnZW9tZXRyeSAocXVhZHMpIHRvIGRyYXdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7VWludDE2QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5pbmRpY2VzID0gKDAsIF9jcmVhdGVJbmRpY2VzRm9yUXVhZHMyLmRlZmF1bHQpKF90aGlzLnNpemUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBzaGFkZXJzIHRoYXQgaXMgdXNlZCBpZiBhIHNwcml0ZSBkb2Vzbid0IGhhdmUgYSBtb3JlIHNwZWNpZmljIG9uZS5cbiAgICAgICAgICogdGhlcmUgaXMgYSBzaGFkZXIgZm9yIGVhY2ggbnVtYmVyIG9mIHRleHR1cmVzIHRoYXQgY2FuIGJlIHJlbmRlcmVyZC5cbiAgICAgICAgICogVGhlc2Ugc2hhZGVycyB3aWxsIGFsc28gYmUgZ2VuZXJhdGVkIG9uIHRoZSBmbHkgYXMgcmVxdWlyZWQuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU2hhZGVyW119XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zaGFkZXIgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLmN1cnJlbnRJbmRleCA9IDA7XG4gICAgICAgIF90aGlzLmdyb3VwcyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgX3RoaXMuc2l6ZTsgaysrKSB7XG4gICAgICAgICAgICBfdGhpcy5ncm91cHNba10gPSB7IHRleHR1cmVzOiBbXSwgdGV4dHVyZUNvdW50OiAwLCBpZHM6IFtdLCBzaXplOiAwLCBzdGFydDogMCwgYmxlbmQ6IDAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLnNwcml0ZXMgPSBbXTtcblxuICAgICAgICBfdGhpcy52ZXJ0ZXhCdWZmZXJzID0gW107XG4gICAgICAgIF90aGlzLnZhb3MgPSBbXTtcblxuICAgICAgICBfdGhpcy52YW9NYXggPSAyO1xuICAgICAgICBfdGhpcy52ZXJ0ZXhDb3VudCA9IDA7XG5cbiAgICAgICAgX3RoaXMucmVuZGVyZXIub24oJ3ByZXJlbmRlcicsIF90aGlzLm9uUHJlcmVuZGVyLCBfdGhpcyk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSByZW5kZXJlciBjb250ZXh0IGFuZCBuZWNlc3NhcnkgYnVmZmVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5vbkNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiBvbkNvbnRleHRDaGFuZ2UoKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIubGVnYWN5KSB7XG4gICAgICAgICAgICB0aGlzLk1BWF9URVhUVVJFUyA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBzdGVwIDE6IGZpcnN0IGNoZWNrIG1heCB0ZXh0dXJlcyB0aGUgR1BVIGNhbiBoYW5kbGUuXG4gICAgICAgICAgICB0aGlzLk1BWF9URVhUVVJFUyA9IE1hdGgubWluKGdsLmdldFBhcmFtZXRlcihnbC5NQVhfVEVYVFVSRV9JTUFHRV9VTklUUyksIF9zZXR0aW5nczIuZGVmYXVsdC5TUFJJVEVfTUFYX1RFWFRVUkVTKTtcblxuICAgICAgICAgICAgLy8gc3RlcCAyOiBjaGVjayB0aGUgbWF4aW11bSBudW1iZXIgb2YgaWYgc3RhdGVtZW50cyB0aGUgc2hhZGVyIGNhbiBoYXZlIHRvby4uXG4gICAgICAgICAgICB0aGlzLk1BWF9URVhUVVJFUyA9ICgwLCBfY2hlY2tNYXhJZlN0YXRtZW50c0luU2hhZGVyMi5kZWZhdWx0KSh0aGlzLk1BWF9URVhUVVJFUywgZ2wpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zaGFkZXIgPSAoMCwgX2dlbmVyYXRlTXVsdGlUZXh0dXJlU2hhZGVyMi5kZWZhdWx0KShnbCwgdGhpcy5NQVhfVEVYVFVSRVMpO1xuXG4gICAgICAgIC8vIGNyZWF0ZSBhIGNvdXBsZSBvZiBidWZmZXJzXG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBfcGl4aUdsQ29yZTIuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVJbmRleEJ1ZmZlcihnbCwgdGhpcy5pbmRpY2VzLCBnbC5TVEFUSUNfRFJBVyk7XG5cbiAgICAgICAgLy8gd2UgdXNlIHRoZSBzZWNvbmQgc2hhZGVyIGFzIHRoZSBmaXJzdCBvbmUgZGVwZW5kaW5nIG9uIHlvdXIgYnJvd3NlciBtYXkgb21pdCBhVGV4dHVyZUlkXG4gICAgICAgIC8vIGFzIGl0IGlzIG5vdCB1c2VkIGJ5IHRoZSBzaGFkZXIgc28gaXMgb3B0aW1pemVkIG91dC5cblxuICAgICAgICB0aGlzLnJlbmRlcmVyLmJpbmRWYW8obnVsbCk7XG5cbiAgICAgICAgdmFyIGF0dHJzID0gdGhpcy5zaGFkZXIuYXR0cmlidXRlcztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudmFvTWF4OyBpKyspIHtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgIHZhciB2ZXJ0ZXhCdWZmZXIgPSB0aGlzLnZlcnRleEJ1ZmZlcnNbaV0gPSBfcGl4aUdsQ29yZTIuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVWZXJ0ZXhCdWZmZXIoZ2wsIG51bGwsIGdsLlNUUkVBTV9EUkFXKTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbWF4LWxlbiAqL1xuXG4gICAgICAgICAgICAvLyBidWlsZCB0aGUgdmFvIG9iamVjdCB0aGF0IHdpbGwgcmVuZGVyLi5cbiAgICAgICAgICAgIHZhciB2YW8gPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZVZhbygpLmFkZEluZGV4KHRoaXMuaW5kZXhCdWZmZXIpLmFkZEF0dHJpYnV0ZSh2ZXJ0ZXhCdWZmZXIsIGF0dHJzLmFWZXJ0ZXhQb3NpdGlvbiwgZ2wuRkxPQVQsIGZhbHNlLCB0aGlzLnZlcnRCeXRlU2l6ZSwgMCkuYWRkQXR0cmlidXRlKHZlcnRleEJ1ZmZlciwgYXR0cnMuYVRleHR1cmVDb29yZCwgZ2wuVU5TSUdORURfU0hPUlQsIHRydWUsIHRoaXMudmVydEJ5dGVTaXplLCAyICogNCkuYWRkQXR0cmlidXRlKHZlcnRleEJ1ZmZlciwgYXR0cnMuYUNvbG9yLCBnbC5VTlNJR05FRF9CWVRFLCB0cnVlLCB0aGlzLnZlcnRCeXRlU2l6ZSwgMyAqIDQpO1xuXG4gICAgICAgICAgICBpZiAoYXR0cnMuYVRleHR1cmVJZCkge1xuICAgICAgICAgICAgICAgIHZhby5hZGRBdHRyaWJ1dGUodmVydGV4QnVmZmVyLCBhdHRycy5hVGV4dHVyZUlkLCBnbC5GTE9BVCwgZmFsc2UsIHRoaXMudmVydEJ5dGVTaXplLCA0ICogNCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudmFvc1tpXSA9IHZhbztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudmFvID0gdGhpcy52YW9zWzBdO1xuICAgICAgICB0aGlzLmN1cnJlbnRCbGVuZE1vZGUgPSA5OTk5OTtcblxuICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXMgPSBuZXcgQXJyYXkodGhpcy5NQVhfVEVYVFVSRVMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYmVmb3JlIHRoZSByZW5kZXJlciBzdGFydHMgcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5vblByZXJlbmRlciA9IGZ1bmN0aW9uIG9uUHJlcmVuZGVyKCkge1xuICAgICAgICB0aGlzLnZlcnRleENvdW50ID0gMDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgc3ByaXRlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IHNwcml0ZSAtIHRoZSBzcHJpdGUgdG8gcmVuZGVyIHdoZW4gdXNpbmcgdGhpcyBzcHJpdGViYXRjaFxuICAgICAqL1xuXG5cbiAgICBTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKHNwcml0ZSkge1xuICAgICAgICAvLyBUT0RPIHNldCBibGVuZCBtb2Rlcy4uXG4gICAgICAgIC8vIGNoZWNrIHRleHR1cmUuLlxuICAgICAgICBpZiAodGhpcy5jdXJyZW50SW5kZXggPj0gdGhpcy5zaXplKSB7XG4gICAgICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgdGhlIHV2cyBmb3IgdGhlIHRleHR1cmVcblxuICAgICAgICAvLyBpZiB0aGUgdXZzIGhhdmUgbm90IHVwZGF0ZWQgdGhlbiBubyBwb2ludCByZW5kZXJpbmcganVzdCB5ZXQhXG4gICAgICAgIGlmICghc3ByaXRlLl90ZXh0dXJlLl91dnMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHB1c2ggYSB0ZXh0dXJlLlxuICAgICAgICAvLyBpbmNyZW1lbnQgdGhlIGJhdGNoc2l6ZVxuICAgICAgICB0aGlzLnNwcml0ZXNbdGhpcy5jdXJyZW50SW5kZXgrK10gPSBzcHJpdGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIGNvbnRlbnQgYW5kIGVtcHRpZXMgdGhlIGN1cnJlbnQgYmF0Y2guXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRJbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgdmFyIE1BWF9URVhUVVJFUyA9IHRoaXMuTUFYX1RFWFRVUkVTO1xuXG4gICAgICAgIHZhciBucDIgPSBfYml0VHdpZGRsZTIuZGVmYXVsdC5uZXh0UG93Mih0aGlzLmN1cnJlbnRJbmRleCk7XG4gICAgICAgIHZhciBsb2cyID0gX2JpdFR3aWRkbGUyLmRlZmF1bHQubG9nMihucDIpO1xuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5idWZmZXJzW2xvZzJdO1xuXG4gICAgICAgIHZhciBzcHJpdGVzID0gdGhpcy5zcHJpdGVzO1xuICAgICAgICB2YXIgZ3JvdXBzID0gdGhpcy5ncm91cHM7XG5cbiAgICAgICAgdmFyIGZsb2F0MzJWaWV3ID0gYnVmZmVyLmZsb2F0MzJWaWV3O1xuICAgICAgICB2YXIgdWludDMyVmlldyA9IGJ1ZmZlci51aW50MzJWaWV3O1xuXG4gICAgICAgIHZhciBib3VuZFRleHR1cmVzID0gdGhpcy5ib3VuZFRleHR1cmVzO1xuICAgICAgICB2YXIgcmVuZGVyZXJCb3VuZFRleHR1cmVzID0gdGhpcy5yZW5kZXJlci5ib3VuZFRleHR1cmVzO1xuICAgICAgICB2YXIgdG91Y2ggPSB0aGlzLnJlbmRlcmVyLnRleHR1cmVHQy5jb3VudDtcblxuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICB2YXIgbmV4dFRleHR1cmUgPSB2b2lkIDA7XG4gICAgICAgIHZhciBjdXJyZW50VGV4dHVyZSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIGdyb3VwQ291bnQgPSAxO1xuICAgICAgICB2YXIgdGV4dHVyZUNvdW50ID0gMDtcbiAgICAgICAgdmFyIGN1cnJlbnRHcm91cCA9IGdyb3Vwc1swXTtcbiAgICAgICAgdmFyIHZlcnRleERhdGEgPSB2b2lkIDA7XG4gICAgICAgIHZhciB1dnMgPSB2b2lkIDA7XG4gICAgICAgIHZhciBibGVuZE1vZGUgPSBfdXRpbHMucHJlbXVsdGlwbHlCbGVuZE1vZGVbc3ByaXRlc1swXS5fdGV4dHVyZS5iYXNlVGV4dHVyZS5wcmVtdWx0aXBsaWVkQWxwaGEgPyAxIDogMF1bc3ByaXRlc1swXS5ibGVuZE1vZGVdO1xuXG4gICAgICAgIGN1cnJlbnRHcm91cC50ZXh0dXJlQ291bnQgPSAwO1xuICAgICAgICBjdXJyZW50R3JvdXAuc3RhcnQgPSAwO1xuICAgICAgICBjdXJyZW50R3JvdXAuYmxlbmQgPSBibGVuZE1vZGU7XG5cbiAgICAgICAgVElDSysrO1xuXG4gICAgICAgIHZhciBpID0gdm9pZCAwO1xuXG4gICAgICAgIC8vIGNvcHkgdGV4dHVyZXMuLlxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgTUFYX1RFWFRVUkVTOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBidCA9IHJlbmRlcmVyQm91bmRUZXh0dXJlc1tpXTtcblxuICAgICAgICAgICAgaWYgKGJ0Ll9lbmFibGVkID09PSBUSUNLKSB7XG4gICAgICAgICAgICAgICAgYm91bmRUZXh0dXJlc1tpXSA9IHRoaXMucmVuZGVyZXIuZW1wdHlUZXh0dXJlc1tpXTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYm91bmRUZXh0dXJlc1tpXSA9IGJ0O1xuICAgICAgICAgICAgYnQuX3ZpcnRhbEJvdW5kSWQgPSBpO1xuICAgICAgICAgICAgYnQuX2VuYWJsZWQgPSBUSUNLO1xuICAgICAgICB9XG4gICAgICAgIFRJQ0srKztcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5jdXJyZW50SW5kZXg7ICsraSkge1xuICAgICAgICAgICAgLy8gdXBsb2FkIHRoZSBzcHJpdGUgZWxlbWV0bnMuLi5cbiAgICAgICAgICAgIC8vIHRoZXkgaGF2ZSBhbGwgcmVhZHkgYmVlbiBjYWxjdWxhdGVkIHNvIHdlIGp1c3QgbmVlZCB0byBwdXNoIHRoZW0gaW50byB0aGUgYnVmZmVyLlxuICAgICAgICAgICAgdmFyIHNwcml0ZSA9IHNwcml0ZXNbaV07XG5cbiAgICAgICAgICAgIG5leHRUZXh0dXJlID0gc3ByaXRlLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgICAgICB2YXIgc3ByaXRlQmxlbmRNb2RlID0gX3V0aWxzLnByZW11bHRpcGx5QmxlbmRNb2RlW051bWJlcihuZXh0VGV4dHVyZS5wcmVtdWx0aXBsaWVkQWxwaGEpXVtzcHJpdGUuYmxlbmRNb2RlXTtcblxuICAgICAgICAgICAgaWYgKGJsZW5kTW9kZSAhPT0gc3ByaXRlQmxlbmRNb2RlKSB7XG4gICAgICAgICAgICAgICAgLy8gZmluaXNoIGEgZ3JvdXAuLlxuICAgICAgICAgICAgICAgIGJsZW5kTW9kZSA9IHNwcml0ZUJsZW5kTW9kZTtcblxuICAgICAgICAgICAgICAgIC8vIGZvcmNlIHRoZSBiYXRjaCB0byBicmVhayFcbiAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50ID0gTUFYX1RFWFRVUkVTO1xuICAgICAgICAgICAgICAgIFRJQ0srKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGN1cnJlbnRUZXh0dXJlICE9PSBuZXh0VGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRUZXh0dXJlID0gbmV4dFRleHR1cmU7XG5cbiAgICAgICAgICAgICAgICBpZiAobmV4dFRleHR1cmUuX2VuYWJsZWQgIT09IFRJQ0spIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRleHR1cmVDb3VudCA9PT0gTUFYX1RFWFRVUkVTKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBUSUNLKys7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC5zaXplID0gaSAtIGN1cnJlbnRHcm91cC5zdGFydDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50ID0gMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwID0gZ3JvdXBzW2dyb3VwQ291bnQrK107XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAuYmxlbmQgPSBibGVuZE1vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAudGV4dHVyZUNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC5zdGFydCA9IGk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS50b3VjaGVkID0gdG91Y2g7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRUZXh0dXJlLl92aXJ0YWxCb3VuZElkID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBNQVhfVEVYVFVSRVM7ICsraikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0SW5kZXggPSAoaiArIFRFWFRVUkVfVElDSykgJSBNQVhfVEVYVFVSRVM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IGJvdW5kVGV4dHVyZXNbdEluZGV4XTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0Ll9lbmFibGVkICE9PSBUSUNLKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRFWFRVUkVfVElDSysrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQuX3ZpcnRhbEJvdW5kSWQgPSAtMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS5fdmlydGFsQm91bmRJZCA9IHRJbmRleDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3VuZFRleHR1cmVzW3RJbmRleF0gPSBuZXh0VGV4dHVyZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHR1cmUuX2VuYWJsZWQgPSBUSUNLO1xuXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXh0dXJlQ291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLmlkc1t0ZXh0dXJlQ291bnRdID0gbmV4dFRleHR1cmUuX3ZpcnRhbEJvdW5kSWQ7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXh0dXJlc1t0ZXh0dXJlQ291bnQrK10gPSBuZXh0VGV4dHVyZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZlcnRleERhdGEgPSBzcHJpdGUudmVydGV4RGF0YTtcblxuICAgICAgICAgICAgLy8gVE9ETyB0aGlzIHN1bSBkb2VzIG5vdCBuZWVkIHRvIGJlIHNldCBlYWNoIGZyYW1lLi5cbiAgICAgICAgICAgIHV2cyA9IHNwcml0ZS5fdGV4dHVyZS5fdXZzLnV2c1VpbnQzMjtcblxuICAgICAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIucm91bmRQaXhlbHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgICAgIC8vIHh5XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXhdID0gKHZlcnRleERhdGFbMF0gKiByZXNvbHV0aW9uIHwgMCkgLyByZXNvbHV0aW9uO1xuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgMV0gPSAodmVydGV4RGF0YVsxXSAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb247XG5cbiAgICAgICAgICAgICAgICAvLyB4eVxuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgNV0gPSAodmVydGV4RGF0YVsyXSAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb247XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyA2XSA9ICh2ZXJ0ZXhEYXRhWzNdICogcmVzb2x1dGlvbiB8IDApIC8gcmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgICAgIC8vIHh5XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxMF0gPSAodmVydGV4RGF0YVs0XSAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb247XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxMV0gPSAodmVydGV4RGF0YVs1XSAqIHJlc29sdXRpb24gfCAwKSAvIHJlc29sdXRpb247XG5cbiAgICAgICAgICAgICAgICAvLyB4eVxuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgMTVdID0gKHZlcnRleERhdGFbNl0gKiByZXNvbHV0aW9uIHwgMCkgLyByZXNvbHV0aW9uO1xuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgMTZdID0gKHZlcnRleERhdGFbN10gKiByZXNvbHV0aW9uIHwgMCkgLyByZXNvbHV0aW9uO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyB4eVxuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4XSA9IHZlcnRleERhdGFbMF07XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxXSA9IHZlcnRleERhdGFbMV07XG5cbiAgICAgICAgICAgICAgICAvLyB4eVxuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgNV0gPSB2ZXJ0ZXhEYXRhWzJdO1xuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgNl0gPSB2ZXJ0ZXhEYXRhWzNdO1xuXG4gICAgICAgICAgICAgICAgLy8geHlcbiAgICAgICAgICAgICAgICBmbG9hdDMyVmlld1tpbmRleCArIDEwXSA9IHZlcnRleERhdGFbNF07XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxMV0gPSB2ZXJ0ZXhEYXRhWzVdO1xuXG4gICAgICAgICAgICAgICAgLy8geHlcbiAgICAgICAgICAgICAgICBmbG9hdDMyVmlld1tpbmRleCArIDE1XSA9IHZlcnRleERhdGFbNl07XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxNl0gPSB2ZXJ0ZXhEYXRhWzddO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB1aW50MzJWaWV3W2luZGV4ICsgMl0gPSB1dnNbMF07XG4gICAgICAgICAgICB1aW50MzJWaWV3W2luZGV4ICsgN10gPSB1dnNbMV07XG4gICAgICAgICAgICB1aW50MzJWaWV3W2luZGV4ICsgMTJdID0gdXZzWzJdO1xuICAgICAgICAgICAgdWludDMyVmlld1tpbmRleCArIDE3XSA9IHV2c1szXTtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgIHZhciBhbHBoYSA9IE1hdGgubWluKHNwcml0ZS53b3JsZEFscGhhLCAxLjApO1xuICAgICAgICAgICAgLy8gd2UgZG9udCBjYWxsIGV4dHJhIGZ1bmN0aW9uIGlmIGFscGhhIGlzIDEuMCwgdGhhdCdzIGZhc3RlclxuICAgICAgICAgICAgdmFyIGFyZ2IgPSBhbHBoYSA8IDEuMCAmJiBuZXh0VGV4dHVyZS5wcmVtdWx0aXBsaWVkQWxwaGEgPyAoMCwgX3V0aWxzLnByZW11bHRpcGx5VGludCkoc3ByaXRlLl90aW50UkdCLCBhbHBoYSkgOiBzcHJpdGUuX3RpbnRSR0IgKyAoYWxwaGEgKiAyNTUgPDwgMjQpO1xuXG4gICAgICAgICAgICB1aW50MzJWaWV3W2luZGV4ICsgM10gPSB1aW50MzJWaWV3W2luZGV4ICsgOF0gPSB1aW50MzJWaWV3W2luZGV4ICsgMTNdID0gdWludDMyVmlld1tpbmRleCArIDE4XSA9IGFyZ2I7XG4gICAgICAgICAgICBmbG9hdDMyVmlld1tpbmRleCArIDRdID0gZmxvYXQzMlZpZXdbaW5kZXggKyA5XSA9IGZsb2F0MzJWaWV3W2luZGV4ICsgMTRdID0gZmxvYXQzMlZpZXdbaW5kZXggKyAxOV0gPSBuZXh0VGV4dHVyZS5fdmlydGFsQm91bmRJZDtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbWF4LWxlbiAqL1xuXG4gICAgICAgICAgICBpbmRleCArPSAyMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGN1cnJlbnRHcm91cC5zaXplID0gaSAtIGN1cnJlbnRHcm91cC5zdGFydDtcblxuICAgICAgICBpZiAoIV9zZXR0aW5nczIuZGVmYXVsdC5DQU5fVVBMT0FEX1NBTUVfQlVGRkVSKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIHN0aWxsIG5lZWRlZCBmb3IgSU9TIHBlcmZvcm1hbmNlLi5cbiAgICAgICAgICAgIC8vIGl0IHJlYWxseSBkb2VzIG5vdCBsaWtlIHVwbG9hZGluZyB0byB0aGUgc2FtZSBidWZmZXIgaW4gYSBzaW5nbGUgZnJhbWUhXG4gICAgICAgICAgICBpZiAodGhpcy52YW9NYXggPD0gdGhpcy52ZXJ0ZXhDb3VudCkge1xuICAgICAgICAgICAgICAgIHRoaXMudmFvTWF4Kys7XG5cbiAgICAgICAgICAgICAgICB2YXIgYXR0cnMgPSB0aGlzLnNoYWRlci5hdHRyaWJ1dGVzO1xuXG4gICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgICAgIHZhciB2ZXJ0ZXhCdWZmZXIgPSB0aGlzLnZlcnRleEJ1ZmZlcnNbdGhpcy52ZXJ0ZXhDb3VudF0gPSBfcGl4aUdsQ29yZTIuZGVmYXVsdC5HTEJ1ZmZlci5jcmVhdGVWZXJ0ZXhCdWZmZXIoZ2wsIG51bGwsIGdsLlNUUkVBTV9EUkFXKTtcbiAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4gKi9cblxuICAgICAgICAgICAgICAgIC8vIGJ1aWxkIHRoZSB2YW8gb2JqZWN0IHRoYXQgd2lsbCByZW5kZXIuLlxuICAgICAgICAgICAgICAgIHZhciB2YW8gPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZVZhbygpLmFkZEluZGV4KHRoaXMuaW5kZXhCdWZmZXIpLmFkZEF0dHJpYnV0ZSh2ZXJ0ZXhCdWZmZXIsIGF0dHJzLmFWZXJ0ZXhQb3NpdGlvbiwgZ2wuRkxPQVQsIGZhbHNlLCB0aGlzLnZlcnRCeXRlU2l6ZSwgMCkuYWRkQXR0cmlidXRlKHZlcnRleEJ1ZmZlciwgYXR0cnMuYVRleHR1cmVDb29yZCwgZ2wuVU5TSUdORURfU0hPUlQsIHRydWUsIHRoaXMudmVydEJ5dGVTaXplLCAyICogNCkuYWRkQXR0cmlidXRlKHZlcnRleEJ1ZmZlciwgYXR0cnMuYUNvbG9yLCBnbC5VTlNJR05FRF9CWVRFLCB0cnVlLCB0aGlzLnZlcnRCeXRlU2l6ZSwgMyAqIDQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGF0dHJzLmFUZXh0dXJlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFvLmFkZEF0dHJpYnV0ZSh2ZXJ0ZXhCdWZmZXIsIGF0dHJzLmFUZXh0dXJlSWQsIGdsLkZMT0FULCBmYWxzZSwgdGhpcy52ZXJ0Qnl0ZVNpemUsIDQgKiA0KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnZhb3NbdGhpcy52ZXJ0ZXhDb3VudF0gPSB2YW87XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuYmluZFZhbyh0aGlzLnZhb3NbdGhpcy52ZXJ0ZXhDb3VudF0pO1xuXG4gICAgICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlcnNbdGhpcy52ZXJ0ZXhDb3VudF0udXBsb2FkKGJ1ZmZlci52ZXJ0aWNlcywgMCwgZmFsc2UpO1xuXG4gICAgICAgICAgICB0aGlzLnZlcnRleENvdW50Kys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBsZXRzIHVzZSB0aGUgZmFzdGVyIG9wdGlvbiwgYWx3YXlzIHVzZSBidWZmZXIgbnVtYmVyIDBcbiAgICAgICAgICAgIHRoaXMudmVydGV4QnVmZmVyc1t0aGlzLnZlcnRleENvdW50XS51cGxvYWQoYnVmZmVyLnZlcnRpY2VzLCAwLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBNQVhfVEVYVFVSRVM7ICsraSkge1xuICAgICAgICAgICAgcmVuZGVyZXJCb3VuZFRleHR1cmVzW2ldLl92aXJ0YWxCb3VuZElkID0gLTE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW5kZXIgdGhlIGdyb3Vwcy4uXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBncm91cENvdW50OyArK2kpIHtcbiAgICAgICAgICAgIHZhciBncm91cCA9IGdyb3Vwc1tpXTtcbiAgICAgICAgICAgIHZhciBncm91cFRleHR1cmVDb3VudCA9IGdyb3VwLnRleHR1cmVDb3VudDtcblxuICAgICAgICAgICAgZm9yICh2YXIgX2ogPSAwOyBfaiA8IGdyb3VwVGV4dHVyZUNvdW50OyBfaisrKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFRleHR1cmUgPSBncm91cC50ZXh0dXJlc1tfal07XG5cbiAgICAgICAgICAgICAgICAvLyByZXNldCB2aXJ0dWFsIGlkcy4uXG4gICAgICAgICAgICAgICAgLy8gbGV0cyBkbyBhIHF1aWNrIGNoZWNrLi5cbiAgICAgICAgICAgICAgICBpZiAocmVuZGVyZXJCb3VuZFRleHR1cmVzW2dyb3VwLmlkc1tfal1dICE9PSBjdXJyZW50VGV4dHVyZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmJpbmRUZXh0dXJlKGN1cnJlbnRUZXh0dXJlLCBncm91cC5pZHNbX2pdLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyByZXNldCB0aGUgdmlydHVhbElkLi5cbiAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZS5fdmlydGFsQm91bmRJZCA9IC0xO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBzZXQgdGhlIGJsZW5kIG1vZGUuLlxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zdGF0ZS5zZXRCbGVuZE1vZGUoZ3JvdXAuYmxlbmQpO1xuXG4gICAgICAgICAgICBnbC5kcmF3RWxlbWVudHMoZ2wuVFJJQU5HTEVTLCBncm91cC5zaXplICogNiwgZ2wuVU5TSUdORURfU0hPUlQsIGdyb3VwLnN0YXJ0ICogNiAqIDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVzZXQgZWxlbWVudHMgZm9yIHRoZSBuZXh0IGZsdXNoXG4gICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gMDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3RhcnRzIGEgbmV3IHNwcml0ZSBiYXRjaC5cbiAgICAgKi9cblxuXG4gICAgU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuYmluZFNoYWRlcih0aGlzLnNoYWRlcik7XG5cbiAgICAgICAgaWYgKF9zZXR0aW5nczIuZGVmYXVsdC5DQU5fVVBMT0FEX1NBTUVfQlVGRkVSKSB7XG4gICAgICAgICAgICAvLyBiaW5kIGJ1ZmZlciAjMCwgd2UgZG9uJ3QgbmVlZCBvdGhlcnNcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuYmluZFZhbyh0aGlzLnZhb3NbdGhpcy52ZXJ0ZXhDb3VudF0pO1xuXG4gICAgICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlcnNbdGhpcy52ZXJ0ZXhDb3VudF0uYmluZCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN0b3BzIGFuZCBmbHVzaGVzIHRoZSBjdXJyZW50IGJhdGNoLlxuICAgICAqXG4gICAgICovXG5cblxuICAgIFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgU3ByaXRlUmVuZGVyZXIuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudmFvTWF4OyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnZlcnRleEJ1ZmZlcnNbaV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlcnNbaV0uZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMudmFvc1tpXSkge1xuICAgICAgICAgICAgICAgIHRoaXMudmFvc1tpXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5pbmRleEJ1ZmZlcikge1xuICAgICAgICAgICAgdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlbmRlcmVyLm9mZigncHJlcmVuZGVyJywgdGhpcy5vblByZXJlbmRlciwgdGhpcyk7XG5cbiAgICAgICAgX09iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG5cbiAgICAgICAgaWYgKHRoaXMuc2hhZGVyKSB7XG4gICAgICAgICAgICB0aGlzLnNoYWRlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLnZhb3MgPSBudWxsO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcblxuICAgICAgICB0aGlzLnNwcml0ZXMgPSBudWxsO1xuXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCB0aGlzLmJ1ZmZlcnMubGVuZ3RoOyArK19pKSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcnNbX2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gU3ByaXRlUmVuZGVyZXI7XG59KF9PYmplY3RSZW5kZXJlcjMuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFNwcml0ZVJlbmRlcmVyO1xuXG5cbl9XZWJHTFJlbmRlcmVyMi5kZWZhdWx0LnJlZ2lzdGVyUGx1Z2luKCdzcHJpdGUnLCBTcHJpdGVSZW5kZXJlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TcHJpdGVSZW5kZXJlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBtYXBDYW52YXNCbGVuZE1vZGVzVG9QaXhpO1xuXG52YXIgX2NvbnN0ID0gcmVxdWlyZSgnLi4vLi4vLi4vY29uc3QnKTtcblxudmFyIF9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzID0gcmVxdWlyZSgnLi9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzJyk7XG5cbnZhciBfY2FuVXNlTmV3Q2FudmFzQmxlbmRNb2RlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBNYXBzIGJsZW5kIGNvbWJpbmF0aW9ucyB0byBDYW52YXMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBmdW5jdGlvbiBtYXBDYW52YXNCbGVuZE1vZGVzVG9QaXhpXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmdbXX0gW2FycmF5PVtdXSAtIFRoZSBhcnJheSB0byBvdXRwdXQgaW50by5cbiAqIEByZXR1cm4ge3N0cmluZ1tdfSBNYXBwZWQgbW9kZXMuXG4gKi9cbmZ1bmN0aW9uIG1hcENhbnZhc0JsZW5kTW9kZXNUb1BpeGkoKSB7XG4gICAgdmFyIGFycmF5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbXTtcblxuICAgIGlmICgoMCwgX2NhblVzZU5ld0NhbnZhc0JsZW5kTW9kZXMyLmRlZmF1bHQpKCkpIHtcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTF0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQUREXSA9ICdsaWdodGVyJzsgLy8gSVMgVEhJUyBPSz8/P1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTVVMVElQTFldID0gJ211bHRpcGx5JztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLlNDUkVFTl0gPSAnc2NyZWVuJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLk9WRVJMQVldID0gJ292ZXJsYXknO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuREFSS0VOXSA9ICdkYXJrZW4nO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTElHSFRFTl0gPSAnbGlnaHRlbic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5DT0xPUl9ET0RHRV0gPSAnY29sb3ItZG9kZ2UnO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQ09MT1JfQlVSTl0gPSAnY29sb3ItYnVybic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5IQVJEX0xJR0hUXSA9ICdoYXJkLWxpZ2h0JztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLlNPRlRfTElHSFRdID0gJ3NvZnQtbGlnaHQnO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuRElGRkVSRU5DRV0gPSAnZGlmZmVyZW5jZSc7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5FWENMVVNJT05dID0gJ2V4Y2x1c2lvbic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5IVUVdID0gJ2h1ZSc7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5TQVRVUkFUSU9OXSA9ICdzYXR1cmF0ZSc7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5DT0xPUl0gPSAnY29sb3InO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTFVNSU5PU0lUWV0gPSAnbHVtaW5vc2l0eSc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdGhpcyBtZWFucyB0aGF0IHRoZSBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgdGhlIGNvb2wgbmV3IGJsZW5kIG1vZGVzIGluIGNhbnZhcyAnY291Z2gnIGllICdjb3VnaCdcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTF0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQUREXSA9ICdsaWdodGVyJzsgLy8gSVMgVEhJUyBPSz8/P1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuTVVMVElQTFldID0gJ3NvdXJjZS1vdmVyJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLlNDUkVFTl0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuT1ZFUkxBWV0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuREFSS0VOXSA9ICdzb3VyY2Utb3Zlcic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5MSUdIVEVOXSA9ICdzb3VyY2Utb3Zlcic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5DT0xPUl9ET0RHRV0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuQ09MT1JfQlVSTl0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuSEFSRF9MSUdIVF0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuU09GVF9MSUdIVF0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuRElGRkVSRU5DRV0gPSAnc291cmNlLW92ZXInO1xuICAgICAgICBhcnJheVtfY29uc3QuQkxFTkRfTU9ERVMuRVhDTFVTSU9OXSA9ICdzb3VyY2Utb3Zlcic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5IVUVdID0gJ3NvdXJjZS1vdmVyJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLlNBVFVSQVRJT05dID0gJ3NvdXJjZS1vdmVyJztcbiAgICAgICAgYXJyYXlbX2NvbnN0LkJMRU5EX01PREVTLkNPTE9SXSA9ICdzb3VyY2Utb3Zlcic7XG4gICAgICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5MVU1JTk9TSVRZXSA9ICdzb3VyY2Utb3Zlcic7XG4gICAgfVxuICAgIC8vIG5vdC1wcmVtdWx0aXBsaWVkLCBvbmx5IGZvciB3ZWJnbFxuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5OT1JNQUxfTlBNXSA9IGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5OT1JNQUxdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5BRERfTlBNXSA9IGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5BRERdO1xuICAgIGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5TQ1JFRU5fTlBNXSA9IGFycmF5W19jb25zdC5CTEVORF9NT0RFUy5TQ1JFRU5dO1xuXG4gICAgcmV0dXJuIGFycmF5O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwQ2FudmFzQmxlbmRNb2Rlc1RvUGl4aS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi8uLi9jb25zdCcpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEEgc2V0IG9mIGZ1bmN0aW9ucyB1c2VkIHRvIGhhbmRsZSBtYXNraW5nLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENhbnZhc01hc2tNYW5hZ2VyID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgY2FudmFzIHJlbmRlcmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENhbnZhc01hc2tNYW5hZ2VyKHJlbmRlcmVyKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYW52YXNNYXNrTWFuYWdlcik7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgc3RhY2sgb2YgbWFza3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gbWFza0RhdGEgLSB0aGUgbWFza0RhdGEgdGhhdCB3aWxsIGJlIHB1c2hlZFxuICAgICAqL1xuXG5cbiAgICBDYW52YXNNYXNrTWFuYWdlci5wcm90b3R5cGUucHVzaE1hc2sgPSBmdW5jdGlvbiBwdXNoTWFzayhtYXNrRGF0YSkge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuXG4gICAgICAgIHJlbmRlcmVyLmNvbnRleHQuc2F2ZSgpO1xuXG4gICAgICAgIHZhciBjYWNoZUFscGhhID0gbWFza0RhdGEuYWxwaGE7XG4gICAgICAgIHZhciB0cmFuc2Zvcm0gPSBtYXNrRGF0YS50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gcmVuZGVyZXIucmVzb2x1dGlvbjtcblxuICAgICAgICByZW5kZXJlci5jb250ZXh0LnNldFRyYW5zZm9ybSh0cmFuc2Zvcm0uYSAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS5iICogcmVzb2x1dGlvbiwgdHJhbnNmb3JtLmMgKiByZXNvbHV0aW9uLCB0cmFuc2Zvcm0uZCAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS50eCAqIHJlc29sdXRpb24sIHRyYW5zZm9ybS50eSAqIHJlc29sdXRpb24pO1xuXG4gICAgICAgIC8vIFRPRE8gc3Vwb3J0IHNwcml0ZSBhbHBoYSBtYXNrcz8/XG4gICAgICAgIC8vIGxvdHMgb2YgZWZmb3J0IHJlcXVpcmVkLiBJZiBkZW1hbmQgaXMgZ3JlYXQgZW5vdWdoLi5cbiAgICAgICAgaWYgKCFtYXNrRGF0YS5fdGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJHcmFwaGljc1NoYXBlKG1hc2tEYXRhKTtcbiAgICAgICAgICAgIHJlbmRlcmVyLmNvbnRleHQuY2xpcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgbWFza0RhdGEud29ybGRBbHBoYSA9IGNhY2hlQWxwaGE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgYSBQSVhJLkdyYXBoaWNzIHNoYXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzfSBncmFwaGljcyAtIFRoZSBvYmplY3QgdG8gcmVuZGVyLlxuICAgICAqL1xuXG5cbiAgICBDYW52YXNNYXNrTWFuYWdlci5wcm90b3R5cGUucmVuZGVyR3JhcGhpY3NTaGFwZSA9IGZ1bmN0aW9uIHJlbmRlckdyYXBoaWNzU2hhcGUoZ3JhcGhpY3MpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQ7XG4gICAgICAgIHZhciBsZW4gPSBncmFwaGljcy5ncmFwaGljc0RhdGEubGVuZ3RoO1xuXG4gICAgICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBncmFwaGljcy5ncmFwaGljc0RhdGFbaV07XG4gICAgICAgICAgICB2YXIgc2hhcGUgPSBkYXRhLnNoYXBlO1xuXG4gICAgICAgICAgICBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLlBPTFkpIHtcbiAgICAgICAgICAgICAgICB2YXIgcG9pbnRzID0gc2hhcGUucG9pbnRzO1xuXG4gICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8ocG9pbnRzWzBdLCBwb2ludHNbMV0pO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDE7IGogPCBwb2ludHMubGVuZ3RoIC8gMjsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHBvaW50c1tqICogMl0sIHBvaW50c1tqICogMiArIDFdKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgZmlyc3QgYW5kIGxhc3QgcG9pbnQgYXJlIHRoZSBzYW1lIGNsb3NlIHRoZSBwYXRoIC0gbXVjaCBuZWF0ZXIgOilcbiAgICAgICAgICAgICAgICBpZiAocG9pbnRzWzBdID09PSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdICYmIHBvaW50c1sxXSA9PT0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLlJFQ1QpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnJlY3Qoc2hhcGUueCwgc2hhcGUueSwgc2hhcGUud2lkdGgsIHNoYXBlLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLkNJUkMpIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIC0gbmVlZCB0byBiZSBVbmRlZmluZWQhXG4gICAgICAgICAgICAgICAgY29udGV4dC5hcmMoc2hhcGUueCwgc2hhcGUueSwgc2hhcGUucmFkaXVzLCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLkVMSVApIHtcbiAgICAgICAgICAgICAgICAvLyBlbGxpcHNlIGNvZGUgdGFrZW4gZnJvbTogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yMTcyNzk4L2hvdy10by1kcmF3LWFuLW92YWwtaW4taHRtbDUtY2FudmFzXG5cbiAgICAgICAgICAgICAgICB2YXIgdyA9IHNoYXBlLndpZHRoICogMjtcbiAgICAgICAgICAgICAgICB2YXIgaCA9IHNoYXBlLmhlaWdodCAqIDI7XG5cbiAgICAgICAgICAgICAgICB2YXIgeCA9IHNoYXBlLnggLSB3IC8gMjtcbiAgICAgICAgICAgICAgICB2YXIgeSA9IHNoYXBlLnkgLSBoIC8gMjtcblxuICAgICAgICAgICAgICAgIHZhciBrYXBwYSA9IDAuNTUyMjg0ODtcbiAgICAgICAgICAgICAgICB2YXIgb3ggPSB3IC8gMiAqIGthcHBhOyAvLyBjb250cm9sIHBvaW50IG9mZnNldCBob3Jpem9udGFsXG4gICAgICAgICAgICAgICAgdmFyIG95ID0gaCAvIDIgKiBrYXBwYTsgLy8gY29udHJvbCBwb2ludCBvZmZzZXQgdmVydGljYWxcbiAgICAgICAgICAgICAgICB2YXIgeGUgPSB4ICsgdzsgLy8geC1lbmRcbiAgICAgICAgICAgICAgICB2YXIgeWUgPSB5ICsgaDsgLy8geS1lbmRcbiAgICAgICAgICAgICAgICB2YXIgeG0gPSB4ICsgdyAvIDI7IC8vIHgtbWlkZGxlXG4gICAgICAgICAgICAgICAgdmFyIHltID0geSArIGggLyAyOyAvLyB5LW1pZGRsZVxuXG4gICAgICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8oeCwgeW0pO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyh4LCB5bSAtIG95LCB4bSAtIG94LCB5LCB4bSwgeSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKHhtICsgb3gsIHksIHhlLCB5bSAtIG95LCB4ZSwgeW0pO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyh4ZSwgeW0gKyBveSwgeG0gKyBveCwgeWUsIHhtLCB5ZSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5iZXppZXJDdXJ2ZVRvKHhtIC0gb3gsIHllLCB4LCB5bSArIG95LCB4LCB5bSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBfY29uc3QuU0hBUEVTLlJSRUMpIHtcbiAgICAgICAgICAgICAgICB2YXIgcnggPSBzaGFwZS54O1xuICAgICAgICAgICAgICAgIHZhciByeSA9IHNoYXBlLnk7XG4gICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gc2hhcGUud2lkdGg7XG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IHNoYXBlLmhlaWdodDtcbiAgICAgICAgICAgICAgICB2YXIgcmFkaXVzID0gc2hhcGUucmFkaXVzO1xuXG4gICAgICAgICAgICAgICAgdmFyIG1heFJhZGl1cyA9IE1hdGgubWluKHdpZHRoLCBoZWlnaHQpIC8gMiB8IDA7XG5cbiAgICAgICAgICAgICAgICByYWRpdXMgPSByYWRpdXMgPiBtYXhSYWRpdXMgPyBtYXhSYWRpdXMgOiByYWRpdXM7XG5cbiAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhyeCwgcnkgKyByYWRpdXMpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHJ4LCByeSArIGhlaWdodCAtIHJhZGl1cyk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKHJ4LCByeSArIGhlaWdodCwgcnggKyByYWRpdXMsIHJ5ICsgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhyeCArIHdpZHRoIC0gcmFkaXVzLCByeSArIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKHJ4ICsgd2lkdGgsIHJ5ICsgaGVpZ2h0LCByeCArIHdpZHRoLCByeSArIGhlaWdodCAtIHJhZGl1cyk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8ocnggKyB3aWR0aCwgcnkgKyByYWRpdXMpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQucXVhZHJhdGljQ3VydmVUbyhyeCArIHdpZHRoLCByeSwgcnggKyB3aWR0aCAtIHJhZGl1cywgcnkpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHJ4ICsgcmFkaXVzLCByeSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKHJ4LCByeSwgcngsIHJ5ICsgcmFkaXVzKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc3RvcmVzIHRoZSBjdXJyZW50IGRyYXdpbmcgY29udGV4dCB0byB0aGUgc3RhdGUgaXQgd2FzIGJlZm9yZSB0aGUgbWFzayB3YXMgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgY29udGV4dCB0byB1c2UuXG4gICAgICovXG5cblxuICAgIENhbnZhc01hc2tNYW5hZ2VyLnByb3RvdHlwZS5wb3BNYXNrID0gZnVuY3Rpb24gcG9wTWFzayhyZW5kZXJlcikge1xuICAgICAgICByZW5kZXJlci5jb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgcmVuZGVyZXIuaW52YWxpZGF0ZUJsZW5kTW9kZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIGNhbnZhcyBtYXNrIG1hbmFnZXIuXG4gICAgICpcbiAgICAgKi9cblxuXG4gICAgQ2FudmFzTWFza01hbmFnZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICAvKiBlbXB0eSAqL1xuICAgIH07XG5cbiAgICByZXR1cm4gQ2FudmFzTWFza01hbmFnZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENhbnZhc01hc2tNYW5hZ2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FudmFzTWFza01hbmFnZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX0NhbnZhc1JlbmRlcmVyID0gcmVxdWlyZSgnLi4vLi4vcmVuZGVyZXJzL2NhbnZhcy9DYW52YXNSZW5kZXJlcicpO1xuXG52YXIgX0NhbnZhc1JlbmRlcmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc1JlbmRlcmVyKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvbnN0Jyk7XG5cbnZhciBfbWF0aCA9IHJlcXVpcmUoJy4uLy4uL21hdGgnKTtcblxudmFyIF9DYW52YXNUaW50ZXIgPSByZXF1aXJlKCcuL0NhbnZhc1RpbnRlcicpO1xuXG52YXIgX0NhbnZhc1RpbnRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNUaW50ZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgY2FudmFzUmVuZGVyV29ybGRUcmFuc2Zvcm0gPSBuZXcgX21hdGguTWF0cml4KCk7XG5cbi8qKlxuICogQGF1dGhvciBNYXQgR3JvdmVzXG4gKlxuICogQmlnIHRoYW5rcyB0byB0aGUgdmVyeSBjbGV2ZXIgTWF0dCBEZXNMYXVyaWVycyA8bWF0dGRlc2w+IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXR0ZGVzbC9cbiAqIGZvciBjcmVhdGluZyB0aGUgb3JpZ2luYWwgUGl4aUpTIHZlcnNpb24hXG4gKiBBbHNvIGEgdGhhbmtzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9iY2hldmFsaWVyIGZvciB0d2Vha2luZyB0aGUgdGludCBhbmQgYWxwaGEgc28gdGhhdCB0aGV5IG5vd1xuICogc2hhcmUgNCBieXRlcyBvbiB0aGUgdmVydGV4IGJ1ZmZlclxuICpcbiAqIEhlYXZpbHkgaW5zcGlyZWQgYnkgTGliR0RYJ3MgQ2FudmFzU3ByaXRlUmVuZGVyZXI6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vbGliZ2R4L2xpYmdkeC9ibG9iL21hc3Rlci9nZHgvc3JjL2NvbS9iYWRsb2dpYy9nZHgvZ3JhcGhpY3MvZzJkL0NhbnZhc1Nwcml0ZVJlbmRlcmVyLmphdmFcbiAqL1xuXG4vKipcbiAqIFJlbmRlcmVyIGRlZGljYXRlZCB0byBkcmF3aW5nIGFuZCBiYXRjaGluZyBzcHJpdGVzLlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cblxudmFyIENhbnZhc1Nwcml0ZVJlbmRlcmVyID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5XZWJHTFJlbmRlcmVyfSByZW5kZXJlciAtVGhlIHJlbmRlcmVyIHNwcml0ZSB0aGlzIGJhdGNoIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDYW52YXNTcHJpdGVSZW5kZXJlcihyZW5kZXJlcikge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FudmFzU3ByaXRlUmVuZGVyZXIpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBzcHJpdGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZX0gc3ByaXRlIC0gdGhlIHNwcml0ZSB0byByZW5kZXIgd2hlbiB1c2luZyB0aGlzIHNwcml0ZWJhdGNoXG4gICAgICovXG5cblxuICAgIENhbnZhc1Nwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoc3ByaXRlKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gc3ByaXRlLl90ZXh0dXJlO1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuXG4gICAgICAgIHZhciB3aWR0aCA9IHRleHR1cmUuX2ZyYW1lLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gdGV4dHVyZS5fZnJhbWUuaGVpZ2h0O1xuXG4gICAgICAgIHZhciB3dCA9IHNwcml0ZS50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciBkeCA9IDA7XG4gICAgICAgIHZhciBkeSA9IDA7XG5cbiAgICAgICAgaWYgKHRleHR1cmUub3JpZy53aWR0aCA8PSAwIHx8IHRleHR1cmUub3JpZy5oZWlnaHQgPD0gMCB8fCAhdGV4dHVyZS5iYXNlVGV4dHVyZS5zb3VyY2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLnNldEJsZW5kTW9kZShzcHJpdGUuYmxlbmRNb2RlKTtcblxuICAgICAgICAvLyAgSWdub3JlIG51bGwgc291cmNlc1xuICAgICAgICBpZiAodGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgcmVuZGVyZXIuY29udGV4dC5nbG9iYWxBbHBoYSA9IHNwcml0ZS53b3JsZEFscGhhO1xuXG4gICAgICAgICAgICAvLyBJZiBzbW9vdGhpbmdFbmFibGVkIGlzIHN1cHBvcnRlZCBhbmQgd2UgbmVlZCB0byBjaGFuZ2UgdGhlIHNtb290aGluZyBwcm9wZXJ0eSBmb3Igc3ByaXRlIHRleHR1cmVcbiAgICAgICAgICAgIHZhciBzbW9vdGhpbmdFbmFibGVkID0gdGV4dHVyZS5iYXNlVGV4dHVyZS5zY2FsZU1vZGUgPT09IF9jb25zdC5TQ0FMRV9NT0RFUy5MSU5FQVI7XG5cbiAgICAgICAgICAgIGlmIChyZW5kZXJlci5zbW9vdGhQcm9wZXJ0eSAmJiByZW5kZXJlci5jb250ZXh0W3JlbmRlcmVyLnNtb290aFByb3BlcnR5XSAhPT0gc21vb3RoaW5nRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmNvbnRleHRbcmVuZGVyZXIuc21vb3RoUHJvcGVydHldID0gc21vb3RoaW5nRW5hYmxlZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRleHR1cmUudHJpbSkge1xuICAgICAgICAgICAgICAgIGR4ID0gdGV4dHVyZS50cmltLndpZHRoIC8gMiArIHRleHR1cmUudHJpbS54IC0gc3ByaXRlLmFuY2hvci54ICogdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICAgICAgICAgIGR5ID0gdGV4dHVyZS50cmltLmhlaWdodCAvIDIgKyB0ZXh0dXJlLnRyaW0ueSAtIHNwcml0ZS5hbmNob3IueSAqIHRleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGR4ID0gKDAuNSAtIHNwcml0ZS5hbmNob3IueCkgKiB0ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgICAgICAgICAgZHkgPSAoMC41IC0gc3ByaXRlLmFuY2hvci55KSAqIHRleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0ZXh0dXJlLnJvdGF0ZSkge1xuICAgICAgICAgICAgICAgIHd0LmNvcHkoY2FudmFzUmVuZGVyV29ybGRUcmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgIHd0ID0gY2FudmFzUmVuZGVyV29ybGRUcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgX21hdGguR3JvdXBEOC5tYXRyaXhBcHBlbmRSb3RhdGlvbkludih3dCwgdGV4dHVyZS5yb3RhdGUsIGR4LCBkeSk7XG4gICAgICAgICAgICAgICAgLy8gdGhlIGFuY2hvciBoYXMgYWxyZWFkeSBiZWVuIGFwcGxpZWQgYWJvdmUsIHNvIGxldHMgc2V0IGl0IHRvIHplcm9cbiAgICAgICAgICAgICAgICBkeCA9IDA7XG4gICAgICAgICAgICAgICAgZHkgPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkeCAtPSB3aWR0aCAvIDI7XG4gICAgICAgICAgICBkeSAtPSBoZWlnaHQgLyAyO1xuXG4gICAgICAgICAgICAvLyBBbGxvdyBmb3IgcGl4ZWwgcm91bmRpbmdcbiAgICAgICAgICAgIGlmIChyZW5kZXJlci5yb3VuZFBpeGVscykge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmNvbnRleHQuc2V0VHJhbnNmb3JtKHd0LmEsIHd0LmIsIHd0LmMsIHd0LmQsIHd0LnR4ICogcmVuZGVyZXIucmVzb2x1dGlvbiB8IDAsIHd0LnR5ICogcmVuZGVyZXIucmVzb2x1dGlvbiB8IDApO1xuXG4gICAgICAgICAgICAgICAgZHggPSBkeCB8IDA7XG4gICAgICAgICAgICAgICAgZHkgPSBkeSB8IDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmNvbnRleHQuc2V0VHJhbnNmb3JtKHd0LmEsIHd0LmIsIHd0LmMsIHd0LmQsIHd0LnR4ICogcmVuZGVyZXIucmVzb2x1dGlvbiwgd3QudHkgKiByZW5kZXJlci5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHJlc29sdXRpb24gPSB0ZXh0dXJlLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG5cbiAgICAgICAgICAgIGlmIChzcHJpdGUudGludCAhPT0gMHhGRkZGRkYpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3ByaXRlLmNhY2hlZFRpbnQgIT09IHNwcml0ZS50aW50IHx8IHNwcml0ZS50aW50ZWRUZXh0dXJlLnRpbnRJZCAhPT0gc3ByaXRlLl90ZXh0dXJlLl91cGRhdGVJRCkge1xuICAgICAgICAgICAgICAgICAgICBzcHJpdGUuY2FjaGVkVGludCA9IHNwcml0ZS50aW50O1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gY2xlYW4gdXAgY2FjaGluZyAtIGhvdyB0byBjbGVhbiB1cCB0aGUgY2FjaGVzP1xuICAgICAgICAgICAgICAgICAgICBzcHJpdGUudGludGVkVGV4dHVyZSA9IF9DYW52YXNUaW50ZXIyLmRlZmF1bHQuZ2V0VGludGVkVGV4dHVyZShzcHJpdGUsIHNwcml0ZS50aW50KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZW5kZXJlci5jb250ZXh0LmRyYXdJbWFnZShzcHJpdGUudGludGVkVGV4dHVyZSwgMCwgMCwgd2lkdGggKiByZXNvbHV0aW9uLCBoZWlnaHQgKiByZXNvbHV0aW9uLCBkeCAqIHJlbmRlcmVyLnJlc29sdXRpb24sIGR5ICogcmVuZGVyZXIucmVzb2x1dGlvbiwgd2lkdGggKiByZW5kZXJlci5yZXNvbHV0aW9uLCBoZWlnaHQgKiByZW5kZXJlci5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuY29udGV4dC5kcmF3SW1hZ2UodGV4dHVyZS5iYXNlVGV4dHVyZS5zb3VyY2UsIHRleHR1cmUuX2ZyYW1lLnggKiByZXNvbHV0aW9uLCB0ZXh0dXJlLl9mcmFtZS55ICogcmVzb2x1dGlvbiwgd2lkdGggKiByZXNvbHV0aW9uLCBoZWlnaHQgKiByZXNvbHV0aW9uLCBkeCAqIHJlbmRlcmVyLnJlc29sdXRpb24sIGR5ICogcmVuZGVyZXIucmVzb2x1dGlvbiwgd2lkdGggKiByZW5kZXJlci5yZXNvbHV0aW9uLCBoZWlnaHQgKiByZW5kZXJlci5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBkZXN0cm95IHRoZSBzcHJpdGUgb2JqZWN0LlxuICAgICAqXG4gICAgICovXG5cblxuICAgIENhbnZhc1Nwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBDYW52YXNTcHJpdGVSZW5kZXJlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQ2FudmFzU3ByaXRlUmVuZGVyZXI7XG5cblxuX0NhbnZhc1JlbmRlcmVyMi5kZWZhdWx0LnJlZ2lzdGVyUGx1Z2luKCdzcHJpdGUnLCBDYW52YXNTcHJpdGVSZW5kZXJlcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYW52YXNTcHJpdGVSZW5kZXJlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBJbnRlcm5hbCBjbGFzcyBmb3IgaGFuZGxpbmcgdGhlIHByaW9yaXR5IHNvcnRpbmcgb2YgdGlja2VyIGhhbmRsZXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLnRpY2tlclxuICovXG52YXIgVGlja2VyTGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIGZvciBvbmUgdXBkYXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbnRleHQ9bnVsbF0gLSBUaGUgbGlzdGVuZXIgY29udGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHk9MF0gLSBUaGUgcHJpb3JpdHkgZm9yIGVtaXR0aW5nXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb25jZT1mYWxzZV0gLSBJZiB0aGUgaGFuZGxlciBzaG91bGQgZmlyZSBvbmNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGlja2VyTGlzdGVuZXIoZm4pIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IG51bGw7XG4gICAgICAgIHZhciBwcmlvcml0eSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMDtcbiAgICAgICAgdmFyIG9uY2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IGZhbHNlO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUaWNrZXJMaXN0ZW5lcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoYW5kbGVyIGZ1bmN0aW9uIHRvIGV4ZWN1dGUuXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mbiA9IGZuO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FsbGluZyB0byBleGVjdXRlLlxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IHByaW9yaXR5LlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoaXMgc2hvdWxkIG9ubHkgZXhlY3V0ZSBvbmNlLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbmNlID0gb25jZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG5leHQgaXRlbSBpbiBjaGFpbi5cbiAgICAgICAgICogQG1lbWJlciB7VGlja2VyTGlzdGVuZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5leHQgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcHJldmlvdXMgaXRlbSBpbiBjaGFpbi5cbiAgICAgICAgICogQG1lbWJlciB7VGlja2VyTGlzdGVuZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByZXZpb3VzID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHRoaXMgbGlzdGVuZXIgaGFzIGJlZW4gZGVzdHJveWVkIGFscmVhZHkuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaW1wbGUgY29tcGFyZSBmdW5jdGlvbiB0byBmaWd1cmUgb3V0IGlmIGEgZnVuY3Rpb24gYW5kIGNvbnRleHQgbWF0Y2guXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0byBiZSBhZGRlZCBmb3Igb25lIHVwZGF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbnRleHQgLSBUaGUgbGlzdGVuZXIgY29udGV4dFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgbGlzdGVuZXIgbWF0Y2ggdGhlIGFyZ3VtZW50c1xuICAgICAqL1xuXG5cbiAgICBUaWNrZXJMaXN0ZW5lci5wcm90b3R5cGUubWF0Y2ggPSBmdW5jdGlvbiBtYXRjaChmbiwgY29udGV4dCkge1xuICAgICAgICBjb250ZXh0ID0gY29udGV4dCB8fCBudWxsO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmZuID09PSBmbiAmJiB0aGlzLmNvbnRleHQgPT09IGNvbnRleHQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVtaXQgYnkgY2FsbGluZyB0aGUgY3VycmVudCBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFUaW1lIC0gdGltZSBzaW5jZSB0aGUgbGFzdCBlbWl0LlxuICAgICAqIEByZXR1cm4ge1RpY2tlckxpc3RlbmVyfSBOZXh0IHRpY2tlclxuICAgICAqL1xuXG5cbiAgICBUaWNrZXJMaXN0ZW5lci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQoZGVsdGFUaW1lKSB7XG4gICAgICAgIGlmICh0aGlzLmZuKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mbi5jYWxsKHRoaXMuY29udGV4dCwgZGVsdGFUaW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mbihkZWx0YVRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlZGlyZWN0ID0gdGhpcy5uZXh0O1xuXG4gICAgICAgIGlmICh0aGlzLm9uY2UpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveSh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNvZnQtZGVzdHJveWluZyBzaG91bGQgcmVtb3ZlXG4gICAgICAgIC8vIHRoZSBuZXh0IHJlZmVyZW5jZVxuICAgICAgICBpZiAodGhpcy5fZGVzdHJveWVkKSB7XG4gICAgICAgICAgICB0aGlzLm5leHQgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlZGlyZWN0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb25uZWN0IHRvIHRoZSBsaXN0LlxuICAgICAqIEBwYXJhbSB7VGlja2VyTGlzdGVuZXJ9IHByZXZpb3VzIC0gSW5wdXQgbm9kZSwgcHJldmlvdXMgbGlzdGVuZXJcbiAgICAgKi9cblxuXG4gICAgVGlja2VyTGlzdGVuZXIucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiBjb25uZWN0KHByZXZpb3VzKSB7XG4gICAgICAgIHRoaXMucHJldmlvdXMgPSBwcmV2aW91cztcbiAgICAgICAgaWYgKHByZXZpb3VzLm5leHQpIHtcbiAgICAgICAgICAgIHByZXZpb3VzLm5leHQucHJldmlvdXMgPSB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmV4dCA9IHByZXZpb3VzLm5leHQ7XG4gICAgICAgIHByZXZpb3VzLm5leHQgPSB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtoYXJkID0gZmFsc2VdIGB0cnVlYCB0byByZW1vdmUgdGhlIGBuZXh0YCByZWZlcmVuY2UsIHRoaXNcbiAgICAgKiAgICAgICAgaXMgY29uc2lkZXJlZCBhIGhhcmQgZGVzdHJveS4gU29mdCBkZXN0cm95IG1haW50YWlucyB0aGUgbmV4dCByZWZlcmVuY2UuXG4gICAgICogQHJldHVybiB7VGlja2VyTGlzdGVuZXJ9IFRoZSBsaXN0ZW5lciB0byByZWRpcmVjdCB3aGlsZSBlbWl0dGluZyBvciByZW1vdmluZy5cbiAgICAgKi9cblxuXG4gICAgVGlja2VyTGlzdGVuZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICB2YXIgaGFyZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5mbiA9IG51bGw7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG5cbiAgICAgICAgLy8gRGlzY29ubmVjdCwgaG9vayB1cCBuZXh0IGFuZCBwcmV2aW91c1xuICAgICAgICBpZiAodGhpcy5wcmV2aW91cykge1xuICAgICAgICAgICAgdGhpcy5wcmV2aW91cy5uZXh0ID0gdGhpcy5uZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubmV4dCkge1xuICAgICAgICAgICAgdGhpcy5uZXh0LnByZXZpb3VzID0gdGhpcy5wcmV2aW91cztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlZGlyZWN0IHRvIHRoZSBuZXh0IGl0ZW1cbiAgICAgICAgdmFyIHJlZGlyZWN0ID0gdGhpcy5wcmV2aW91cztcblxuICAgICAgICAvLyBSZW1vdmUgcmVmZXJlbmNlc1xuICAgICAgICB0aGlzLm5leHQgPSBoYXJkID8gbnVsbCA6IHJlZGlyZWN0O1xuICAgICAgICB0aGlzLnByZXZpb3VzID0gbnVsbDtcblxuICAgICAgICByZXR1cm4gcmVkaXJlY3Q7XG4gICAgfTtcblxuICAgIHJldHVybiBUaWNrZXJMaXN0ZW5lcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gVGlja2VyTGlzdGVuZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWNrZXJMaXN0ZW5lci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfc2V0dGluZ3MgPSByZXF1aXJlKCcuLi9zZXR0aW5ncycpO1xuXG52YXIgX3NldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldHRpbmdzKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uL2NvbnN0Jyk7XG5cbnZhciBfVGlja2VyTGlzdGVuZXIgPSByZXF1aXJlKCcuL1RpY2tlckxpc3RlbmVyJyk7XG5cbnZhciBfVGlja2VyTGlzdGVuZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGlja2VyTGlzdGVuZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEEgVGlja2VyIGNsYXNzIHRoYXQgcnVucyBhbiB1cGRhdGUgbG9vcCB0aGF0IG90aGVyIG9iamVjdHMgbGlzdGVuIHRvLlxuICogVGhpcyBjbGFzcyBpcyBjb21wb3NlZCBhcm91bmQgbGlzdGVuZXJzXG4gKiBtZWFudCBmb3IgZXhlY3V0aW9uIG9uIHRoZSBuZXh0IHJlcXVlc3RlZCBhbmltYXRpb24gZnJhbWUuXG4gKiBBbmltYXRpb24gZnJhbWVzIGFyZSByZXF1ZXN0ZWQgb25seSB3aGVuIG5lY2Vzc2FyeSxcbiAqIGUuZy4gV2hlbiB0aGUgdGlja2VyIGlzIHN0YXJ0ZWQgYW5kIHRoZSBlbWl0dGVyIGhhcyBsaXN0ZW5lcnMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS50aWNrZXJcbiAqL1xudmFyIFRpY2tlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRpY2tlcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGlja2VyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZpcnN0IGxpc3RlbmVyLiBBbGwgbmV3IGxpc3RlbmVycyBhZGRlZCBhcmUgY2hhaW5lZCBvbiB0aGlzLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7VGlja2VyTGlzdGVuZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9oZWFkID0gbmV3IF9UaWNrZXJMaXN0ZW5lcjIuZGVmYXVsdChudWxsLCBudWxsLCBJbmZpbml0eSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIGN1cnJlbnQgZnJhbWUgcmVxdWVzdCBJRFxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcmVxdWVzdElkID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgdmFsdWUgbWFuYWdlZCBieSBtaW5GUFMgcHJvcGVydHkgc2V0dGVyIGFuZCBnZXR0ZXIuXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIG1heGltdW0gYWxsb3dlZCBtaWxsaXNlY29uZHMgYmV0d2VlbiB1cGRhdGVzLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbWF4RWxhcHNlZE1TID0gMTAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGlzIHRpY2tlciBzaG91bGQgaW52b2tlIHRoZSBtZXRob2RcbiAgICAgICAgICoge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNzdGFydH0gYXV0b21hdGljYWxseVxuICAgICAgICAgKiB3aGVuIGEgbGlzdGVuZXIgaXMgYWRkZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF1dG9TdGFydCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2FsYXIgdGltZSB2YWx1ZSBmcm9tIGxhc3QgZnJhbWUgdG8gdGhpcyBmcmFtZS5cbiAgICAgICAgICogVGhpcyB2YWx1ZSBpcyBjYXBwZWQgYnkgc2V0dGluZyB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI21pbkZQU31cbiAgICAgICAgICogYW5kIGlzIHNjYWxlZCB3aXRoIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjc3BlZWR9LlxuICAgICAgICAgKiAqKk5vdGU6KiogVGhlIGNhcCBtYXkgYmUgZXhjZWVkZWQgYnkgc2NhbGluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlbHRhVGltZSA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRpbWUgZWxhcHNlZCBpbiBtaWxsaXNlY29uZHMgZnJvbSBsYXN0IGZyYW1lIHRvIHRoaXMgZnJhbWUuXG4gICAgICAgICAqIE9wcG9zZWQgdG8gd2hhdCB0aGUgc2NhbGFyIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjZGVsdGFUaW1lfVxuICAgICAgICAgKiBpcyBiYXNlZCwgdGhpcyB2YWx1ZSBpcyBuZWl0aGVyIGNhcHBlZCBub3Igc2NhbGVkLlxuICAgICAgICAgKiBJZiB0aGUgcGxhdGZvcm0gc3VwcG9ydHMgRE9NSGlnaFJlc1RpbWVTdGFtcCxcbiAgICAgICAgICogdGhpcyB2YWx1ZSB3aWxsIGhhdmUgYSBwcmVjaXNpb24gb2YgMSDCtXMuXG4gICAgICAgICAqIERlZmF1bHRzIHRvIHRhcmdldCBmcmFtZSB0aW1lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTYuNjZcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZWxhcHNlZE1TID0gMSAvIF9zZXR0aW5nczIuZGVmYXVsdC5UQVJHRVRfRlBNUztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxhc3QgdGltZSB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI3VwZGF0ZX0gd2FzIGludm9rZWQuXG4gICAgICAgICAqIFRoaXMgdmFsdWUgaXMgYWxzbyByZXNldCBpbnRlcm5hbGx5IG91dHNpZGUgb2YgaW52b2tpbmdcbiAgICAgICAgICogdXBkYXRlLCBidXQgb25seSB3aGVuIGEgbmV3IGFuaW1hdGlvbiBmcmFtZSBpcyByZXF1ZXN0ZWQuXG4gICAgICAgICAqIElmIHRoZSBwbGF0Zm9ybSBzdXBwb3J0cyBET01IaWdoUmVzVGltZVN0YW1wLFxuICAgICAgICAgKiB0aGlzIHZhbHVlIHdpbGwgaGF2ZSBhIHByZWNpc2lvbiBvZiAxIMK1cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAtMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sYXN0VGltZSA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGYWN0b3Igb2YgY3VycmVudCB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI2RlbHRhVGltZX0uXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIFNjYWxlcyB0aWNrZXIuZGVsdGFUaW1lIHRvIHdoYXQgd291bGQgYmVcbiAgICAgICAgICogLy8gdGhlIGVxdWl2YWxlbnQgb2YgYXBwcm94aW1hdGVseSAxMjAgRlBTXG4gICAgICAgICAqIHRpY2tlci5zcGVlZCA9IDI7XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zcGVlZCA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRoaXMgdGlja2VyIGhhcyBiZWVuIHN0YXJ0ZWQuXG4gICAgICAgICAqIGB0cnVlYCBpZiB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI3N0YXJ0fSBoYXMgYmVlbiBjYWxsZWQuXG4gICAgICAgICAqIGBmYWxzZWAgaWYge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNzdG9wfSBoYXMgYmVlbiBjYWxsZWQuXG4gICAgICAgICAqIFdoaWxlIGBmYWxzZWAsIHRoaXMgdmFsdWUgbWF5IGNoYW5nZSB0byBgdHJ1ZWAgaW4gdGhlXG4gICAgICAgICAqIGV2ZW50IG9mIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjYXV0b1N0YXJ0fSBiZWluZyBgdHJ1ZWBcbiAgICAgICAgICogYW5kIGEgbGlzdGVuZXIgaXMgYWRkZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgdGljayBtZXRob2QgYm91bmQgdG8gdGlja2VyIGluc3RhbmNlLlxuICAgICAgICAgKiBUaGlzIGlzIGJlY2F1c2UgaW4gZWFybHkgMjAxNSwgRnVuY3Rpb24uYmluZFxuICAgICAgICAgKiBpcyBzdGlsbCA2MCUgc2xvd2VyIGluIGhpZ2ggcGVyZm9ybWFuY2Ugc2NlbmFyaW9zLlxuICAgICAgICAgKiBBbHNvIHNlcGFyYXRpbmcgZnJhbWUgcmVxdWVzdHMgZnJvbSB1cGRhdGUgbWV0aG9kXG4gICAgICAgICAqIHNvIGxpc3RlbmVycyBtYXkgYmUgY2FsbGVkIGF0IGFueSB0aW1lIGFuZCB3aXRoXG4gICAgICAgICAqIGFueSBhbmltYXRpb24gQVBJLCBqdXN0IGludm9rZSB0aWNrZXIudXBkYXRlKHRpbWUpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZSAtIFRpbWUgc2luY2UgbGFzdCB0aWNrLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGljayA9IGZ1bmN0aW9uICh0aW1lKSB7XG4gICAgICAgICAgICBfdGhpcy5fcmVxdWVzdElkID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKF90aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBJbnZva2UgbGlzdGVuZXJzIG5vd1xuICAgICAgICAgICAgICAgIF90aGlzLnVwZGF0ZSh0aW1lKTtcbiAgICAgICAgICAgICAgICAvLyBMaXN0ZW5lciBzaWRlIGVmZmVjdHMgbWF5IGhhdmUgbW9kaWZpZWQgdGlja2VyIHN0YXRlLlxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5zdGFydGVkICYmIF90aGlzLl9yZXF1ZXN0SWQgPT09IG51bGwgJiYgX3RoaXMuX2hlYWQubmV4dCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fcmVxdWVzdElkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKF90aGlzLl90aWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29uZGl0aW9uYWxseSByZXF1ZXN0cyBhIG5ldyBhbmltYXRpb24gZnJhbWUuXG4gICAgICogSWYgYSBmcmFtZSBoYXMgbm90IGFscmVhZHkgYmVlbiByZXF1ZXN0ZWQsIGFuZCBpZiB0aGUgaW50ZXJuYWxcbiAgICAgKiBlbWl0dGVyIGhhcyBsaXN0ZW5lcnMsIGEgbmV3IGZyYW1lIGlzIHJlcXVlc3RlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFRpY2tlci5wcm90b3R5cGUuX3JlcXVlc3RJZk5lZWRlZCA9IGZ1bmN0aW9uIF9yZXF1ZXN0SWZOZWVkZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZXF1ZXN0SWQgPT09IG51bGwgJiYgdGhpcy5faGVhZC5uZXh0KSB7XG4gICAgICAgICAgICAvLyBlbnN1cmUgY2FsbGJhY2tzIGdldCBjb3JyZWN0IGRlbHRhXG4gICAgICAgICAgICB0aGlzLmxhc3RUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0SWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fdGljayk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29uZGl0aW9uYWxseSBjYW5jZWxzIGEgcGVuZGluZyBhbmltYXRpb24gZnJhbWUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBUaWNrZXIucHJvdG90eXBlLl9jYW5jZWxJZk5lZWRlZCA9IGZ1bmN0aW9uIF9jYW5jZWxJZk5lZWRlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlcXVlc3RJZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fcmVxdWVzdElkKTtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29uZGl0aW9uYWxseSByZXF1ZXN0cyBhIG5ldyBhbmltYXRpb24gZnJhbWUuXG4gICAgICogSWYgdGhlIHRpY2tlciBoYXMgYmVlbiBzdGFydGVkIGl0IGNoZWNrcyBpZiBhIGZyYW1lIGhhcyBub3QgYWxyZWFkeVxuICAgICAqIGJlZW4gcmVxdWVzdGVkLCBhbmQgaWYgdGhlIGludGVybmFsIGVtaXR0ZXIgaGFzIGxpc3RlbmVycy4gSWYgdGhlc2VcbiAgICAgKiBjb25kaXRpb25zIGFyZSBtZXQsIGEgbmV3IGZyYW1lIGlzIHJlcXVlc3RlZC4gSWYgdGhlIHRpY2tlciBoYXMgbm90XG4gICAgICogYmVlbiBzdGFydGVkLCBidXQgYXV0b1N0YXJ0IGlzIGB0cnVlYCwgdGhlbiB0aGUgdGlja2VyIHN0YXJ0cyBub3csXG4gICAgICogYW5kIGNvbnRpbnVlcyB3aXRoIHRoZSBwcmV2aW91cyBjb25kaXRpb25zIHRvIHJlcXVlc3QgYSBuZXcgZnJhbWUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBUaWNrZXIucHJvdG90eXBlLl9zdGFydElmUG9zc2libGUgPSBmdW5jdGlvbiBfc3RhcnRJZlBvc3NpYmxlKCkge1xuICAgICAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0SWZOZWVkZWQoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmF1dG9TdGFydCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgaGFuZGxlciBmb3IgdGljayBldmVudHMuIENhbGxzIGNvbnRpbnVvdXNseSB1bmxlc3NcbiAgICAgKiBpdCBpcyByZW1vdmVkIG9yIHRoZSB0aWNrZXIgaXMgc3RvcHBlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIGZvciB1cGRhdGVzXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbnRleHRdIC0gVGhlIGxpc3RlbmVyIGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5PVBJWEkuVVBEQVRFX1BSSU9SSVRZLk5PUk1BTF0gLSBUaGUgcHJpb3JpdHkgZm9yIGVtaXR0aW5nXG4gICAgICogQHJldHVybnMge1BJWEkudGlja2VyLlRpY2tlcn0gVGhpcyBpbnN0YW5jZSBvZiBhIHRpY2tlclxuICAgICAqL1xuXG5cbiAgICBUaWNrZXIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIGFkZChmbiwgY29udGV4dCkge1xuICAgICAgICB2YXIgcHJpb3JpdHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IF9jb25zdC5VUERBVEVfUFJJT1JJVFkuTk9STUFMO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRMaXN0ZW5lcihuZXcgX1RpY2tlckxpc3RlbmVyMi5kZWZhdWx0KGZuLCBjb250ZXh0LCBwcmlvcml0eSkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBoYW5kbGVyIGZvciB0aGUgdGljayBldmVudCB3aGljaCBpcyBvbmx5IGV4ZWN1dGUgb25jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIGZvciBvbmUgdXBkYXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbnRleHRdIC0gVGhlIGxpc3RlbmVyIGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5PVBJWEkuVVBEQVRFX1BSSU9SSVRZLk5PUk1BTF0gLSBUaGUgcHJpb3JpdHkgZm9yIGVtaXR0aW5nXG4gICAgICogQHJldHVybnMge1BJWEkudGlja2VyLlRpY2tlcn0gVGhpcyBpbnN0YW5jZSBvZiBhIHRpY2tlclxuICAgICAqL1xuXG5cbiAgICBUaWNrZXIucHJvdG90eXBlLmFkZE9uY2UgPSBmdW5jdGlvbiBhZGRPbmNlKGZuLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBwcmlvcml0eSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogX2NvbnN0LlVQREFURV9QUklPUklUWS5OT1JNQUw7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZExpc3RlbmVyKG5ldyBfVGlja2VyTGlzdGVuZXIyLmRlZmF1bHQoZm4sIGNvbnRleHQsIHByaW9yaXR5LCB0cnVlKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEludGVybmFsbHkgYWRkcyB0aGUgZXZlbnQgaGFuZGxlciBzbyB0aGF0IGl0IGNhbiBiZSBzb3J0ZWQgYnkgcHJpb3JpdHkuXG4gICAgICogUHJpb3JpdHkgYWxsb3dzIGNlcnRhaW4gaGFuZGxlciAodXNlciwgQW5pbWF0ZWRTcHJpdGUsIEludGVyYWN0aW9uKSB0byBiZSBydW5cbiAgICAgKiBiZWZvcmUgdGhlIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtUaWNrZXJMaXN0ZW5lcn0gbGlzdGVuZXIgLSBDdXJyZW50IGxpc3RlbmVyIGJlaW5nIGFkZGVkLlxuICAgICAqIEByZXR1cm5zIHtQSVhJLnRpY2tlci5UaWNrZXJ9IFRoaXMgaW5zdGFuY2Ugb2YgYSB0aWNrZXJcbiAgICAgKi9cblxuXG4gICAgVGlja2VyLnByb3RvdHlwZS5fYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiBfYWRkTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgICAgICAgLy8gRm9yIGF0dGFjaGluZyB0byBoZWFkXG4gICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5faGVhZC5uZXh0O1xuICAgICAgICB2YXIgcHJldmlvdXMgPSB0aGlzLl9oZWFkO1xuXG4gICAgICAgIC8vIEFkZCB0aGUgZmlyc3QgaXRlbVxuICAgICAgICBpZiAoIWN1cnJlbnQpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyLmNvbm5lY3QocHJldmlvdXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gR28gZnJvbSBoaWdoZXN0IHRvIGxvd2VzdCBwcmlvcml0eVxuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXIucHJpb3JpdHkgPiBjdXJyZW50LnByaW9yaXR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNvbm5lY3QocHJldmlvdXMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJldmlvdXMgPSBjdXJyZW50O1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Lm5leHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE5vdCB5ZXQgY29ubmVjdGVkXG4gICAgICAgICAgICBpZiAoIWxpc3RlbmVyLnByZXZpb3VzKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIuY29ubmVjdChwcmV2aW91cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zdGFydElmUG9zc2libGUoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbnkgaGFuZGxlcnMgbWF0Y2hpbmcgdGhlIGZ1bmN0aW9uIGFuZCBjb250ZXh0IHBhcmFtZXRlcnMuXG4gICAgICogSWYgbm8gaGFuZGxlcnMgYXJlIGxlZnQgYWZ0ZXIgcmVtb3ZpbmcsIHRoZW4gaXQgY2FuY2VscyB0aGUgYW5pbWF0aW9uIGZyYW1lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgcmVtb3ZlZFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb250ZXh0XSAtIFRoZSBsaXN0ZW5lciBjb250ZXh0IHRvIGJlIHJlbW92ZWRcbiAgICAgKiBAcmV0dXJucyB7UElYSS50aWNrZXIuVGlja2VyfSBUaGlzIGluc3RhbmNlIG9mIGEgdGlja2VyXG4gICAgICovXG5cblxuICAgIFRpY2tlci5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKGZuLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBsaXN0ZW5lciA9IHRoaXMuX2hlYWQubmV4dDtcblxuICAgICAgICB3aGlsZSAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgIC8vIFdlIGZvdW5kIGEgbWF0Y2gsIGxldHMgcmVtb3ZlIGl0XG4gICAgICAgICAgICAvLyBubyBicmVhayB0byBkZWxldGUgYWxsIHBvc3NpYmxlIG1hdGNoZXNcbiAgICAgICAgICAgIC8vIGluY2FzZSBhIGxpc3RlbmVyIHdhcyBhZGRlZCAyKyB0aW1lc1xuICAgICAgICAgICAgaWYgKGxpc3RlbmVyLm1hdGNoKGZuLCBjb250ZXh0KSkge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gbGlzdGVuZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLm5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX2hlYWQubmV4dCkge1xuICAgICAgICAgICAgdGhpcy5fY2FuY2VsSWZOZWVkZWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdGFydHMgdGhlIHRpY2tlci4gSWYgdGhlIHRpY2tlciBoYXMgbGlzdGVuZXJzXG4gICAgICogYSBuZXcgYW5pbWF0aW9uIGZyYW1lIGlzIHJlcXVlc3RlZCBhdCB0aGlzIHBvaW50LlxuICAgICAqL1xuXG5cbiAgICBUaWNrZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgICAgIGlmICghdGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdElmTmVlZGVkKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIHRpY2tlci4gSWYgdGhlIHRpY2tlciBoYXMgcmVxdWVzdGVkXG4gICAgICogYW4gYW5pbWF0aW9uIGZyYW1lIGl0IGlzIGNhbmNlbGVkIGF0IHRoaXMgcG9pbnQuXG4gICAgICovXG5cblxuICAgIFRpY2tlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fY2FuY2VsSWZOZWVkZWQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoZSB0aWNrZXIgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzLiBDYWxsaW5nXG4gICAgICogdGhpcyBtZXRob2QgcmVtb3ZlcyBhbGwgcmVmZXJlbmNlcyB0byBpbnRlcm5hbCBldmVudHMuXG4gICAgICovXG5cblxuICAgIFRpY2tlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuXG4gICAgICAgIHZhciBsaXN0ZW5lciA9IHRoaXMuX2hlYWQubmV4dDtcblxuICAgICAgICB3aGlsZSAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyID0gbGlzdGVuZXIuZGVzdHJveSh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2hlYWQuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLl9oZWFkID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcnMgYW4gdXBkYXRlLiBBbiB1cGRhdGUgZW50YWlscyBzZXR0aW5nIHRoZVxuICAgICAqIGN1cnJlbnQge0BsaW5rIFBJWEkudGlja2VyLlRpY2tlciNlbGFwc2VkTVN9LFxuICAgICAqIHRoZSBjdXJyZW50IHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjZGVsdGFUaW1lfSxcbiAgICAgKiBpbnZva2luZyBhbGwgbGlzdGVuZXJzIHdpdGggY3VycmVudCBkZWx0YVRpbWUsXG4gICAgICogYW5kIHRoZW4gZmluYWxseSBzZXR0aW5nIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjbGFzdFRpbWV9XG4gICAgICogd2l0aCB0aGUgdmFsdWUgb2YgY3VycmVudFRpbWUgdGhhdCB3YXMgcHJvdmlkZWQuXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCBiZSBjYWxsZWQgYXV0b21hdGljYWxseSBieSBhbmltYXRpb25cbiAgICAgKiBmcmFtZSBjYWxsYmFja3MgaWYgdGhlIHRpY2tlciBpbnN0YW5jZSBoYXMgYmVlbiBzdGFydGVkXG4gICAgICogYW5kIGxpc3RlbmVycyBhcmUgYWRkZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2N1cnJlbnRUaW1lPXBlcmZvcm1hbmNlLm5vdygpXSAtIHRoZSBjdXJyZW50IHRpbWUgb2YgZXhlY3V0aW9uXG4gICAgICovXG5cblxuICAgIFRpY2tlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHBlcmZvcm1hbmNlLm5vdygpO1xuXG4gICAgICAgIHZhciBlbGFwc2VkTVMgPSB2b2lkIDA7XG5cbiAgICAgICAgLy8gSWYgdGhlIGRpZmZlcmVuY2UgaW4gdGltZSBpcyB6ZXJvIG9yIG5lZ2F0aXZlLCB3ZSBpZ25vcmUgbW9zdCBvZiB0aGUgd29yayBkb25lIGhlcmUuXG4gICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIHZhbGlkIGRpZmZlcmVuY2UsIHRoZW4gc2hvdWxkIGJlIG5vIHJlYXNvbiB0byBsZXQgYW55b25lIGtub3cgYWJvdXQgaXQuXG4gICAgICAgIC8vIEEgemVybyBkZWx0YSwgaXMgZXhhY3RseSB0aGF0LCBub3RoaW5nIHNob3VsZCB1cGRhdGUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoZSBkaWZmZXJlbmNlIGluIHRpbWUgY2FuIGJlIG5lZ2F0aXZlLCBhbmQgbm8gdGhpcyBkb2VzIG5vdCBtZWFuIHRpbWUgdHJhdmVsaW5nLlxuICAgICAgICAvLyBUaGlzIGNhbiBiZSB0aGUgcmVzdWx0IG9mIGEgcmFjZSBjb25kaXRpb24gYmV0d2VlbiB3aGVuIGFuIGFuaW1hdGlvbiBmcmFtZSBpcyByZXF1ZXN0ZWRcbiAgICAgICAgLy8gb24gdGhlIGN1cnJlbnQgSmF2YVNjcmlwdCBlbmdpbmUgZXZlbnQgbG9vcCwgYW5kIHdoZW4gdGhlIHRpY2tlcidzIHN0YXJ0IG1ldGhvZCBpcyBpbnZva2VkXG4gICAgICAgIC8vICh3aGljaCBpbnZva2VzIHRoZSBpbnRlcm5hbCBfcmVxdWVzdElmTmVlZGVkIG1ldGhvZCkuIElmIGEgZnJhbWUgaXMgcmVxdWVzdGVkIGJlZm9yZVxuICAgICAgICAvLyBfcmVxdWVzdElmTmVlZGVkIGlzIGludm9rZWQsIHRoZW4gdGhlIGNhbGxiYWNrIGZvciB0aGUgYW5pbWF0aW9uIGZyYW1lIHRoZSB0aWNrZXIgcmVxdWVzdHMsXG4gICAgICAgIC8vIGNhbiByZWNlaXZlIGEgdGltZSBhcmd1bWVudCB0aGF0IGNhbiBiZSBsZXNzIHRoYW4gdGhlIGxhc3RUaW1lIHZhbHVlIHRoYXQgd2FzIHNldCB3aXRoaW5cbiAgICAgICAgLy8gX3JlcXVlc3RJZk5lZWRlZC4gVGhpcyBkaWZmZXJlbmNlIGlzIGluIG1pY3Jvc2Vjb25kcywgYnV0IHRoaXMgaXMgZW5vdWdoIHRvIGNhdXNlIHByb2JsZW1zLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGlzIGNoZWNrIGNvdmVycyB0aGlzIGJyb3dzZXIgZW5naW5lIHRpbWluZyBpc3N1ZSwgYXMgd2VsbCBhcyBpZiBjb25zdW1lcnMgcGFzcyBhbiBpbnZhbGlkXG4gICAgICAgIC8vIGN1cnJlbnRUaW1lIHZhbHVlLiBUaGlzIG1heSBoYXBwZW4gaWYgY29uc3VtZXJzIG9wdC1vdXQgb2YgdGhlIGF1dG9TdGFydCwgYW5kIHVwZGF0ZSB0aGVtc2VsdmVzLlxuXG4gICAgICAgIGlmIChjdXJyZW50VGltZSA+IHRoaXMubGFzdFRpbWUpIHtcbiAgICAgICAgICAgIC8vIFNhdmUgdW5jYXBwZWQgZWxhcHNlZE1TIGZvciBtZWFzdXJlbWVudFxuICAgICAgICAgICAgZWxhcHNlZE1TID0gdGhpcy5lbGFwc2VkTVMgPSBjdXJyZW50VGltZSAtIHRoaXMubGFzdFRpbWU7XG5cbiAgICAgICAgICAgIC8vIGNhcCB0aGUgbWlsbGlzZWNvbmRzIGVsYXBzZWQgdXNlZCBmb3IgZGVsdGFUaW1lXG4gICAgICAgICAgICBpZiAoZWxhcHNlZE1TID4gdGhpcy5fbWF4RWxhcHNlZE1TKSB7XG4gICAgICAgICAgICAgICAgZWxhcHNlZE1TID0gdGhpcy5fbWF4RWxhcHNlZE1TO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmRlbHRhVGltZSA9IGVsYXBzZWRNUyAqIF9zZXR0aW5nczIuZGVmYXVsdC5UQVJHRVRfRlBNUyAqIHRoaXMuc3BlZWQ7XG5cbiAgICAgICAgICAgIC8vIENhY2hlIGEgbG9jYWwgcmVmZXJlbmNlLCBpbi1jYXNlIHRpY2tlciBpcyBkZXN0cm95ZWRcbiAgICAgICAgICAgIC8vIGR1cmluZyB0aGUgZW1pdCwgd2UgY2FuIHN0aWxsIGNoZWNrIGZvciBoZWFkLm5leHRcbiAgICAgICAgICAgIHZhciBoZWFkID0gdGhpcy5faGVhZDtcblxuICAgICAgICAgICAgLy8gSW52b2tlIGxpc3RlbmVycyBhZGRlZCB0byBpbnRlcm5hbCBlbWl0dGVyXG4gICAgICAgICAgICB2YXIgbGlzdGVuZXIgPSBoZWFkLm5leHQ7XG5cbiAgICAgICAgICAgIHdoaWxlIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gbGlzdGVuZXIuZW1pdCh0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghaGVhZC5uZXh0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FuY2VsSWZOZWVkZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGVsdGFUaW1lID0gdGhpcy5lbGFwc2VkTVMgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sYXN0VGltZSA9IGN1cnJlbnRUaW1lO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnJhbWVzIHBlciBzZWNvbmQgYXQgd2hpY2ggdGhpcyB0aWNrZXIgaXMgcnVubmluZy5cbiAgICAgKiBUaGUgZGVmYXVsdCBpcyBhcHByb3hpbWF0ZWx5IDYwIGluIG1vc3QgbW9kZXJuIGJyb3dzZXJzLlxuICAgICAqICoqTm90ZToqKiBUaGlzIGRvZXMgbm90IGZhY3RvciBpbiB0aGUgdmFsdWUgb2ZcbiAgICAgKiB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI3NwZWVkfSwgd2hpY2ggaXMgc3BlY2lmaWNcbiAgICAgKiB0byBzY2FsaW5nIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjZGVsdGFUaW1lfS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKFRpY2tlciwgW3tcbiAgICAgICAga2V5OiAnRlBTJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gMTAwMCAvIHRoaXMuZWxhcHNlZE1TO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hbmFnZXMgdGhlIG1heGltdW0gYW1vdW50IG9mIG1pbGxpc2Vjb25kcyBhbGxvd2VkIHRvXG4gICAgICAgICAqIGVsYXBzZSBiZXR3ZWVuIGludm9raW5nIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjdXBkYXRlfS5cbiAgICAgICAgICogVGhpcyB2YWx1ZSBpcyB1c2VkIHRvIGNhcCB7QGxpbmsgUElYSS50aWNrZXIuVGlja2VyI2RlbHRhVGltZX0sXG4gICAgICAgICAqIGJ1dCBkb2VzIG5vdCBlZmZlY3QgdGhlIG1lYXN1cmVkIHZhbHVlIG9mIHtAbGluayBQSVhJLnRpY2tlci5UaWNrZXIjRlBTfS5cbiAgICAgICAgICogV2hlbiBzZXR0aW5nIHRoaXMgcHJvcGVydHkgaXQgaXMgY2xhbXBlZCB0byBhIHZhbHVlIGJldHdlZW5cbiAgICAgICAgICogYDBgIGFuZCBgUElYSS5zZXR0aW5ncy5UQVJHRVRfRlBNUyAqIDEwMDBgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDEwXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdtaW5GUFMnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiAxMDAwIC8gdGhpcy5fbWF4RWxhcHNlZE1TO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmcHMpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgICAgICB7XG4gICAgICAgICAgICAvLyBDbGFtcDogMCB0byBUQVJHRVRfRlBNU1xuICAgICAgICAgICAgdmFyIG1pbkZQTVMgPSBNYXRoLm1pbihNYXRoLm1heCgwLCBmcHMpIC8gMTAwMCwgX3NldHRpbmdzMi5kZWZhdWx0LlRBUkdFVF9GUE1TKTtcblxuICAgICAgICAgICAgdGhpcy5fbWF4RWxhcHNlZE1TID0gMSAvIG1pbkZQTVM7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gVGlja2VyO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBUaWNrZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWNrZXIuanMubWFwIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIHN0cmluZ2lmeVByaW1pdGl2ZSA9IGZ1bmN0aW9uKHYpIHtcbiAgc3dpdGNoICh0eXBlb2Ygdikge1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICByZXR1cm4gdjtcblxuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgcmV0dXJuIHYgPyAndHJ1ZScgOiAnZmFsc2UnO1xuXG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIHJldHVybiBpc0Zpbml0ZSh2KSA/IHYgOiAnJztcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gJyc7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqLCBzZXAsIGVxLCBuYW1lKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICBpZiAob2JqID09PSBudWxsKSB7XG4gICAgb2JqID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG1hcChvYmplY3RLZXlzKG9iaiksIGZ1bmN0aW9uKGspIHtcbiAgICAgIHZhciBrcyA9IGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUoaykpICsgZXE7XG4gICAgICBpZiAoaXNBcnJheShvYmpba10pKSB7XG4gICAgICAgIHJldHVybiBtYXAob2JqW2tdLCBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgcmV0dXJuIGtzICsgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZSh2KSk7XG4gICAgICAgIH0pLmpvaW4oc2VwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqW2tdKSk7XG4gICAgICB9XG4gICAgfSkuam9pbihzZXApO1xuXG4gIH1cblxuICBpZiAoIW5hbWUpIHJldHVybiAnJztcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUobmFtZSkpICsgZXEgK1xuICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShvYmopKTtcbn07XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoeHMpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4cykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuXG5mdW5jdGlvbiBtYXAgKHhzLCBmKSB7XG4gIGlmICh4cy5tYXApIHJldHVybiB4cy5tYXAoZik7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykge1xuICAgIHJlcy5wdXNoKGYoeHNbaV0sIGkpKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuXG52YXIgb2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIChvYmopIHtcbiAgdmFyIHJlcyA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHJlcy5wdXNoKGtleSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG4vLyBJZiBvYmouaGFzT3duUHJvcGVydHkgaGFzIGJlZW4gb3ZlcnJpZGRlbiwgdGhlbiBjYWxsaW5nXG4vLyBvYmouaGFzT3duUHJvcGVydHkocHJvcCkgd2lsbCBicmVhay5cbi8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2pveWVudC9ub2RlL2lzc3Vlcy8xNzA3XG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIHByb3ApIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHFzLCBzZXAsIGVxLCBvcHRpb25zKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICB2YXIgb2JqID0ge307XG5cbiAgaWYgKHR5cGVvZiBxcyAhPT0gJ3N0cmluZycgfHwgcXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIHZhciByZWdleHAgPSAvXFwrL2c7XG4gIHFzID0gcXMuc3BsaXQoc2VwKTtcblxuICB2YXIgbWF4S2V5cyA9IDEwMDA7XG4gIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zLm1heEtleXMgPT09ICdudW1iZXInKSB7XG4gICAgbWF4S2V5cyA9IG9wdGlvbnMubWF4S2V5cztcbiAgfVxuXG4gIHZhciBsZW4gPSBxcy5sZW5ndGg7XG4gIC8vIG1heEtleXMgPD0gMCBtZWFucyB0aGF0IHdlIHNob3VsZCBub3QgbGltaXQga2V5cyBjb3VudFxuICBpZiAobWF4S2V5cyA+IDAgJiYgbGVuID4gbWF4S2V5cykge1xuICAgIGxlbiA9IG1heEtleXM7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgdmFyIHggPSBxc1tpXS5yZXBsYWNlKHJlZ2V4cCwgJyUyMCcpLFxuICAgICAgICBpZHggPSB4LmluZGV4T2YoZXEpLFxuICAgICAgICBrc3RyLCB2c3RyLCBrLCB2O1xuXG4gICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICBrc3RyID0geC5zdWJzdHIoMCwgaWR4KTtcbiAgICAgIHZzdHIgPSB4LnN1YnN0cihpZHggKyAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAga3N0ciA9IHg7XG4gICAgICB2c3RyID0gJyc7XG4gICAgfVxuXG4gICAgayA9IGRlY29kZVVSSUNvbXBvbmVudChrc3RyKTtcbiAgICB2ID0gZGVjb2RlVVJJQ29tcG9uZW50KHZzdHIpO1xuXG4gICAgaWYgKCFoYXNPd25Qcm9wZXJ0eShvYmosIGspKSB7XG4gICAgICBvYmpba10gPSB2O1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShvYmpba10pKSB7XG4gICAgICBvYmpba10ucHVzaCh2KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqW2tdID0gW29ialtrXSwgdl07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9iajtcbn07XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoeHMpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4cykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLmRlY29kZSA9IGV4cG9ydHMucGFyc2UgPSByZXF1aXJlKCcuL2RlY29kZScpO1xuZXhwb3J0cy5lbmNvZGUgPSBleHBvcnRzLnN0cmluZ2lmeSA9IHJlcXVpcmUoJy4vZW5jb2RlJyk7XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpc1N0cmluZzogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHR5cGVvZihhcmcpID09PSAnc3RyaW5nJztcbiAgfSxcbiAgaXNPYmplY3Q6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB0eXBlb2YoYXJnKSA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xuICB9LFxuICBpc051bGw6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBhcmcgPT09IG51bGw7XG4gIH0sXG4gIGlzTnVsbE9yVW5kZWZpbmVkOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gYXJnID09IG51bGw7XG4gIH1cbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xyXG5cdGlmICghbW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xyXG5cdFx0bW9kdWxlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKCkge307XHJcblx0XHRtb2R1bGUucGF0aHMgPSBbXTtcclxuXHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxyXG5cdFx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xyXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJsb2FkZWRcIiwge1xyXG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxyXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJldHVybiBtb2R1bGUubDtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImlkXCIsIHtcclxuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XHJcblx0fVxyXG5cdHJldHVybiBtb2R1bGU7XHJcbn07XHJcbiIsIi8qISBodHRwczovL210aHMuYmUvcHVueWNvZGUgdjEuNC4xIGJ5IEBtYXRoaWFzICovXG47KGZ1bmN0aW9uKHJvb3QpIHtcblxuXHQvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGVzICovXG5cdHZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiZcblx0XHQhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXHR2YXIgZnJlZU1vZHVsZSA9IHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmXG5cdFx0IW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cdHZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWw7XG5cdGlmIChcblx0XHRmcmVlR2xvYmFsLmdsb2JhbCA9PT0gZnJlZUdsb2JhbCB8fFxuXHRcdGZyZWVHbG9iYWwud2luZG93ID09PSBmcmVlR2xvYmFsIHx8XG5cdFx0ZnJlZUdsb2JhbC5zZWxmID09PSBmcmVlR2xvYmFsXG5cdCkge1xuXHRcdHJvb3QgPSBmcmVlR2xvYmFsO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRoZSBgcHVueWNvZGVgIG9iamVjdC5cblx0ICogQG5hbWUgcHVueWNvZGVcblx0ICogQHR5cGUgT2JqZWN0XG5cdCAqL1xuXHR2YXIgcHVueWNvZGUsXG5cblx0LyoqIEhpZ2hlc3QgcG9zaXRpdmUgc2lnbmVkIDMyLWJpdCBmbG9hdCB2YWx1ZSAqL1xuXHRtYXhJbnQgPSAyMTQ3NDgzNjQ3LCAvLyBha2EuIDB4N0ZGRkZGRkYgb3IgMl4zMS0xXG5cblx0LyoqIEJvb3RzdHJpbmcgcGFyYW1ldGVycyAqL1xuXHRiYXNlID0gMzYsXG5cdHRNaW4gPSAxLFxuXHR0TWF4ID0gMjYsXG5cdHNrZXcgPSAzOCxcblx0ZGFtcCA9IDcwMCxcblx0aW5pdGlhbEJpYXMgPSA3Mixcblx0aW5pdGlhbE4gPSAxMjgsIC8vIDB4ODBcblx0ZGVsaW1pdGVyID0gJy0nLCAvLyAnXFx4MkQnXG5cblx0LyoqIFJlZ3VsYXIgZXhwcmVzc2lvbnMgKi9cblx0cmVnZXhQdW55Y29kZSA9IC9eeG4tLS8sXG5cdHJlZ2V4Tm9uQVNDSUkgPSAvW15cXHgyMC1cXHg3RV0vLCAvLyB1bnByaW50YWJsZSBBU0NJSSBjaGFycyArIG5vbi1BU0NJSSBjaGFyc1xuXHRyZWdleFNlcGFyYXRvcnMgPSAvW1xceDJFXFx1MzAwMlxcdUZGMEVcXHVGRjYxXS9nLCAvLyBSRkMgMzQ5MCBzZXBhcmF0b3JzXG5cblx0LyoqIEVycm9yIG1lc3NhZ2VzICovXG5cdGVycm9ycyA9IHtcblx0XHQnb3ZlcmZsb3cnOiAnT3ZlcmZsb3c6IGlucHV0IG5lZWRzIHdpZGVyIGludGVnZXJzIHRvIHByb2Nlc3MnLFxuXHRcdCdub3QtYmFzaWMnOiAnSWxsZWdhbCBpbnB1dCA+PSAweDgwIChub3QgYSBiYXNpYyBjb2RlIHBvaW50KScsXG5cdFx0J2ludmFsaWQtaW5wdXQnOiAnSW52YWxpZCBpbnB1dCdcblx0fSxcblxuXHQvKiogQ29udmVuaWVuY2Ugc2hvcnRjdXRzICovXG5cdGJhc2VNaW51c1RNaW4gPSBiYXNlIC0gdE1pbixcblx0Zmxvb3IgPSBNYXRoLmZsb29yLFxuXHRzdHJpbmdGcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLFxuXG5cdC8qKiBUZW1wb3JhcnkgdmFyaWFibGUgKi9cblx0a2V5O1xuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdC8qKlxuXHQgKiBBIGdlbmVyaWMgZXJyb3IgdXRpbGl0eSBmdW5jdGlvbi5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVGhlIGVycm9yIHR5cGUuXG5cdCAqIEByZXR1cm5zIHtFcnJvcn0gVGhyb3dzIGEgYFJhbmdlRXJyb3JgIHdpdGggdGhlIGFwcGxpY2FibGUgZXJyb3IgbWVzc2FnZS5cblx0ICovXG5cdGZ1bmN0aW9uIGVycm9yKHR5cGUpIHtcblx0XHR0aHJvdyBuZXcgUmFuZ2VFcnJvcihlcnJvcnNbdHlwZV0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIEEgZ2VuZXJpYyBgQXJyYXkjbWFwYCB1dGlsaXR5IGZ1bmN0aW9uLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnkgYXJyYXlcblx0ICogaXRlbS5cblx0ICogQHJldHVybnMge0FycmF5fSBBIG5ldyBhcnJheSBvZiB2YWx1ZXMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gbWFwKGFycmF5LCBmbikge1xuXHRcdHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cdFx0dmFyIHJlc3VsdCA9IFtdO1xuXHRcdHdoaWxlIChsZW5ndGgtLSkge1xuXHRcdFx0cmVzdWx0W2xlbmd0aF0gPSBmbihhcnJheVtsZW5ndGhdKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fVxuXG5cdC8qKlxuXHQgKiBBIHNpbXBsZSBgQXJyYXkjbWFwYC1saWtlIHdyYXBwZXIgdG8gd29yayB3aXRoIGRvbWFpbiBuYW1lIHN0cmluZ3Mgb3IgZW1haWxcblx0ICogYWRkcmVzc2VzLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gZG9tYWluIFRoZSBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnlcblx0ICogY2hhcmFjdGVyLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IHN0cmluZyBvZiBjaGFyYWN0ZXJzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFja1xuXHQgKiBmdW5jdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIG1hcERvbWFpbihzdHJpbmcsIGZuKSB7XG5cdFx0dmFyIHBhcnRzID0gc3RyaW5nLnNwbGl0KCdAJyk7XG5cdFx0dmFyIHJlc3VsdCA9ICcnO1xuXHRcdGlmIChwYXJ0cy5sZW5ndGggPiAxKSB7XG5cdFx0XHQvLyBJbiBlbWFpbCBhZGRyZXNzZXMsIG9ubHkgdGhlIGRvbWFpbiBuYW1lIHNob3VsZCBiZSBwdW55Y29kZWQuIExlYXZlXG5cdFx0XHQvLyB0aGUgbG9jYWwgcGFydCAoaS5lLiBldmVyeXRoaW5nIHVwIHRvIGBAYCkgaW50YWN0LlxuXHRcdFx0cmVzdWx0ID0gcGFydHNbMF0gKyAnQCc7XG5cdFx0XHRzdHJpbmcgPSBwYXJ0c1sxXTtcblx0XHR9XG5cdFx0Ly8gQXZvaWQgYHNwbGl0KHJlZ2V4KWAgZm9yIElFOCBjb21wYXRpYmlsaXR5LiBTZWUgIzE3LlxuXHRcdHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKHJlZ2V4U2VwYXJhdG9ycywgJ1xceDJFJyk7XG5cdFx0dmFyIGxhYmVscyA9IHN0cmluZy5zcGxpdCgnLicpO1xuXHRcdHZhciBlbmNvZGVkID0gbWFwKGxhYmVscywgZm4pLmpvaW4oJy4nKTtcblx0XHRyZXR1cm4gcmVzdWx0ICsgZW5jb2RlZDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIG51bWVyaWMgY29kZSBwb2ludHMgb2YgZWFjaCBVbmljb2RlXG5cdCAqIGNoYXJhY3RlciBpbiB0aGUgc3RyaW5nLiBXaGlsZSBKYXZhU2NyaXB0IHVzZXMgVUNTLTIgaW50ZXJuYWxseSxcblx0ICogdGhpcyBmdW5jdGlvbiB3aWxsIGNvbnZlcnQgYSBwYWlyIG9mIHN1cnJvZ2F0ZSBoYWx2ZXMgKGVhY2ggb2Ygd2hpY2hcblx0ICogVUNTLTIgZXhwb3NlcyBhcyBzZXBhcmF0ZSBjaGFyYWN0ZXJzKSBpbnRvIGEgc2luZ2xlIGNvZGUgcG9pbnQsXG5cdCAqIG1hdGNoaW5nIFVURi0xNi5cblx0ICogQHNlZSBgcHVueWNvZGUudWNzMi5lbmNvZGVgXG5cdCAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMlxuXHQgKiBAbmFtZSBkZWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyBUaGUgVW5pY29kZSBpbnB1dCBzdHJpbmcgKFVDUy0yKS5cblx0ICogQHJldHVybnMge0FycmF5fSBUaGUgbmV3IGFycmF5IG9mIGNvZGUgcG9pbnRzLlxuXHQgKi9cblx0ZnVuY3Rpb24gdWNzMmRlY29kZShzdHJpbmcpIHtcblx0XHR2YXIgb3V0cHV0ID0gW10sXG5cdFx0ICAgIGNvdW50ZXIgPSAwLFxuXHRcdCAgICBsZW5ndGggPSBzdHJpbmcubGVuZ3RoLFxuXHRcdCAgICB2YWx1ZSxcblx0XHQgICAgZXh0cmE7XG5cdFx0d2hpbGUgKGNvdW50ZXIgPCBsZW5ndGgpIHtcblx0XHRcdHZhbHVlID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTtcblx0XHRcdGlmICh2YWx1ZSA+PSAweEQ4MDAgJiYgdmFsdWUgPD0gMHhEQkZGICYmIGNvdW50ZXIgPCBsZW5ndGgpIHtcblx0XHRcdFx0Ly8gaGlnaCBzdXJyb2dhdGUsIGFuZCB0aGVyZSBpcyBhIG5leHQgY2hhcmFjdGVyXG5cdFx0XHRcdGV4dHJhID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTtcblx0XHRcdFx0aWYgKChleHRyYSAmIDB4RkMwMCkgPT0gMHhEQzAwKSB7IC8vIGxvdyBzdXJyb2dhdGVcblx0XHRcdFx0XHRvdXRwdXQucHVzaCgoKHZhbHVlICYgMHgzRkYpIDw8IDEwKSArIChleHRyYSAmIDB4M0ZGKSArIDB4MTAwMDApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIHVubWF0Y2hlZCBzdXJyb2dhdGU7IG9ubHkgYXBwZW5kIHRoaXMgY29kZSB1bml0LCBpbiBjYXNlIHRoZSBuZXh0XG5cdFx0XHRcdFx0Ly8gY29kZSB1bml0IGlzIHRoZSBoaWdoIHN1cnJvZ2F0ZSBvZiBhIHN1cnJvZ2F0ZSBwYWlyXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2godmFsdWUpO1xuXHRcdFx0XHRcdGNvdW50ZXItLTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b3V0cHV0LnB1c2godmFsdWUpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gb3V0cHV0O1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBzdHJpbmcgYmFzZWQgb24gYW4gYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy5cblx0ICogQHNlZSBgcHVueWNvZGUudWNzMi5kZWNvZGVgXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZS51Y3MyXG5cdCAqIEBuYW1lIGVuY29kZVxuXHQgKiBAcGFyYW0ge0FycmF5fSBjb2RlUG9pbnRzIFRoZSBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgbmV3IFVuaWNvZGUgc3RyaW5nIChVQ1MtMikuXG5cdCAqL1xuXHRmdW5jdGlvbiB1Y3MyZW5jb2RlKGFycmF5KSB7XG5cdFx0cmV0dXJuIG1hcChhcnJheSwgZnVuY3Rpb24odmFsdWUpIHtcblx0XHRcdHZhciBvdXRwdXQgPSAnJztcblx0XHRcdGlmICh2YWx1ZSA+IDB4RkZGRikge1xuXHRcdFx0XHR2YWx1ZSAtPSAweDEwMDAwO1xuXHRcdFx0XHRvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKTtcblx0XHRcdFx0dmFsdWUgPSAweERDMDAgfCB2YWx1ZSAmIDB4M0ZGO1xuXHRcdFx0fVxuXHRcdFx0b3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSk7XG5cdFx0XHRyZXR1cm4gb3V0cHV0O1xuXHRcdH0pLmpvaW4oJycpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgYmFzaWMgY29kZSBwb2ludCBpbnRvIGEgZGlnaXQvaW50ZWdlci5cblx0ICogQHNlZSBgZGlnaXRUb0Jhc2ljKClgXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBjb2RlUG9pbnQgVGhlIGJhc2ljIG51bWVyaWMgY29kZSBwb2ludCB2YWx1ZS5cblx0ICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50IChmb3IgdXNlIGluXG5cdCAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaW4gdGhlIHJhbmdlIGAwYCB0byBgYmFzZSAtIDFgLCBvciBgYmFzZWAgaWZcblx0ICogdGhlIGNvZGUgcG9pbnQgZG9lcyBub3QgcmVwcmVzZW50IGEgdmFsdWUuXG5cdCAqL1xuXHRmdW5jdGlvbiBiYXNpY1RvRGlnaXQoY29kZVBvaW50KSB7XG5cdFx0aWYgKGNvZGVQb2ludCAtIDQ4IDwgMTApIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQgLSAyMjtcblx0XHR9XG5cdFx0aWYgKGNvZGVQb2ludCAtIDY1IDwgMjYpIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQgLSA2NTtcblx0XHR9XG5cdFx0aWYgKGNvZGVQb2ludCAtIDk3IDwgMjYpIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQgLSA5Nztcblx0XHR9XG5cdFx0cmV0dXJuIGJhc2U7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBkaWdpdC9pbnRlZ2VyIGludG8gYSBiYXNpYyBjb2RlIHBvaW50LlxuXHQgKiBAc2VlIGBiYXNpY1RvRGlnaXQoKWBcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGRpZ2l0IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludC5cblx0ICogQHJldHVybnMge051bWJlcn0gVGhlIGJhc2ljIGNvZGUgcG9pbnQgd2hvc2UgdmFsdWUgKHdoZW4gdXNlZCBmb3Jcblx0ICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpcyBgZGlnaXRgLCB3aGljaCBuZWVkcyB0byBiZSBpbiB0aGUgcmFuZ2Vcblx0ICogYDBgIHRvIGBiYXNlIC0gMWAuIElmIGBmbGFnYCBpcyBub24temVybywgdGhlIHVwcGVyY2FzZSBmb3JtIGlzXG5cdCAqIHVzZWQ7IGVsc2UsIHRoZSBsb3dlcmNhc2UgZm9ybSBpcyB1c2VkLiBUaGUgYmVoYXZpb3IgaXMgdW5kZWZpbmVkXG5cdCAqIGlmIGBmbGFnYCBpcyBub24temVybyBhbmQgYGRpZ2l0YCBoYXMgbm8gdXBwZXJjYXNlIGZvcm0uXG5cdCAqL1xuXHRmdW5jdGlvbiBkaWdpdFRvQmFzaWMoZGlnaXQsIGZsYWcpIHtcblx0XHQvLyAgMC4uMjUgbWFwIHRvIEFTQ0lJIGEuLnogb3IgQS4uWlxuXHRcdC8vIDI2Li4zNSBtYXAgdG8gQVNDSUkgMC4uOVxuXHRcdHJldHVybiBkaWdpdCArIDIyICsgNzUgKiAoZGlnaXQgPCAyNikgLSAoKGZsYWcgIT0gMCkgPDwgNSk7XG5cdH1cblxuXHQvKipcblx0ICogQmlhcyBhZGFwdGF0aW9uIGZ1bmN0aW9uIGFzIHBlciBzZWN0aW9uIDMuNCBvZiBSRkMgMzQ5Mi5cblx0ICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM0OTIjc2VjdGlvbi0zLjRcblx0ICogQHByaXZhdGVcblx0ICovXG5cdGZ1bmN0aW9uIGFkYXB0KGRlbHRhLCBudW1Qb2ludHMsIGZpcnN0VGltZSkge1xuXHRcdHZhciBrID0gMDtcblx0XHRkZWx0YSA9IGZpcnN0VGltZSA/IGZsb29yKGRlbHRhIC8gZGFtcCkgOiBkZWx0YSA+PiAxO1xuXHRcdGRlbHRhICs9IGZsb29yKGRlbHRhIC8gbnVtUG9pbnRzKTtcblx0XHRmb3IgKC8qIG5vIGluaXRpYWxpemF0aW9uICovOyBkZWx0YSA+IGJhc2VNaW51c1RNaW4gKiB0TWF4ID4+IDE7IGsgKz0gYmFzZSkge1xuXHRcdFx0ZGVsdGEgPSBmbG9vcihkZWx0YSAvIGJhc2VNaW51c1RNaW4pO1xuXHRcdH1cblx0XHRyZXR1cm4gZmxvb3IoayArIChiYXNlTWludXNUTWluICsgMSkgKiBkZWx0YSAvIChkZWx0YSArIHNrZXcpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMgdG8gYSBzdHJpbmcgb2YgVW5pY29kZVxuXHQgKiBzeW1ib2xzLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuXG5cdCAqL1xuXHRmdW5jdGlvbiBkZWNvZGUoaW5wdXQpIHtcblx0XHQvLyBEb24ndCB1c2UgVUNTLTJcblx0XHR2YXIgb3V0cHV0ID0gW10sXG5cdFx0ICAgIGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoLFxuXHRcdCAgICBvdXQsXG5cdFx0ICAgIGkgPSAwLFxuXHRcdCAgICBuID0gaW5pdGlhbE4sXG5cdFx0ICAgIGJpYXMgPSBpbml0aWFsQmlhcyxcblx0XHQgICAgYmFzaWMsXG5cdFx0ICAgIGosXG5cdFx0ICAgIGluZGV4LFxuXHRcdCAgICBvbGRpLFxuXHRcdCAgICB3LFxuXHRcdCAgICBrLFxuXHRcdCAgICBkaWdpdCxcblx0XHQgICAgdCxcblx0XHQgICAgLyoqIENhY2hlZCBjYWxjdWxhdGlvbiByZXN1bHRzICovXG5cdFx0ICAgIGJhc2VNaW51c1Q7XG5cblx0XHQvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzOiBsZXQgYGJhc2ljYCBiZSB0aGUgbnVtYmVyIG9mIGlucHV0IGNvZGVcblx0XHQvLyBwb2ludHMgYmVmb3JlIHRoZSBsYXN0IGRlbGltaXRlciwgb3IgYDBgIGlmIHRoZXJlIGlzIG5vbmUsIHRoZW4gY29weVxuXHRcdC8vIHRoZSBmaXJzdCBiYXNpYyBjb2RlIHBvaW50cyB0byB0aGUgb3V0cHV0LlxuXG5cdFx0YmFzaWMgPSBpbnB1dC5sYXN0SW5kZXhPZihkZWxpbWl0ZXIpO1xuXHRcdGlmIChiYXNpYyA8IDApIHtcblx0XHRcdGJhc2ljID0gMDtcblx0XHR9XG5cblx0XHRmb3IgKGogPSAwOyBqIDwgYmFzaWM7ICsraikge1xuXHRcdFx0Ly8gaWYgaXQncyBub3QgYSBiYXNpYyBjb2RlIHBvaW50XG5cdFx0XHRpZiAoaW5wdXQuY2hhckNvZGVBdChqKSA+PSAweDgwKSB7XG5cdFx0XHRcdGVycm9yKCdub3QtYmFzaWMnKTtcblx0XHRcdH1cblx0XHRcdG91dHB1dC5wdXNoKGlucHV0LmNoYXJDb2RlQXQoaikpO1xuXHRcdH1cblxuXHRcdC8vIE1haW4gZGVjb2RpbmcgbG9vcDogc3RhcnQganVzdCBhZnRlciB0aGUgbGFzdCBkZWxpbWl0ZXIgaWYgYW55IGJhc2ljIGNvZGVcblx0XHQvLyBwb2ludHMgd2VyZSBjb3BpZWQ7IHN0YXJ0IGF0IHRoZSBiZWdpbm5pbmcgb3RoZXJ3aXNlLlxuXG5cdFx0Zm9yIChpbmRleCA9IGJhc2ljID4gMCA/IGJhc2ljICsgMSA6IDA7IGluZGV4IDwgaW5wdXRMZW5ndGg7IC8qIG5vIGZpbmFsIGV4cHJlc3Npb24gKi8pIHtcblxuXHRcdFx0Ly8gYGluZGV4YCBpcyB0aGUgaW5kZXggb2YgdGhlIG5leHQgY2hhcmFjdGVyIHRvIGJlIGNvbnN1bWVkLlxuXHRcdFx0Ly8gRGVjb2RlIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXIgaW50byBgZGVsdGFgLFxuXHRcdFx0Ly8gd2hpY2ggZ2V0cyBhZGRlZCB0byBgaWAuIFRoZSBvdmVyZmxvdyBjaGVja2luZyBpcyBlYXNpZXJcblx0XHRcdC8vIGlmIHdlIGluY3JlYXNlIGBpYCBhcyB3ZSBnbywgdGhlbiBzdWJ0cmFjdCBvZmYgaXRzIHN0YXJ0aW5nXG5cdFx0XHQvLyB2YWx1ZSBhdCB0aGUgZW5kIHRvIG9idGFpbiBgZGVsdGFgLlxuXHRcdFx0Zm9yIChvbGRpID0gaSwgdyA9IDEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkge1xuXG5cdFx0XHRcdGlmIChpbmRleCA+PSBpbnB1dExlbmd0aCkge1xuXHRcdFx0XHRcdGVycm9yKCdpbnZhbGlkLWlucHV0Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRkaWdpdCA9IGJhc2ljVG9EaWdpdChpbnB1dC5jaGFyQ29kZUF0KGluZGV4KyspKTtcblxuXHRcdFx0XHRpZiAoZGlnaXQgPj0gYmFzZSB8fCBkaWdpdCA+IGZsb29yKChtYXhJbnQgLSBpKSAvIHcpKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpICs9IGRpZ2l0ICogdztcblx0XHRcdFx0dCA9IGsgPD0gYmlhcyA/IHRNaW4gOiAoayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcyk7XG5cblx0XHRcdFx0aWYgKGRpZ2l0IDwgdCkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0YmFzZU1pbnVzVCA9IGJhc2UgLSB0O1xuXHRcdFx0XHRpZiAodyA+IGZsb29yKG1heEludCAvIGJhc2VNaW51c1QpKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR3ICo9IGJhc2VNaW51c1Q7XG5cblx0XHRcdH1cblxuXHRcdFx0b3V0ID0gb3V0cHV0Lmxlbmd0aCArIDE7XG5cdFx0XHRiaWFzID0gYWRhcHQoaSAtIG9sZGksIG91dCwgb2xkaSA9PSAwKTtcblxuXHRcdFx0Ly8gYGlgIHdhcyBzdXBwb3NlZCB0byB3cmFwIGFyb3VuZCBmcm9tIGBvdXRgIHRvIGAwYCxcblx0XHRcdC8vIGluY3JlbWVudGluZyBgbmAgZWFjaCB0aW1lLCBzbyB3ZSdsbCBmaXggdGhhdCBub3c6XG5cdFx0XHRpZiAoZmxvb3IoaSAvIG91dCkgPiBtYXhJbnQgLSBuKSB7XG5cdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0fVxuXG5cdFx0XHRuICs9IGZsb29yKGkgLyBvdXQpO1xuXHRcdFx0aSAlPSBvdXQ7XG5cblx0XHRcdC8vIEluc2VydCBgbmAgYXQgcG9zaXRpb24gYGlgIG9mIHRoZSBvdXRwdXRcblx0XHRcdG91dHB1dC5zcGxpY2UoaSsrLCAwLCBuKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB1Y3MyZW5jb2RlKG91dHB1dCk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzIChlLmcuIGEgZG9tYWluIG5hbWUgbGFiZWwpIHRvIGFcblx0ICogUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKi9cblx0ZnVuY3Rpb24gZW5jb2RlKGlucHV0KSB7XG5cdFx0dmFyIG4sXG5cdFx0ICAgIGRlbHRhLFxuXHRcdCAgICBoYW5kbGVkQ1BDb3VudCxcblx0XHQgICAgYmFzaWNMZW5ndGgsXG5cdFx0ICAgIGJpYXMsXG5cdFx0ICAgIGosXG5cdFx0ICAgIG0sXG5cdFx0ICAgIHEsXG5cdFx0ICAgIGssXG5cdFx0ICAgIHQsXG5cdFx0ICAgIGN1cnJlbnRWYWx1ZSxcblx0XHQgICAgb3V0cHV0ID0gW10sXG5cdFx0ICAgIC8qKiBgaW5wdXRMZW5ndGhgIHdpbGwgaG9sZCB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIGluIGBpbnB1dGAuICovXG5cdFx0ICAgIGlucHV0TGVuZ3RoLFxuXHRcdCAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi9cblx0XHQgICAgaGFuZGxlZENQQ291bnRQbHVzT25lLFxuXHRcdCAgICBiYXNlTWludXNULFxuXHRcdCAgICBxTWludXNUO1xuXG5cdFx0Ly8gQ29udmVydCB0aGUgaW5wdXQgaW4gVUNTLTIgdG8gVW5pY29kZVxuXHRcdGlucHV0ID0gdWNzMmRlY29kZShpbnB1dCk7XG5cblx0XHQvLyBDYWNoZSB0aGUgbGVuZ3RoXG5cdFx0aW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGg7XG5cblx0XHQvLyBJbml0aWFsaXplIHRoZSBzdGF0ZVxuXHRcdG4gPSBpbml0aWFsTjtcblx0XHRkZWx0YSA9IDA7XG5cdFx0YmlhcyA9IGluaXRpYWxCaWFzO1xuXG5cdFx0Ly8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50c1xuXHRcdGZvciAoaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7XG5cdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblx0XHRcdGlmIChjdXJyZW50VmFsdWUgPCAweDgwKSB7XG5cdFx0XHRcdG91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShjdXJyZW50VmFsdWUpKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRoYW5kbGVkQ1BDb3VudCA9IGJhc2ljTGVuZ3RoID0gb3V0cHV0Lmxlbmd0aDtcblxuXHRcdC8vIGBoYW5kbGVkQ1BDb3VudGAgaXMgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyB0aGF0IGhhdmUgYmVlbiBoYW5kbGVkO1xuXHRcdC8vIGBiYXNpY0xlbmd0aGAgaXMgdGhlIG51bWJlciBvZiBiYXNpYyBjb2RlIHBvaW50cy5cblxuXHRcdC8vIEZpbmlzaCB0aGUgYmFzaWMgc3RyaW5nIC0gaWYgaXQgaXMgbm90IGVtcHR5IC0gd2l0aCBhIGRlbGltaXRlclxuXHRcdGlmIChiYXNpY0xlbmd0aCkge1xuXHRcdFx0b3V0cHV0LnB1c2goZGVsaW1pdGVyKTtcblx0XHR9XG5cblx0XHQvLyBNYWluIGVuY29kaW5nIGxvb3A6XG5cdFx0d2hpbGUgKGhhbmRsZWRDUENvdW50IDwgaW5wdXRMZW5ndGgpIHtcblxuXHRcdFx0Ly8gQWxsIG5vbi1iYXNpYyBjb2RlIHBvaW50cyA8IG4gaGF2ZSBiZWVuIGhhbmRsZWQgYWxyZWFkeS4gRmluZCB0aGUgbmV4dFxuXHRcdFx0Ly8gbGFyZ2VyIG9uZTpcblx0XHRcdGZvciAobSA9IG1heEludCwgaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7XG5cdFx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlID49IG4gJiYgY3VycmVudFZhbHVlIDwgbSkge1xuXHRcdFx0XHRcdG0gPSBjdXJyZW50VmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gSW5jcmVhc2UgYGRlbHRhYCBlbm91Z2ggdG8gYWR2YW5jZSB0aGUgZGVjb2RlcidzIDxuLGk+IHN0YXRlIHRvIDxtLDA+LFxuXHRcdFx0Ly8gYnV0IGd1YXJkIGFnYWluc3Qgb3ZlcmZsb3dcblx0XHRcdGhhbmRsZWRDUENvdW50UGx1c09uZSA9IGhhbmRsZWRDUENvdW50ICsgMTtcblx0XHRcdGlmIChtIC0gbiA+IGZsb29yKChtYXhJbnQgLSBkZWx0YSkgLyBoYW5kbGVkQ1BDb3VudFBsdXNPbmUpKSB7XG5cdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0fVxuXG5cdFx0XHRkZWx0YSArPSAobSAtIG4pICogaGFuZGxlZENQQ291bnRQbHVzT25lO1xuXHRcdFx0biA9IG07XG5cblx0XHRcdGZvciAoaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7XG5cdFx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPCBuICYmICsrZGVsdGEgPiBtYXhJbnQpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPT0gbikge1xuXHRcdFx0XHRcdC8vIFJlcHJlc2VudCBkZWx0YSBhcyBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyXG5cdFx0XHRcdFx0Zm9yIChxID0gZGVsdGEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkge1xuXHRcdFx0XHRcdFx0dCA9IGsgPD0gYmlhcyA/IHRNaW4gOiAoayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcyk7XG5cdFx0XHRcdFx0XHRpZiAocSA8IHQpIHtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRxTWludXNUID0gcSAtIHQ7XG5cdFx0XHRcdFx0XHRiYXNlTWludXNUID0gYmFzZSAtIHQ7XG5cdFx0XHRcdFx0XHRvdXRwdXQucHVzaChcblx0XHRcdFx0XHRcdFx0c3RyaW5nRnJvbUNoYXJDb2RlKGRpZ2l0VG9CYXNpYyh0ICsgcU1pbnVzVCAlIGJhc2VNaW51c1QsIDApKVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdHEgPSBmbG9vcihxTWludXNUIC8gYmFzZU1pbnVzVCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2goc3RyaW5nRnJvbUNoYXJDb2RlKGRpZ2l0VG9CYXNpYyhxLCAwKSkpO1xuXHRcdFx0XHRcdGJpYXMgPSBhZGFwdChkZWx0YSwgaGFuZGxlZENQQ291bnRQbHVzT25lLCBoYW5kbGVkQ1BDb3VudCA9PSBiYXNpY0xlbmd0aCk7XG5cdFx0XHRcdFx0ZGVsdGEgPSAwO1xuXHRcdFx0XHRcdCsraGFuZGxlZENQQ291bnQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0KytkZWx0YTtcblx0XHRcdCsrbjtcblxuXHRcdH1cblx0XHRyZXR1cm4gb3V0cHV0LmpvaW4oJycpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3Ncblx0ICogdG8gVW5pY29kZS4gT25seSB0aGUgUHVueWNvZGVkIHBhcnRzIG9mIHRoZSBpbnB1dCB3aWxsIGJlIGNvbnZlcnRlZCwgaS5lLlxuXHQgKiBpdCBkb2Vzbid0IG1hdHRlciBpZiB5b3UgY2FsbCBpdCBvbiBhIHN0cmluZyB0aGF0IGhhcyBhbHJlYWR5IGJlZW5cblx0ICogY29udmVydGVkIHRvIFVuaWNvZGUuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIFB1bnljb2RlZCBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzIHRvXG5cdCAqIGNvbnZlcnQgdG8gVW5pY29kZS5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIFVuaWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIFB1bnljb2RlXG5cdCAqIHN0cmluZy5cblx0ICovXG5cdGZ1bmN0aW9uIHRvVW5pY29kZShpbnB1dCkge1xuXHRcdHJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykge1xuXHRcdFx0cmV0dXJuIHJlZ2V4UHVueWNvZGUudGVzdChzdHJpbmcpXG5cdFx0XHRcdD8gZGVjb2RlKHN0cmluZy5zbGljZSg0KS50b0xvd2VyQ2FzZSgpKVxuXHRcdFx0XHQ6IHN0cmluZztcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFVuaWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3MgdG9cblx0ICogUHVueWNvZGUuIE9ubHkgdGhlIG5vbi1BU0NJSSBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgd2lsbCBiZSBjb252ZXJ0ZWQsXG5cdCAqIGkuZS4gaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0J3MgYWxyZWFkeSBpblxuXHQgKiBBU0NJSS5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0byBjb252ZXJ0LCBhcyBhXG5cdCAqIFVuaWNvZGUgc3RyaW5nLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgUHVueWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIGRvbWFpbiBuYW1lIG9yXG5cdCAqIGVtYWlsIGFkZHJlc3MuXG5cdCAqL1xuXHRmdW5jdGlvbiB0b0FTQ0lJKGlucHV0KSB7XG5cdFx0cmV0dXJuIG1hcERvbWFpbihpbnB1dCwgZnVuY3Rpb24oc3RyaW5nKSB7XG5cdFx0XHRyZXR1cm4gcmVnZXhOb25BU0NJSS50ZXN0KHN0cmluZylcblx0XHRcdFx0PyAneG4tLScgKyBlbmNvZGUoc3RyaW5nKVxuXHRcdFx0XHQ6IHN0cmluZztcblx0XHR9KTtcblx0fVxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdC8qKiBEZWZpbmUgdGhlIHB1YmxpYyBBUEkgKi9cblx0cHVueWNvZGUgPSB7XG5cdFx0LyoqXG5cdFx0ICogQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IFB1bnljb2RlLmpzIHZlcnNpb24gbnVtYmVyLlxuXHRcdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHRcdCAqIEB0eXBlIFN0cmluZ1xuXHRcdCAqL1xuXHRcdCd2ZXJzaW9uJzogJzEuNC4xJyxcblx0XHQvKipcblx0XHQgKiBBbiBvYmplY3Qgb2YgbWV0aG9kcyB0byBjb252ZXJ0IGZyb20gSmF2YVNjcmlwdCdzIGludGVybmFsIGNoYXJhY3RlclxuXHRcdCAqIHJlcHJlc2VudGF0aW9uIChVQ1MtMikgdG8gVW5pY29kZSBjb2RlIHBvaW50cywgYW5kIGJhY2suXG5cdFx0ICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+XG5cdFx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdFx0ICogQHR5cGUgT2JqZWN0XG5cdFx0ICovXG5cdFx0J3VjczInOiB7XG5cdFx0XHQnZGVjb2RlJzogdWNzMmRlY29kZSxcblx0XHRcdCdlbmNvZGUnOiB1Y3MyZW5jb2RlXG5cdFx0fSxcblx0XHQnZGVjb2RlJzogZGVjb2RlLFxuXHRcdCdlbmNvZGUnOiBlbmNvZGUsXG5cdFx0J3RvQVNDSUknOiB0b0FTQ0lJLFxuXHRcdCd0b1VuaWNvZGUnOiB0b1VuaWNvZGVcblx0fTtcblxuXHQvKiogRXhwb3NlIGBwdW55Y29kZWAgKi9cblx0Ly8gU29tZSBBTUQgYnVpbGQgb3B0aW1pemVycywgbGlrZSByLmpzLCBjaGVjayBmb3Igc3BlY2lmaWMgY29uZGl0aW9uIHBhdHRlcm5zXG5cdC8vIGxpa2UgdGhlIGZvbGxvd2luZzpcblx0aWYgKFxuXHRcdHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJlxuXHRcdHR5cGVvZiBkZWZpbmUuYW1kID09ICdvYmplY3QnICYmXG5cdFx0ZGVmaW5lLmFtZFxuXHQpIHtcblx0XHRkZWZpbmUoJ3B1bnljb2RlJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gcHVueWNvZGU7XG5cdFx0fSk7XG5cdH0gZWxzZSBpZiAoZnJlZUV4cG9ydHMgJiYgZnJlZU1vZHVsZSkge1xuXHRcdGlmIChtb2R1bGUuZXhwb3J0cyA9PSBmcmVlRXhwb3J0cykge1xuXHRcdFx0Ly8gaW4gTm9kZS5qcywgaW8uanMsIG9yIFJpbmdvSlMgdjAuOC4wK1xuXHRcdFx0ZnJlZU1vZHVsZS5leHBvcnRzID0gcHVueWNvZGU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIGluIE5hcndoYWwgb3IgUmluZ29KUyB2MC43LjAtXG5cdFx0XHRmb3IgKGtleSBpbiBwdW55Y29kZSkge1xuXHRcdFx0XHRwdW55Y29kZS5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIChmcmVlRXhwb3J0c1trZXldID0gcHVueWNvZGVba2V5XSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdC8vIGluIFJoaW5vIG9yIGEgd2ViIGJyb3dzZXJcblx0XHRyb290LnB1bnljb2RlID0gcHVueWNvZGU7XG5cdH1cblxufSh0aGlzKSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBtYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2RlcztcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uL2NvbnN0Jyk7XG5cbi8qKlxuICogQ29ycmVjdHMgUGl4aUpTIGJsZW5kLCB0YWtlcyBwcmVtdWx0aXBsaWVkIGFscGhhIGludG8gYWNjb3VudFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZnVuY3Rpb24gbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXNcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcltdPn0gW2FycmF5XSAtIFRoZSBhcnJheSB0byBvdXRwdXQgaW50by5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcltdPn0gTWFwcGVkIG1vZGVzLlxuICovXG5cbmZ1bmN0aW9uIG1hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzKCkge1xuICAgIHZhciBwbSA9IFtdO1xuICAgIHZhciBucG0gPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzI7IGkrKykge1xuICAgICAgICBwbVtpXSA9IGk7XG4gICAgICAgIG5wbVtpXSA9IGk7XG4gICAgfVxuXG4gICAgcG1bX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTF9OUE1dID0gX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTDtcbiAgICBwbVtfY29uc3QuQkxFTkRfTU9ERVMuQUREX05QTV0gPSBfY29uc3QuQkxFTkRfTU9ERVMuQUREO1xuICAgIHBtW19jb25zdC5CTEVORF9NT0RFUy5TQ1JFRU5fTlBNXSA9IF9jb25zdC5CTEVORF9NT0RFUy5TQ1JFRU47XG5cbiAgICBucG1bX2NvbnN0LkJMRU5EX01PREVTLk5PUk1BTF0gPSBfY29uc3QuQkxFTkRfTU9ERVMuTk9STUFMX05QTTtcbiAgICBucG1bX2NvbnN0LkJMRU5EX01PREVTLkFERF0gPSBfY29uc3QuQkxFTkRfTU9ERVMuQUREX05QTTtcbiAgICBucG1bX2NvbnN0LkJMRU5EX01PREVTLlNDUkVFTl0gPSBfY29uc3QuQkxFTkRfTU9ERVMuU0NSRUVOX05QTTtcblxuICAgIHZhciBhcnJheSA9IFtdO1xuXG4gICAgYXJyYXkucHVzaChucG0pO1xuICAgIGFycmF5LnB1c2gocG0pO1xuXG4gICAgcmV0dXJuIGFycmF5O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMuanMubWFwIiwiJ3VzZSBzdHJpY3QnXG5cbi8qKlxuICogUmVtb3ZlIGEgcmFuZ2Ugb2YgaXRlbXMgZnJvbSBhbiBhcnJheVxuICpcbiAqIEBmdW5jdGlvbiByZW1vdmVJdGVtc1xuICogQHBhcmFtIHtBcnJheTwqPn0gYXJyIFRoZSB0YXJnZXQgYXJyYXlcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydElkeCBUaGUgaW5kZXggdG8gYmVnaW4gcmVtb3ZpbmcgZnJvbSAoaW5jbHVzaXZlKVxuICogQHBhcmFtIHtudW1iZXJ9IHJlbW92ZUNvdW50IEhvdyBtYW55IGl0ZW1zIHRvIHJlbW92ZVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHJlbW92ZUl0ZW1zKGFyciwgc3RhcnRJZHgsIHJlbW92ZUNvdW50KVxue1xuICB2YXIgaSwgbGVuZ3RoID0gYXJyLmxlbmd0aFxuXG4gIGlmIChzdGFydElkeCA+PSBsZW5ndGggfHwgcmVtb3ZlQ291bnQgPT09IDApIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHJlbW92ZUNvdW50ID0gKHN0YXJ0SWR4ICsgcmVtb3ZlQ291bnQgPiBsZW5ndGggPyBsZW5ndGggLSBzdGFydElkeCA6IHJlbW92ZUNvdW50KVxuXG4gIHZhciBsZW4gPSBsZW5ndGggLSByZW1vdmVDb3VudFxuXG4gIGZvciAoaSA9IHN0YXJ0SWR4OyBpIDwgbGVuOyArK2kpIHtcbiAgICBhcnJbaV0gPSBhcnJbaSArIHJlbW92ZUNvdW50XVxuICB9XG5cbiAgYXJyLmxlbmd0aCA9IGxlblxufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLm1peGluID0gbWl4aW47XG5leHBvcnRzLmRlbGF5TWl4aW4gPSBkZWxheU1peGluO1xuZXhwb3J0cy5wZXJmb3JtTWl4aW5zID0gcGVyZm9ybU1peGlucztcbi8qKlxuICogTWl4ZXMgYWxsIGVudW1lcmFibGUgcHJvcGVydGllcyBhbmQgbWV0aG9kcyBmcm9tIGEgc291cmNlIG9iamVjdCB0byBhIHRhcmdldCBvYmplY3QuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHMubWl4aW5zXG4gKiBAZnVuY3Rpb24gbWl4aW5cbiAqIEBwYXJhbSB7b2JqZWN0fSB0YXJnZXQgVGhlIHByb3RvdHlwZSBvciBpbnN0YW5jZSB0aGF0IHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgc2hvdWxkIGJlIGFkZGVkIHRvLlxuICogQHBhcmFtIHtvYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9mIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgdG8gbWl4IGluLlxuICovXG5mdW5jdGlvbiBtaXhpbih0YXJnZXQsIHNvdXJjZSkge1xuICAgIGlmICghdGFyZ2V0IHx8ICFzb3VyY2UpIHJldHVybjtcbiAgICAvLyBpbiBFUzgvRVMyMDE3LCB0aGlzIHdvdWxkIGJlIHJlYWxseSBlYXN5OlxuICAgIC8vIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7XG5cbiAgICAvLyBnZXQgYWxsIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IGtleXNcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG5cbiAgICAvLyBsb29wIHRocm91Z2ggcHJvcGVydGllc1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgcHJvcGVydHlOYW1lID0ga2V5c1tpXTtcblxuICAgICAgICAvLyBTZXQgdGhlIHByb3BlcnR5IHVzaW5nIHRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIC0gdGhpcyB3b3JrcyBmb3IgYWNjZXNzb3JzIGFuZCBub3JtYWwgdmFsdWUgcHJvcGVydGllc1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eU5hbWUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBwcm9wZXJ0eU5hbWUpKTtcbiAgICB9XG59XG5cbnZhciBtaXhpbnMgPSBbXTtcblxuLyoqXG4gKiBRdWV1ZXMgYSBtaXhpbiB0byBiZSBoYW5kbGVkIHRvd2FyZHMgdGhlIGVuZCBvZiB0aGUgaW5pdGlhbGl6YXRpb24gb2YgUElYSSwgc28gdGhhdCBkZXByZWNhdGlvblxuICogY2FuIHRha2UgZWZmZWN0LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLm1peGluc1xuICogQGZ1bmN0aW9uIGRlbGF5TWl4aW5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge29iamVjdH0gdGFyZ2V0IFRoZSBwcm90b3R5cGUgb3IgaW5zdGFuY2UgdGhhdCBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzIHNob3VsZCBiZSBhZGRlZCB0by5cbiAqIEBwYXJhbSB7b2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvZiBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzIHRvIG1peCBpbi5cbiAqL1xuZnVuY3Rpb24gZGVsYXlNaXhpbih0YXJnZXQsIHNvdXJjZSkge1xuICAgIG1peGlucy5wdXNoKHRhcmdldCwgc291cmNlKTtcbn1cblxuLyoqXG4gKiBIYW5kbGVzIGFsbCBtaXhpbnMgcXVldWVkIHZpYSBkZWxheU1peGluKCkuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHMubWl4aW5zXG4gKiBAZnVuY3Rpb24gcGVyZm9ybU1peGluc1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcGVyZm9ybU1peGlucygpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1peGlucy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICBtaXhpbihtaXhpbnNbaV0sIG1peGluc1tpICsgMV0pO1xuICAgIH1cbiAgICBtaXhpbnMubGVuZ3RoID0gMDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1peGluLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuLyoqXG4gKiBNaXhpbnMgZnVuY3Rpb25hbGl0eSB0byBtYWtlIGFuIG9iamVjdCBoYXZlIFwicGx1Z2luc1wiLlxuICpcbiAqIEBleGFtcGxlXG4gKiAgICAgIGZ1bmN0aW9uIE15T2JqZWN0KCkge31cbiAqXG4gKiAgICAgIHBsdWdpblRhcmdldC5taXhpbihNeU9iamVjdCk7XG4gKlxuICogQG1peGluXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtvYmplY3R9IG9iaiAtIFRoZSBvYmplY3QgdG8gbWl4IGludG8uXG4gKi9cbmZ1bmN0aW9uIHBsdWdpblRhcmdldChvYmopIHtcbiAgICBvYmouX19wbHVnaW5zID0ge307XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgcGx1Z2luIHRvIGFuIG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBsdWdpbk5hbWUgLSBUaGUgZXZlbnRzIHRoYXQgc2hvdWxkIGJlIGxpc3RlZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdG9yIC0gVGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIGZvciB0aGUgcGx1Z2luLlxuICAgICAqL1xuICAgIG9iai5yZWdpc3RlclBsdWdpbiA9IGZ1bmN0aW9uIHJlZ2lzdGVyUGx1Z2luKHBsdWdpbk5hbWUsIGN0b3IpIHtcbiAgICAgICAgb2JqLl9fcGx1Z2luc1twbHVnaW5OYW1lXSA9IGN0b3I7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEluc3RhbnRpYXRlcyBhbGwgdGhlIHBsdWdpbnMgb2YgdGhpcyBvYmplY3RcbiAgICAgKlxuICAgICAqL1xuICAgIG9iai5wcm90b3R5cGUuaW5pdFBsdWdpbnMgPSBmdW5jdGlvbiBpbml0UGx1Z2lucygpIHtcbiAgICAgICAgdGhpcy5wbHVnaW5zID0gdGhpcy5wbHVnaW5zIHx8IHt9O1xuXG4gICAgICAgIGZvciAodmFyIG8gaW4gb2JqLl9fcGx1Z2lucykge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zW29dID0gbmV3IG9iai5fX3BsdWdpbnNbb10odGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgdGhlIHBsdWdpbnMgb2YgdGhpcyBvYmplY3RcbiAgICAgKlxuICAgICAqL1xuICAgIG9iai5wcm90b3R5cGUuZGVzdHJveVBsdWdpbnMgPSBmdW5jdGlvbiBkZXN0cm95UGx1Z2lucygpIHtcbiAgICAgICAgZm9yICh2YXIgbyBpbiB0aGlzLnBsdWdpbnMpIHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luc1tvXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbnNbb10gPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wbHVnaW5zID0gbnVsbDtcbiAgICB9O1xufVxuXG5leHBvcnRzLmRlZmF1bHQgPSB7XG4gICAgLyoqXG4gICAgICogTWl4ZXMgaW4gdGhlIHByb3BlcnRpZXMgb2YgdGhlIHBsdWdpblRhcmdldCBpbnRvIGFub3RoZXIgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb2JqIC0gVGhlIG9iaiB0byBtaXggaW50b1xuICAgICAqL1xuICAgIG1peGluOiBmdW5jdGlvbiBtaXhpbihvYmopIHtcbiAgICAgICAgcGx1Z2luVGFyZ2V0KG9iaik7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBsdWdpblRhcmdldC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGNhblVwbG9hZFNhbWVCdWZmZXI7XG5mdW5jdGlvbiBjYW5VcGxvYWRTYW1lQnVmZmVyKCkge1xuXHQvLyBVcGxvYWRpbmcgdGhlIHNhbWUgYnVmZmVyIG11bHRpcGxlIHRpbWVzIGluIGEgc2luZ2xlIGZyYW1lIGNhbiBjYXVzZSBwZXJmIGlzc3Vlcy5cblx0Ly8gQXBwYXJlbnQgb24gSU9TIHNvIG9ubHkgY2hlY2sgZm9yIHRoYXQgYXQgdGhlIG1vbWVudFxuXHQvLyB0aGlzIGNoZWNrIG1heSBiZWNvbWUgbW9yZSBjb21wbGV4IGlmIHRoaXMgaXNzdWUgcG9wcyB1cCBlbHNld2hlcmUuXG5cdHZhciBpb3MgPSAhIW5hdmlnYXRvci5wbGF0Zm9ybSAmJiAvaVBhZHxpUGhvbmV8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pO1xuXG5cdHJldHVybiAhaW9zO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FuVXBsb2FkU2FtZUJ1ZmZlci5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSBtYXhSZWNvbW1lbmRlZFRleHR1cmVzO1xuXG52YXIgX2lzbW9iaWxlanMgPSByZXF1aXJlKCdpc21vYmlsZWpzJyk7XG5cbnZhciBfaXNtb2JpbGVqczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc21vYmlsZWpzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gbWF4UmVjb21tZW5kZWRUZXh0dXJlcyhtYXgpIHtcbiAgICBpZiAoX2lzbW9iaWxlanMyLmRlZmF1bHQudGFibGV0IHx8IF9pc21vYmlsZWpzMi5kZWZhdWx0LnBob25lKSB7XG4gICAgICAgIC8vIGNoZWNrIGlmIHRoZSByZXMgaXMgaXBob25lIDYgb3IgaGlnaGVyLi5cbiAgICAgICAgcmV0dXJuIDQ7XG4gICAgfVxuXG4gICAgLy8gZGVza3RvcCBzaG91bGQgYmUgb2tcbiAgICByZXR1cm4gbWF4O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWF4UmVjb21tZW5kZWRUZXh0dXJlcy5qcy5tYXAiLCJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBjb21waWxlUHJvZ3JhbTogcmVxdWlyZSgnLi9jb21waWxlUHJvZ3JhbScpLFxuICAgIGRlZmF1bHRWYWx1ZTogcmVxdWlyZSgnLi9kZWZhdWx0VmFsdWUnKSxcbiAgICBleHRyYWN0QXR0cmlidXRlczogcmVxdWlyZSgnLi9leHRyYWN0QXR0cmlidXRlcycpLFxuICAgIGV4dHJhY3RVbmlmb3JtczogcmVxdWlyZSgnLi9leHRyYWN0VW5pZm9ybXMnKSxcbiAgICBnZW5lcmF0ZVVuaWZvcm1BY2Nlc3NPYmplY3Q6IHJlcXVpcmUoJy4vZ2VuZXJhdGVVbmlmb3JtQWNjZXNzT2JqZWN0JyksXG4gICAgc2V0UHJlY2lzaW9uOiByZXF1aXJlKCcuL3NldFByZWNpc2lvbicpLFxuICAgIG1hcFNpemU6IHJlcXVpcmUoJy4vbWFwU2l6ZScpLFxuICAgIG1hcFR5cGU6IHJlcXVpcmUoJy4vbWFwVHlwZScpXG59OyIsIlxuLy8gc3RhdGUgb2JqZWN0Ly9cbnZhciBzZXRWZXJ0ZXhBdHRyaWJBcnJheXMgPSByZXF1aXJlKCAnLi9zZXRWZXJ0ZXhBdHRyaWJBcnJheXMnICk7XG5cbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIHdvcmsgd2l0aCBXZWJHTCBWZXJ0ZXhBcnJheU9iamVjdHMgKHZhb3MpXG4gKiBPbmx5IHdvcmtzIGlmIFdlYkdMIGV4dGVuc2lvbnMgYXJlIGVuYWJsZWQgKHRoZXkgdXN1YWxseSBhcmUpXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmVcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICovXG5mdW5jdGlvbiBWZXJ0ZXhBcnJheU9iamVjdChnbCwgc3RhdGUpXG57XG4gICAgdGhpcy5uYXRpdmVWYW9FeHRlbnNpb24gPSBudWxsO1xuXG4gICAgaWYoIVZlcnRleEFycmF5T2JqZWN0LkZPUkNFX05BVElWRSlcbiAgICB7XG4gICAgICAgIHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uID0gZ2wuZ2V0RXh0ZW5zaW9uKCdPRVNfdmVydGV4X2FycmF5X29iamVjdCcpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2wuZ2V0RXh0ZW5zaW9uKCdNT1pfT0VTX3ZlcnRleF9hcnJheV9vYmplY3QnKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsLmdldEV4dGVuc2lvbignV0VCS0lUX09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0Jyk7XG4gICAgfVxuXG4gICAgdGhpcy5uYXRpdmVTdGF0ZSA9IHN0YXRlO1xuXG4gICAgaWYodGhpcy5uYXRpdmVWYW9FeHRlbnNpb24pXG4gICAge1xuICAgICAgICB0aGlzLm5hdGl2ZVZhbyA9IHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uLmNyZWF0ZVZlcnRleEFycmF5T0VTKCk7XG5cbiAgICAgICAgdmFyIG1heEF0dHJpYnMgPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1ZFUlRFWF9BVFRSSUJTKTtcblxuICAgICAgICAvLyBWQU8gLSBvdmVyd3JpdGUgdGhlIHN0YXRlLi5cbiAgICAgICAgdGhpcy5uYXRpdmVTdGF0ZSA9IHtcbiAgICAgICAgICAgIHRlbXBBdHRyaWJTdGF0ZTogbmV3IEFycmF5KG1heEF0dHJpYnMpLFxuICAgICAgICAgICAgYXR0cmliU3RhdGU6IG5ldyBBcnJheShtYXhBdHRyaWJzKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gICAgICovXG4gICAgdGhpcy5nbCA9IGdsO1xuXG4gICAgLyoqXG4gICAgICogQW4gYXJyYXkgb2YgYXR0cmlidXRlc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7QXJyYXl9XG4gICAgICovXG4gICAgdGhpcy5hdHRyaWJ1dGVzID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtQSVhJLmdsQ29yZS5HTEJ1ZmZlcn1cbiAgICAgKi9cbiAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEEgYm9vbGVhbiBmbGFnXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtCb29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbn1cblxuVmVydGV4QXJyYXlPYmplY3QucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVmVydGV4QXJyYXlPYmplY3Q7XG5tb2R1bGUuZXhwb3J0cyA9IFZlcnRleEFycmF5T2JqZWN0O1xuXG4vKipcbiogU29tZSBkZXZpY2VzIGJlaGF2ZSBhIGJpdCBmdW5ueSB3aGVuIHVzaW5nIHRoZSBuZXdlciBleHRlbnNpb25zIChpbSBsb29raW5nIGF0IHlvdSBpcGFkIDIhKVxuKiBJZiB5b3UgZmluZCBvbiBvbGRlciBkZXZpY2VzIHRoYXQgdGhpbmdzIGhhdmUgZ29uZSBhIGJpdCB3ZWlyZCB0aGVuIHNldCB0aGlzIHRvIHRydWUuXG4qL1xuLyoqXG4gKiBMZXRzIHRoZSBWQU8ga25vdyBpZiB5b3Ugc2hvdWxkIHVzZSB0aGUgV2ViR0wgZXh0ZW5zaW9uIG9yIHRoZSBuYXRpdmUgbWV0aG9kcy5cbiAqIFNvbWUgZGV2aWNlcyBiZWhhdmUgYSBiaXQgZnVubnkgd2hlbiB1c2luZyB0aGUgbmV3ZXIgZXh0ZW5zaW9ucyAoaW0gbG9va2luZyBhdCB5b3UgaXBhZCAyISlcbiAqIElmIHlvdSBmaW5kIG9uIG9sZGVyIGRldmljZXMgdGhhdCB0aGluZ3MgaGF2ZSBnb25lIGEgYml0IHdlaXJkIHRoZW4gc2V0IHRoaXMgdG8gdHJ1ZS5cbiAqIEBzdGF0aWNcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gRk9SQ0VfTkFUSVZFXG4gKi9cblZlcnRleEFycmF5T2JqZWN0LkZPUkNFX05BVElWRSA9IGZhbHNlO1xuXG4vKipcbiAqIEJpbmRzIHRoZSBidWZmZXJcbiAqL1xuVmVydGV4QXJyYXlPYmplY3QucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbigpXG57XG4gICAgaWYodGhpcy5uYXRpdmVWYW8pXG4gICAge1xuICAgICAgICB0aGlzLm5hdGl2ZVZhb0V4dGVuc2lvbi5iaW5kVmVydGV4QXJyYXlPRVModGhpcy5uYXRpdmVWYW8pO1xuXG4gICAgICAgIGlmKHRoaXMuZGlydHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmluZGV4QnVmZmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmluZGV4QnVmZmVyLmJpbmQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICB0aGlzLmFjdGl2YXRlKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFVuYmluZHMgdGhlIGJ1ZmZlclxuICovXG5WZXJ0ZXhBcnJheU9iamVjdC5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24oKVxue1xuICAgIGlmKHRoaXMubmF0aXZlVmFvKVxuICAgIHtcbiAgICAgICAgdGhpcy5uYXRpdmVWYW9FeHRlbnNpb24uYmluZFZlcnRleEFycmF5T0VTKG51bGwpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBVc2VzIHRoaXMgdmFvXG4gKi9cblZlcnRleEFycmF5T2JqZWN0LnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uKClcbntcblxuICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgdmFyIGxhc3RCdWZmZXIgPSBudWxsO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICB2YXIgYXR0cmliID0gdGhpcy5hdHRyaWJ1dGVzW2ldO1xuXG4gICAgICAgIGlmKGxhc3RCdWZmZXIgIT09IGF0dHJpYi5idWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGF0dHJpYi5idWZmZXIuYmluZCgpO1xuICAgICAgICAgICAgbGFzdEJ1ZmZlciA9IGF0dHJpYi5idWZmZXI7XG4gICAgICAgIH1cblxuICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGF0dHJpYi5hdHRyaWJ1dGUubG9jYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmliLmF0dHJpYnV0ZS5zaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYi50eXBlIHx8IGdsLkZMT0FULFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYi5ub3JtYWxpemVkIHx8IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYi5zdHJpZGUgfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWIuc3RhcnQgfHwgMCk7XG4gICAgfVxuXG4gICAgc2V0VmVydGV4QXR0cmliQXJyYXlzKGdsLCB0aGlzLmF0dHJpYnV0ZXMsIHRoaXMubmF0aXZlU3RhdGUpO1xuXG4gICAgaWYodGhpcy5pbmRleEJ1ZmZlcilcbiAgICB7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIuYmluZCgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIGJ1ZmZlciAgICAge1BJWEkuZ2wuR0xCdWZmZXJ9XG4gKiBAcGFyYW0gYXR0cmlidXRlICB7Kn1cbiAqIEBwYXJhbSB0eXBlICAgICAgIHtTdHJpbmd9XG4gKiBAcGFyYW0gbm9ybWFsaXplZCB7Qm9vbGVhbn1cbiAqIEBwYXJhbSBzdHJpZGUgICAgIHtOdW1iZXJ9XG4gKiBAcGFyYW0gc3RhcnQgICAgICB7TnVtYmVyfVxuICovXG5WZXJ0ZXhBcnJheU9iamVjdC5wcm90b3R5cGUuYWRkQXR0cmlidXRlID0gZnVuY3Rpb24oYnVmZmVyLCBhdHRyaWJ1dGUsIHR5cGUsIG5vcm1hbGl6ZWQsIHN0cmlkZSwgc3RhcnQpXG57XG4gICAgdGhpcy5hdHRyaWJ1dGVzLnB1c2goe1xuICAgICAgICBidWZmZXI6ICAgICBidWZmZXIsXG4gICAgICAgIGF0dHJpYnV0ZTogIGF0dHJpYnV0ZSxcblxuICAgICAgICBsb2NhdGlvbjogICBhdHRyaWJ1dGUubG9jYXRpb24sXG4gICAgICAgIHR5cGU6ICAgICAgIHR5cGUgfHwgdGhpcy5nbC5GTE9BVCxcbiAgICAgICAgbm9ybWFsaXplZDogbm9ybWFsaXplZCB8fCBmYWxzZSxcbiAgICAgICAgc3RyaWRlOiAgICAgc3RyaWRlIHx8IDAsXG4gICAgICAgIHN0YXJ0OiAgICAgIHN0YXJ0IHx8IDBcbiAgICB9KTtcblxuICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0gYnVmZmVyICAge1BJWEkuZ2wuR0xCdWZmZXJ9XG4gKi9cblZlcnRleEFycmF5T2JqZWN0LnByb3RvdHlwZS5hZGRJbmRleCA9IGZ1bmN0aW9uKGJ1ZmZlci8qLCBvcHRpb25zKi8pXG57XG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IGJ1ZmZlcjtcblxuICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFVuYmluZHMgdGhpcyB2YW8gYW5kIGRpc2FibGVzIGl0XG4gKi9cblZlcnRleEFycmF5T2JqZWN0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKClcbntcbiAgICAvLyB2YXIgZ2wgPSB0aGlzLmdsO1xuXG4gICAgLy8gVE9ETyAtIHNob3VsZCB0aGlzIGZ1bmN0aW9uIHVuYmluZCBhZnRlciBjbGVhcj9cbiAgICAvLyBmb3Igbm93LCBubyBidXQgbGV0cyBzZWUgd2hhdCBoYXBwZW5zIGluIHRoZSByZWFsIHdvcmxkIVxuICAgIGlmKHRoaXMubmF0aXZlVmFvKVxuICAgIHtcbiAgICAgICAgdGhpcy5uYXRpdmVWYW9FeHRlbnNpb24uYmluZFZlcnRleEFycmF5T0VTKHRoaXMubmF0aXZlVmFvKTtcbiAgICB9XG5cbiAgICB0aGlzLmF0dHJpYnV0ZXMubGVuZ3RoID0gMDtcbiAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBAcGFyYW0gdHlwZSAge051bWJlcn1cbiAqIEBwYXJhbSBzaXplICB7TnVtYmVyfVxuICogQHBhcmFtIHN0YXJ0IHtOdW1iZXJ9XG4gKi9cblZlcnRleEFycmF5T2JqZWN0LnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24odHlwZSwgc2l6ZSwgc3RhcnQpXG57XG4gICAgdmFyIGdsID0gdGhpcy5nbDtcblxuICAgIGlmKHRoaXMuaW5kZXhCdWZmZXIpXG4gICAge1xuICAgICAgICBnbC5kcmF3RWxlbWVudHModHlwZSwgc2l6ZSB8fCB0aGlzLmluZGV4QnVmZmVyLmRhdGEubGVuZ3RoLCBnbC5VTlNJR05FRF9TSE9SVCwgKHN0YXJ0IHx8IDApICogMiApO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICAvLyBUT0RPIG5lZWQgYSBiZXR0ZXIgd2F5IHRvIGNhbGN1bGF0ZSBzaXplLi5cbiAgICAgICAgZ2wuZHJhd0FycmF5cyh0eXBlLCBzdGFydCwgc2l6ZSB8fCB0aGlzLmdldFNpemUoKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIERlc3Ryb3kgdGhpcyB2YW9cbiAqL1xuVmVydGV4QXJyYXlPYmplY3QucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpXG57XG4gICAgLy8gbG9zZSByZWZlcmVuY2VzXG4gICAgdGhpcy5nbCA9IG51bGw7XG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG4gICAgdGhpcy5hdHRyaWJ1dGVzID0gbnVsbDtcbiAgICB0aGlzLm5hdGl2ZVN0YXRlID0gbnVsbDtcblxuICAgIGlmKHRoaXMubmF0aXZlVmFvKVxuICAgIHtcbiAgICAgICAgdGhpcy5uYXRpdmVWYW9FeHRlbnNpb24uZGVsZXRlVmVydGV4QXJyYXlPRVModGhpcy5uYXRpdmVWYW8pO1xuICAgIH1cblxuICAgIHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uID0gbnVsbDtcbiAgICB0aGlzLm5hdGl2ZVZhbyA9IG51bGw7XG59O1xuXG5WZXJ0ZXhBcnJheU9iamVjdC5wcm90b3R5cGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uKClcbntcbiAgICB2YXIgYXR0cmliID0gdGhpcy5hdHRyaWJ1dGVzWzBdO1xuICAgIHJldHVybiBhdHRyaWIuYnVmZmVyLmRhdGEubGVuZ3RoIC8gKCggYXR0cmliLnN0cmlkZS80ICkgfHwgYXR0cmliLmF0dHJpYnV0ZS5zaXplKTtcbn07XG4iLCJcbnZhciBjb21waWxlUHJvZ3JhbSA9IHJlcXVpcmUoJy4vc2hhZGVyL2NvbXBpbGVQcm9ncmFtJyksXG5cdGV4dHJhY3RBdHRyaWJ1dGVzID0gcmVxdWlyZSgnLi9zaGFkZXIvZXh0cmFjdEF0dHJpYnV0ZXMnKSxcblx0ZXh0cmFjdFVuaWZvcm1zID0gcmVxdWlyZSgnLi9zaGFkZXIvZXh0cmFjdFVuaWZvcm1zJyksXG5cdHNldFByZWNpc2lvbiA9IHJlcXVpcmUoJy4vc2hhZGVyL3NldFByZWNpc2lvbicpLFxuXHRnZW5lcmF0ZVVuaWZvcm1BY2Nlc3NPYmplY3QgPSByZXF1aXJlKCcuL3NoYWRlci9nZW5lcmF0ZVVuaWZvcm1BY2Nlc3NPYmplY3QnKTtcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgd2ViR0wgU2hhZGVyXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmVcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICogQHBhcmFtIHZlcnRleFNyYyB7c3RyaW5nfHN0cmluZ1tdfSBUaGUgdmVydGV4IHNoYWRlciBzb3VyY2UgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqIEBwYXJhbSBmcmFnbWVudFNyYyB7c3RyaW5nfHN0cmluZ1tdfSBUaGUgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZSBhcyBhbiBhcnJheSBvZiBzdHJpbmdzLlxuICogQHBhcmFtIHByZWNpc2lvbiB7c3RyaW5nfSBUaGUgZmxvYXQgcHJlY2lzaW9uIG9mIHRoZSBzaGFkZXIuIE9wdGlvbnMgYXJlICdsb3dwJywgJ21lZGl1bXAnIG9yICdoaWdocCcuXG4gKiBAcGFyYW0gYXR0cmlidXRlTG9jYXRpb25zIHtvYmplY3R9IEEga2V5IHZhbHVlIHBhaXIgc2hvd2luZyB3aGljaCBsb2NhdGlvbiBlYWN0IGF0dHJpYnV0ZSBzaG91bGQgc2l0IGVnIHtwb3NpdGlvbjowLCB1dnM6MX1cbiAqL1xudmFyIFNoYWRlciA9IGZ1bmN0aW9uKGdsLCB2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBwcmVjaXNpb24sIGF0dHJpYnV0ZUxvY2F0aW9ucylcbntcblx0LyoqXG5cdCAqIFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG5cdCAqXG5cdCAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cblx0ICovXG5cdHRoaXMuZ2wgPSBnbDtcblxuXHRpZihwcmVjaXNpb24pXG5cdHtcblx0XHR2ZXJ0ZXhTcmMgPSBzZXRQcmVjaXNpb24odmVydGV4U3JjLCBwcmVjaXNpb24pO1xuXHRcdGZyYWdtZW50U3JjID0gc2V0UHJlY2lzaW9uKGZyYWdtZW50U3JjLCBwcmVjaXNpb24pO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRoZSBzaGFkZXIgcHJvZ3JhbVxuXHQgKlxuXHQgKiBAbWVtYmVyIHtXZWJHTFByb2dyYW19XG5cdCAqL1xuXHQvLyBGaXJzdCBjb21waWxlIHRoZSBwcm9ncmFtLi5cblx0dGhpcy5wcm9ncmFtID0gY29tcGlsZVByb2dyYW0oZ2wsIHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIGF0dHJpYnV0ZUxvY2F0aW9ucyk7XG5cblx0LyoqXG5cdCAqIFRoZSBhdHRyaWJ1dGVzIG9mIHRoZSBzaGFkZXIgYXMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzXG5cdCAqIHtcblx0ICogXHR0eXBlLFxuXHQgKiBcdHNpemUsXG5cdCAqIFx0bG9jYXRpb24sXG5cdCAqIFx0cG9pbnRlclxuXHQgKiB9XG5cdCAqIEBtZW1iZXIge09iamVjdH1cblx0ICovXG5cdC8vIG5leHQgZXh0cmFjdCB0aGUgYXR0cmlidXRlc1xuXHR0aGlzLmF0dHJpYnV0ZXMgPSBleHRyYWN0QXR0cmlidXRlcyhnbCwgdGhpcy5wcm9ncmFtKTtcblxuICAgIHRoaXMudW5pZm9ybURhdGEgPSBleHRyYWN0VW5pZm9ybXMoZ2wsIHRoaXMucHJvZ3JhbSk7XG5cblx0LyoqXG5cdCAqIFRoZSB1bmlmb3JtcyBvZiB0aGUgc2hhZGVyIGFzIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllc1xuXHQgKiB7XG5cdCAqIFx0Z2wsXG5cdCAqIFx0ZGF0YVxuXHQgKiB9XG5cdCAqIEBtZW1iZXIge09iamVjdH1cblx0ICovXG5cdHRoaXMudW5pZm9ybXMgPSBnZW5lcmF0ZVVuaWZvcm1BY2Nlc3NPYmplY3QoIGdsLCB0aGlzLnVuaWZvcm1EYXRhICk7XG5cbn07XG4vKipcbiAqIFVzZXMgdGhpcyBzaGFkZXJcbiAqIFxuICogQHJldHVybiB7UElYSS5nbENvcmUuR0xTaGFkZXJ9IFJldHVybnMgaXRzZWxmLlxuICovXG5TaGFkZXIucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbigpXG57XG5cdHRoaXMuZ2wudXNlUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xuXHRyZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhpcyBzaGFkZXJcbiAqIFRPRE9cbiAqL1xuU2hhZGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKVxue1xuXHR0aGlzLmF0dHJpYnV0ZXMgPSBudWxsO1xuXHR0aGlzLnVuaWZvcm1EYXRhID0gbnVsbDtcblx0dGhpcy51bmlmb3JtcyA9IG51bGw7XG5cblx0dmFyIGdsID0gdGhpcy5nbDtcblx0Z2wuZGVsZXRlUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IFNoYWRlcjtcbiIsIlxudmFyIFRleHR1cmUgPSByZXF1aXJlKCcuL0dMVGV4dHVyZScpO1xuXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSB3ZWJHTCBGcmFtZWJ1ZmZlclxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAqIEBwYXJhbSB3aWR0aCB7TnVtYmVyfSB0aGUgd2lkdGggb2YgdGhlIGRyYXdpbmcgYXJlYSBvZiB0aGUgZnJhbWUgYnVmZmVyXG4gKiBAcGFyYW0gaGVpZ2h0IHtOdW1iZXJ9IHRoZSBoZWlnaHQgb2YgdGhlIGRyYXdpbmcgYXJlYSBvZiB0aGUgZnJhbWUgYnVmZmVyXG4gKi9cbnZhciBGcmFtZWJ1ZmZlciA9IGZ1bmN0aW9uKGdsLCB3aWR0aCwgaGVpZ2h0KVxue1xuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9XG4gICAgICovXG4gICAgdGhpcy5nbCA9IGdsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZyYW1lIGJ1ZmZlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7V2ViR0xGcmFtZWJ1ZmZlcn1cbiAgICAgKi9cbiAgICB0aGlzLmZyYW1lYnVmZmVyID0gZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzdGVuY2lsIGJ1ZmZlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJidWZmZXJ9XG4gICAgICovXG4gICAgdGhpcy5zdGVuY2lsID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzdGVuY2lsIGJ1ZmZlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5nbENvcmUuR0xUZXh0dXJlfVxuICAgICAqL1xuICAgIHRoaXMudGV4dHVyZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIGRyYXdpbmcgYXJlYSBvZiB0aGUgYnVmZmVyXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtOdW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy53aWR0aCA9IHdpZHRoIHx8IDEwMDtcbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBkcmF3aW5nIGFyZWEgb2YgdGhlIGJ1ZmZlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7TnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0IHx8IDEwMDtcbn07XG5cbi8qKlxuICogQWRkcyBhIHRleHR1cmUgdG8gdGhlIGZyYW1lIGJ1ZmZlclxuICogQHBhcmFtIHRleHR1cmUge1BJWEkuZ2xDb3JlLkdMVGV4dHVyZX1cbiAqL1xuRnJhbWVidWZmZXIucHJvdG90eXBlLmVuYWJsZVRleHR1cmUgPSBmdW5jdGlvbih0ZXh0dXJlKVxue1xuICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICB0aGlzLnRleHR1cmUgPSB0ZXh0dXJlIHx8IG5ldyBUZXh0dXJlKGdsKTtcblxuICAgIHRoaXMudGV4dHVyZS5iaW5kKCk7XG5cbiAgICAvL2dsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCAwLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBudWxsKTtcblxuICAgIHRoaXMuYmluZCgpO1xuXG4gICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwLCBnbC5URVhUVVJFXzJELCB0aGlzLnRleHR1cmUudGV4dHVyZSwgMCk7XG59O1xuXG4vKipcbiAqIEluaXRpYWxpc2VzIHRoZSBzdGVuY2lsIGJ1ZmZlclxuICovXG5GcmFtZWJ1ZmZlci5wcm90b3R5cGUuZW5hYmxlU3RlbmNpbCA9IGZ1bmN0aW9uKClcbntcbiAgICBpZih0aGlzLnN0ZW5jaWwpcmV0dXJuO1xuXG4gICAgdmFyIGdsID0gdGhpcy5nbDtcblxuICAgIHRoaXMuc3RlbmNpbCA9IGdsLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO1xuXG4gICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIHRoaXMuc3RlbmNpbCk7XG5cbiAgICAvLyBUT0RPLi4gdGhpcyBpcyBkZXB0aCBBTkQgc3RlbmNpbD9cbiAgICBnbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZ2wuREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5ULCBnbC5SRU5ERVJCVUZGRVIsIHRoaXMuc3RlbmNpbCk7XG4gICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZShnbC5SRU5ERVJCVUZGRVIsIGdsLkRFUFRIX1NURU5DSUwsICB0aGlzLndpZHRoICAsIHRoaXMuaGVpZ2h0ICk7XG5cblxufTtcblxuLyoqXG4gKiBFcmFzZXMgdGhlIGRyYXdpbmcgYXJlYSBhbmQgZmlsbHMgaXQgd2l0aCBhIGNvbG91clxuICogQHBhcmFtICByIHtOdW1iZXJ9IHRoZSByZWQgdmFsdWUgb2YgdGhlIGNsZWFyaW5nIGNvbG91clxuICogQHBhcmFtICBnIHtOdW1iZXJ9IHRoZSBncmVlbiB2YWx1ZSBvZiB0aGUgY2xlYXJpbmcgY29sb3VyXG4gKiBAcGFyYW0gIGIge051bWJlcn0gdGhlIGJsdWUgdmFsdWUgb2YgdGhlIGNsZWFyaW5nIGNvbG91clxuICogQHBhcmFtICBhIHtOdW1iZXJ9IHRoZSBhbHBoYSB2YWx1ZSBvZiB0aGUgY2xlYXJpbmcgY29sb3VyXG4gKi9cbkZyYW1lYnVmZmVyLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCByLCBnLCBiLCBhIClcbntcbiAgICB0aGlzLmJpbmQoKTtcblxuICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICBnbC5jbGVhckNvbG9yKHIsIGcsIGIsIGEpO1xuICAgIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQgfCBnbC5ERVBUSF9CVUZGRVJfQklUKTtcbn07XG5cbi8qKlxuICogQmluZHMgdGhlIGZyYW1lIGJ1ZmZlciB0byB0aGUgV2ViR0wgY29udGV4dFxuICovXG5GcmFtZWJ1ZmZlci5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uKClcbntcbiAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgdGhpcy5mcmFtZWJ1ZmZlciApO1xufTtcblxuLyoqXG4gKiBVbmJpbmRzIHRoZSBmcmFtZSBidWZmZXIgdG8gdGhlIFdlYkdMIGNvbnRleHRcbiAqL1xuRnJhbWVidWZmZXIucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uKClcbntcbiAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgbnVsbCApO1xufTtcbi8qKlxuICogUmVzaXplcyB0aGUgZHJhd2luZyBhcmVhIG9mIHRoZSBidWZmZXIgdG8gdGhlIGdpdmVuIHdpZHRoIGFuZCBoZWlnaHRcbiAqIEBwYXJhbSAgd2lkdGggIHtOdW1iZXJ9IHRoZSBuZXcgd2lkdGhcbiAqIEBwYXJhbSAgaGVpZ2h0IHtOdW1iZXJ9IHRoZSBuZXcgaGVpZ2h0XG4gKi9cbkZyYW1lYnVmZmVyLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KVxue1xuICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICBpZiAoIHRoaXMudGV4dHVyZSApXG4gICAge1xuICAgICAgICB0aGlzLnRleHR1cmUudXBsb2FkRGF0YShudWxsLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBpZiAoIHRoaXMuc3RlbmNpbCApXG4gICAge1xuICAgICAgICAvLyB1cGRhdGUgdGhlIHN0ZW5jaWwgYnVmZmVyIHdpZHRoIGFuZCBoZWlnaHRcbiAgICAgICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIHRoaXMuc3RlbmNpbCk7XG4gICAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoaXMgYnVmZmVyXG4gKi9cbkZyYW1lYnVmZmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKVxue1xuICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAvL1RPRE9cbiAgICBpZih0aGlzLnRleHR1cmUpXG4gICAge1xuICAgICAgICB0aGlzLnRleHR1cmUuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIGdsLmRlbGV0ZUZyYW1lYnVmZmVyKHRoaXMuZnJhbWVidWZmZXIpO1xuXG4gICAgdGhpcy5nbCA9IG51bGw7XG5cbiAgICB0aGlzLnN0ZW5jaWwgPSBudWxsO1xuICAgIHRoaXMudGV4dHVyZSA9IG51bGw7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBmcmFtZSBidWZmZXIgd2l0aCBhIHRleHR1cmUgY29udGFpbmluZyB0aGUgZ2l2ZW4gZGF0YVxuICogQHN0YXRpY1xuICogQHBhcmFtIGdsIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gKiBAcGFyYW0gd2lkdGgge051bWJlcn0gdGhlIHdpZHRoIG9mIHRoZSBkcmF3aW5nIGFyZWEgb2YgdGhlIGZyYW1lIGJ1ZmZlclxuICogQHBhcmFtIGhlaWdodCB7TnVtYmVyfSB0aGUgaGVpZ2h0IG9mIHRoZSBkcmF3aW5nIGFyZWEgb2YgdGhlIGZyYW1lIGJ1ZmZlclxuICogQHBhcmFtIGRhdGEge0FycmF5QnVmZmVyfCBTaGFyZWRBcnJheUJ1ZmZlcnxBcnJheUJ1ZmZlclZpZXd9IGFuIGFycmF5IG9mIGRhdGFcbiAqL1xuRnJhbWVidWZmZXIuY3JlYXRlUkdCQSA9IGZ1bmN0aW9uKGdsLCB3aWR0aCwgaGVpZ2h0LCBkYXRhKVxue1xuICAgIHZhciB0ZXh0dXJlID0gVGV4dHVyZS5mcm9tRGF0YShnbCwgbnVsbCwgd2lkdGgsIGhlaWdodCk7XG4gICAgdGV4dHVyZS5lbmFibGVOZWFyZXN0U2NhbGluZygpO1xuICAgIHRleHR1cmUuZW5hYmxlV3JhcENsYW1wKCk7XG5cbiAgICAvL25vdyBjcmVhdGUgdGhlIGZyYW1lYnVmZmVyIG9iamVjdCBhbmQgYXR0YWNoIHRoZSB0ZXh0dXJlIHRvIGl0LlxuICAgIHZhciBmYm8gPSBuZXcgRnJhbWVidWZmZXIoZ2wsIHdpZHRoLCBoZWlnaHQpO1xuICAgIGZiby5lbmFibGVUZXh0dXJlKHRleHR1cmUpO1xuICAgIC8vZmJvLmVuYWJsZVN0ZW5jaWwoKTsgLy8gZ2V0IHRoaXMgYmFjayBvbiBzb29uIVxuXG4gICAgLy9mYm8uZW5hYmxlU3RlbmNpbCgpOyAvLyBnZXQgdGhpcyBiYWNrIG9uIHNvb24hXG5cbiAgICBmYm8udW5iaW5kKCk7XG5cbiAgICByZXR1cm4gZmJvO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgZnJhbWUgYnVmZmVyIHdpdGggYSB0ZXh0dXJlIGNvbnRhaW5pbmcgdGhlIGdpdmVuIGRhdGFcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICogQHBhcmFtIHdpZHRoIHtOdW1iZXJ9IHRoZSB3aWR0aCBvZiB0aGUgZHJhd2luZyBhcmVhIG9mIHRoZSBmcmFtZSBidWZmZXJcbiAqIEBwYXJhbSBoZWlnaHQge051bWJlcn0gdGhlIGhlaWdodCBvZiB0aGUgZHJhd2luZyBhcmVhIG9mIHRoZSBmcmFtZSBidWZmZXJcbiAqIEBwYXJhbSBkYXRhIHtBcnJheUJ1ZmZlcnwgU2hhcmVkQXJyYXlCdWZmZXJ8QXJyYXlCdWZmZXJWaWV3fSBhbiBhcnJheSBvZiBkYXRhXG4gKi9cbkZyYW1lYnVmZmVyLmNyZWF0ZUZsb2F0MzIgPSBmdW5jdGlvbihnbCwgd2lkdGgsIGhlaWdodCwgZGF0YSlcbntcbiAgICAvLyBjcmVhdGUgYSBuZXcgdGV4dHVyZS4uXG4gICAgdmFyIHRleHR1cmUgPSBuZXcgVGV4dHVyZS5mcm9tRGF0YShnbCwgZGF0YSwgd2lkdGgsIGhlaWdodCk7XG4gICAgdGV4dHVyZS5lbmFibGVOZWFyZXN0U2NhbGluZygpO1xuICAgIHRleHR1cmUuZW5hYmxlV3JhcENsYW1wKCk7XG5cbiAgICAvL25vdyBjcmVhdGUgdGhlIGZyYW1lYnVmZmVyIG9iamVjdCBhbmQgYXR0YWNoIHRoZSB0ZXh0dXJlIHRvIGl0LlxuICAgIHZhciBmYm8gPSBuZXcgRnJhbWVidWZmZXIoZ2wsIHdpZHRoLCBoZWlnaHQpO1xuICAgIGZiby5lbmFibGVUZXh0dXJlKHRleHR1cmUpO1xuXG4gICAgZmJvLnVuYmluZCgpO1xuXG4gICAgcmV0dXJuIGZibztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRnJhbWVidWZmZXI7XG4iLCJ2YXIgRU1QVFlfQVJSQVlfQlVGRkVSID0gbmV3IEFycmF5QnVmZmVyKDApO1xuXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSB3ZWJHTCBidWZmZXJcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZVxuICogQHBhcmFtIGdsIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gKiBAcGFyYW0gdHlwZSB7Z2wuQVJSQVlfQlVGRkVSIHwgZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVJ9IEBtYXRcbiAqIEBwYXJhbSBkYXRhIHtBcnJheUJ1ZmZlcnwgU2hhcmVkQXJyYXlCdWZmZXJ8QXJyYXlCdWZmZXJWaWV3fSBhbiBhcnJheSBvZiBkYXRhXG4gKiBAcGFyYW0gZHJhd1R5cGUge2dsLlNUQVRJQ19EUkFXfGdsLkRZTkFNSUNfRFJBV3xnbC5TVFJFQU1fRFJBV31cbiAqL1xudmFyIEJ1ZmZlciA9IGZ1bmN0aW9uKGdsLCB0eXBlLCBkYXRhLCBkcmF3VHlwZSlcbntcblxuXHQvKipcbiAgICAgKiBUaGUgY3VycmVudCBXZWJHTCByZW5kZXJpbmcgY29udGV4dFxuICAgICAqXG4gICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAqL1xuXHR0aGlzLmdsID0gZ2w7XG5cblx0LyoqXG4gICAgICogVGhlIFdlYkdMIGJ1ZmZlciwgY3JlYXRlZCB1cG9uIGluc3RhbnRpYXRpb25cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1dlYkdMQnVmZmVyfVxuICAgICAqL1xuXHR0aGlzLmJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuXG5cdC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBidWZmZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2dsLkFSUkFZX0JVRkZFUnxnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUn1cbiAgICAgKi9cblx0dGhpcy50eXBlID0gdHlwZSB8fCBnbC5BUlJBWV9CVUZGRVI7XG5cblx0LyoqXG4gICAgICogVGhlIGRyYXcgdHlwZSBvZiB0aGUgYnVmZmVyXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtnbC5TVEFUSUNfRFJBV3xnbC5EWU5BTUlDX0RSQVd8Z2wuU1RSRUFNX0RSQVd9XG4gICAgICovXG5cdHRoaXMuZHJhd1R5cGUgPSBkcmF3VHlwZSB8fCBnbC5TVEFUSUNfRFJBVztcblxuXHQvKipcbiAgICAgKiBUaGUgZGF0YSBpbiB0aGUgYnVmZmVyLCBhcyBhIHR5cGVkIGFycmF5XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtBcnJheUJ1ZmZlcnwgU2hhcmVkQXJyYXlCdWZmZXJ8QXJyYXlCdWZmZXJWaWV3fVxuICAgICAqL1xuXHR0aGlzLmRhdGEgPSBFTVBUWV9BUlJBWV9CVUZGRVI7XG5cblx0aWYoZGF0YSlcblx0e1xuXHRcdHRoaXMudXBsb2FkKGRhdGEpO1xuXHR9XG5cblx0dGhpcy5fdXBkYXRlSUQgPSAwO1xufTtcblxuLyoqXG4gKiBVcGxvYWRzIHRoZSBidWZmZXIgdG8gdGhlIEdQVVxuICogQHBhcmFtIGRhdGEge0FycmF5QnVmZmVyfCBTaGFyZWRBcnJheUJ1ZmZlcnxBcnJheUJ1ZmZlclZpZXd9IGFuIGFycmF5IG9mIGRhdGEgdG8gdXBsb2FkXG4gKiBAcGFyYW0gb2Zmc2V0IHtOdW1iZXJ9IGlmIG9ubHkgYSBzdWJzZXQgb2YgdGhlIGRhdGEgc2hvdWxkIGJlIHVwbG9hZGVkLCB0aGlzIGlzIHRoZSBhbW91bnQgb2YgZGF0YSB0byBzdWJ0cmFjdFxuICogQHBhcmFtIGRvbnRCaW5kIHtCb29sZWFufSB3aGV0aGVyIHRvIGJpbmQgdGhlIGJ1ZmZlciBiZWZvcmUgdXBsb2FkaW5nIGl0XG4gKi9cbkJ1ZmZlci5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24oZGF0YSwgb2Zmc2V0LCBkb250QmluZClcbntcblx0Ly8gdG9kbyAtIG5lZWRlZD9cblx0aWYoIWRvbnRCaW5kKSB0aGlzLmJpbmQoKTtcblxuXHR2YXIgZ2wgPSB0aGlzLmdsO1xuXG5cdGRhdGEgPSBkYXRhIHx8IHRoaXMuZGF0YTtcblx0b2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG5cblx0aWYodGhpcy5kYXRhLmJ5dGVMZW5ndGggPj0gZGF0YS5ieXRlTGVuZ3RoKVxuXHR7XG5cdFx0Z2wuYnVmZmVyU3ViRGF0YSh0aGlzLnR5cGUsIG9mZnNldCwgZGF0YSk7XG5cdH1cblx0ZWxzZVxuXHR7XG5cdFx0Z2wuYnVmZmVyRGF0YSh0aGlzLnR5cGUsIGRhdGEsIHRoaXMuZHJhd1R5cGUpO1xuXHR9XG5cblx0dGhpcy5kYXRhID0gZGF0YTtcbn07XG4vKipcbiAqIEJpbmRzIHRoZSBidWZmZXJcbiAqXG4gKi9cbkJ1ZmZlci5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uKClcbntcblx0dmFyIGdsID0gdGhpcy5nbDtcblx0Z2wuYmluZEJ1ZmZlcih0aGlzLnR5cGUsIHRoaXMuYnVmZmVyKTtcbn07XG5cbkJ1ZmZlci5jcmVhdGVWZXJ0ZXhCdWZmZXIgPSBmdW5jdGlvbihnbCwgZGF0YSwgZHJhd1R5cGUpXG57XG5cdHJldHVybiBuZXcgQnVmZmVyKGdsLCBnbC5BUlJBWV9CVUZGRVIsIGRhdGEsIGRyYXdUeXBlKTtcbn07XG5cbkJ1ZmZlci5jcmVhdGVJbmRleEJ1ZmZlciA9IGZ1bmN0aW9uKGdsLCBkYXRhLCBkcmF3VHlwZSlcbntcblx0cmV0dXJuIG5ldyBCdWZmZXIoZ2wsIGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBkYXRhLCBkcmF3VHlwZSk7XG59O1xuXG5CdWZmZXIuY3JlYXRlID0gZnVuY3Rpb24oZ2wsIHR5cGUsIGRhdGEsIGRyYXdUeXBlKVxue1xuXHRyZXR1cm4gbmV3IEJ1ZmZlcihnbCwgdHlwZSwgZGF0YSwgZHJhd1R5cGUpO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgYnVmZmVyXG4gKlxuICovXG5CdWZmZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpe1xuXHR0aGlzLmdsLmRlbGV0ZUJ1ZmZlcih0aGlzLmJ1ZmZlcik7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEJ1ZmZlcjtcbiIsIlxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgd2ViR0wgQ29udGV4dFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlXG4gKiBAcGFyYW0gY2FudmFzIHtIVE1MQ2FudmFzRWxlbWVudH0gdGhlIGNhbnZhcyBlbGVtZW50IHRoYXQgd2Ugd2lsbCBnZXQgdGhlIGNvbnRleHQgZnJvbVxuICogQHBhcmFtIG9wdGlvbnMge09iamVjdH0gQW4gb3B0aW9ucyBvYmplY3QgdGhhdCBnZXRzIHBhc3NlZCBpbiB0byB0aGUgY2FudmFzIGVsZW1lbnQgY29udGFpbmluZyB0aGUgY29udGV4dCBhdHRyaWJ1dGVzLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9IVE1MQ2FudmFzRWxlbWVudC9nZXRDb250ZXh0IGZvciB0aGUgb3B0aW9ucyBhdmFpbGFibGVcbiAqIEByZXR1cm4ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gdGhlIFdlYkdMIGNvbnRleHRcbiAqL1xudmFyIGNyZWF0ZUNvbnRleHQgPSBmdW5jdGlvbihjYW52YXMsIG9wdGlvbnMpXG57XG4gICAgdmFyIGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywgb3B0aW9ucykgfHwgXG4gICAgICAgICBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywgb3B0aW9ucyk7XG5cbiAgICBpZiAoIWdsKVxuICAgIHtcbiAgICAgICAgLy8gZmFpbCwgbm90IGFibGUgdG8gZ2V0IGEgY29udGV4dFxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHdlYkdMLiBUcnkgdXNpbmcgdGhlIGNhbnZhcyByZW5kZXJlcicpO1xuICAgIH1cblxuICAgIHJldHVybiBnbDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlQ29udGV4dDtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvbnN0Jyk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogVGhlIFJvdW5kZWQgUmVjdGFuZ2xlIG9iamVjdCBpcyBhbiBhcmVhIHRoYXQgaGFzIG5pY2Ugcm91bmRlZCBjb3JuZXJzLCBhcyBpbmRpY2F0ZWQgYnkgaXRzXG4gKiB0b3AtbGVmdCBjb3JuZXIgcG9pbnQgKHgsIHkpIGFuZCBieSBpdHMgd2lkdGggYW5kIGl0cyBoZWlnaHQgYW5kIGl0cyByYWRpdXMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUm91bmRlZFJlY3RhbmdsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSB1cHBlci1sZWZ0IGNvcm5lciBvZiB0aGUgcm91bmRlZCByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSB1cHBlci1sZWZ0IGNvcm5lciBvZiB0aGUgcm91bmRlZCByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTBdIC0gVGhlIG92ZXJhbGwgd2lkdGggb2YgdGhpcyByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTBdIC0gVGhlIG92ZXJhbGwgaGVpZ2h0IG9mIHRoaXMgcm91bmRlZCByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JhZGl1cz0yMF0gLSBDb250cm9scyB0aGUgcmFkaXVzIG9mIHRoZSByb3VuZGVkIGNvcm5lcnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSb3VuZGVkUmVjdGFuZ2xlKCkge1xuICAgICAgICB2YXIgeCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICAgICAgdmFyIHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gICAgICAgIHZhciB3aWR0aCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMDtcbiAgICAgICAgdmFyIGhlaWdodCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogMDtcbiAgICAgICAgdmFyIHJhZGl1cyA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ICYmIGFyZ3VtZW50c1s0XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzRdIDogMjA7XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJvdW5kZWRSZWN0YW5nbGUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueCA9IHg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55ID0geTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMjBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLlJSRUNcbiAgICAgICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gX2NvbnN0LlNIQVBFUy5SUkVDO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIFJvdW5kZWQgUmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJvdW5kZWRSZWN0YW5nbGV9IGEgY29weSBvZiB0aGUgcm91bmRlZCByZWN0YW5nbGVcbiAgICAgKi9cblxuXG4gICAgUm91bmRlZFJlY3RhbmdsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSb3VuZGVkUmVjdGFuZ2xlKHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy5yYWRpdXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIFJvdW5kZWQgUmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIFJvdW5kZWQgUmVjdGFuZ2xlXG4gICAgICovXG5cblxuICAgIFJvdW5kZWRSZWN0YW5nbGUucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gY29udGFpbnMoeCwgeSkge1xuICAgICAgICBpZiAodGhpcy53aWR0aCA8PSAwIHx8IHRoaXMuaGVpZ2h0IDw9IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeCA+PSB0aGlzLnggJiYgeCA8PSB0aGlzLnggKyB0aGlzLndpZHRoKSB7XG4gICAgICAgICAgICBpZiAoeSA+PSB0aGlzLnkgJiYgeSA8PSB0aGlzLnkgKyB0aGlzLmhlaWdodCkge1xuICAgICAgICAgICAgICAgIGlmICh5ID49IHRoaXMueSArIHRoaXMucmFkaXVzICYmIHkgPD0gdGhpcy55ICsgdGhpcy5oZWlnaHQgLSB0aGlzLnJhZGl1cyB8fCB4ID49IHRoaXMueCArIHRoaXMucmFkaXVzICYmIHggPD0gdGhpcy54ICsgdGhpcy53aWR0aCAtIHRoaXMucmFkaXVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgZHggPSB4IC0gKHRoaXMueCArIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgICAgICB2YXIgZHkgPSB5IC0gKHRoaXMueSArIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgICAgICB2YXIgcmFkaXVzMiA9IHRoaXMucmFkaXVzICogdGhpcy5yYWRpdXM7XG5cbiAgICAgICAgICAgICAgICBpZiAoZHggKiBkeCArIGR5ICogZHkgPD0gcmFkaXVzMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZHggPSB4IC0gKHRoaXMueCArIHRoaXMud2lkdGggLSB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgaWYgKGR4ICogZHggKyBkeSAqIGR5IDw9IHJhZGl1czIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGR5ID0geSAtICh0aGlzLnkgKyB0aGlzLmhlaWdodCAtIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgICAgICBpZiAoZHggKiBkeCArIGR5ICogZHkgPD0gcmFkaXVzMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZHggPSB4IC0gKHRoaXMueCArIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgICAgICBpZiAoZHggKiBkeCArIGR5ICogZHkgPD0gcmFkaXVzMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIHJldHVybiBSb3VuZGVkUmVjdGFuZ2xlO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBSb3VuZGVkUmVjdGFuZ2xlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Um91bmRlZFJlY3RhbmdsZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfUG9pbnQgPSByZXF1aXJlKCcuLi9Qb2ludCcpO1xuXG52YXIgX1BvaW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BvaW50KTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvbnN0Jyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUG9seWdvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnRbXXxudW1iZXJbXX0gcG9pbnRzIC0gVGhpcyBjYW4gYmUgYW4gYXJyYXkgb2YgUG9pbnRzXG4gICAgICogIHRoYXQgZm9ybSB0aGUgcG9seWdvbiwgYSBmbGF0IGFycmF5IG9mIG51bWJlcnMgdGhhdCB3aWxsIGJlIGludGVycHJldGVkIGFzIFt4LHksIHgseSwgLi4uXSwgb3JcbiAgICAgKiAgdGhlIGFyZ3VtZW50cyBwYXNzZWQgY2FuIGJlIGFsbCB0aGUgcG9pbnRzIG9mIHRoZSBwb2x5Z29uIGUuZy5cbiAgICAgKiAgYG5ldyBQSVhJLlBvbHlnb24obmV3IFBJWEkuUG9pbnQoKSwgbmV3IFBJWEkuUG9pbnQoKSwgLi4uKWAsIG9yIHRoZSBhcmd1bWVudHMgcGFzc2VkIGNhbiBiZSBmbGF0XG4gICAgICogIHgseSB2YWx1ZXMgZS5nLiBgbmV3IFBvbHlnb24oeCx5LCB4LHksIHgseSwgLi4uKWAgd2hlcmUgYHhgIGFuZCBgeWAgYXJlIE51bWJlcnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUG9seWdvbigpIHtcbiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHBvaW50cyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgICAgcG9pbnRzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBvbHlnb24pO1xuXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBvaW50c1swXSkpIHtcbiAgICAgICAgICAgIHBvaW50cyA9IHBvaW50c1swXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoaXMgaXMgYW4gYXJyYXkgb2YgcG9pbnRzLCBjb252ZXJ0IGl0IHRvIGEgZmxhdCBhcnJheSBvZiBudW1iZXJzXG4gICAgICAgIGlmIChwb2ludHNbMF0gaW5zdGFuY2VvZiBfUG9pbnQyLmRlZmF1bHQpIHtcbiAgICAgICAgICAgIHZhciBwID0gW107XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IHBvaW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcC5wdXNoKHBvaW50c1tpXS54LCBwb2ludHNbaV0ueSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBvaW50cyA9IHA7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNsb3NlZCA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHRoZSBwb2ludHMgb2YgdGhpcyBwb2x5Z29uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb2ludHMgPSBwb2ludHM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuUE9MWVxuICAgICAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBfY29uc3QuU0hBUEVTLlBPTFk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgcG9seWdvblxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5Qb2x5Z29ufSBhIGNvcHkgb2YgdGhlIHBvbHlnb25cbiAgICAgKi9cblxuXG4gICAgUG9seWdvbi5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2x5Z29uKHRoaXMucG9pbnRzLnNsaWNlKCkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbG9zZXMgdGhlIHBvbHlnb24sIGFkZGluZyBwb2ludHMgaWYgbmVjZXNzYXJ5LlxuICAgICAqXG4gICAgICovXG5cblxuICAgIFBvbHlnb24ucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLnBvaW50cztcblxuICAgICAgICAvLyBjbG9zZSB0aGUgcG9seSBpZiB0aGUgdmFsdWUgaXMgdHJ1ZSFcbiAgICAgICAgaWYgKHBvaW50c1swXSAhPT0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSB8fCBwb2ludHNbMV0gIT09IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0pIHtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKHBvaW50c1swXSwgcG9pbnRzWzFdKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBwYXNzZWQgdG8gdGhpcyBmdW5jdGlvbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIHBvbHlnb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHgveSBjb29yZGluYXRlcyBhcmUgd2l0aGluIHRoaXMgcG9seWdvblxuICAgICAqL1xuXG5cbiAgICBQb2x5Z29uLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIGNvbnRhaW5zKHgsIHkpIHtcbiAgICAgICAgdmFyIGluc2lkZSA9IGZhbHNlO1xuXG4gICAgICAgIC8vIHVzZSBzb21lIHJheWNhc3RpbmcgdG8gdGVzdCBoaXRzXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zdWJzdGFjay9wb2ludC1pbi1wb2x5Z29uL2Jsb2IvbWFzdGVyL2luZGV4LmpzXG4gICAgICAgIHZhciBsZW5ndGggPSB0aGlzLnBvaW50cy5sZW5ndGggLyAyO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gbGVuZ3RoIC0gMTsgaSA8IGxlbmd0aDsgaiA9IGkrKykge1xuICAgICAgICAgICAgdmFyIHhpID0gdGhpcy5wb2ludHNbaSAqIDJdO1xuICAgICAgICAgICAgdmFyIHlpID0gdGhpcy5wb2ludHNbaSAqIDIgKyAxXTtcbiAgICAgICAgICAgIHZhciB4aiA9IHRoaXMucG9pbnRzW2ogKiAyXTtcbiAgICAgICAgICAgIHZhciB5aiA9IHRoaXMucG9pbnRzW2ogKiAyICsgMV07XG4gICAgICAgICAgICB2YXIgaW50ZXJzZWN0ID0geWkgPiB5ICE9PSB5aiA+IHkgJiYgeCA8ICh4aiAtIHhpKSAqICgoeSAtIHlpKSAvICh5aiAtIHlpKSkgKyB4aTtcblxuICAgICAgICAgICAgaWYgKGludGVyc2VjdCkge1xuICAgICAgICAgICAgICAgIGluc2lkZSA9ICFpbnNpZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW5zaWRlO1xuICAgIH07XG5cbiAgICByZXR1cm4gUG9seWdvbjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUG9seWdvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBvbHlnb24uanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX1JlY3RhbmdsZSA9IHJlcXVpcmUoJy4vUmVjdGFuZ2xlJyk7XG5cbnZhciBfUmVjdGFuZ2xlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlY3RhbmdsZSk7XG5cbnZhciBfY29uc3QgPSByZXF1aXJlKCcuLi8uLi9jb25zdCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFRoZSBFbGxpcHNlIG9iamVjdCBjYW4gYmUgdXNlZCB0byBzcGVjaWZ5IGEgaGl0IGFyZWEgZm9yIGRpc3BsYXlPYmplY3RzXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgRWxsaXBzZSA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGlzIGNpcmNsZVxuICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBjaXJjbGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0wXSAtIFRoZSBoYWxmIHdpZHRoIG9mIHRoaXMgZWxsaXBzZVxuICAgKiBAcGFyYW0ge251bWJlcn0gW2hlaWdodD0wXSAtIFRoZSBoYWxmIGhlaWdodCBvZiB0aGlzIGVsbGlwc2VcbiAgICovXG4gIGZ1bmN0aW9uIEVsbGlwc2UoKSB7XG4gICAgdmFyIHggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gICAgdmFyIHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gICAgdmFyIHdpZHRoID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAwO1xuICAgIHZhciBoZWlnaHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IDA7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRWxsaXBzZSk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueCA9IHg7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueSA9IHk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHJlYWRPbmx5XG4gICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuRUxJUFxuICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgKi9cbiAgICB0aGlzLnR5cGUgPSBfY29uc3QuU0hBUEVTLkVMSVA7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgRWxsaXBzZSBpbnN0YW5jZVxuICAgKlxuICAgKiBAcmV0dXJuIHtQSVhJLkVsbGlwc2V9IGEgY29weSBvZiB0aGUgZWxsaXBzZVxuICAgKi9cblxuXG4gIEVsbGlwc2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBFbGxpcHNlKHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIGdpdmVuIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgZWxsaXBzZVxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHgveSBjb29yZHMgYXJlIHdpdGhpbiB0aGlzIGVsbGlwc2VcbiAgICovXG5cblxuICBFbGxpcHNlLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIGNvbnRhaW5zKHgsIHkpIHtcbiAgICBpZiAodGhpcy53aWR0aCA8PSAwIHx8IHRoaXMuaGVpZ2h0IDw9IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBub3JtYWxpemUgdGhlIGNvb3JkcyB0byBhbiBlbGxpcHNlIHdpdGggY2VudGVyIDAsMFxuICAgIHZhciBub3JteCA9ICh4IC0gdGhpcy54KSAvIHRoaXMud2lkdGg7XG4gICAgdmFyIG5vcm15ID0gKHkgLSB0aGlzLnkpIC8gdGhpcy5oZWlnaHQ7XG5cbiAgICBub3JteCAqPSBub3JteDtcbiAgICBub3JteSAqPSBub3JteTtcblxuICAgIHJldHVybiBub3JteCArIG5vcm15IDw9IDE7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGZyYW1pbmcgcmVjdGFuZ2xlIG9mIHRoZSBlbGxpcHNlIGFzIGEgUmVjdGFuZ2xlIG9iamVjdFxuICAgKlxuICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gdGhlIGZyYW1pbmcgcmVjdGFuZ2xlXG4gICAqL1xuXG5cbiAgRWxsaXBzZS5wcm90b3R5cGUuZ2V0Qm91bmRzID0gZnVuY3Rpb24gZ2V0Qm91bmRzKCkge1xuICAgIHJldHVybiBuZXcgX1JlY3RhbmdsZTIuZGVmYXVsdCh0aGlzLnggLSB0aGlzLndpZHRoLCB0aGlzLnkgLSB0aGlzLmhlaWdodCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICB9O1xuXG4gIHJldHVybiBFbGxpcHNlO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBFbGxpcHNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RWxsaXBzZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfUmVjdGFuZ2xlID0gcmVxdWlyZSgnLi9SZWN0YW5nbGUnKTtcblxudmFyIF9SZWN0YW5nbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmVjdGFuZ2xlKTtcblxudmFyIF9jb25zdCA9IHJlcXVpcmUoJy4uLy4uL2NvbnN0Jyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogVGhlIENpcmNsZSBvYmplY3QgY2FuIGJlIHVzZWQgdG8gc3BlY2lmeSBhIGhpdCBhcmVhIGZvciBkaXNwbGF5T2JqZWN0c1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENpcmNsZSA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGlzIGNpcmNsZVxuICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBjaXJjbGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtyYWRpdXM9MF0gLSBUaGUgcmFkaXVzIG9mIHRoZSBjaXJjbGVcbiAgICovXG4gIGZ1bmN0aW9uIENpcmNsZSgpIHtcbiAgICB2YXIgeCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICB2YXIgeSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgICB2YXIgcmFkaXVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAwO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENpcmNsZSk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueCA9IHg7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueSA9IHk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdCwgbWFpbmx5IHVzZWQgdG8gYXZvaWQgYGluc3RhbmNlb2ZgIGNoZWNrc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkT25seVxuICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLkNJUkNcbiAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICovXG4gICAgdGhpcy50eXBlID0gX2NvbnN0LlNIQVBFUy5DSVJDO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIENpcmNsZSBpbnN0YW5jZVxuICAgKlxuICAgKiBAcmV0dXJuIHtQSVhJLkNpcmNsZX0gYSBjb3B5IG9mIHRoZSBDaXJjbGVcbiAgICovXG5cblxuICBDaXJjbGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBDaXJjbGUodGhpcy54LCB0aGlzLnksIHRoaXMucmFkaXVzKTtcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBjaXJjbGVcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIENpcmNsZVxuICAgKi9cblxuXG4gIENpcmNsZS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiBjb250YWlucyh4LCB5KSB7XG4gICAgaWYgKHRoaXMucmFkaXVzIDw9IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgcjIgPSB0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzO1xuICAgIHZhciBkeCA9IHRoaXMueCAtIHg7XG4gICAgdmFyIGR5ID0gdGhpcy55IC0geTtcblxuICAgIGR4ICo9IGR4O1xuICAgIGR5ICo9IGR5O1xuXG4gICAgcmV0dXJuIGR4ICsgZHkgPD0gcjI7XG4gIH07XG5cbiAgLyoqXG4gICogUmV0dXJucyB0aGUgZnJhbWluZyByZWN0YW5nbGUgb2YgdGhlIGNpcmNsZSBhcyBhIFJlY3RhbmdsZSBvYmplY3RcbiAgKlxuICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSB0aGUgZnJhbWluZyByZWN0YW5nbGVcbiAgKi9cblxuXG4gIENpcmNsZS5wcm90b3R5cGUuZ2V0Qm91bmRzID0gZnVuY3Rpb24gZ2V0Qm91bmRzKCkge1xuICAgIHJldHVybiBuZXcgX1JlY3RhbmdsZTIuZGVmYXVsdCh0aGlzLnggLSB0aGlzLnJhZGl1cywgdGhpcy55IC0gdGhpcy5yYWRpdXMsIHRoaXMucmFkaXVzICogMiwgdGhpcy5yYWRpdXMgKiAyKTtcbiAgfTtcblxuICByZXR1cm4gQ2lyY2xlO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBDaXJjbGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DaXJjbGUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG4vLyBSZWZlcmVuY2VzOlxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTnVtYmVyL2lzSW50ZWdlclxuXG5pZiAoIU51bWJlci5pc0ludGVnZXIpIHtcbiAgICBOdW1iZXIuaXNJbnRlZ2VyID0gZnVuY3Rpb24gbnVtYmVySXNJbnRlZ2VyKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIGlzRmluaXRlKHZhbHVlKSAmJiBNYXRoLmZsb29yKHZhbHVlKSA9PT0gdmFsdWU7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU51bWJlci5pc0ludGVnZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIFJlZmVyZW5jZXM6XG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL3NpZ25cblxuaWYgKCFNYXRoLnNpZ24pIHtcbiAgICBNYXRoLnNpZ24gPSBmdW5jdGlvbiBtYXRoU2lnbih4KSB7XG4gICAgICAgIHggPSBOdW1iZXIoeCk7XG5cbiAgICAgICAgaWYgKHggPT09IDAgfHwgaXNOYU4oeCkpIHtcbiAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHggPiAwID8gMSA6IC0xO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYXRoLnNpZ24uanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG4vLyBSZWZlcmVuY2VzOlxuLy8gaHR0cDovL3BhdWxpcmlzaC5jb20vMjAxMS9yZXF1ZXN0YW5pbWF0aW9uZnJhbWUtZm9yLXNtYXJ0LWFuaW1hdGluZy9cbi8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tLzE1Nzk2NzFcbi8vIGh0dHA6Ly91cGRhdGVzLmh0bWw1cm9ja3MuY29tLzIwMTIvMDUvcmVxdWVzdEFuaW1hdGlvbkZyYW1lLUFQSS1ub3ctd2l0aC1zdWItbWlsbGlzZWNvbmQtcHJlY2lzaW9uXG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS90aW1oYWxsLzQwNzg2MTRcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9GaW5hbmNpYWwtVGltZXMvcG9seWZpbGwtc2VydmljZS90cmVlL21hc3Rlci9wb2x5ZmlsbHMvcmVxdWVzdEFuaW1hdGlvbkZyYW1lXG5cbi8vIEV4cGVjdGVkIHRvIGJlIHVzZWQgd2l0aCBCcm93c2VyZml5XG4vLyBCcm93c2VyaWZ5IGF1dG9tYXRpY2FsbHkgZGV0ZWN0cyB0aGUgdXNlIG9mIGBnbG9iYWxgIGFuZCBwYXNzZXMgdGhlXG4vLyBjb3JyZWN0IHJlZmVyZW5jZSBvZiBgZ2xvYmFsYCwgYHNlbGZgLCBhbmQgZmluYWxseSBgd2luZG93YFxuXG52YXIgT05FX0ZSQU1FX1RJTUUgPSAxNjtcblxuLy8gRGF0ZS5ub3dcbmlmICghKERhdGUubm93ICYmIERhdGUucHJvdG90eXBlLmdldFRpbWUpKSB7XG4gICAgRGF0ZS5ub3cgPSBmdW5jdGlvbiBub3coKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICB9O1xufVxuXG4vLyBwZXJmb3JtYW5jZS5ub3dcbmlmICghKGdsb2JhbC5wZXJmb3JtYW5jZSAmJiBnbG9iYWwucGVyZm9ybWFuY2Uubm93KSkge1xuICAgIHZhciBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuXG4gICAgaWYgKCFnbG9iYWwucGVyZm9ybWFuY2UpIHtcbiAgICAgICAgZ2xvYmFsLnBlcmZvcm1hbmNlID0ge307XG4gICAgfVxuXG4gICAgZ2xvYmFsLnBlcmZvcm1hbmNlLm5vdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIERhdGUubm93KCkgLSBzdGFydFRpbWU7XG4gICAgfTtcbn1cblxuLy8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lXG52YXIgbGFzdFRpbWUgPSBEYXRlLm5vdygpO1xudmFyIHZlbmRvcnMgPSBbJ21zJywgJ21veicsICd3ZWJraXQnLCAnbyddO1xuXG5mb3IgKHZhciB4ID0gMDsgeCA8IHZlbmRvcnMubGVuZ3RoICYmICFnbG9iYWwucmVxdWVzdEFuaW1hdGlvbkZyYW1lOyArK3gpIHtcbiAgICB2YXIgcCA9IHZlbmRvcnNbeF07XG5cbiAgICBnbG9iYWwucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gZ2xvYmFsW3AgKyAnUmVxdWVzdEFuaW1hdGlvbkZyYW1lJ107XG4gICAgZ2xvYmFsLmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gZ2xvYmFsW3AgKyAnQ2FuY2VsQW5pbWF0aW9uRnJhbWUnXSB8fCBnbG9iYWxbcCArICdDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUnXTtcbn1cblxuaWYgKCFnbG9iYWwucmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB7XG4gICAgZ2xvYmFsLnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGNhbGxiYWNrICsgJ2lzIG5vdCBhIGZ1bmN0aW9uJyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICB2YXIgZGVsYXkgPSBPTkVfRlJBTUVfVElNRSArIGxhc3RUaW1lIC0gY3VycmVudFRpbWU7XG5cbiAgICAgICAgaWYgKGRlbGF5IDwgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgbGFzdFRpbWUgPSBjdXJyZW50VGltZTtcblxuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsYXN0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBjYWxsYmFjayhwZXJmb3JtYW5jZS5ub3coKSk7XG4gICAgICAgIH0sIGRlbGF5KTtcbiAgICB9O1xufVxuXG5pZiAoIWdsb2JhbC5jYW5jZWxBbmltYXRpb25GcmFtZSkge1xuICAgIGdsb2JhbC5jYW5jZWxBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KGlkKTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVxdWVzdEFuaW1hdGlvbkZyYW1lLmpzLm1hcCIsIi8qXG5vYmplY3QtYXNzaWduXG4oYykgU2luZHJlIFNvcmh1c1xuQGxpY2Vuc2UgTUlUXG4qL1xuXG4ndXNlIHN0cmljdCc7XG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xudmFyIGdldE93blByb3BlcnR5U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIHByb3BJc0VudW1lcmFibGUgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG5mdW5jdGlvbiB0b09iamVjdCh2YWwpIHtcblx0aWYgKHZhbCA9PT0gbnVsbCB8fCB2YWwgPT09IHVuZGVmaW5lZCkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdC5hc3NpZ24gY2Fubm90IGJlIGNhbGxlZCB3aXRoIG51bGwgb3IgdW5kZWZpbmVkJyk7XG5cdH1cblxuXHRyZXR1cm4gT2JqZWN0KHZhbCk7XG59XG5cbmZ1bmN0aW9uIHNob3VsZFVzZU5hdGl2ZSgpIHtcblx0dHJ5IHtcblx0XHRpZiAoIU9iamVjdC5hc3NpZ24pIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBEZXRlY3QgYnVnZ3kgcHJvcGVydHkgZW51bWVyYXRpb24gb3JkZXIgaW4gb2xkZXIgVjggdmVyc2lvbnMuXG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD00MTE4XG5cdFx0dmFyIHRlc3QxID0gbmV3IFN0cmluZygnYWJjJyk7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldy13cmFwcGVyc1xuXHRcdHRlc3QxWzVdID0gJ2RlJztcblx0XHRpZiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDEpWzBdID09PSAnNScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QyID0ge307XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG5cdFx0XHR0ZXN0MlsnXycgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGkpXSA9IGk7XG5cdFx0fVxuXHRcdHZhciBvcmRlcjIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MikubWFwKGZ1bmN0aW9uIChuKSB7XG5cdFx0XHRyZXR1cm4gdGVzdDJbbl07XG5cdFx0fSk7XG5cdFx0aWYgKG9yZGVyMi5qb2luKCcnKSAhPT0gJzAxMjM0NTY3ODknKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdHZhciB0ZXN0MyA9IHt9O1xuXHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcuc3BsaXQoJycpLmZvckVhY2goZnVuY3Rpb24gKGxldHRlcikge1xuXHRcdFx0dGVzdDNbbGV0dGVyXSA9IGxldHRlcjtcblx0XHR9KTtcblx0XHRpZiAoT2JqZWN0LmtleXMoT2JqZWN0LmFzc2lnbih7fSwgdGVzdDMpKS5qb2luKCcnKSAhPT1cblx0XHRcdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9IGNhdGNoIChlcnIpIHtcblx0XHQvLyBXZSBkb24ndCBleHBlY3QgYW55IG9mIHRoZSBhYm92ZSB0byB0aHJvdywgYnV0IGJldHRlciB0byBiZSBzYWZlLlxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNob3VsZFVzZU5hdGl2ZSgpID8gT2JqZWN0LmFzc2lnbiA6IGZ1bmN0aW9uICh0YXJnZXQsIHNvdXJjZSkge1xuXHR2YXIgZnJvbTtcblx0dmFyIHRvID0gdG9PYmplY3QodGFyZ2V0KTtcblx0dmFyIHN5bWJvbHM7XG5cblx0Zm9yICh2YXIgcyA9IDE7IHMgPCBhcmd1bWVudHMubGVuZ3RoOyBzKyspIHtcblx0XHRmcm9tID0gT2JqZWN0KGFyZ3VtZW50c1tzXSk7XG5cblx0XHRmb3IgKHZhciBrZXkgaW4gZnJvbSkge1xuXHRcdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwoZnJvbSwga2V5KSkge1xuXHRcdFx0XHR0b1trZXldID0gZnJvbVtrZXldO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChnZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcblx0XHRcdHN5bWJvbHMgPSBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZnJvbSk7XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN5bWJvbHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aWYgKHByb3BJc0VudW1lcmFibGUuY2FsbChmcm9tLCBzeW1ib2xzW2ldKSkge1xuXHRcdFx0XHRcdHRvW3N5bWJvbHNbaV1dID0gZnJvbVtzeW1ib2xzW2ldXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiB0bztcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBfb2JqZWN0QXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuXG52YXIgX29iamVjdEFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RBc3NpZ24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5pZiAoIU9iamVjdC5hc3NpZ24pIHtcbiAgICBPYmplY3QuYXNzaWduID0gX29iamVjdEFzc2lnbjIuZGVmYXVsdDtcbn0gLy8gUmVmZXJlbmNlczpcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zaW5kcmVzb3JodXMvb2JqZWN0LWFzc2lnblxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2Fzc2lnblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JqZWN0LmFzc2lnbi5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbnJlcXVpcmUoJy4vT2JqZWN0LmFzc2lnbicpO1xuXG5yZXF1aXJlKCcuL3JlcXVlc3RBbmltYXRpb25GcmFtZScpO1xuXG5yZXF1aXJlKCcuL01hdGguc2lnbicpO1xuXG5yZXF1aXJlKCcuL051bWJlci5pc0ludGVnZXInKTtcblxuaWYgKCF3aW5kb3cuQXJyYXlCdWZmZXIpIHtcbiAgICB3aW5kb3cuQXJyYXlCdWZmZXIgPSBBcnJheTtcbn1cblxuaWYgKCF3aW5kb3cuRmxvYXQzMkFycmF5KSB7XG4gICAgd2luZG93LkZsb2F0MzJBcnJheSA9IEFycmF5O1xufVxuXG5pZiAoIXdpbmRvdy5VaW50MzJBcnJheSkge1xuICAgIHdpbmRvdy5VaW50MzJBcnJheSA9IEFycmF5O1xufVxuXG5pZiAoIXdpbmRvdy5VaW50MTZBcnJheSkge1xuICAgIHdpbmRvdy5VaW50MTZBcnJheSA9IEFycmF5O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiaW1wb3J0IHsgQXBwbGljYXRpb24sIEFwcGxpY2F0aW9uT3B0aW9ucyB9IGZyb20gJ3BpeGkuanMnO1xyXG5pbXBvcnQgJy4vYXBwLmNzcyc7XHJcbmltcG9ydCBjbGllbnQgZnJvbSAnLi9jbGllbnRzL2NsaWVudCc7XHJcbmltcG9ydCB7IGdldFNwcml0ZSwgZ2V0VGV4dCB9IGZyb20gJy4vQ29tbW9uL2xvYWRlckV4dCc7XHJcbmltcG9ydCB7IFNwcml0ZUV4dCB9IGZyb20gJy4vQ29tbW9uL1Nwcml0ZUV4dCc7XHJcbmltcG9ydCB7IHRleHRTdHlsZSB9IGZyb20gJy4vY29tbW9uL3RleHRFeHQnO1xyXG5pbXBvcnQgeyBzaG93TW9kYWwgfSBmcm9tICcuL21vZGFsL21vZGFsJztcclxuaW1wb3J0ICcuL3BvcnRyYWl0LmNzcyc7XHJcbmltcG9ydCAnLi9yZXNvdXJjZXMuY3NzJztcclxuaW1wb3J0IHsgcmVuZGVyVGFibGUgfSBmcm9tICcuL3NpZGViYXIvZmFicmljVGFibGUvZmFicmljVGFibGUnO1xyXG5pbXBvcnQgeyBsb2FkUG9ydHJhaXRTcHJpdGUsIGxvYWRSZXNvdXJjZXNTcHJpdGVzIH0gZnJvbSAnLi9zaWRlYmFyL2xvYWRSZXNvdXJzZVNwcml0ZXMnO1xyXG5pbXBvcnQgeyByZW5kZXJSZXNvdXJjZXMgfSBmcm9tICcuL3NpZGViYXIvcmVzb3VyY2VzJztcclxuaW1wb3J0IHtcclxuICAgIEF2YWxpYWJsZUZhY3RvcnlzLFxyXG4gICAgQ2VsbCxcclxuICAgIEZhY3RvcnksXHJcbiAgICBHYW1lTWFwLFxyXG4gICAgUmVzb3VyY2VzXHJcbiAgICB9IGZyb20gJy4vdHlwaW5ncyc7XHJcblxyXG5jb25zdCBzaXplcyA9IHtcclxuICAgIHNpZGVCYXJXaWR0aDogNTYwLFxyXG59XHJcbmNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWtlVHVybkJ1dHRvbicpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG5jb25zdCBmYWJyaWNUYWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmYWJyaWNUYWJsZScpO1xyXG5jb25zdCBwb3J0cmFpdFdyYXBwZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9ydHJhaXQtd3JhcHBlcicpO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWUge1xyXG4gICAgYXBwOiBBcHBsaWNhdGlvbjtcclxuICAgIGF2YWxpYWJsZUZhY3RvcnlzOiBBdmFsaWFibGVGYWN0b3J5c1tdO1xyXG4gICAgY29uc3RydWN0b3IoeyB3aWR0aCwgaGVpZ2h0IH06IEFwcGxpY2F0aW9uT3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMuYXBwID0gbmV3IEFwcGxpY2F0aW9uKHsgd2lkdGgsIGhlaWdodCB9KTtcclxuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm1ha2VUdXJuKTtcclxuICAgICAgICBsb2FkUmVzb3VyY2VzU3ByaXRlcygpO1xyXG4gICAgICAgIGxvYWRQb3J0cmFpdFNwcml0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB2aWV3KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFwcC52aWV3O1xyXG4gICAgfVxyXG5cclxuICAgIG1ha2VUdXJuID0gKCkgPT4ge1xyXG4gICAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgY2xpZW50Lm1ha2VUdXJuKCkudGhlbigoeyBldmVudHMsIGlzRGVhZCB9KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpc0RlYWQpIHtcclxuICAgICAgICAgICAgICAgIHNob3dNb2RhbChcIllvdSBhcmUgZGVhZCFcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGV2ZW50cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBzaG93TW9kYWwoZXZlbnRzKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnQoKTtcclxuICAgICAgICAgICAgYnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcG9ydHJhaXRXcmFwcGVyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgICAgIGZhYnJpY1RhYmxlLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHN0YXJ0KCkge1xyXG4gICAgICAgIGNvbnN0IFttYXAsIGZhY3RvcmllcywgcmVzb3Vyc2VzLCB0dXJuLCBhdmFsaWFibGVGYWN0b3J5c10gPSBhd2FpdCBQcm9taXNlLmFsbChbXHJcbiAgICAgICAgICAgIGNsaWVudC5nZXRNYXAoKSxcclxuICAgICAgICAgICAgY2xpZW50LmdldEZhY3RvcmllcygpLFxyXG4gICAgICAgICAgICBjbGllbnQuZ2V0UmVzb3VyY2VzKCksXHJcbiAgICAgICAgICAgIGNsaWVudC5nZXRUdXJuKCksXHJcbiAgICAgICAgICAgIGNsaWVudC5nZXRGYWN0b3J5SW5mb3MoKVxyXG4gICAgICAgIF0pO1xyXG4gICAgICAgIHRoaXMuYXZhbGlhYmxlRmFjdG9yeXMgPSBhdmFsaWFibGVGYWN0b3J5cztcclxuICAgICAgICB0aGlzLnJlbmRlcihtYXAsIGZhY3RvcmllcywgcmVzb3Vyc2VzLCB0dXJuKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIobWFwOiBHYW1lTWFwLCBmYWN0b3JpZXM6IEZhY3RvcnlbXSwgcmVzb3VyY2VzOiBSZXNvdXJjZXMsIHR1cm46IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMucmVuZGVyTWFwKG1hcCk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJGYWN0b3JpZXMoZmFjdG9yaWVzKTtcclxuICAgICAgICB0aGlzLnJlbmRlclNpZGViYXIocmVzb3VyY2VzKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlbmRlck1hcChtYXA6IEdhbWVNYXApIHtcclxuICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IG1hcC5jZWxscy5sZW5ndGg7IHkrKykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IG1hcC5jZWxsc1t5XS5sZW5ndGg7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3ByaXRlID0gZ2V0U3ByaXRlKG1hcC5jZWxsc1t5XVt4XS5zcHJpdGUpO1xyXG4gICAgICAgICAgICAgICAgc3ByaXRlLnNldFBvc2l0aW9uKHgsIHkpO1xyXG4gICAgICAgICAgICAgICAgc3ByaXRlLmludGVyYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHNwcml0ZS5idXR0b25Nb2RlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHNwcml0ZS5vbigncG9pbnRlcmRvd24nLCB0aGlzLm9uU3ByaXRlQ2xpY2soc3ByaXRlLCB7IHgsIHkgfSkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hcHAuc3RhZ2UuYWRkQ2hpbGQoc3ByaXRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlbmRlckZhY3RvcmllcyhmYWN0b3JpZXM6IEZhY3RvcnlbXSkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmFjdG9yaWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNwcml0ZSA9IGdldFNwcml0ZShmYWN0b3JpZXNbaV0uc3ByaXRlKTtcclxuICAgICAgICAgICAgc3ByaXRlLnNldFBvc2l0aW9uKGZhY3Rvcmllc1tpXS54LCBmYWN0b3JpZXNbaV0ueSk7XHJcbiAgICAgICAgICAgIHRoaXMuYXBwLnN0YWdlLmFkZENoaWxkKHNwcml0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25TcHJpdGVDbGljayA9IChzcHJpdGU6IFNwcml0ZUV4dCwgeyB4LCB5IH0pID0+ICgpID0+IHtcclxuICAgICAgICBwb3J0cmFpdFdyYXBwZXIuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICAgICAgZmFicmljVGFibGUuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICAgICAgY29uc3QgdmFyaWFudHMgPSB0aGlzLmF2YWxpYWJsZUZhY3RvcnlzLmZpbmQodmFyaWFudCA9PiB2YXJpYW50LnggPT09IHggJiYgdmFyaWFudC55ID09PSB5KTtcclxuICAgICAgICByZW5kZXJUYWJsZSh2YXJpYW50cyxcclxuICAgICAgICAgICAgKHZhcmlhbnQpID0+ICgpID0+IGNsaWVudC5idWlsZEZhY3RvcnkodmFyaWFudC50eXBlLCB4LCB5KVxyXG4gICAgICAgICAgICAgICAgLnRoZW4odGhpcy5tYWtlVHVybilcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVuZGVyU2lkZWJhcihyZXNvdXJjZXM6IFJlc291cmNlcykge1xyXG4gICAgICAgIHJlbmRlclJlc291cmNlcyhyZXNvdXJjZXMpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IEdhbWUgfSBmcm9tICcuL2FwcCc7XHJcbmltcG9ydCB7IGdldFNwcml0ZSwgc3ByaXRlcyB9IGZyb20gJy4vY29tbW9uL2xvYWRlckV4dCc7XHJcbmltcG9ydCB7IGxvYWRGb250cywgdGV4dFN0eWxlIH0gZnJvbSAnLi9jb21tb24vdGV4dEV4dCc7XHJcblxyXG5jb25zdCBlbGVtVG9SZW5kZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lclwiKTtcclxuXHJcbmZ1bmN0aW9uIG9ubG9hZCgpIHtcclxuICAgIGNvbnN0IHdpZHRoID0gd2luZG93LnNjcmVlbi53aWR0aCwgaGVpZ2h0ID0gd2luZG93LnNjcmVlbi5oZWlnaHQ7XHJcbiAgICBjb25zdCBwYXJhbXMgPSB7IHdpZHRoLCBoZWlnaHQgfTtcclxuICAgIGNvbnNvbGUubG9nKCdjcmVhdGluZyBhcHAgd2l0aCcsIHBhcmFtcylcclxuICAgIGNvbnN0IGdhbWUgPSBuZXcgR2FtZShwYXJhbXMpO1xyXG4gICAgZWxlbVRvUmVuZGVyLmFwcGVuZENoaWxkKGdhbWUudmlldyk7XHJcbiAgICBsb2FkRm9udHMoKTtcclxuICAgIGdhbWUuc3RhcnQoKTtcclxufVxyXG5cclxuUElYSS5sb2FkZXJcclxuICAgIC5hZGQoT2JqZWN0LmtleXMoc3ByaXRlcykubWFwKGtleSA9PiBzcHJpdGVzW2tleV0pKVxyXG4gICAgLmxvYWQob25sb2FkKTsiXSwic291cmNlUm9vdCI6IiJ9